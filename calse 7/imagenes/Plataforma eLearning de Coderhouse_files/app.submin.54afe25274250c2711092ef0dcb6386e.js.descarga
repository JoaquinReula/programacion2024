
/* ch-platform - 2024-05-06 */
'use strict';function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function _iterableToArrayLimit(e,t){var n=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function _iterableToArray(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,'string');return'symbol'===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if('object'!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return('string'===t?String:Number)(e);n=n.call(e,t||'default');if('object'!==_typeof(n))return n;throw new TypeError('@@toPrimitive must return a primitive value.')}function _typeof(e){return(_typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return o};var o={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t='function'==typeof Symbol?Symbol:{},r=t.iterator||'@@iterator',n=t.asyncIterator||'@@asyncIterator',a=t.toStringTag||'@@toStringTag';function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},'')}catch(e){s=function(e,t,n){return e[t]=n}}function i(e,t,n,r){var a,s,o,i,t=t&&t.prototype instanceof m?t:m,t=Object.create(t.prototype),r=new y(r||[]);return c(t,'_invoke',{value:(a=e,s=n,o=r,i='suspendedStart',function(e,t){if('executing'===i)throw new Error('Generator is already running');if('completed'===i){if('throw'===e)throw t;return _()}for(o.method=e,o.arg=t;;){var n=o.delegate;if(n){n=function e(t,n){var r=n.method,a=t.iterator[r];if(void 0===a)return n.delegate=null,'throw'===r&&t.iterator.return&&(n.method='return',n.arg=void 0,e(t,n),'throw'===n.method)||'return'!==r&&(n.method='throw',n.arg=new TypeError('The iterator does not provide a \''+r+'\' method')),u;r=d(a,t.iterator,n.arg);if('throw'===r.type)return n.method='throw',n.arg=r.arg,n.delegate=null,u;a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,'return'!==n.method&&(n.method='next',n.arg=void 0),n.delegate=null,u):a:(n.method='throw',n.arg=new TypeError('iterator result is not an object'),n.delegate=null,u)}(n,o);if(n){if(n===u)continue;return n}}if('next'===o.method)o.sent=o._sent=o.arg;else if('throw'===o.method){if('suspendedStart'===i)throw i='completed',o.arg;o.dispatchException(o.arg)}else'return'===o.method&&o.abrupt('return',o.arg);i='executing';n=d(a,s,o);if('normal'===n.type){if(i=o.done?'completed':'suspendedYield',n.arg===u)continue;return{value:n.arg,done:o.done}}'throw'===n.type&&(i='completed',o.method='throw',o.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:'normal',arg:e.call(t,n)}}catch(e){return{type:'throw',arg:e}}}o.wrap=i;var u={};function m(){}function p(){}function v(){}var t={},g=(s(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(k([]))),f=(g&&g!==e&&l.call(g,r)&&(t=g),v.prototype=m.prototype=Object.create(t));function h(e){for(var t=['next','throw','return'],n=0;n<t.length;n++)!function(t){s(e,t,function(e){return this._invoke(t,e)})}(t[n])}function b(o,i){var t;c(this,'_invoke',{value:function(n,r){function e(){return new i(function(e,t){!function t(e,n,r,a){var s,e=d(o[e],o,n);if('throw'!==e.type)return(n=(s=e.arg).value)&&'object'==_typeof(n)&&l.call(n,'__await')?i.resolve(n.__await).then(function(e){t('next',e,r,a)},function(e){t('throw',e,r,a)}):i.resolve(n).then(function(e){s.value=e,r(s)},function(e){return t('throw',e,r,a)});a(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(w,this),this.reset(!0)}function k(t){if(t){var n,e=t[r];if(e)return e.call(t);if('function'==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:_}}function _(){return{value:void 0,done:!0}}return c(f,'constructor',{value:p.prototype=v,configurable:!0}),c(v,'constructor',{value:p,configurable:!0}),p.displayName=s(v,a,'GeneratorFunction'),o.isGeneratorFunction=function(e){e='function'==typeof e&&e.constructor;return!!e&&(e===p||'GeneratorFunction'===(e.displayName||e.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,a,'GeneratorFunction')),e.prototype=Object.create(f),e},o.awrap=function(e){return{__await:e}},h(b.prototype),s(b.prototype,n,function(){return this}),o.AsyncIterator=b,o.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var s=new b(i(e,t,n,r),a);return o.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},h(f),s(f,a,'Generator'),s(f,r,function(){return this}),s(f,'toString',function(){return'[object Generator]'}),o.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=k,y.prototype={constructor:y,reset:function(e){for(var t=this.tryEntries,n=T,r=0;r<t.length;r++)n(t[r],r,t);if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,!e)for(var a in this)'t'===a.charAt(0)&&l.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if('throw'===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return s.type='throw',s.arg=n,r.next=e,t&&(r.method='next',r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],s=a.completion;if('root'===a.tryLoc)return e('end');if(a.tryLoc<=this.prev){var o=l.call(a,'catchLoc'),i=l.call(a,'finallyLoc');if(o&&i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!i)throw new Error('try statement without catch or finally');if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,'finallyLoc')&&this.prev<r.finallyLoc){var a=r;break}}var s=(a=a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return s.type=e,s.arg=t,a?(this.method='next',this.next=a.finallyLoc,u):this.complete(s)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,a=this.tryEntries[t];if(a.tryLoc===e)return'throw'===(n=a.completion).type&&(r=n.arg,T(a)),r}throw new Error('illegal catch attempt')},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},'next'===this.method&&(this.arg=void 0),u}},o}function asyncGeneratorStep(e,t,n,r,a,s,o){try{var i=e[s](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function _asyncToGenerator(i){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=i.apply(e,o);function a(e){asyncGeneratorStep(r,t,n,a,s,'next',e)}function s(e){asyncGeneratorStep(r,t,n,a,s,'throw',e)}a(void 0)})}}function _createForOfIteratorHelper(e,t){var n,r,a,s,o='undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(o)return r=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){r=!0,a=e},f:function(){try{n||null==o.return||o.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(o=_unsupportedIterableToArray(e))||t&&e&&'number'==typeof e.length)return o&&(e=o),s=0,{s:t=function(){},n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:t};throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function _unsupportedIterableToArray(e,t){var n;if(e)return'string'==typeof e?_arrayLikeToArray(e,t):'Map'===(n='Object'===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||'Set'===n?Array.from(e):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var APP_NAME='CH-PLATFORM',loaderExceptions=(window.CH_TEAM=function(){return console.log('%c👨‍💻👩‍💻, '.concat(APP_NAME,' by %c@CODER %cDevTeam -> CV a hr@coderhouse.com'),'color: #fff;','color: #e8ff3c;','color: #fff;')},angular.module(APP_NAME,['angular-loading-bar','ui.router','ngFileUpload','ngSanitize','ngCookies','ui-notification','google.places','chart.js','mwl.calendar']),angular.module('core',[]),angular.module(APP_NAME).requires.push('core'),angular.element(document).ready(function(){'#_=_'===window.location.hash&&(window.location.hash='#!'),angular.bootstrap(document,[APP_NAME],{strictDi:!0}),window.CH_TEAM()}),{to:['faqs'],from:[],internal:['contents/:type']}),shouldntLoad=function(e){var t,n=e.to(),e=e.from();if(n&&e)return!(!loaderExceptions.to.includes(n.name)&&!loaderExceptions.from.includes(e.name))||(t=loaderExceptions.internal.find(function(e){return n.name}))&&e.name===t},toChatEventHandler=function(e){var t,n=window.localStorage,r=JSON.parse(n.getItem(e)),a=_createForOfIteratorHelper(document.querySelectorAll('.iframe-platform-2021'));try{for(a.s();!(t=a.n()).done;)t.value.contentWindow.postMessage({type:'to-chat-event',payload:{toChatObject:r}},'*')}catch(e){a.e(e)}finally{a.f()}window.localStorage.removeItem(e)},$filter=(window.addEventListener('message',function(e){var t,n,r=e.origin,e=e.data&&'string'==typeof e.data&&e.data.includes('{')&&e.data.includes('}')&&!e.data.includes('!_{"h":""}')&&JSON.parse(e.data)||e.data;if(r&&(r.includes('local')||r.includes('herokuapp')||r.includes('coderhouse')||r.includes('amplifyapp')))if('get-user'===(null==e?void 0:e.type)){var r=document.querySelectorAll('.iframe-platform-2021'),a=window.localStorage;try{t=a.getItem(window.CH_AUTH_ID),n=a.getItem(window.CH_USER_SESSION);var s,o=t=!t&&n&&JSON.parse(n)?JSON.parse(n)._id:t,i=a.getItem(window.CH_AUTH_TOKEN),l=a.getItem('auth'),c=a.getItem('darkModeIsEnabled'),d=window.location.pathname.split('/')[2],u='',m=(a.getItem('ch-country')&&JSON.parse(a.getItem('ch-country'))&&(u=JSON.parse(a.getItem('ch-country')).code),_createForOfIteratorHelper(r));try{for(m.s();!(s=m.n()).done;)s.value.contentWindow.postMessage({type:'send-user',payload:{userId:o,token:i,auth:l,darkMode:c,currentCamada:d,country:u}},'*')}catch(e){m.e(e)}finally{m.f()}}catch(e){console.warn({err:e})}}else'history-back'===(null==e?void 0:e.type)?window.history.back():'to-chat-action'===(null==e?void 0:e.type)?toChatEventHandler(null==e?void 0:e.type):'courses'===(null==e?void 0:e.type)?location.href='./cursos':'webinars'===(null==e?void 0:e.type)&&null!=e&&e.height?document.getElementById('iframe-new-home').setAttribute('style','height: '+e.height):'dataLayer'===(null==e?void 0:e.type)&&window.dataLayer.push(e.payload)},!1),Date.prototype.getTs=function(){return(new Date).toISOString().slice(0,15)},angular.module('core').config(['$locationProvider',function(e){return e.html5Mode(!0).hashPrefix('!')}]).config(['$sceProvider',function(e){return e.enabled(!1)}]).config(['cfpLoadingBarProvider',function(e){return e.includeSpinner=!1}]).config(['$logProvider',function(e){return e.debugEnabled(location.href.includes('local'))}]).config(['$compileProvider',function(e){return e.debugInfoEnabled(location.href.includes('local'))}]).config(['$httpProvider',function(e){e.defaults.cache=!1,e.defaults.timeout=3e4,e.defaults.headers.common.tzOffset=(new Date).getTimezoneOffset(),e.defaults.headers.common.tzLocal=Intl.DateTimeFormat().resolvedOptions().timeZone,e.useApplyAsync(!0),window.ENV_B2B&&(e.defaults.withCredentials=!0,e.interceptors.push(['$q',function(t){return{request:function(e){return e},requestError:function(e){return t.reject(e)},response:function(e){return e},responseError:function(e){return t.reject(e)}}}]))}]).config(['NotificationProvider',function(e){e.setOptions({delay:2500,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:'right',positionY:'top'})}]).run(['$state',function(e){}]).run(['HasSessionService','$state','SessionSrv','UsersSrv','NormalizeSrv','$rootScope','$http','PermissionsSrv',function(){var l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r,a,s,o,i,l){var c,d,u,m,p,v,g;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=window.location.href,c=new URL(c),p=c.searchParams.get('idtoken')||r.getAuthToken(),v=c.searchParams.get('accesstoken')||r.getAuthorization(),d=c.searchParams.get('path')||'dashboard',u=c.searchParams.get('impersonate'),window.COGNITO_LOGIN)if(axios.defaults.headers.accesstoken=v,axios.defaults.headers.idtoken=p,i.defaults.headers.common.accesstoken=v,i.defaults.headers.common.idtoken=p,o.$emit('LOADING:OPEN',!0),e.prev=14,p&&v){if(o.USER=window.USER,m=o.USER,l.set(o.USER),r.setAuthToken(p),r.setAuthorization(v),m._id)return e.next=24,s.translationsPostLogin(m);e.next=48}else e.next=52;else e.next=61;break;case 24:return e.next=26,r.setAuthId(m._id);case 26:return e.next=28,r.set(m);case 28:if(u)if(p=c.searchParams.get('to-camada'),v=c.searchParams.get('to-course-slug'),g=c.searchParams.get('to-section'),p&&v){if('delivers'===g)return g=null!=(g=window.COURSE_2021_CAMADAS)&&g.includes(p)?'platform-course-2021-delivers':'platform-course-delivers',e.abrupt('return',n.go(g,{camadaId:p,courseSlug:v}));e.next=36}else e.next=38;else e.next=39;break;case 36:e.next=39;break;case 38:n.go(d);case 39:if(c.searchParams.get('to-camada')&&c.searchParams.get('to-course-slug'))return e.abrupt('return',n.go(d,{camadaId:c.searchParams.get('to-camada'),courseSlug:c.searchParams.get('to-course-slug')}));e.next=41;break;case 41:if(c.searchParams.get('idtoken')&&c.searchParams.get('accesstoken')||'/'===window.location.pathname){if('products'===d)return n.go(d,{utm_medium:c.searchParams.get('utm_medium'),utm_campaign:c.searchParams.get('utm_campaign'),utm_source:c.searchParams.get('utm_source'),utm_term:c.searchParams.get('utm_term'),productId:c.searchParams.get('productId')}),e.abrupt('return');e.next=45}else e.next=46;break;case 45:n.go(d);case 46:e.next=50;break;case 48:o.$emit('LOADING:CLOSE',!0),r.logout();case 50:e.next=53;break;case 52:throw'no-token';case 53:e.next=59;break;case 55:e.prev=55,e.t0=e.catch(14),console.error('err-COGNITO_LOGIN',e.t0),r.logout();case 59:e.next=65;break;case 61:return e.next=63,t;case 63:!e.sent&&null!=(g=location.href)&&g.includes('ingresar')&&n.go(d);case 65:e.next=70;break;case 67:e.prev=67,e.t1=e.catch(0),console.error(e.t1);case 70:case'end':return e.stop()}},e,null,[[0,67],[14,55]])}));return function(e,t,n,r,a,s,o,i){return l.apply(this,arguments)}}()]).run([function(){location.href.includes('open-chat=1')&&!function e(t){window.$crisp?$crisp.push(['do','chat:open']):0<=t&&setTimeout(function(){return e(--t)},500)}(10)}]).run(['$rootScope','$timeout',function(r,a){a(function e(){var t,n=r.USER;window.hj&&null!=n&&null!=(t=n._id)&&t.length?(n={_id:null==n?void 0:n._id,email:null==n?void 0:n.email,name:(null==n?void 0:n.fullName)||''.concat(null==(t=n.profile)?void 0:t.first_name,' ').concat(null==(t=n.profile)?void 0:t.last_name)},hj('identify',null===n?void 0:n._id,n)):a(e,1e3)},1e3)}]).run(['$rootScope','FEATURES',function(t,e){var n=document.getElementsByTagName('html')[0],r=(Object.defineProperty(t,'IS_MOBILE_COMPUTED',{get:function(){return window.innerWidth<480}}),t.IS_MOBILE_COMPUTED);$(window).on('resize',function(){var e=t.IS_MOBILE_COMPUTED;r!==e&&(r=e,t.$emit('DEVICE_TYPE:CHANGE',{mobile:e}))}),t.IS_MOBILE=r,t.IS_MOBILE&&n.classList.add('mobile'),t.IS_PWA=!navigator.standalone&&window.matchMedia('(display-mode: standalone)').matches,t.IS_PWA&&n.classList.add('pwa'),e.FONTS_V2&&n.classList.add('ch-fonts-v2')}]).run([function(){}]).run(['$rootScope','FEATURES','PERSONAL_GOALS','CoursesSrv',function(c,r,a,e){var d=$('html');c.$on('PERSONAL_GOAL:SET',function(e,o){var t;if(r.PERSONAL_GOAL_DROPDOWN&&null!=(t=c.PERMISSIONS)&&t.student){var i,l=c.$cloneObject(a),n=(o&&l[o]||(o='other'),function(){var e,t='personal-goal-'.concat(i);if(d.removeClass(t),i===o){for(var n=l[i],r=(d.addClass(t),{}),a=['background-color','text-color','accent-color','accent-color-2'],s=0;s<a.length;s++)r['--personal-goal-'.concat(e=a[s])]=n.colors[e];d.css(r),c.USER.personalGoalComputed=n,c.$emit('PERSONAL_GOAL:UPDATED')}});for(i in l)n()}});var t,n=[];for(t in a){var s='.hide-on-personal-goal-'+t;n.push(''.concat('html.personal-goal-'+t,' ').concat(s,' {\n          ').concat('display: none !important;','\n        }'))}var o='<style id="personal-goal-hidden-classes">\n      '.concat(n.join(' '),'\n      </style>');$('html head').append(o),null!=(o=c.USER)&&o._id&&e.getStudentPersonalGoalCourse({userId:c.USER._id,camadaId:4720}).then(function(e){e=null==e?void 0:e.data;c.personalGoalProgress=e.progress,c.$emit('PERSONAL_GOAL_PROGRESS:UPDATED')})}]).run(['$rootScope','FEATURES',function(e,r){e.$on('PWA:PROMPT',function(e,t,n){t&&(r.PWA_PROMPT.prompt(),r.PWA_PROMPT.userChoice.then(function(e){n&&n(null,'accepted'===e.outcome)}),window.addEventListener('appinstalled',function(e){n&&n(null,!0)}))})}]).run(['$http','$rootScope','StorageSrv','CountriesSrv','UsersSrv','$location',function(e,r,a,s,o,t){var n=a.get('ch-country');function i(n){var t=function(e){!function(e,t){var e=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length?t:void 0;if(!e.countryCode)return s.getIpCloudflare().then(function(e){return n(null,e)},n).catch(n);n(null,e)}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},function(e){!function(e,t){var e=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length?t:void 0;if(!e.countryCode)return s.getIpify().then(function(e){return n(null,e)},n).catch(n);n(null,e)}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},function(e){!function(e,t){var e=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length?t:void 0;if(!e.countryCode)return s.getIpregistry().then(function(e){return n(null,e)},n).catch(n);n(null,e)}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r.COUNTRY={code:t.countryCode,countryName:t.countryName,ip:t.ip},a.set('ch-country',r.COUNTRY),n&&n(null,r.COUNTRY)})})})},e=null==(e=r.USER)?void 0:e._id;e?o.getCountry({userId:e}).then(function(e){return t(null,e)},t):t(null)}r.$on('COUNTRY:GET',function(e,t){return i(t)}),null!=n&&n.code?r.COUNTRY=n:i(),r.IS_ENV_BR=!!parseInt(window.ENV_BR),e.defaults.headers.common.Country=r.IS_ENV_BR?'br':null!=n&&n.code?null==n?void 0:n.code:'ar'}]).run(['$rootScope','$document','$state',function(e,t,n){e.$on('$stateChangeSuccess',function(){t[0].body.scrollTop=t[0].documentElement.scrollTop=0}),e.$on('$viewContentLoaded',function(){(n.is('home')||n.is('dashboard'))&&e.$emit('SIDEBAR:HIDE')})}]).run(['$rootScope','$state','$window',function(e,t,n){e.$on('$routeChangeStart',function(){$(document).trigger('changeUrl')}),e.$on('$stateChangeSuccess',function(){n.scrollTo(0,0),t.is('career')||t.is('course')||$('html').off('mouseleave'),t.is('course-thankyou')||t.is('course-thankyou')||t.is('checkout-course')||t.is('checkout-career')||(e.$emit('HEADER:HIDE',!1),e.$emit('FOOTER:HIDE',!1))})}]).run(['$transitions','$rootScope','BotSrv','UsersSrv','$state','$location','STREAM_KEY',function(e,n,t,r,a,s,o){e.onStart({},function(e){var t=document.getElementById('iframe-2021');t&&t.contentWindow.postMessage({action:'clear',key:'2021-current-route'},'*'),e&&shouldntLoad(e)||($('[data-toggle="tooltip"]').tooltip('hide'),n.$emit('LOADING:OPEN',!0))}),e.onSuccess({},function(e){n.$emit('LOADING:CLOSE',!0),['home','login','signup','onboarding'].includes(e.to().name)?n.$emit('HEADER:HIDE',!0):n.$emit('HEADER:HIDE',!1);n.IS_ENV_BR&&['forum-feed','onboarding-videos','onboarding-videos-teacher','onboarding-videos-student','onboarding-videos-assistant','onboarding-videos-1','onboarding-videos-2','contents/:type'].includes(e.to().name)&&(['forum-feed','contents/:type'].includes(e.to().name)||window.open('https://drive.google.com/file/d/1SHM0jXIbRRv2yVE-yCHQ8mqhAi8Us4bZ/view','_blank'),a.go('dashboard')),'chat'===e.to().name&&StreamChat.getInstance(o.value).disconnectUser(),'jobs'===e.to().name&&a.go('dashboard'),['chat','services'].includes(e.to().name)&&t.hide(),e.from().name&&''!==e.from().name&&$('html').removeClass('current-section-'+e.from().name),e.to().name&&''!==e.to().name&&$('html').addClass('current-section-'+e.to().name),$('html').attr('current-section',(null==(e=e.to())?void 0:e.name)||'');e=document.querySelector('#platform-content .platform-content');e&&(a.is('chat')||a.is('referrals2021')||a.is('training-camp')||a.is('platform-course-leaderboard')||a.is('platform-course-delivers')?e.style.paddingBottom='0':e.style.paddingBottom='56px')})}]).run([function(){var s,n;s=jQuery,n=window,s.fn.inViewport=function(a){return this.each(function(e,r){function t(){var e=s(this).height(),t=r.getBoundingClientRect(),n=t.top,t=t.bottom;return a.call(r,Math.max(0,0<n?e-n:t<e?t:e))}t(),s(n).on('resize scroll',t)})},s.fn.isInViewport=function(){var e=s(this),t=s(window),n=e.offset().top,e=n+e.outerHeight(),r=t.scrollTop(),t=r+t.height();return r<e&&n<t}}]).run([function(){window.Quill.register('modules/ImageResize',ImageResize.default)}]).run([function(){window.CLOUDINARY=function(e,t,n,r){var a,s,o;return/https?:\/\/res\.cloudinary\.com/.test(e)&&!/\.svg$/i.test(e)&&(a=[(e=e.split('/upload/'))[0]+'/upload'],s=e[1],/[qf]_auto/.test(s)||a.push('f_auto,q_auto'),o=[],t&&!/\/w_\d+\//.test(s)&&o.push('w_'.concat(t)),n&&!/\/h_\d+\//.test(s)&&o.push('h_'.concat(n)),null!=o&&o.length&&a.push(''.concat(o.join(','))),a=a.concat(s).join('/'),e=a=null!=r&&r.length?a.replace(/\.(svg|png|jpe?g)/,'.'.concat(r)):a),e}}]).run(['$rootScope',function(s){s.translate=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e&&window.dictionary.translations[e],n=void 0!==n?n:window.ENV_PROD?'':'NO TRANSLATION FOR KEY '.concat(e);return n=t?n.replace(/\n/g,'<br>'):n},s.filterTranslationKeys=function(t){return'string'==typeof t&&(t=new RegExp(t)),Object.keys(dictionary.translations).filter(function(e){return t.test(e)})},s.filterTranslations=function(e){for(var t=s.filterTranslationKeys(e),n=s.translate,r=[],a=0;a<t.length;a++)r.push(n(t[a],a,t));return r}}]).filter('translate',['$rootScope',function(n){return function(e,t){return n.translate(e,t)}}]).directive('chCloudinary',function(){return{restrict:'A',link:function(e,t,n){return t[0].src=window.CLOUDINARY(n.chCloudinary,n.width,n.height),t[0].src}}}).filter('cloudinary',function(){return function(e,t,n,r){return window.CLOUDINARY(e,t,n,r)}}).filter('capitalize',function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():''}}),window.ENV_DEV='local'===window.ENVIRONMENT,window.ENV_QA='qa'===window.ENVIRONMENT,window.ENV_PROD='prod'===window.ENVIRONMENT||'production'===window.ENVIRONMENT,window.ENV_FALABELLA='falabella'===window.ENVIRONMENT,window.ENV_BUSINESS=location.host.includes('empresas.')||location.href.includes('empresas.'),window.ENV_B2B=window.ENV_B2B||window.ENV_FALABELLA||window.ENV_BUSINESS||location.href.includes('b2b=1'),window.ENDPOINT=function(n){return _.each(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},function(e,t){!_.isObject(e)&&t&&_.isString(t)&&n.includes(':'.concat(t))&&(n=n.replace(':'.concat(t),e))}),n},window.openNewTab=function(e){var t=document.createElement('a');document.body.appendChild(t),t.setAttribute('href',e),t.setAttribute('target','_blank'),t.style='display:none',t.click(),setTimeout(function(){return document.body.removeChild(t)},300)},JSON.isValid=function(e){try{return!!e&&'object'===_typeof(JSON.parse(e))}catch(e){return!1}},window.PWA_INIT=void 0,window.PWA=!navigator.standalone||window.matchMedia('(display-mode: standalone)').matches,window.PWA_PROMPT=null,window.addEventListener('beforeinstallprompt',function(e){e.preventDefault(),window.PWA_PROMPT=e}),window.addEventListener('load',function(){}),function(){return function(e){return window.dictionary.translations[e]}}),removeTokens=(angular.module('core').constant('PATHS',function(){var e=window,t=e.CH_WWW,n=e.CH_WWW_API,r=e.CDN_API,a=e.CDN_WWW_API,s=e.PEER_REVIEW_ACTIVE,o=e.CH_BFF_API,e=e.CH_API_GW;return{API:n,PRODUCTS_CDN:''.concat(r,'/products'),PRODUCTS:''.concat(a,'/products'),CERTIFICATIONS:''.concat(n,'/certifications'),COUNTRIES:''.concat(a,'/countries'),FAQS:''.concat(a,'/faqs'),FAQS_PLATFORM:''.concat(a,'/faqs/platform'),PARTNERS:''.concat(a,'/partners'),QUILL_EDITOR:''.concat(r,'/quill-editor'),WWW_VIDEOS_LANDING:''.concat(t,'/videos'),WWW_WEBINARS_LANDING:''.concat(t,'/webinars'),WWW_BLOG_LANDING:''.concat(t,'/blog'),PERKS:''.concat(a,'/perks'),SVG:'https://res.cloudinary.com/hdsqazxtw/image/upload/SVG-ICONS',CHAT:window.CH_CHAT,CONTRACT:window.CH_CONTRACT_AUTOMATION,PEER_REVIEW_ACTIVE:s,SVG_ICONS_MAP:''.concat(a,'/svg-icons-map'),PLANS:''.concat(r,'/plans'),PLAN_SUBSCRIPTIONS:''.concat(n,'/plan-subscriptions'),URL_SHORTNER:''.concat(n,'/url-shortner'),TRAINING_CAMPS:''.concat(n,'/training-camps'),BFF_API:o,CH_API_GW:e,UNENROLLMENT_REASONS:''.concat(n,'/unenrollment-reasons')}}()).constant('PATHS_PLATFORM',function(){var e=''.concat(window.CH_API,'/platform'),t=''.concat(window.CDN_API,'/platform'),n=''.concat(window.CH_BFF_API),r=''.concat(window.CH_API_GW);return{API:e,PRODUCTS:''.concat(e,'/products'),COURSES:''.concat(e,'/courses'),COURSES_FAQS:''.concat(window.CH_PLATFORM),ACADEMIC_API_PROXY:''.concat(window.CH_PLATFORM),STAGES:''.concat(t,'/stages'),MODULES:''.concat(t,'/modules'),USERS:''.concat(e,'/users'),CHAT_USERS:''.concat(window.CH_ACADEMIC_API,'/v1/users'),STUDENTS:''.concat(e,'/students'),STUDENTS_V6:''.concat(e,'/v6/students'),TEACHERS:''.concat(e,'/teachers'),SUPERVISORS:''.concat(e,'/supervisors'),SCHEDULES:''.concat(e,'/schedules'),CAMADAS:''.concat(e,'/camadas'),CAMPUS:''.concat(e,'/campus/camadas'),NOTIFICATIONS:''.concat(e,'/notifications'),UPLOAD_IMAGES:''.concat(e,'/upload/images'),UPLOAD_FILES:''.concat(e,'/upload/files'),UPLOAD_RECORDING:''.concat(e,'/upload/recording'),TERMS:''.concat(t,'/terms'),JOBS:''.concat(e,'/jobs'),JOBS_V2:''.concat(e,'/v2/jobs'),SUPPORT:''.concat(e,'/support'),REPORT_USER:''.concat(e,'/report-user'),REPORT_TEACHER:''.concat(e,'/report-teacher'),REPORT_CONTENT:''.concat(e,'/report-content'),UNENROLL_REQUEST:''.concat(e,'/unenroll-request'),SERVICES:''.concat(t,'/services'),CONTENTS_CDN:''.concat(t,'/contents'),CONTENTS:''.concat(e,'/contents'),BLOGS:''.concat(e,'/blogs'),BLOGS_CDN:''.concat(t,'/blogs'),SESSION:''.concat(e,'/session'),REFERRALS:''.concat(e,'/referrals'),TYPEFORM_RESPONSE:''.concat(window.CH_BACKOFFICE_API,'/typeform/platform/response'),COUNTRY_STATES:''.concat(e,'/country-states'),TALENT:''.concat(e,'/talent'),ONBOARDING_VIDEOS:''.concat(t,'/onboarding-videos'),COURSE_PRODUCT_MODIFIER:''.concat(e,'/course-product-modifier'),BFF_API:''.concat(n),CH_API_GW:''.concat(r)}}()).constant('FEATURES',function(){var o,e,t,n,r,a,s=window.ENV_B2B,i=location.href;return{FONTS_V2:!0,UI_KIT_V8:!0,DOWNLOAD:!1,IS_MOBILE:window.innerWidth<480,IS_DEV:!window.ENV_PROD,THEME_SWITCHER:!1,DASH_V2:!window.ENV_PROD,NEW_JOB:!1,PERKS:!s,PERKS_LANDING:!s,REFERRAL_LANDING:!s,GLOBAL_KEY_SHORTCUTS:!window.ENV_PROD,JOBS:!s,CODER_TALENT:!s&&!window.ENV_PROD||location.href.includes('ct=1')?1:0,HIRING_ROOM_JOBS:!s&&!window.ENV_PROD||location.href.includes('hr=1')?1:0,TALENT_SERVICES:!s,COURSE_DELIVER_V2:!1,COURSE_DELIVER_V2_REVIEW:!1,COURSE_DELIVER_V2_STUDENT_REVIEW:!0,COURSE_DELIVER_V2_REVIEW_TIMELIINE:!0,COURSE_LEADERBOARD_V2:!0,COURSE_LEADERBOARD_REQUEST_PERKS:!0,COURSE_UPSELLING_BANNER:!window.ENV_PROD,STUDENTS_LEADERBOARD:!0,STUDENTS_LEADERBOARD_PERKS:function(e){return new Date(e).getTime()>=Date.parse('9/1/2019')},STUDENTS_LEADERBOARD_V2:!window.ENV_PROD,CLOSE_LEADERBOARD:!window.ENV_PROD,STUDENTS_VIDEO_TUTORIALS_2021:!0,TEACHERS_VIDEO_TUTORIALS_2021:!0,COURSE_2021:window.COURSE_2021||location.href.includes('2021=1'),COURSE_2021_CAMADAS:window.COURSE_2021_CAMADAS,CHANGE_PASSWORD:!0,UPLOAD_RECORDINGS:!window.ENV_PROD,STUDENT_REQUEST_REENROLL:!s,STUDENT_REQUEST_CHANGE_DATE:!s,STUDENT_COURSES_V6:!0,STUDENT_COURSE_VIEW_V2:!0,TEACHER_COURSES_V4:!0,STUDENT_PROGRAM_V4:!0,POSTULATIONS_MIN_DIFF:!1,STUDENT_MODULE_V2:!0,LIMIT_INACTIVE_STUDENT:!s,ONBOARDING_SLIDES:!s,POST_ONBOARDING:!s&&!window.ENV_PROD,NOTIFICATIONS_BUTTON:!0,SIDEBAR:!0,SIDEBAR_PRODUCTS:!window.ENV_PROD,AUTH0_SIGN_UPS:!1,MEMBERSHIP:!1,REMOTERECORDED_WORKSHOPS:!s,PERSONAL_GOAL_DROPDOWN:!s,NEWSLETTER_MENU_OPTION:!1,STUDENTS_ONBOARDING_SLIDES:!s,CHAT:!s,BOT_MAKER:!1,FRONT_CHAT:window.FRONT_CHAT||!0,CHATRA:window.CHATRA,WHATSAPP:window.WHATSAPP,FORUM:!s,REFERRALFORM:!s,KICKOFF:!window.ENV_PROD,REPO_TO_FEED:!window.ENV_PROD,COURSE_FORUM:0,COURSE_EMBED_LIVE_MEETING:i.includes('embed=1'),PAYOUTS:!0,REPORT_DELIVER:!0,REPORT_DELIVER_V2:!0,REPORT_TEACHER:!1,REPORT_CONTENT:!window.ENV_PROD,REPORT_ASSISTANT:!0,PROFILE_SOCIAL_MEDIA:!s,ATTENDANCE_BY_MEETING:!0,REFERRAL_CUPON:!s,REFERRAL_CUPON_TEACHER:!s,COMPLEMENTARY_BY_PARTICIPANTS:!window.ENV_PROD,B2B:s,REENABLE_DELIVER:!0,REENROLL_REQUEST_SELF_PAYMENT:!0,REQUEST_CHANGE_GROUP:!0,PRODUCTS:!0,COURSE_INFO_V2:!window.ENV_PROD,UPSELLING_PROGRESS_BAR:!window.ENV_PROD,UPSELLING_PROGRAM_CLASSES:!window.ENV_PROD,TRANSFER_COURSE:!0,REFAUND_COURSE:!window.ENV_PROD,CONTRACT_AUTOMATION:!0,TUTOR_SCHOOL_ONBOARDINGS:!0,JOBS_2021:!0,PEER_REVIEW:window.PEER_REVIEW_ACTIVE,REQUEST_REENABLE:window.REQUEST_REENABLE||!window.ENV_PROD,BLOG_NEW_CATEGORIES:window.BLOG_NEW_CATEGORIES||!window.ENV_PROD,PRODUCT_MODIFIER:window.PRODUCT_MODIFIER||!window.ENV_PROD,COURSE_CAMPUS_DELIVERS_CAMADAS:window.COURSE_CAMPUS_DELIVERS_CAMADAS||[],IS_TUTOR_SCHOOL_ENABLED:(i=new Date(2021,3,22,13).getTime(),s=new Date(2021,3,29,13).getTime(),a=(new Date).getTime(),!window.ENV_PROD||i<=a&&a<=s),INVOICE_INFO_LOCKED:(i=(new Date).getTime(),(a=new Date).setDate(26),a.setHours(0,0,0,0),(s=new Date).setMonth(s.getMonth()+1),s.setDate(1),s.setDate(s.getDate()-1),s.setHours(23,59,59,59),r=new Date(2021,6,11,23,59,59),i<r.getTime()&&(a.setDate(5),s=r),{isEnabled:i>a.getTime()&&i<s.getTime(),from:a,to:s}),BANNER_CODER_WEEK:(r=(new Date).getTime(),i=localStorage.getItem('ch-country')&&JSON.parse(localStorage.getItem('ch-country')),a=(null==(a=window.ROOTSCOPE)||null==(a=a.country)?void 0:a.code)||(null==i?void 0:i.code)||'',window.ENV_PROD,i=Date.parse('2/25/2021'),window.ENV_PROD,o=Date.parse('2/28/2021'),s=['ar'],e={startDate:new Date('11/1/2021 00:01'),endDate:new Date('11/2/2021 23:59')},(t=e.startDate<r&&r<e.endDate)&&(i=e.startDate,o=e.endDate),e={startDate:new Date('11/3/2021 00:01'),endDate:new Date('11/3/2021 23:59')},(n=e.startDate<r&&r<e.endDate)&&(i=e.startDate,o=e.endDate),e={startDate:new Date('11/4/2021 00:01'),endDate:new Date('11/6/2021 23:59')},(r=e.startDate<r&&r<e.endDate)&&(i=e.startDate,o=e.endDate),{startDate:i,endDate:o,enable:s.includes(a)&&(t||n||r),available_on:s,closable:!0,description:(e=[],t?e.push('🔥 Coder Sale 🔥 50% off y hasta 12 cuotas sin interés!'):n?e.push('⏰ Último día Coder Sale ⏰ 50% off y hasta 12 cuotas sin interés!'):r&&e.push('🎉 Extendemos Coder Week 🎉 Hasta el domingo 7 de Noviembre, aprovecha hasta 50% off y cuotas sin interés'),e),shortDescription:'Aprovecha los servicios de carrera antes que aumenten',currentSlug:'banner-coder-week-hot-sale',link:'https://www.coderhouse.com?utm_source=upselling&utm_medium=plataforma',options:{wholeCta:!1,showCloseBtn:!0,underHeader:!0,cta:{label:'Ver cursos'}},countdownObj:function(){var e=o-Date.now(),t=Math.floor(e/864e5),n=Math.floor(e/1e3/3600),r=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3);return{days:t,hours:r<10?'0'.concat(r):r,totalHours:n,minutes:a<10?'0'.concat(a):a,seconds:s<10?'0'.concat(s):s,distance:e}},countdown:function(){var e=this.countdownObj(),t=e.days,n=e.hours,r=e.totalHours,a=e.minutes,e=e.seconds;return''.concat(2<t?''.concat(t,' días '):'',' ').concat(2<t?n:r,'hs ').concat(a,'m ').concat(e,'s')}}),BANNER_REFERRAL_WEEK:(i=Date.now(),a=(null==(a=window.ROOTSCOPE)||null==(a=a.country)?void 0:a.code)||'',window.ENV_PROD,s=Date.parse('8/9/2021'),{endDate:t=window.ENV_PROD?Date.parse('8/16/2021'):Date.parse('8/10/2021'),enable:s<i&&i<t,available_on:[],closable:!0,description:(s=[],['ar','uy'].includes(a)?s.push('🔥 REFERI AMIGOS🔥 | Regalales 15% OFF sobre la CoderBECA | Vos ganas cursos y servicios gratis '):s.push('🔥 REFIERE AMIGOS🔥 | Regálales 15% de descuento sobre la CoderBECA | Tu ganas cursos y servicios gratis'),s),shortDescription:'',currentSlug:'banner-referral-week-hot-sale',link:'https://plataforma.coderhouse.com/referidos',options:{wholeCta:!1,showCloseBtn:!0,underHeader:!0,cta:{label:['ar','uy'].includes(a)?'Ver más acá':'Ver más aquí'}}}),BANNER_TALENT_WEEK:(n=(new Date).getTime(),r=new Date(2022,6,14,0,0,0).getTime(),e=new Date(2022,6,19,23,59,59).getTime(),{enable:r<n&&n<e,closable:!0,currentSlug:'banner-talent-week',link:'https://www.coder-talentweek.com'}),BANNER_WORKSHOP:(i=(new Date).getTime(),t=new Date(2022,6,14,0,0,0).getTime(),s=new Date(2023,6,19,23,59,59).getTime(),{enable:t<i&&i<s,closable:!0,currentSlug:'banner-workshop'}),BANNER_NEW_SERVICE:(a=window.ENV_PROD,r=(new Date).getTime(),a=(a?new Date(2022,0,17,0,0,0):new Date(2022,0,1,0,0,0)).getTime(),{endDate:n=new Date(2022,0,19,23,59,59).getTime(),enable:a<r&&r<n,available_on:[],closable:!0,description:['💥 Nuevo servicio: Estrategia de Búsqueda Laboral.'],shortDescription:'',currentSlug:'banner-new-service',link:'https://plataforma.coderhouse.com/servicios?utm_source=upselling&utm_medium=plataforma',options:{wholeCta:!1,showCloseBtn:!0,underHeader:!0,cta:{label:'Enterate de más'}}}),PREMIUM_COMISSION:function(e){return 55545===e},PREMIUM_TIERS:{bronze:'BRONZE',silver:'SILVER',gold:'GOLD'}}}()).constant('TYPEFORM',function(){var e='https://coderhouse.typeform.com/to',t=parseInt(window.ENV_BR)?'CQBN1gRz':'nbWQQ3D7',n=parseInt(window.ENV_BR)?'S0cNZO4v':'mezXLv9r';return{TEACHER_REFERRED:''.concat(e,'/').concat(n,'?utm_source=platform'),COORDINATOR_FEEDBACK_FORM:''.concat(e,'/JqtSgSvU?'),TEACHER_TECH_CALL_SUPPORT:''.concat(e,'/rg9Yr4'),PERKS:'https://www.notion.so/55c68b0026c84f9e84f343376ccff038?v=484f556c3eaa436aac887a46852350c5',COMMUNITY:'https://www.notion.so/coderhouse/Coder-Community-516b4cd642854525b16c32794b09d36b',TUTORIALS_TEST:''.concat(e,'/nRSvWstq'),BUYER_PERSONA_TEST:''.concat(e,'/').concat(t),TUTORSCHOOL_NPS:''.concat(e,'/hhuqm1Bi'),REFERRALFORM:''.concat(e,'/Do7AhrQI'),NEW_PRODUCTS:''.concat(e,'/ziliJdHn')}}()).constant('B2B_LANDINGS',{START_LEARNING:''.concat(window.CH_WWW,'/empresas?embed=true'),START_HIRING:''.concat(window.CH_WWW,'/convenio-corporativo?embed=true'),DEAL:''.concat(window.CH_WWW,'/encontra-talento?embed=true')}).constant('CODER_LANDINGS',{MEMBERSHIP:''.concat(window.CH_WWW,'/membresia?embed=true&from=platform'),PRO:''.concat(window.CH_WWW,'/pro?embed=true'),CHECKOUT:''.concat(window.CH_WWW,'/online/coder-pro/inscripcion/paso/2?camada=4720&embed=true'),CHECKOUT_PRO:''.concat(window.CH_WWW,'/online/coder-pro/inscripcion/paso/2?camada=4720&embed=true'),BIGBOX:'https://www.bigbox.com.ar/regalos/mix/cultura-tech?utm_source=coderhouse-plataforma',ROADMAP:'https://www.notion.so/coderhouse/e2e998bfabaf48cab8a882768d05dee3?v=f2dc30fccf9d4864a47dcaa52f4e4008?utm_source=coderhouse-plataforma',SLACK_CODER_SOPORTE:'https://coderhouse.slack.com/archives/CMG82ATHU',REPORT_USER_PROTOCOL:'https://view.genial.ly/6001c3fa32457a0d0e7d1a82',ASSISTANT_RESOURCE:'https://view.genial.ly/607f30926942ac0d816684d3',ASSISTANT_MANUAL:'https://docs.google.com/file/d/1nsWZlEwSo5RWJnKvKQ3W0TREPM5Yo1EiQGJDfp6vV9o/preview#heading=h.167n1xi67kpe',ASSISTANT_CODER_VALIJA:'https://trello.com/c/WGWL9BKt'}).constant('PERSONAL_GOALS',function(){var e,t={freelancer:{label:'Freelancer',key:'freelancer',colors:{},onboardingMessage:'Descubrir mi pontencial Freelancer.',onboardingPostMessage:'¡Estamos creando tu experiencia freelancer!',onboardingPostEmojis:['😎','☀ ️','🏖'],intentMessage:'Convertirme en freelance y ser mi propio jefe',mainEmoji:'🕶',coverPhoto:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1586892426/2878010_e7ftr9.jpg'},professional:{label:'Profesional',key:'professional',colors:{},onboardingMessage:'Encontrar un trabajo que me encante.',onboardingPostMessage:'¡Estamos creando tu experiencia profesional!',onboardingPostEmojis:['💼','🕹','💻️'],intentMessage:'Potenciar mis habilidades profesionales',mainEmoji:'💼',coverPhoto:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1593458627/frankie-valentine-lg35FkimT30-unsplash_kvjogw.jpg'},entrepreneur:{enable:!window.ENV_PROD||!1,label:'Emprendedor',key:'entrepreneur',colors:{},onboardingMessage:'Hacer crecer mi empresa.',onboardingPostMessage:'¡Estamos creando tu experiencia emprendedora!',onboardingPostEmojis:['📈','🛣','🗣'],intentMessage:'Hacer crecer mi empresa.',mainEmoji:'📈',coverPhoto:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1593184706/500_w7dgfh.jpg'},other:{label:'Otro',key:'other',isUnsetGoal:!0,colors:{},onboardingMessage:'Tengo otro objetivo.',intentMessage:'Tengo otro objetivo.',onboardingPostMessage:'¡Estamos creando tu experiencia!',onboardingPostEmojis:['🎯','📚','✏️'],mainEmoji:'？',coverPhoto:'https://picsum.photos/500',ctaLabel:'Prefiero no elegir un objetivo'}},n={};for(e in t)(_.isUndefined(t[e].enable)||t[e].enable)&&(n[e]=t[e]);return n}()).constant('FLYERS',{DEFAULT:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1514908305/flyer_vbt8s4.jpg'}).constant('MONTHS',{0:'Enero',1:'Febrero',2:'Marzo',3:'Abril',4:'Mayo',5:'Junio',6:'Julio',7:'Agosto',8:'Septiembre',9:'Octubre',10:'Noviembre',11:'Diciembre'}).constant('MONTHS_SHORT',{0:'Ene.',1:'Feb.',2:'Mar.',3:'Abr.',4:'May.',5:'Jun.',6:'Jul.',7:'Ago.',8:'Sep.',9:'Oct.',10:'Nov.',11:'Dic.'}).constant('CATEGORIES',{programacion:'development','diseño':'design',diseno:'design',marketing:'marketing',producto:'product',wordpress:'wordpress'}).constant('CATEGORIES_TS',{design:$filter('translate')('core.constants.categories.design'),marketing:$filter('translate')('core.constants.categories.marketing'),development:$filter('translate')('core.constants.categories.development'),product:$filter('translate')('core.constants.categories.product'),data:$filter('translate')('core.constants.categories.data'),finance:$filter('translate')('core.constants.categories.finance'),business:$filter('translate')('core.constants.categories.business'),cybersecurity:$filter('translate')('core.constants.categories.cybersecurity'),'digital-arts':$filter('translate')('core.constants.categories.digital-arts'),'digital-tools':$filter('translate')('core.constants.categories.digital-tools'),'soft-skills':$filter('translate')('core.constants.categories.soft-skills'),'english-academy':$filter('translate')('core.constants.categories.english-academy'),'artificial-intelligence':$filter('translate')('core.constants.categories.artificial-intelligence'),trade:$filter('translate')('core.constants.categories.trade'),'no-code':$filter('translate')('core.constants.categories.nocode')}).constant('CATEGORIES_BLOG',{all:$filter('translate')('core.constants.categories.general'),newArrivals:$filter('translate')('core.constants.categories.novedades')}).constant('CATEGORIES_JOB_TS',{development:['desarrollador','desarrolladora'],design:['diseñador','diseñadora'],marketing:['marketer','marketer'],product:['product manager','product manager'],wordpress:['implementador wordpress','implementadora wordpress'],teacher:['profesor','profesora'],others:['desarrollador','desarrolladora'],other:['desarrollador','desarrolladora']}).constant('AFTER_CLASS_CATEGORIES',function(){for(var e,t={'software-setup':$filter('translate')('after-class-software-setup'),'content-review':$filter('translate')('after-class-content-review'),'software-review':$filter('translate')('after-class-software-review'),training:$filter('translate')('after-class-training'),'delivers-review':$filter('translate')('after-class-delivers-review'),'soft-skills':$filter('translate')('after-class-soft-skills'),'complementary-approaches':$filter('translate')('after-class-complementary-approaches'),other:$filter('translate')('after-class-others')},n=Object.keys(t),r=[],a=0;a<n.length;a++)r.push({key:e=n[a],value:t[e]});return r}()).constant('JOB_STEPS',{'step-cv-sended':'Tu postulación fue enviada','step-cv-viewed':'La empresa esta evaluando tu perfil','step-reviewed':'Estado de postulación','step-interview':'Entrevista','step-interview-result':'Resultado de tu entrevista'}).constant('BDAY_RANGE',function(){var e=(new Date).getFullYear();return{MIN:''.concat(e-100,'-01-01'),MAX:''.concat(e-10,'-12-31')}}()).constant('QUERY_PARAMS',function(e){var t={};if(null!=(e=n=(window.location.search||window.location.href).split('?')[1])&&e.length)for(var n=n.split('&'),r=0;r<n.length;r++){var a=n[r].split('=');t[a[0]]=decodeURIComponent(a[1])}return Object.assign({},t)}()).constant('STREAM_KEY',{value:window.GETSTREAM_API_KEY}),angular.module('core').run(['$rootScope',function(e){function t(){1<++r||($('html')[0].style.overflow='hidden',$('html')[0].style.overflow)}function n(){0<--r||(r<0&&(r=0),$('html')[0].style.overflow='')}var r=0;e.$on('BODY:PREVENT_SCROLL',t),e.$on('BODY:ALLOW_SCROLL',n),e.preventScroll=t,e.allowScroll=n}]),angular.module('core').constant('THEME_COLORS',JSON.parse('[{"key":"--absolute-color","colors":["black","white"]},{"key":"--body-color","colors":["#151515","#fff"]},{"key":"--body-color-2","colors":["#171717","#f5f5f5"]},{"key":"--body-color-3","colors":["#1F2023","#f9f9f9"]},{"key":"--body-color-4","colors":["var(--darkey-gray)","#eee"]},{"key":"--body-color-5","colors":["var(--dark-gray)","#ddd"]},{"key":"--header-color-translucent","colors":["#151515aa","#fffa"]},{"key":"--text-color","colors":["white"]},{"key":"--text-color-common","colors":["white","var(--darkey-gray)"]},{"key":"--text-color-2","colors":["var(--gray)","var(--darkey-gray)"]},{"key":"--text-color-3","colors":["var(--dark-gray)","var(--dark-gray)"]},{"key":"--text-color-4","colors":["var(--gray)","var(--gray)"]},{"key":"--text-color-5","colors":["var(--dark-gray)","var(--light-gray)"]},{"key":"--text-color-6","colors":["var(--darkey-gray)","var(--lighter-gray)"]},{"key":"--accent-color-1","colors":["var(--ch-violet-coder)","var(--ch-green-coder)"]},{"key":"--accent-color-2","colors":["var(--ch-repink)","var(--ch-yellow-coder)"]},{"key":"--accent-color-3","colors":["var(--ch-green-coder-2)","var(--ch-cyan-coder)"]},{"key":"--accent-color-warning","colors":["yellow","var(--ch-orange-coder)"]},{"key":"--accent-color-valid","colors":["#4f0","green"]},{"key":"--dark-shadow","colors":["#00000040"]},{"key":"--shadow-2","colors":["#ccc2","#0002"]},{"key":"--shadow-3","colors":["#ccc1","#0001"]},{"key":"--background-color-disabled","colors":["#3e3e3e","var(--lighter-gray)"]},{"key":"--text-color-disabled","colors":["#777","var(--gray)"]},{"key":"--sidebar-accent-color","colors":["var(--ch-green-coder)","var(--ch-pink-coder)"]},{"key":"--sidebar-accent-color-opaque","colors":["#2aab7f","#deadcd"]},{"key":"--sidebar-bg-color","colors":["var(--darkest-gray)","var(--lightest-gray)"]},{"key":"--sidebar-icon-color-idle","colors":["var(--light-gray)","var(--dark-gray)"]},{"key":"--sidebar-icon-color-active","colors":["var(--lightest-gray)","var(--darkey-gray)"]},{"key":"--sidebar-item-background-color","colors":["#2E2F36","var(--lighter-gray)"]},{"key":"--product-card-tag-color","colors":["var(--text-color-6)","var(--text-color-3)"]},{"key":"--loader-overlay-color","colors":["rgba(0, 0, 0, .75)","rgba(255, 255, 255, .75)"]}]')).run(['$rootScope','$state','$timeout','THEME_COLORS','FEATURES','$transitions',function(a,t,s,o,i,e){for(var n,r,l={dark:null,light:null,classes:null},c='theme-colors-stylesheet',d=$('html head').append('<style id="'.concat(c,'"></style>')).find('#'+c),u=['login'],m=!0,p=!0,v='dark',g='',f=o,h=0;h<f.length;h++)r=f[h],g=(g+=''.concat(r.key,'-dark: ').concat(r.colors[0],';'))+''.concat(r.key,'-light: ').concat(r.colors[1]||r.colors[0],';');function b(e){S('light',e)}function w(){S('dark')}function T(e){for(var t,e=0<arguments.length&&void 0!==e?e:v,n='-'+e,r=o,a=[],s=0;s<r.length;s++)a.push((t=r[s],[''.concat(t.key,': var(').concat(t.key+(n||''),')'),''.concat(t.key,'-inverted: var(').concat(t.key+'-dark',')')].join(';')));return l[e]||(l[e]=a.join(';'))}function y(){for(var e=o.filter(function(e){return/--(body|text)-color/.test(e.key)}),t=function(e){for(var t='.ch-'+e.key.replace('--',''),n=e.key.includes('--text-color')?['color','--icon-color']:['background-color'],r='var('.concat(e.key,');'),a=n,s=[],o=0;o<a.length;o++)s.push(''.concat(a[o],':').concat(r,';'));return''.concat(t,'{').concat(s.join(''),'}')},n=[],r=0;r<e.length;r++)n.push(t(e[r]));return l.classes||(l.classes=n.join(''))}function k(){u.some(function(e){return t.is(e)})?(n=p?'dark':'light',b(!0)):(n&&S(n),n=null)}var _=function(){var e;e=function(e){return e=0<arguments.length&&void 0!==e?e:v,'\n        :root {'.concat(g+T(e),'}\n        .dark-mode, .ch-force-dark-mode {').concat(T('dark'),'}\n        .light-mode, .ch-force-light-mode {').concat(T('light'),'}\n        ').concat(y(),'\n        ')}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:v),d.text(e)};function S(e,t){var n,r='dark'===(v=e);(r?p:!p)&&!m||(m=!1,(n=$('html')[0]).classList.add('theme-transitioning'),s(function(){return n.classList.remove('theme-transitioning')},500),_(),s(function(){n.classList.remove((r?'light':'dark')+'-mode'),n.classList.add(e+'-mode')}),a.DARKMODE_IS_ENABLED=p=r,a.$emit('THEME_SWITCH'),i.THEME_SWITCHER&&!t&&localStorage.setItem('darkModeIsEnabled','dark'===e?1:0))}a.toggleTheme=w,i.THEME_SWITCHER&&(window.toggleTheme=w),e.onSuccess({},k),i.THEME_SWITCHER?p?S('dark',void 0):b():k(),a.$on('THEME:SET',function(e){return k(),S((parseInt(localStorage.getItem('darkModeIsEnabled')),'dark'))}),function e(){t.current.name?['home','login','signup','onboarding'].includes(t.current.name)||a.$emit('THEME:SET'):setTimeout(e,300)}()}]),angular.module('core').run(['$rootScope','$timeout','FEATURES','$transitions','$state','SessionSrv','$stateParams','KeypressSrv',function(t,e,n,r,a,s,o,i){t.VARS={},t.logout=function(){a.is('login')||s.logout()},Object.defineProperty(t,'IS_LOGGED',{get:function(){var e;return!(null==(e=t.USER)||!e._id)}});function l(){return t.DARKMODE_IS_ENABLED?(t.THEME_ICON='moon',t.THEME_ICON_INVERTED='sun'):(t.THEME_ICON='sun',t.THEME_ICON_INVERTED='moon')}t.SHARED_DATA||(t.SHARED_DATA={});n.IS_DEV&&Object.defineProperty(window,'USER',{get:function(){return t.USER}}),t.$on('THEME_SWITCH',l),l()}]),angular.module('core').run(['$rootScope','$state','$timeout','FLYERS','$location','$transitions','$filter',function(o,i,l,c,d,e,t){var u=t('translate');function r(e,t){var n=0<arguments.length&&void 0!==e?e:{},r='',a='',e=c.DEFAULT,t=(1<arguments.length?t:void 0)||i.current.name,s=u('platform.title');switch(t){case'platform':case'dashboard':case'platform-courses':r=u('platform.courses.title').replace('%companyName%',s),a=u('platform.courses.description');break;case'platform-course':r=u('platform.course.title').replace('%title%',n.title).replace('%companyName%',s),a=u('platform.course.description');break;case'module':r=u('platform.module.title').replace('%companyName%',s),a=u('platform.module.description');break;case'jobs':case'job':r=''.concat(u('platform.jobs.title'),' | ').concat(s),a=u('platform.jobs.description');break;case'profile':r=u('platform.profile.title').replace('%companyName%',s),a=u('platform.profile.description');break;case'postulations':r=u('platform.postulations.title').replace('%companyName%',s),a=u('platform.postulations.description');break;case'perks':r=u('platform.perks.title').replace('%companyName%',s),a=u('platform.perks.description');break;case'products':r=u('platform.products.title').replace('%companyName%',s),a=u('platform.products.description');break;case'services':r=u('platform.services.title').replace('%companyName%',s),a=u('platform.services.description');break;case'debtor':r=u('platform.debtor.title').replace('%companyName%',s),a=u('platform.debtor.description');break;case'legals':case'legals-2':r=u('platform.legals.title').replace('%companyName%',s),a=u('platform.legals.description');break;default:a=r=s}o.SITE={title:r,description:a,image:e.replace('https','http'),image_secure:e,url:d.$$absUrl,canonical:d.$$absUrl},l(function(){return o.$digest()})}e.onSuccess({},function(e){return r()}),o.$on('App:Tracking',function(e,t,n){return r(t,n)})}]),angular.module('core').service('AmplitudeSrv',[function(){window.ENV_PROD;var r=null;return window.amplitude&&(r=amplitude.getInstance()).init(window.ENV_PROD?'fb3291f04504f70ecdcdd4ce3ace15e3':'a8738f4e506311c5040ea77e4614b6d0'),{logEvent:function(e,t){var n;null!=(n=r)&&n.logEvent&&null!=(n=r)&&n.logEvent(e,t)},setUserId:function(e){var t;null!=(t=r)&&t.setUserId&&null!=(t=r)&&t.setUserId(e)},setUserProperties:function(e){var t;null!=(t=r)&&t.setUserProperties&&null!=(t=r)&&t.setUserProperties(e)}}}]),angular.module('core').service('BotSrv',['UsersSrv','FEATURES','$timeout','$rootScope','$filter','HttpRetryService',function(UsersSrv,FEATURES,$timeout,$rootScope,$filter,HttpRetryService){var TS=$filter('translate');function setFrontSession(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;window.FrontChat;return new Promise(function(e,t){try{for(var n=o.courses,r=[],a=0;a<n.length;a++)r.push(n[a].alias);window.FrontChat('init',{chatId:i,useDefaultLauncher:!0,email:o.email,name:o.fullName,userHash:o.userHash,phone:o.phone,customFields:{pais:o.country,telefono:o.phone,rol:o.rolAlias,cursos:r.join('/n')}});var s=setInterval(function(){if(0<document.querySelector('#front-chat-holder').childElementCount)return clearInterval(s),window.FrontStarted=!0,e(!0)},1)}catch(e){console.error(e),t(e)}})}function getPath(){var e=TS('ch-modal-support.bot-service.whatsapp-text');return''.concat(window.CH_WWW_API,'/whatsapp?text=').concat(e,'&countryCode=').concat(null==$rootScope||null==(e=$rootScope.COUNTRY)?void 0:e.code)}return{init:function(e){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',!0);case 1:case'end':return e.stop()}},e)}))()},hide:function(){var e=window,t=e.FrontChat,e=e.FrontStarted;FEATURES.FRONT_CHAT&&e&&t&&t('hide')},shutDown:function(){var e=window,t=e.FrontChat,e=e.FrontStarted;FEATURES.FRONT_CHAT&&e&&(t&&t('shutdown'),window.FrontStarted=!1,document.cookie='fccid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/',document.cookie='fcuid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/',document.cookie='fcaid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/')},show:function(){return window.open(getPath(),'_blank')},fetchFrontApp:function fetchFrontApp(){return _asyncToGenerator(_regeneratorRuntime().mark(function _callee3(){var bundle;return _regeneratorRuntime().wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_context3.prev=0,null==window.FrontChat)return _context3.next=4,HttpRetryService.try(axios.get('https://chat-assets.frontapp.com/v1/chat.bundle.js',{transformRequest:function(e,t){return delete t.accesstoken,delete t.idtoken,e}}));_context3.next=6;break;case 4:bundle=_context3.sent,eval(bundle.data);case 6:_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),console.error(_context3.t0);case 11:case'end':return _context3.stop()}},_callee3,null,[[0,8]])}))()},isOpenFrontApp:function(){return 0<document.querySelector('#front-chat-holder').childElementCount&&1<document.querySelector('#front-chat-holder').children[0].childElementCount},showCoderAsk:function(s){var o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.userId,s.courseId,n=s.chatFrontAppId,r=s.levelId,a=window,a.FrontStarted){e.next=8;break}return e.next=5,UsersSrv.getUserBotInfo({userId:t,levelId:r});case 5:return a=e.sent,e.next=8,setFrontSession(a,n);case 8:try{o.isOpenFrontApp()?window.FrontChat('hide'):window.FrontChat('show')}catch(e){console.error(e)}case 9:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('CertificationsSrv',['$http','PATHS','$document','HttpRetryService',function(t,e,n,r){var a=e.CERTIFICATIONS;function s(e){var t=n[0].createElement('a');t.setAttribute('target','_blank'),t.setAttribute('href',e),t.click()}function o(e,t){return delete t.accesstoken,delete t.idtoken,e}return{get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!!e.id&&this.getById(e)},getById:function(e){return r.try(t.get(''.concat(a,'/').concat(e.id),{params:_objectSpread(_objectSpread({},e),{},{v2:1}),transformRequest:o}),this.getById)},getHtml:function(e){return r.try(t.get(''.concat(a,'/').concat(e.id,'/html'),{params:_objectSpread(_objectSpread({},e),{},{v2:1}),transformRequest:o}),this.getHtml)},print:function(e){var t=e.id,e=e.lang;return s(''.concat(a,'/').concat(t,'/print?lang=').concat(e,'&v2=1'))},download:function(e){var t=e.id,e=e.lang;return s(''.concat(a,'/').concat(t,'/download?lang=').concat(e,'&v2=1'))}}}]),angular.module('core').factory('CountriesSrv',['$http','PATHS','HttpRetryService',function(e,t,r){var a=t.COUNTRIES;function n(e){return null==e?void 0:e.map(function(e){var t;return e.code=null==(t=e.code)?void 0:t.toLowerCase(),e})}function s(e,t){return delete t.accesstoken,delete t.idtoken,e}return{get:function(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(a,{transformRequest:s}).then(function(e){return e.data}),t.get);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getIpify:function(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get('https://api.ipify.org',{params:{format:'jsonp',key:'dd7l2nznpinorp'},transformRequest:s}).then(function(e){var t,e=e.data;return{ip:null==e?void 0:e.ip,countryCode:null==e||null==(t=e.location)||null==(t=t.country)||null==(t=t.code)?void 0:t.toLowerCase(),countryName:null==e||null==(t=e.location)||null==(t=t.country)||null==(t=t.name)?void 0:t.toLowerCase()}}),t.getIpify);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getIpregistry:function(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get('https://api.ipregistry.co',{params:{pretty:'true',key:'poukjg41yy8ym6'},transformRequest:s}).then(function(e){var t,e=e.data;return{ip:null==e?void 0:e.ip,countryCode:null==e||null==(t=e.location)||null==(t=t.country)||null==(t=t.code)?void 0:t.toLowerCase(),countryName:null==e||null==(t=e.location)||null==(t=t.country)||null==(t=t.name)?void 0:t.toLowerCase()}}),t.getIpregistry);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getIpCloudflare:function(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try($.get('https://www.cloudflare.com/cdn-cgi/trace').then(function(e){var t=/loc=([\w]{2})/.exec(e),e=/ip=([\w\.]+)/.exec(e);return{ip:e&&e[1],countryCode:null==(e=t&&t[1])?void 0:e.toLowerCase()}}),t.getIpCloudflare);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getHispanic:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get('https://cdn.jsdelivr.net/npm/country-list@2.2.0/data.json',{transformRequest:s});case 3:return t=e.sent,e.abrupt('return',n(t.data));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case'end':return e.stop()}},e,null,[[0,7]])}))()},getEnglish:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get('https://cdn.jsdelivr.net/npm/country-list@2.2.0/data.json',{transformRequest:s});case 3:return t=e.sent,e.next=6,t.json();case 6:return t=e.sent,e.abrupt('return',n(t));case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case'end':return e.stop()}},e,null,[[0,10]])}))()},getCountryStates:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(''.concat(a,'/').concat(t.countryCode,'/states'),{transformRequest:s}).then(function(e){return e.data}),n.getCountryStates);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').factory('HasSessionService',['SessionSrv','UsersSrv','$rootScope','NormalizeSrv','StorageSrv',function(){var s=_asyncToGenerator(_regeneratorRuntime().mark(function e(n,t,r,a,s){var o,i,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.COGNITO_LOGIN)e.next=28;else{if(e.prev=1,r.$emit('LOADING:OPEN',!0),n.getAuthToken())return e.next=7,window.LOGED_SESSION;e.next=16}break;case 7:if((t=e.sent)._id){e.next=10;break}throw new Error('bad token');case 10:return e.next=12,a.translationsPostLogin(t);case 12:return e.next=14,n.set(t);case 14:e.next=17;break;case 16:throw new Error('no token found');case 17:r.$emit('LOADING:CLOSE',!0),e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(1),e.t0.message,r.USER,r.$emit('LOADING:CLOSE',!0),e.abrupt('return',!0);case 25:case 28:return e.abrupt('return',null);case 29:case'end':return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)},i=function(){return l.apply(this,arguments)},(o=null)==o)return e.next=6,i();e.next=7;break;case 6:o=e.sent;case 7:return e.abrupt('return',Promise.resolve(o));case 8:case'end':return e.stop()}},e)}));return function(e,t,n,r,a){return s.apply(this,arguments)}}()]),angular.module('core').constant('CACHED_ICONS',JSON.parse('{"coder-logo-wide":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 312 65\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M27.4062 51C25.6562 60 20.2812 64.5104 11.2812 64.5312C3.76042 64.5312 0 61.375 0 55.0625C0 53.8333 0.145833 52.4792 0.4375 51L7.71875 13.5C9.46875 4.5 14.8333 0 23.8125 0C31.3542 0 35.125 3.15625 35.125 9.46875C35.125 10.6979 34.9792 12.0417 34.6875 13.5L32.9688 22.375H22.5625L24.2812 13.5C24.7396 11.1667 23.9479 9.98958 21.9062 9.96875H21.8438C19.8229 9.96875 18.5833 11.1458 18.125 13.5L10.8438 51C10.3854 53.3542 11.1771 54.5312 13.2188 54.5312C15.2812 54.5312 16.5417 53.3542 17 51L18.7188 42.125H29.125L27.4062 51Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M57.7687 51C56.0187 60 50.6437 64.5104 41.6437 64.5312C34.1229 64.5312 30.3625 61.375 30.3625 55.0625C30.3625 53.8333 30.5083 52.4792 30.8 51L38.0812 13.5C39.8312 4.5 45.1958 0 54.175 0C61.7167 0 65.4876 3.15625 65.4876 9.46875C65.4876 10.6979 65.3418 12.0417 65.0501 13.5L57.7687 51ZM54.6437 13.5C55.1021 11.1667 54.3104 9.98958 52.2687 9.96875H52.2062C50.1854 9.96875 48.9458 11.1458 48.4875 13.5L41.2062 51C40.7479 53.3542 41.5396 54.5312 43.5812 54.5312C45.6437 54.5312 46.9042 53.3542 47.3625 51L54.6437 13.5Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M71.8187 0.96875H86.225C93.1625 0.989583 96.6312 4.08333 96.6312 10.25C96.6312 11.5208 96.475 12.9375 96.1625 14.5L89.2562 50.0312C87.5062 59.0104 82.2667 63.5104 73.5375 63.5312H59.6625L71.8187 0.96875ZM80.2875 10.9375L72.0062 53.5625H75.1C77.1417 53.5625 78.3917 52.3854 78.85 50.0312L85.7562 14.5C86.2146 12.125 85.4229 10.9375 83.3812 10.9375H80.2875Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M103.119 0.96875H127.619L125.681 10.9375H111.588L108.431 27.25H120.556L118.588 37.25H106.463L103.306 53.5625H117.4L115.463 63.5312H90.9625L103.119 0.96875Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M130.981 0.96875H144.637C151.575 0.989583 155.044 4.08333 155.044 10.25C155.044 11.5208 154.887 12.9375 154.575 14.5L152.794 23.7188C151.69 29.3854 148.7 33.0521 143.825 34.7188L148.262 63.5312H136.919L135.012 36.625H134.45L129.231 63.5312H118.825L130.981 0.96875ZM139.45 10.9375L136.294 27.25H137.544C138.669 27.25 139.408 27.1875 139.762 27.0625C141.179 26.5417 142.054 25.4271 142.387 23.7188L144.169 14.5C144.627 12.125 143.835 10.9375 141.794 10.9375H139.45Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M162.219 0.96875H172.625L167.531 27.25H173.688L178.781 0.96875H189.188L177.031 63.5312H166.625L171.719 37.25H165.562L160.469 63.5312H150.062L162.219 0.96875Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M210.769 51C209.019 60 203.644 64.5104 194.644 64.5312C187.123 64.5312 183.363 61.375 183.363 55.0625C183.363 53.8333 183.508 52.4792 183.8 51L191.081 13.5C192.831 4.5 198.196 0 207.175 0C214.717 0 218.488 3.15625 218.488 9.46875C218.488 10.6979 218.342 12.0417 218.05 13.5L210.769 51ZM207.644 13.5C208.102 11.1667 207.31 9.98958 205.269 9.96875H205.206C203.185 9.96875 201.946 11.1458 201.488 13.5L194.206 51C193.748 53.3542 194.54 54.5312 196.581 54.5312C198.644 54.5312 199.904 53.3542 200.363 51L207.644 13.5Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M241.756 51C240.006 60 234.631 64.5104 225.631 64.5312C218.11 64.5312 214.35 61.375 214.35 55.0625C214.35 53.8333 214.496 52.4792 214.788 51L224.506 0.96875H234.913L225.194 51C224.735 53.3542 225.527 54.5312 227.569 54.5312C229.631 54.5312 230.892 53.3542 231.35 51L241.069 0.96875H251.475L241.756 51Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M253.056 13.5C254.806 4.5 260.171 0 269.15 0C276.692 0 280.462 3.15625 280.462 9.46875C280.462 10.6979 280.317 12.0417 280.025 13.5L278.306 22.375H267.9L269.619 13.5C270.077 11.1667 269.285 9.98958 267.244 9.96875H267.181C265.16 9.96875 263.921 11.1458 263.462 13.5L262.4 19.0625C261.9 21.6042 263.942 24.7917 268.525 28.625C273.442 32.6875 275.348 37.5625 274.244 43.25L272.744 51C270.994 60.0208 265.629 64.5312 256.65 64.5312C249.108 64.5104 245.337 61.3438 245.337 55.0312C245.337 53.8021 245.483 52.4583 245.775 51L247.494 42.125H257.9L256.181 51C255.723 53.3542 256.525 54.5312 258.587 54.5312C260.629 54.5312 261.879 53.3542 262.337 51L263.712 44C264.233 41.2292 262.202 37.9271 257.619 34.0938C252.702 30.0312 250.806 25.0833 251.931 19.25L253.056 13.5Z\\" fill=\\"var(--icon-color, white)\\"/><path d=\\"M286.794 0.96875H311.294L309.356 10.9375H295.263L292.106 27.25H304.231L302.263 37.25H290.138L286.981 53.5625H301.075L299.138 63.5312H274.638L286.794 0.96875Z\\" fill=\\"var(--icon-color, white)\\"/></svg>","circle":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 422 422\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><circle cx=\\"211\\" cy=\\"211\\" r=\\"211\\" fill=\\"var(--icon-color)\\"/></svg>","menu-v8":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><line x1=\\"2\\" y1=\\"5\\" x2=\\"22\\" y2=\\"5\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\"/><line x1=\\"2\\" y1=\\"19\\" x2=\\"22\\" y2=\\"19\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\"/><line x1=\\"2\\" y1=\\"12\\" x2=\\"16\\" y2=\\"12\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\"/></svg>","chevron-down":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 18 18\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M14 7L9 12L4 7\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\"/></svg>","times-v8":"<svg width=\\"100%\\" height=\\"100%\\" viewBox=\\"0 0 26 18\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M7.06152 3L13.1326 9.07106L7.06152 15.1421\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\" /><path d=\\"M19.0811 3L13.01 9.07106L19.0811 15.1421\\" stroke=\\"var(--icon-color)\\" stroke-width=\\"2\\" /></svg>"}')).service('IconSvgSrv',['$http','PATHS','CACHED_ICONS',function(e,t,n){function l(e,t){return m(e)?e:''.concat(t?'/images/icons/svg':r,'/').concat(e+(-1!==e.indexOf('.svg')?'':'.svg'))}var c,r=t.SVG,t=t.SVG_ICONS_MAP,d=n,u={},m=function(e){return 0===e.search(/https?:\/\//)},p=axios.get(t,{transformRequest:function(e,t){return delete t.accesstoken,delete t.idtoken,e}}).then(function(e){return c=(null==e?void 0:e.data)||{}}).catch(function(){return c=c||{}}),v={get:function(o){var i=arguments;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var s,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=1<i.length&&void 0!==i[1]&&i[1],o){e.next=3;break}return e.abrupt('return',null);case 3:if(m(t=o)&&!/(\.svg|\.txt)$/.test(t))throw new Error('NOT SVG');e.next=5;break;case 5:n=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d[o])return e.abrupt('return',d[o]);e.next=2;break;case 2:return e.prev=2,e.next=5,axios.get((n=o,!(r=s)&&c&&c[n]||l(n,r)));case 5:if(a=e.sent,n=a.data,a=/^(<\?xml( ?([\w-]+)="[\d\.\w-]*")*\?>[\r\n ]*)?<svg/i.test(n)?a.data:null)return r=o,(t=a)&&!d[r]&&(d[r]=t),e.abrupt('return',a);e.next=10;break;case 10:throw new Error;case 13:if(e.prev=13,e.t0=e.catch(2),s||m(o))return e.abrupt('return',null);e.next=17;break;case 17:return console.warn('OJO 👀: ICON '+o+' NOT FOUND ON CLOUDINARY, CHECKING LOCAL'),e.next=20,v.get(o,!0);case 20:return e.abrupt('return',e.sent);case 21:case'end':return e.stop()}var t,n,r},e,null,[[2,13]])}));return function(){return e.apply(this,arguments)}}(),d[o]||c||m(o)?e.next=12:e.next=10;break;case 10:return e.next=12,p;case 12:if(r=_toConsumableArray(i).join('/'),u[r])return e.next=16,u[r];e.next=17;break;case 16:return e.abrupt('return',e.sent);case 17:return e.next=19,u[r]=n();case 19:return a=e.sent,u[r]=null,e.abrupt('return',a);case 22:case'end':return e.stop()}var t},e)}))()},getMany:function(o,i){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var r,t,n,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(angular.isString(o)&&(o=[o]),Array.isArray(o)){e.next=3;break}return e.abrupt('return',null);case 3:for(r={},t=o,n=function(n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(angular.isString(n)){e.next=2;break}return e.abrupt('return');case 2:return e.prev=2,e.next=5,v.get(n,i);case 5:t=e.sent,r[n]=t,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),r[n]=null;case 13:case'end':return e.stop()}},e,null,[[2,9]])}))()},a=[],s=0;s<t.length;s++)a.push(n(t[s]));return e.next=10,Promise.all(a);case 10:return e.abrupt('return',r);case 11:case'end':return e.stop()}},e)}))()}};return v}]),angular.module('core').service('KeypressSrv',['$rootScope','FEATURES','$state',function(s,e,o){function t(e){var t=e.keyCode,n=e.metaKey,r=e.ctrlKey,a=e.shiftKey,n=(s.LOG_KEY_PRESSES,function(e,t){var n;if(null!=(n=s.$currentPlatform)&&null!=(n=n.os)&&n.includes('mac'))return e;return t}(n,r)),r=a&&!o.is('login');l.CALL(e,t,n,a,r)}function n(e,t){return t&&o.go(e)}var l={CALL:function(e,t,n,r,a){var n=n?r?'shiftCmd':'cmd':'none',r=l[n][t];if(r&&(Array.isArray(r)||(r=[r]),'none'==n&&48<=(n=t)&&n<=90&&r.push.apply(r,_toConsumableArray(l.none.ascii)),r.length))for(var s,o=r,i=0;i<o.length;i++)(s=o[i])&&s(e,{canRedirect:a})},none:{ascii:[]},cmd:_objectSpread({},e.GLOBAL_KEY_SHORTCUTS?{190:[function(){return s.toggleTheme()}],191:[function(){return s.DEBUG_OUTLINES()}]}:{}),shift:{},shiftCmd:_objectSpread({},e.GLOBAL_KEY_SHORTCUTS?{76:[function(){return s.logout()}],80:[function(e,t){return t.canRedirect&&s.goToProfile()}],75:[function(e,t){t=t.canRedirect;return n('dashboard',t)}],69:[function(e,t){t=t.canRedirect;return n('jobs',t)}]}:{})};return s.LOG_KEY_PRESSES=!1,$(window).on('keydown',t),{on:function(e){var t=e.modifier,t=void 0===t?'none':t,n=e.target,e=e.fn;return l[t]?e?void(l[t][n]||(l[t][n]=[])).push(e):console.error('INVALID CALLBACK @ GLOBAL KEY LISTENERS ".ON"'):console.error('INVALID MODIFIER @ GLOBAL KEY LISTENERS ".ON"')},off:function(e){var t=e.modifier,t=void 0===t?'none':t,n=e.target,r=e.fn;return l[t]?l[t][n]?r?void(l[t][n]=l[t][n].filter(function(e){return e!==r})):console.error('INVALID CALLBACK @ GLOBAL KEY LISTENERS ".OFF"'):console.error('INVALID TARGET @ GLOBAL KEY LISTENERS ".OFF"'):console.error('INVALID MODIFIER @ GLOBAL KEY LISTENERS ".OFF"')},trigger:t}}]),angular.module('core').service('LazyScriptsSrv',[function(){var l=[{id:'gateway-stripe-v2',src:'https://js.stripe.com/v2/',cb:function(){''.concat(this.id,'-loaded')}},{id:'gateway-stripe-checkout',src:'https://checkout.stripe.com/checkout.js',cb:function(){''.concat(this.id,'-loaded')}},{id:'gateway-stripe-v3',src:'https://js.stripe.com/v3/',cb:function(){''.concat(this.id,'-loaded')}},{id:'gateway-mercadopago',src:'https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js',cb:function(){''.concat(this.id,'-loaded')}},{id:'typeform',src:'https://embed.typeform.com/embed.js',cb:function(){''.concat(this.id,'-loaded')}},{id:'youtube',src:'https://www.youtube.com/iframe_api',cb:function(){''.concat(this.id,'-loaded')}}];return{get:function(t,e){var n,r=l.find(function(e){return e.id.includes(t)});null!=r&&r.id?document.getElementById(r.id)?(r.cb(),e&&e()):((n=document.createElement('script')).id=r.id,n.src=r.src,n.async=1,n.defer=1,n.onload=e||r.cb,document.body.appendChild(n)):e()},getAll:function(e,t){for(var n,r=this,a=l.filter(function(t){return e.find(function(e){return t.id.includes(e)})}),s=a.length,o=a,i=0;i<o.length;i++)n=o[i],r.get(n.id,function(){--s||t(null)})}}}]),angular.module('core').constant('DAYS',{0:'Domingos',1:'Lunes',2:'Martes',3:'Miércoles',4:'Jueves',5:'Viernes',6:'Sábados'}).constant('DAYS_BR',{0:'Domingos',1:'Segunda-feira',2:'Terça-feira',3:'Quarta-feira',4:'Quinta-feira',5:'Sexta-feira',6:'Sábados'}).constant('MONTHS',{0:'Enero',1:'Febrero',2:'Marzo',3:'Abril',4:'Mayo',5:'Junio',6:'Julio',7:'Agosto',8:'Septiembre',9:'Octubre',10:'Noviembre',11:'Diciembre'}).constant('DAYS_SHORTS',{0:'Dom.',1:'Lun.',2:'Mar.',3:'Mie.',4:'Jue.',5:'Vie.',6:'Sab.'}).service('NormalizeSrv',['DAYS','DAYS_SHORTS','$rootScope','NotificationSrv','$filter','$http',function(a,s,o,i,e,n){var l=e('translate');function c(e){return e.tracks&&(e.tracks.job||e.tracks.nini||e.tracks.career||e.tracks.entrepreneur||e.tracks.freelance)}return{getDate:function(e){var t=(e=new Date(e)).getMonth()+1,e=''.concat(e.getDate(),'/').concat(t<10?'0'.concat(t):t);return new Date,e},getTime:function(e){var t=(t=(e=new Date(e)).getHours())<10?'0'+t:''+t,e=e.getMinutes();return t+':'+(e<10?'0'+e:''+e)},getRelativeDate:function(e){e=new Date(e);var t=new Date,n=this.getDate(e);return t.getFullYear()!==e.getFullYear()||t.getMonth()!==e.getMonth()||6<t.getDate()-e.getDate()?n:t.getDate()===e.getDate()?l('ch-course.today'):t.getDate()+1===e.getDate()?l('ch-course.tomorrow'):0<(t=t.getDate()-e.getDate())&&t<7?1==t?l('ch-course.yesterday'):''.concat(l('ch-course.from'),' ').concat(t,' ').concat(l('ch-course.day')).concat(1==t?'':'s'):''.concat(l('ch-course.nextStart'),' ').concat(n)},getDaysString:function(e){return[e.slice(0,e.length-1).join(', '),e[e.length-1]].join(' '.concat(l('ch-course.and'),' '))},days:function(e,t){var n,r;return e&&(null!=(n=e.days)&&n.length?_.isString(e.days)||(e.days=(null==(n=e.days)?void 0:n.join(', '))||'',e.shortDays=(null==(n=e.shortDays)?void 0:n.join(', '))||'',e.fromDay=e.days[0],e.toDay=e.days[e.days.length-1],n=e.days.lastIndexOf(', '),r=e.shortDays.lastIndexOf(', '),e.days=e.days.slice(0,n)+e.days.slice(n).replace(', ',' '.concat(l('ch-course.and'),' ')),e.shortDays=e.shortDays.slice(0,r)+e.shortDays.slice(r).replace(', ',' '.concat(l('ch-course.and'),' '))):e.fromDay&&(e.fromDay!==e.toDay?(e.days=[a[e.fromDay],a[e.toDay]].join(' '.concat(l('ch-course.and'),' ')),e.shortDays=[s[e.fromDay],s[e.toDay]].join(' '.concat(l('ch-course.and'),' '))):(e.days=a[e.fromDay],e.shortDays=s[e.fromDay]))),t?e.days:e},stages:function(e,r){for(var a=this,s=0,t=e,n=function(e,t){var n;return e.flags=((n=e).flags=n.flags||{},n.flags.track=c(n),n.flags),e.starter||e.free||c(e)||e.additional||e.complementary||e.leveling||null!=r&&r.training||(s++,e.order=s,e.name=a.stageName(e,e.order)),e.leveling&&(e.order=s),e},o=[],i=0;i<t.length;i++)o.push(n(t[i]));return o},stageName:function(e,t){var n=e.name,r=(n=(r=n.trim().toLowerCase()).includes('clase')&&0===r.indexOf('clase')?n.slice(5).trim():n).split('');return parseInt(r[0],10)&&(parseInt(r[1],10)||0===parseInt(r[1],10))?n=[n.slice(0,2),n.slice(2)].join('. '):parseInt(n[0],10)?n=[n.slice(0,1),n.slice(1)].join('. '):c(e)?n=[n].join('. '):e.starter||(n=[t,n].join('. ')),n.trim().replace('. .','.')},slug:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e||'').toLowerCase()).replace(/;/g,',')).replace(/-/g,'')).replace(/,/g,'')).replace(/\./g,'')).replace(/\//g,'-')).replace(/ñ/g,'n')).replace(/á/g,'a')).replace(/é/g,'e')).replace(/í/g,'i')).replace(/ó/g,'o')).replace(/ú/g,'u')).replace(/(\r\n|\n|\r)/gm,'')).replace(/^[ ]+|[ ]+$/g,'')).replace(/^\s+|\s+$/g,'')).replace(/\s+/g,t)},text:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return e=(e=(e=e.replace(/;/g,',')).replace(/,/g,'.')).replace(/(\r\n|\n|\r)/gm,' ').replace(/^[ ]+|[ ]+$/g,'').replace(/^\s+|\s+$/g,'')},getGoogleDriveFilePreview:function(e,t){if(e){if(e.includes('docs.')||e.includes('drive.'))return t?e:e.includes('/folders/')?'https://drive.google.com/embeddedfolderview?id='.concat(e.split('/').last(),'#list'):(e.includes('/open?id=')&&(e+='/edit'),e.replace('/open?id=','/file/d/').replace('/edit','/preview').replace('/view','/preview'));if(e&&(e.includes('youtube')||e.includes('youtu.be'))&&!e.includes('embed'))return t='',t=e.includes('v=')?e.split('v=')[1]:e.split('/')[e.split('/').length-1].replace('watch','').replace('v=',''),t='https://www.youtube.com/embed/'.concat(t),(t+='?'.concat(['iv_load_policy=3','modestbranding=0','rel=0','showinfo=0','fs=1'].join('&')))||e;if(e&&e.includes('zoom.us'))return t='',t=e.replace('/rec/share/','/rec/play/'),(t=e.includes('?continueMode=true')?t:''.concat(t,'?continueMode=true'))||e}return e},getFileDownloadLink:function(e){var t;return null!=(t=e)&&t.includes('dropbox.')?(e.includes('?')||(e+='?'),e+='&raw=1'):e=null!=(t=e)&&t.includes('google.')&&null!=(t=e)&&t.includes('/d/')?(t=e.split('/d/')[1].split('/')[0],'https://drive.google.com/uc?export=download&id='.concat(t)):null,e},normalizeContentText:function(e,t){return e&&e.length&&((e=e.trim().replace(/^[ ]+|[ ]+$/g,'').replace(/^\s+|\s+$/g,'')).replace(/\r?\n|\r/g,'').length||(e='')),e=!(!e||!e.length)&&e,t&&t(e),e},normalizeContenSlide:function(e,t){var n=e&&e.length&&e.split('').join(''),e=this.getGoogleDriveFilePreview(e);return t&&t(n,e),e},normalizeContenVideo:function(e,t){return e&&(e.includes('youtube')||e.includes('youtu.be'))&&!e.includes('embed')&&(e=e.split('/'),e='https://www.youtube.com/embed/'.concat(e[e.length-1]),e+='?'.concat(['iv_load_policy=3','modestbranding=0','rel=0','showinfo=0','fs=1'].join('&'))),t&&t(e),e},getCertLinkedinShareUrl:function(e,t){var n=['https://www.linkedin.com/shareArticle?mini=true'];return n.push('url='.concat(window.CH_WWW,'/certificados/').concat(t)),n.push('title=Completé mi curso de '.concat(e.level.title.replace('&','y').trim())),n.push('summary=Obtuve mi certificado de completitud del curso de '.concat(e.level.title.replace('&','y').trim(),' que realicé en @Coderhouse')),n.push('source=Coderhouse'),n.join('&')},getFullName:function(e){var t=(null==(t=e=e||o.USER||{})?void 0:t.profile)||{};return t.first_name=t.first_name||'',t.last_name=t.last_name||'',t.first_name&&t.last_name?''.concat(t.first_name,' ').concat(t.last_name):t.first_name||e.email.split('@')[0]},copy:function(e,t){var n=document.createElement('p'),e=(n.textContent=e.trim(),document.body.appendChild(n),document.getSelection()),r=document.createRange();r.selectNodeContents(n),r.selectNode(n),e.removeAllRanges(),e.addRange(r),document.execCommand('copy'),e.removeAllRanges(),document.body.removeChild(n),i.info({msg:t||'Copiado!'})},copy2:function(e,t){var n=document.createElement('textarea');n.value=e,n.select(),document.execCommand('copy'),n.value='',i.info({msg:t||'Copiado!'})},textsRegionalization:function(n){var e,r='default';switch(null==(e=o.COUNTRY)?void 0:e.code){case'uy':case'pe':case'cl':r='neutral';break;case'co':r='colombia';break;default:r='default'}var a={btnEnroll:{default:'Inscribite',neutral:'Inscríbete',colombia:'Inscríbete'},btnScheduling:{default:'Agendá una visita',neutral:'Agenda una visita',colombia:'Agenda una visita'},btnDownload:{default:'Descargá el programa',neutral:'Descarga el sílabo',colombia:'Descarga el sílabo'},btnSeeProgram:{default:'Ver el programa',neutral:'Ver el sílabo',colombia:'Ver el sílabo'},btnDownloadProgram:{default:'Descargá el programa',neutral:'Descargar el sílabo',colombia:'Descargar el sílabo'},ctaGiftCourse:{default:'Regalá este curso',neutral:'Regala este curso',colombia:'Regala este curso'},btnApply:{default:'Aplicá a la beca',neutral:'Aplica a la beca',colombia:'Aplica a la beca'},btnApplyNow:{default:'Aplicá ahora',neutral:'Aplicar ahora',colombia:'Aplicar ahora'},ctaSeeDates:{default:'Mirá las fechas',neutral:'Mira las fechas',colombia:'Mira las fechas'}};return _.each(n,function(e,t){a[t]&&a[t][r]&&!n[t][r]?n[t]=a[t][r]:n[t][r]?n[t]=n[t][r]:n[t]=n[t].default}),n},textsRegionalizationV2:function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=window.TRANSLATIONS||{},r=Object.keys(t),a=0;a<r.length;a++)e=r[a],n[e]||(n[e]=t[e]);return window.TRANSLATIONS=Object.assign({},t,window.TRANSLATIONS),window.TRANSLATIONS},getLang:function(e){return{ar:'es-AR',uy:'es-AR',mx:'es-MX',co:'es-ES',pe:'es-ES',cl:'es-ES',es:'es-ES',br:'pt-BR',usa:'en-US',us:'en-US'}[e]},getTranslations:function(t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get('https://academic-api-cdn.coderhouse.com/v1/languages/'.concat(t,'/context/platform/translations-1.1.json'));case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},translationsPostLogin:function(r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.data||r,t=''!==t.profile.country?t.profile.country:'es',t=a.getLang(t),(null==(n=window.dictionary)?void 0:n.locale)===t)return e.abrupt('return');e.next=5;break;case 5:return e.next=7,a.getTranslations(t);case 7:n=e.sent,window.dictionary.translations=n.data.translations;case 9:case'end':return e.stop()}},e)}))()},linkedinAddCertificate:function(e,t){var n,r='https://www.linkedin.com',a='3338897';return(t===Object.freeze({CAREER:'career',COURSE:'course'}).CAREER?(t=e.certificateOfCareer,n=new Date(t.createdAt),''.concat(r,'/profile/add?name=').concat(t.career.title,'&issueYear=').concat(n.getFullYear(),'&\n            issueMonth=').concat(n.getMonth(),'&certUrl=').concat(t.permanentLink,'&certId=').concat(t.originalId,'&organizationId=')):(n=new Date(e.createdAt),''.concat(r,'/profile/add?name=').concat(null==(t=e.level)?void 0:t.titleLongAlias,'&issueYear=').concat(n.getFullYear(),'&\n          issueMonth=').concat(n.getMonth(),'&certUrl=').concat(e.permanentLink,'&certId=').concat(e.originalId,'&organizationId='))).concat(a)}}}]),angular.module('core').factory('NotificationSrv',['Notification','$timeout','$filter',function(t,n,e){var r=e('translate');function a(){t.clearAll(),$('.ui-notification').remove()}return{clearAll:a,success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(),e.message=e.msg||'👍 Guardado',e.delay=e.delay||7e3,t.success(e),n(a,e.delay)},updated:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(),e.message=e.msg||'👍 Actualizado',e.delay=e.delay||7e3,t.success(e),n(a,e.delay)},removed:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(),e.message=e.msg||'👍 Eliminado',e.delay=e.delay||7e3,t.success(e),n(a,e.delay)},info:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(),e.message=e.msg||'👉 Información',e.delay=e.delay||7e3,e.onClose=e.cb||function(){},t.info(e),n(a,e.delay)},error:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(),e.message=e.msg||r('toast.support-chat'),e.delay=e.delay||7e3,t.error(e),n(a,e.delay),console.error(e)}}}]),angular.module('core').factory('OnboardingVideosSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(e,t,r){var a=t.ONBOARDING_VIDEOS;return{get:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(a,{params:t}).then(function(e){return e.data}),n.get);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),function(e,t){return delete t.accesstoken,delete t.idtoken,e}),$r;angular.module('core').factory('PerksSrv',['$http','PATHS','HttpRetryService',function(e,t,a){var s=t.PERKS;return{get:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=0<n.length&&void 0!==n[0]?n[0]:{student:!0,teacher:!1,tutor:!1,perkId:!1})&&t.perkId)return e.abrupt('return',r.getById(t));e.next=3;break;case 3:return e.next=5,a.try(axios.get(''.concat(s,'?teacher=').concat(t.teacher,'&student=').concat(t.student,'&tutor=').concat(t.tutor),{transformRequest:removeTokens}).then(function(e){return e.data}),r.get);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))()},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(s,'/').concat(t.perkId),{params:t,transformRequest:removeTokens}).then(function(e){return e.data}),n.getById);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('PermissionsSrv',['$rootScope',function(n){var r={admin:{admin:!0},teacher:{teacher:!0},student:{student:!0},recruiter:{recruiter:!0},b2b:{b2b:!0,supervisor:!0,recruiter:!0,corporate:!0,trainingManager:!0},supervisor:{supervisor:!0},free:{free:!0}};return{set:function(e){if(e&&e._id?(e.role=parseInt(e.role,10),e.role?(1===e.role&&(e.roles.recruiter||e.roles.corporate||e.roles.trainingManager?e.role=4:e.roles.teacher?e.role=3:e.role=2),2===e.role&&e.roles&&(e.roles.teacher=!1),3===e.role&&(e.roles.student=!1)):e.roles&&(e.roles.teacher?e.role=3:e.roles.student&&(e.role=2))):(e=e||{}).role=2,e){var t={};switch(e.role){case 3:(t=Object.assign(t,r.teacher)).partner=e.profile&&e.profile.partner;break;case 4:e.roles&&e.roles.supervisor&&((t=Object.assign(t,r.supervisor)).partner=e.profile&&e.profile.partner),e.roles&&(e.roles.recruiter||e.roles.corporate||e.roles.trainingManager)&&(t=Object.assign(t,r.b2b));break;default:t=Object.assign(t,r.student)}}else t=r.none;return n.PERMISSIONS=t}}}]),angular.module('core').service('AnalyticsSrv',[function(){return{pushDataLayer:function(e,t,n,r){window.dataLayer.push({event:e,eventCategory:t,eventAction:n,eventLabel:r})}}}]),angular.module('core').factory('BlogsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,a){var s=e.BLOGS,n=e.BLOG_AUTHORS,o=e.BLOGS_CDN;return{get:function(e){return null!=e&&e._id?this.getById(e):null!=e&&e.slug?this.getBySlug(e):null!=e&&e.savedBy?this.getSavedPosts(e):this.getAll(e)},getAll:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(s,{params:t}),n.getAll);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getSavedPosts:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(s,'/saved/').concat(t.savedBy),{params:t}),n.getSavedPosts);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(s,'/').concat(t._id)),n.getById);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getBySlug:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(s,'/slug/').concat(t.slug),{params:t}),r.getBySlug);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getFeed:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=0<n.length&&void 0!==n[0]?n[0]:{}).category){e.next=5;break}return e.next=4,a.try(axios.get(''.concat(o,'/feed'),{params:t}),r.getFeed);case 4:return e.abrupt('return',e.sent);case 5:return e.next=7,a.try(axios.get(''.concat(o,'/feed/').concat(t.category),{params:t}),r.getFeed);case 7:return e.abrupt('return',e.sent);case 8:case'end':return e.stop()}},e)}))()},getBytags:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(o,'/tags/').concat(t.tags),{params:t}),r.getBytags);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getRelated:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(o,'/').concat(t.blogId,'/related'),{params:t}),n.getRelated);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},upsert:function(e){var t;return null!=(t=e.blog)&&t._id?this.update(e):this.create(e)},upsertLike:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/like'),e)},upsertEmojis:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/emoji'),e)},save:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/').concat(e.userId,'/save'),e)},create:function(e){return t.post(s,e.blog)},createComment:function(e){return t.post(''.concat(s,'/').concat(e._id,'/comment'),e.comment)},deleteComment:function(e){return t.delete(''.concat(s,'/').concat(e._id,'/comment/').concat(e._commentId),e)},deleteChildComment:function(e){return t.delete(''.concat(s,'/').concat(e._id,'/comment/').concat(e._commentId,'/child/').concat(e._childCommentId,'/delete'),e)},upsertCommentLike:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/comment/').concat(e._commentId,'/like'),e)},upsertCommentWithChild:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/comment/').concat(e._commentId,'/child'),e)},upsertChildCommentLike:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(s,'/').concat(e._id,'/comment/').concat(e._commentId,'/child/').concat(e._childCommentId,'/like'),e)},update:function(e){return t.put(''.concat(s,'/').concat(e.blog._id),e)},delete:function(e){return t.delete(''.concat(s,'/').concat(e._id))},addVisit:function(e){return t.post(''.concat(s,'/slug/visit/').concat(e.slug),e)},getUserBlogsStats:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(o,'/stats'),{params:t}),n.getUserBlogsStats);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getAuthors:function(e){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(n)),t.getAuthors);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},createAuthor:function(e){return t.post(''.concat(n),e)},updateAuthor:function(e){if(e._id)return t.put(''.concat(n,'/').concat(e._id),e);throw new Error('Author ID Missing')}}}]),angular.module('core').service('ContentsSrv',['$http','PATHS_PLATFORM','$rootScope','NotificationSrv','LazyScriptsSrv','HttpRetryService',function(n,e,r,o,i,s){var l=e.CONTENTS,c=e.CONTENTS_CDN;function d(e,t){var n,e=0<arguments.length&&void 0!==e?e:{};return Object.assign({},e,{country:(null==(n=r.USER)||null==(n=n.profile)?void 0:n.country)||'ar',userId:null==(n=r.USER)?void 0:n._id,type:e.type||(1<arguments.length?t:void 0),private:1})}return{get:function(){var r=arguments,a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d(n=0<r.length&&void 0!==r[0]?r[0]:{},1<r.length?r[1]:void 0),null!=(t=n)&&t._id)return e.abrupt('return',a.getById(n));e.next=5;break;case 5:if(null!=(t=n)&&t.slug)return e.abrupt('return',a.getBySlug(n));e.next=7;break;case 7:return e.next=9,s.try(axios.get(''.concat(c,'/').concat(n.type),{params:n}).then(function(e){return e.data}),a.get);case 9:return e.abrupt('return',e.sent);case 10:case'end':return e.stop()}},e)}))()},getById:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,s.try(axios.get(''.concat(c,'/').concat(t.type,'/').concat(t._id),{params:t}).then(function(e){return e.data}),r.getById);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getBySlug:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,s.try(axios.get(''.concat(c,'/').concat(t.type,'/slug/').concat(t.slug),{params:t}).then(function(e){return e.data}),r.getBySlug);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getRelated:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d(0<n.length&&void 0!==n[0]?n[0]:{},1<n.length?n[1]:void 0),e.next=5,s.try(axios.get(''.concat(c,'/').concat(t.type,'/').concat(t._id,'/related'),{params:t}).then(function(e){return e.data}),r.getRelated);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))()},upsertLike:function(){var e=d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0);return n.post(''.concat(l,'/').concat(e.type,'/').concat(e._id,'/like'))},getWebinars:function(){return this.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'webinars')},getVideos:function(){return this.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'videos')},getResources:function(){return this.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'resources')},getPodcasts:function(){return this.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'podcasts')},getBlogs:function(){return this.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'blogposts')},getWebinarsRelated:function(){return this.getRelated(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'webinars')},getVideosRelated:function(){return this.getRelated(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'videos')},getResourcesRelated:function(){return this.getRelated(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'resources')},getPodcastsRelated:function(){return this.getRelated(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'podcasts')},getBlogsRelated:function(){return this.getRelated(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},'blogposts')},createPurchase:function(){var r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length?arguments[1]:void 0;return(a=d(a,a.type)).canUseMembership?this.createMembershipPurchase(a,s):(r=this,n.post(''.concat(l,'/').concat(a.type,'/').concat(a._id,'/purchase'),a).then(function(e){var t,n=e.data;e=n.gateway,t=function(){var e;return'mercadopago'===n.gateway?$MPC.openCheckout({url:n.init_point,mode:'modal',onreturn:function(e){e&&e.collection_id&&'approved'===e.collection_status?(a=Object.assign(a,e,{gateway:'mercadopago',pid:e.external_reference}),r.approvePurchase(a).then(function(e){s(!1,{success:!0})},s)):(o.error({msg:'Hubo un inconveniente al procesar el pago con MERCADO PAGO'}),s(!0,{success:!1}))}}):'stripe'===n.gateway&&(e=n.response.display_items[0],StripeCheckout.configure({key:n.publicKey,image:e.custom.images[0],allowRememberMe:!1,token:function(e){return a=Object.assign(a,e,{gateway:'stripe',pid:n.purchaseId}),r.approvePurchase(a).then(function(e){s(!1,{success:!0})},s),!1}}).open({name:e.custom.description,description:e.custom.name,currency:e.currency,amount:e.amount,email:n.response.customer_email})),n},i.getAll([e],t)}))},approvePurchase:function(e){return n.put(''.concat(l,'/').concat(e.type,'/').concat(e._id,'/purchase/').concat(e.pid),e).then(function(e){return e.data})},createMembershipPurchase:function(e,t){return n.post(''.concat(l,'/').concat(e.type,'/').concat(e._id,'/membership-purchase'),e).then(function(e){e=e.data;return t(null,e)})},getBanners:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,s.try(axios.get(''.concat(window.CH_ACADEMIC_API,'/v1/site-banners/active/country/').concat(t.country,'/private?context=all'),{params:t}).then(function(e){return e.data}),r.getBanners);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('CoursesSrv',['HttpRetryService','$http','PATHS_PLATFORM',function(a,t,e){function s(e,t){return delete t.accesstoken,delete t.idtoken,e}var o=e.COURSES,i=e.COURSES_FAQS,l=e.STUDENTS,c=e.STUDENTS_V6,d=e.USERS,u=e.SUPERVISORS,m=e.TEACHERS,p=e.CAMADAS,v=e.TYPEFORM_RESPONSE,g=(e.SCHEDULES,e.CAMPUS),f=e.API,h=e.CH_API_GW;return{getById:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(o,'/').concat(t._id),{params:t}).then(function(e){return e.data}),r.getById);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getStudentCourses:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.userId&&'null'!==e.userId&&'undefined'!==e.userId?a.try(e.v6?axios.get(ENDPOINT(''.concat(c,'/:userId/courses'),e),{params:e}):axios.get(ENDPOINT(''.concat(l,'/:userId/courses'),e),{params:e}),this.getStudentCourses):null},getInProgressStudentCourses:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.userId&&'null'!==e.userId&&'undefined'!==e.userId?a.try(e.v6?axios.get(ENDPOINT(''.concat(c,'/:userId/inProgress/courses'),e),{params:e}):axios.get(ENDPOINT(''.concat(l,'/:userId/inProgress/courses'),e),{params:e}),this.getInProgressStudentCourses):null},getFinishedStudentCourses:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.userId&&'null'!==e.userId&&'undefined'!==e.userId?a.try(e.v6?axios.get(ENDPOINT(''.concat(c,'/:userId/finished/courses'),e),{params:e}):axios.get(ENDPOINT(''.concat(l,'/:userId/finished/courses'),e),{params:e}),this.getFinishedStudentCourses):null},getPlannedStudentCourses:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.userId&&'null'!==e.userId&&'undefined'!==e.userId?a.try(e.v6?axios.get(ENDPOINT(''.concat(c,'/:userId/planned/courses'),e),{params:e}):axios.get(ENDPOINT(''.concat(l,'/:userId/planned/courses'),e),{params:e}),this.getPlannedCourses):null},getPlatformUserCoursesWithStream:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(ENDPOINT(''.concat(d,'/:userId/courses-with-stream'),t),{params:t}).then(function(e){return e.data}),n.getPlatformUserCoursesWithStream);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getStudentCamadaIds:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(ENDPOINT(''.concat(l,'/:userId/get-camada-ids'),t),{params:t}),n.getStudentCamadaIds);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getStudentCourse:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=0<n.length&&void 0!==n[0]?n[0]:{})&&t.camadaId)return e.next=4,a.try(axios.get(''.concat(ENDPOINT(''.concat(l,'/:userId/courses/:camadaId'),t),'?ts=').concat((new Date).getTs()),{params:t}),r.getStudentCourse);e.next=5;break;case 4:return e.abrupt('return',e.sent);case 5:return e.abrupt('return',r.getStudentCourses(t));case 6:case'end':return e.stop()}},e)}))()},getStudentPersonalGoalCourse:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(c,'/:userId/personal-goal-course'),t),{params:t}),r.getStudentPersonalGoalCourse);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getStudentCourseProgram:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(''.concat(ENDPOINT(''.concat(l,'/:userId/courses/:camadaId/program'),t),'?ts=').concat((new Date).getTs()),{params:t}),r.getStudentCourseProgram);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getStudentCourseAssistant:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(l,'/:userId/courses/:courseId/assistant'),t),{params:t}),r.getStudentCourseAssistant);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getUserCourseProgress:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(l,'/:userId/courses/:camadaId/progress'),t),{params:t}),r.getUserCourseProgress);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getUserCourseProgramProgress:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(d,'/:userId/courses/:camadaId/program/progress'),t),{params:t,headers:{tzLocal:Intl.DateTimeFormat().resolvedOptions().timeZone}}),r.getUserCourseProgramProgress);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getUserCourseInfo:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(d,'/:userId/courses/:camadaId/info'),t),{params:t}).then(function(e){return e.data}),r.getUserCourseInfo);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getCoursePermissions:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(d,'/:userId/courses/:camadaId/permissions'),t),{params:t}),r.getCoursePermissions);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getSupervisorCourses:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(u,'/:userId/courses'),t),{params:t}),r.getSupervisorCourses);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getSupervisorCourse:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=0<n.length&&void 0!==n[0]?n[0]:{})&&t.camadaId)return e.next=4,a.try(axios.get(ENDPOINT(''.concat(u,'/:userId/courses/:camadaId'),t),{params:t}),r.getSupervisorCourse);e.next=5;break;case 4:return e.abrupt('return',e.sent);case 5:return e.abrupt('return',r.getSupervisorCourses(t));case 6:case'end':return e.stop()}},e)}))()},getTeacherCourses:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/courses'),t),{params:t}),r.getTeacherCourses);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getTeacherCamadas:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/camadas'),t),{params:t}).then(function(e){return e.data}),r.getTeacherCoursesMin);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getTeacherCoursesMin:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/courses/tag/:tag'),t),{params:t}).then(function(e){return e.data}),r.getTeacherCoursesMin);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getTeacherCourse:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=0<n.length&&void 0!==n[0]?n[0]:{})&&t.camadaId)return t.ts=(new Date).getTs(),e.next=5,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/courses/:camadaId'),t),{params:t}),r.getTeacherCourse);e.next=6;break;case 5:return e.abrupt('return',e.sent);case 6:return e.abrupt('return',r.getTeacherCourses(t));case 7:case'end':return e.stop()}},e)}))()},getTeacherCourseRating:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/courses/:camadaId/rating'),t),{params:t}),r.getTeacherCourseRating);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getCourseContentRating:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/content-rating'),t),{params:t}).then(function(e){return e.data}),r.getCourseContentRating);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getCourseWithTeacherCandidateRoles:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/candidates/teacher/:userId/can-be-rol'),t),{params:t}).then(function(e){return e.data}),r.getCourseWithTeacherCandidateRoles);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getTeacherCandidateCourses:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/courses-by-candidate'),t),{params:t}).then(function(e){return e.data}),r.getTeacherCandidateCourses);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},canTeacherBeCandidate:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(''.concat(ENDPOINT(''.concat(o,'/:courseId/candidates/teacher/:userId/can-be-candidate'),t)),{params:t}).then(function(e){return e.data}),r.canTeacherBeCandidate);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},addTeacherCandidate:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),t.redirect=!1,e.next=5,a.try(axios.get(''.concat(ENDPOINT(''.concat(o,'/:courseId/candidates/teacher/:userId'),t)),{params:t}).then(function(e){return e.data}),r.addTeacherCandidate);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))()},removeTeacherCandidate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/candidates/teacher/:userId'),e),e).then(function(e){return e.data})},getTeacherOnboardings:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/onboardings'),t),{params:t}).then(function(e){return e.data}),r.getTeacherOnboardings);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},isOnboardingCompleted:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/onboardings/:camadaId/completed'),t),{params:t}).then(function(e){return e.data}),r.isOnboardingCompleted);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getTeacherResources:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(m,'/:userId/resources'),t),{params:t}).then(function(e){return e.data}),r.getTeacherResources);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getTeachers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/teachers'),t)),r.getTeachers);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getStudents:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/students'),t),{params:t}),r.getStudents);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getClassmates:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/classmates'),t),{params:t}),r.getClassmates);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getClassmate:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/classmates/:userId'),t),{params:t}),r.getClassmate);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getGroupMembers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/user-group/:userId'),t),{params:t}).then(function(e){return e.data}),r.getGroupMembers);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},isDeliverInGroup:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/modules/:moduleId/is-in-group'),t),{params:t}).then(function(e){return e.data}),r.isDeliverInGroup);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getLeaderboard:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/leaderboard'),t),{params:t}),r.getLeaderboard);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getLeaderboardStatus:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/leaderboard-status'),t),{params:t}).then(function(e){return e.data}),r.getLeaderboardStatus);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},closeLeaderboard:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/close-leaderboard'),e),e).then(function(e){return e.data})},getCalendar:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/calendar'),t),{params:t}),r.getCalendar);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getConsultant:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/consultant'),t),{params:t}),r.getConsultant);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setUserFreeEnrollment:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/free-enroll/:userId'),e)).then(function(e){return e.data})},isEnrolled:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/enrolled/:userId'),t)),r.isEnrolled);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getSchedule:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules'),t),{params:t}).then(function(e){return e.data})),r.getSchedule);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getFeedbackCompleted:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(f,'/feedback/can-give-feedback-premium'),t),{params:t}).then(function(e){return e.data}),r.getFeedbackCompleted);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getScheduleFeedbackUrl:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/feedback-url'),t),{params:t}).then(function(e){return e.data}),r.getScheduleFeedbackUrl);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setScheduleMeeting:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/meeting'),e),e)},getScheduleMeeting:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/meeting'),t),{params:t}),r.getScheduleMeeting);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getScheduleMeetingConfig:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/meeting/config'),e),e)},setScheduleRecording:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/recording'),e),e)},getScheduleMeetingRecording:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/meeting/recording'),t),t),r.getScheduleMeetingRecording);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getScheduleReEnableLink:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/reenable'),t),{params:t}).then(function(e){e=e.data;return null==e?void 0:e.link}),r.getScheduleReEnableLink);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getAttendances:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/schedules/attendances'),t),{params:t}),r.getAttendances);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setAttendance:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(ENDPOINT(''.concat(p,'/:camadaId/schedules/:scheduleId/attendance/:studentId'),e),'?ts=').concat((new Date).getTs()))},setAsyncAttendance:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/async-attendance/:studentId'),e),'?ts=').concat((new Date).getTs()))},setAbsent:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(''.concat(ENDPOINT(''.concat(p,'/:camadaId/schedules/:scheduleId/absent/:studentId'),e),'?ts=').concat((new Date).getTs()))},getAttendance:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(ENDPOINT(''.concat(p,'/:camadaId/schedules/:scheduleId/attendance/:studentId'),t),'?ts=').concat((new Date).getTs())).then(function(e){return e.data}),r.getAttendance);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setAttedanceByMeetingParticipants:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/attendance'),e),e)},getFeedback:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(ENDPOINT(''.concat(p,'/:camadaId/schedules/:scheduleId/feedbacks/:userId'),t)),{params:t}).then(function(e){return e.data}),r.getFeedback);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},upsertTypeformResponse:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(v),{params:t,transformRequest:s}).then(function(e){return e.data}),r.upsertTypeformResponse);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getDeliversProgress:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/delivers/progress'),t),{params:t}),r.getDeliversProgress);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getDeliversUnreviewed:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/delivers/unreviewed'),t),{params:t}),r.getDeliversUnreviewed);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getDelivers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/delivers'),t),{params:t}),r.getDelivers,!0);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getTeacherDelivers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(g,'/:camadaId/deliveries/stats'),t),{params:t}),r.getTeacherDelivers);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getDeliver:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/delivers/:deliverId'),t),{params:t}),r.getDeliver);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getModule:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/modules/:moduleId'),t),{params:t}),r.getModule);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getModuleDelivers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/modules/:moduleId/delivers'),t),{params:t}),r.getModuleDelivers);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getModuleDeliversProgress:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/modules/:moduleId/delivers/progress'),t),{params:t}),r.getModuleDeliversProgress);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},getModuleContent:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/modules/:moduleId/content'),t),{params:t}),r.getModuleContent);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getStudentDelivers:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<n.length&&void 0!==n[0]?n[0]:{}).ts=t.ts||(new Date).getTs(),e.next=4,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/students/:studentId/delivers'),t),{params:t}),r.getStudentDelivers);case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}))()},restoreStudentDeliver:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(p,'/:camadaId/students/:studentId/delivers/:deliverId'),e),{params:e})},deleteStudentDeliver:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.delete(ENDPOINT(''.concat(p,'/:camadaId/students/:studentId/delivers/:deliverId'),e),{params:e})},sendUndeliverNotification:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(p,'/:camadaId/modules/:moduleId/send-undeliver-notification'),e),e)},getUserNps:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/users/:userId/nps'),t),{params:t}),r.getUserNps);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getCourseComplementarySchedules:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/complementary-schedules'),t)),r.getCourseComplementarySchedules);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},upsertCourseComplementarySchedule:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return null!=(e=t.complementaryTmp)&&e._id?this.updateCourseComplementarySchedule(t):this.setCourseComplementarySchedule(t)},setCourseComplementarySchedule:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/:courseId/complementary-schedules'),e),e.complementaryTmp)},updateCourseComplementarySchedule:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.complementaryId=e.complementaryTmp._id,t.put(ENDPOINT(''.concat(o,'/:courseId/complementary-schedules/:complementaryId'),e),e.complementaryTmp)},deleteCourseComplementarySchedule:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.delete(ENDPOINT(''.concat(o,'/:courseId/complementary-schedules/:complementaryId'),e),e.complementaryTmp)},getMeetingPartipants:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/partipants'),t)),r.getMeetingPartipants);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setMeeting:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/:courseId/meeting'),e),e)},getMeetingBackground:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/users/:userId/meeting-background'),t),{params:t}).then(function(e){return e.data}),r.getMeetingBackground);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getZoomAccount:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/zoom'),t)),r.getZoomAccount);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getPowerBiAccount:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/powerbi'),t)),r.getPowerBiAccount);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},sendSharedFolderInvitations:function(e){return t.post(ENDPOINT(''.concat(o,'/:courseId/shared-folder-invitations'),e))},getSupervision:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/supervision'),t),{params:t}).then(function(e){return e.data}),r.getSupervision);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},setStudentAlert:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/:courseId/students/:studentId/alert'),e),e)},getChatChannels:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(p,'/:camadaId/chat-channels'),t),{params:t}),r.getChatChannels);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},requestAdditionalSchedule:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/:courseId/request-additional-schedule'),e),e)},getContract:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/users/:userId/contract'),t),{params:t}).then(function(e){return e.data}),r.getContract);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},signContract:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(o,'/:courseId/users/:userId/contract/:contractId'),e),e).then(function(e){return e.data})},getNextRecomendedLevel:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/users/:userId/next-recomended-level'),t),{params:t}).then(function(e){return e.data}),r.getNextRecomendedLevel);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getPerksByCourseProgress:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/users/:userId/perks-by-course-progress'),t),{params:t}).then(function(e){return e.data}),r.getPerksByCourseProgress);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getCourseFaqs:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(i,'/api/v1/courses/:courseId/questions'),t),{params:t}).then(function(e){return e.data}),r.getCourseFaqs);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getCourseModuleFaqs:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(i,'/api/v1/courses/:courseId/modules/:moduleId/questions'),t),{params:t}).then(function(e){return e.data}),r.getCourseModuleFaqs);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},createFaq:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(i,'/api/v1/courses/:courseId/questions'),e),e).then(function(e){return e.data})},getOnboardingTestLink:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:camadaId/onboarding-test-link'),t),{params:t}).then(function(e){return e.data}),r.getOnboardingTestLink);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getMeetingAttendanceLink:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheduleId/user/:userId/meeting-link'),t),{params:t}).then(function(e){return e.data}),r.getSanitizeMeetingLink);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getRecordingSignedUrl:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(ENDPOINT(''.concat(o,'/:courseId/schedules/:scheId/recording'),t),{params:t}).then(function(e){return e.data}),r.getRecordingSignedUrl);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getPermissionsNewReviews:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null==(t=0<n.length&&void 0!==n[0]?n[0]:{})?void 0:t.context,e.next=4,a.try(axios.post(ENDPOINT(''.concat(h,'/campus/api/v1/feature-flag/new-campus-rollout'),t),{context:t}).then(function(e){return e.data}),r.gerPermissionsNewReviews);case 4:return t=e.sent,e.abrupt('return',{variation:JSON.parse(null==t?void 0:t.variation)});case 6:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('FaqsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,s){var a=e.COURSES,o=e.COURSES_FAQS;return{getById:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,s.try(axios.get(''.concat(a,'/').concat(t._id),{params:t}).then(function(e){return e.data}),r.getById);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getFaqs:function(){var r=arguments,a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='',(t=0<r.length&&void 0!==r[0]?r[0]:{}).courseId&&(n+='courseId='.concat(t.courseId)),t.stageId&&(n+='&stageId='.concat(t.stageId)),t.moduleId&&(n+='&moduleId='.concat(t.moduleId)),e.next=7,s.try(axios.get(ENDPOINT(''.concat(o,'/api/v1/questions?').concat(n))).then(function(e){return e.data}),a.getFaqs);case 7:return e.abrupt('return',e.sent);case 8:case'end':return e.stop()}},e)}))()},getCourseModuleFaqs:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,s.try(axios.get(ENDPOINT(''.concat(o,'/api/v1/courses/:courseId/modules/:moduleId/questions'),t),{params:t}).then(function(e){return e.data}),r.getCourseModuleFaqs);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},createFaq:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(o,'/api/v1/courses/:courseId/questions'),e),e).then(function(e){return e.data})}}}]),angular.module('core').factory('ModulesSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(e,t,a){var s=t.MODULES;return{get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.slug?this.getBySlug(e):this.getById(e)},getById:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n._id,e.next=3,a.try(axios.get(ENDPOINT(''.concat(s,'/:moduleId'),{moduleId:t})).then(function(e){return e.data}),r.getById);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getBySlug:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.slug,e.next=3,a.try(axios.get(ENDPOINT(''.concat(s,'/slug/:slug'),{slug:t})).then(function(e){return e.data}),r.getBySlug);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getGithubContent:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=(t=n.url).replace('https://github.com/','https://api.github.com/repos/')).replace('/blob/master/','/contents/'),e.next=5,a.try(axios.get(t).then(function(e){return e.data}),r.getGithubContent);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').factory('PayoutsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,r){var n=e.USERS,a=e.COUNTRY_STATES;return{get:function(e){return null!=e&&e.payoutId,this.getById(e)},getById:function(e){return r.try(t.get(ENDPOINT(''.concat(n,'/:userId/payouts'),e),{params:e}).then(function(e){return e.data}),this.getById)},getInvoice:function(e){return r.try(t.get(ENDPOINT(''.concat(n,'/:userId/payouts/:payoutId/invoices/:invoiceId'),e),{params:e}).then(function(e){return e.data}),this.getInvoice)},updateInvoice:function(e){return t.put(ENDPOINT(''.concat(n,'/:userId/payouts/:payoutId/invoices/:invoiceId'),e),e).then(function(e){return e.data})},getCountryStates:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a),t),{params:t}).then(function(e){return e.data}),n.getCountryStates);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('PlansSrv',['$http','PATHS','$rootScope','LazyScriptsSrv','HttpRetryService',function(t,e,n,r,a){function s(e,t){return delete t.accesstoken,delete t.idtoken,e}var o=e.PLANS,i=e.PLAN_SUBSCRIPTIONS;function l(e){var t,e=0<arguments.length&&void 0!==e?e:{};return e.country=e.country||n.CURRENT_COUNTRY||(null==(t=n.COUNTRY)?void 0:t.code),e}function c(e){return r.getAll(['stripe'],e)}return{get:function(e){return null!=e&&e._id?this.getById(e):this.getAll(e)},getAll:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(o,{params:l(t),transformRequest:s}).then(function(e){return e.data}),n.getAll);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(o,'/').concat(t._id),{params:l(t),transformRequest:s}).then(function(e){return e.data}),n.getById);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},subscription:{create:function(e){return t.post(''.concat(i),l(e))},get:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(i,'/').concat(t.subscriptionId),{params:l(t),transformRequest:s}),n.get);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},increase:{success:function(e){return t.post(''.concat(i,'/increase/').concat(e.subscriptionId,'/success'),l(e))},fail:function(e){return t.post(''.concat(i,'/increase/').concat(e.subscriptionId,'/fail'),l(e))}},mercadopago:{success:function(e){return t.post(''.concat(i,'/mercadopago/').concat(e.subscriptionId,'/success'),l(e))},fail:function(e){return t.post(''.concat(i,'/mercadopago/').concat(e.subscriptionId,'/fail'),l(e))}},stripe:{create:function(n,r){var a=this;return c(function(){return StripeCheckout.configure({key:n.publicKey,image:n.image,allowRememberMe:!1,token:function(e,t){return n=Object.assign(n,e,{gateway:'stripe'}),a.success(n).then(function(e){e=e.data;return r(null,e)},r),!1}}).open({name:n.description,description:n.nickname,currency:n.currency,amount:n.unit_amount,interval:n.interval,email:n.customer_email,locale:'es'}),n})},success:function(e){return t.post(''.concat(i,'/stripe/').concat(e.id,'/success'),l(e))},fail:function(e){return t.post(''.concat(i,'/stripe/').concat(e.id,'/fail'),l(e))},updateSource:function(e){return c(function(){return t.put(''.concat(i,'/stripe'),e).then(function(e){e=e.data;if(window.Stripe)return Stripe(e.publicKey).redirectToCheckout({sessionId:e.session.id})})})},updateSourceSuccess:function(e){return t.post(''.concat(i,'/stripe/').concat(e.id,'/source/success'),l(e))},updateSourceFail:function(e){return t.post(''.concat(i,'/stripe/').concat(e.id,'/source/fail'),l(e))}}}}}]),angular.module('core').factory('PlaybooksPlansSrv',['$http','PATHS','PATHS_PLATFORM','$rootScope','LazyScriptsSrv','PlansSrv','NotificationSrv','HttpRetryService',function(t,e,n,r,s,a,o,i){var l=e.PLAYBOOKS_PLANS,c=n.USERS,e={get:function(e){return i.try(t.get(ENDPOINT(''.concat(l),e),{params:e}).then(function(e){return e.data}),this.get)},subscription:{create:function(e){e.isFromEmbed&&(e={plan:{_id:'605d1ca5f0d4fe009628180'},planId:'605d1ca5f0d4fe0096281803',userId:r.USER._id,country:r.COUNTRY.code,v3:window.StripeCheckout?0:1});var a=this;return t.post(''.concat(l),e).then(function(e){var r=e.data;s.getAll(['gateway-stripe-v2','gateway-stripe-v3','gateway-mercadopago','gateway-stripe-checkout'],function(){var e=r.isStripe,t=r.isMercadoPago,n=r.subscription;return e?a.stripe.redirect(n):t?a.mercadopago.open(n):void alert('No se pudo cargar el gateway, intenta recargar nuevamente. perdon por las molestias.')})})},get:function(e){return i.try(t.get(''.concat(l,'/').concat(e.subscriptionId),{params:e}),this.get)},mercadopago:{open:function(e,n){var t,r=this;null!=e&&null!=(t=e.flags)&&t.isAnUpdate&&'approved'===e.collection_status?a.subscription.mercadopago.success({userId:e.userId,planId:e.planId,preapprovalId:e.id,subscriptionId:e.id,subscription:e}).then(function(e){e=e.data;return postMessage(e)},postMessage):$MPC.openCheckout({url:e.init_point,mode:'redirect',onreturn:function(t){t&&t.collection_id&&'approved'===t.collection_status?r.success({response:t,subscription:e}).then(function(e){n(t)}):r.fail({response:t,subscription:e}).then(function(e){o.error({msg:'Hubo un inconveniente al procesar el pago con MERCADO PAGO'}),n(null)})}})},success:function(e){return t.post(''.concat(l,'/').concat(e.planId,'/mercadopago/').concat(e.subscriptionId,'/success'),e)},fail:function(e){return t.post(''.concat(l,'/').concat(e.planId,'/mercadopago/').concat(e.subscriptionId,'/fail'),e)}},stripe:{open:function(s){var e=this;return new Promise(function(n,r){var a=e;StripeCheckout.configure({key:s.publicKey,image:s.image,allowRememberMe:!1,token:function(e,t){return a.success(_objectSpread(_objectSpread(_objectSpread({},s),e),{},{gateway:'stripe'})).then(function(e){e=e.data;return n(null,e)},r),!1}}).open({name:s.description,description:s.nickname,currency:s.currency,amount:s.unit_amount,interval:s.interval,email:s.customer_email,locale:'es'})})},redirect:function(e){return Stripe(e.publicKey).redirectToCheckout({sessionId:e.session.id})},success:function(e){return t.post(''.concat(l,'/').concat(e.planId,'/stripe/').concat(e.id,'/success'),e)},fail:function(e){return t.post(''.concat(l,'/').concat(e.planId,'/stripe/').concat(e.id,'/fail'),e)}}},user:{getSubscription:function(e){return this.get(e)},get:function(e){return i.try(t.get(ENDPOINT(''.concat(c,'/:userId/playbooks-plan-subscription'),e),{params:e}).then(function(e){return e.data}),this.get)},pause:function(e){return t.put(ENDPOINT(''.concat(c,'/:userId/playbooks-plan-subscription/:planId/pause'),e),e).then(function(e){return e.data})},active:function(e){return t.put(ENDPOINT(''.concat(c,'/:userId/playbooks-plan-subscription/:planId/active'),e),e).then(function(e){return e.data})},cancel:function(e){return t.put(ENDPOINT(''.concat(c,'/:userId/playbooks-plan-subscription/:planId/cancel'),e),e).then(function(e){return e.data})}}};return window.PlaybooksPlansSrv=e}]),angular.module('core').factory('PlaybooksSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,n){var r=e.PLAYBOOKS;return{get:function(e){return n.try(t.get(ENDPOINT(''.concat(r),e),{params:e}).then(function(e){return e.data}),this.get)},enroll:function(e){return t.post(ENDPOINT(''.concat(r,'/:playbookId/courses/:courseId/enroll'),e),e).then(function(e){return e.data})}}}]),angular.module('core').factory('ProjectsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,n){var r=e.COURSES;return{getUserCourseDelivers:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n.try(t.get(ENDPOINT(''.concat(r,'/:courseId/student/:studentId/projects'),e),{params:e}),this.getUserCourseDelivers)},upsertStudentProject:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return null!=(e=t.project)&&e._id?this.updateStudentProject(t):this.setStudentProject(t)},setStudentProject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(r,'/:courseId/student/:studentId/projects'),e),e.project)},updateStudentProject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/student/:studentId/projects/:projectId'),Object.assign(e,{projectId:e.project._id})),e.project)},deleteStudentProject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.delete(ENDPOINT(''.concat(r,'/:courseId/student/:studentId/projects/:projectId'),Object.assign(e,{projectId:e.project._id})))},getTeacherDelivers:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n.try(t.get(ENDPOINT(''.concat(r,'/:courseId/teacher/:teacherId/projects'),e),{params:e}),this.getTeacherDelivers)},unreviewed:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/unreviewed'),e))},approve:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/approve'),e),e)},disapprove:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/disapprove'),e),e)},lock:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/lock'),e))},unlock:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/unlock'),e))},sendMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/message'),e),e.chat)},notifyLastMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.post(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/notify/:chatId'),e),e.chat)},messageViewed:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/teacher/:teacherId/projects/:projectId/chat/:chatId/viewed'),e),e)},messageUnviewed:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/teacher/:teacherId/projects/:projectId/chat/:chatId/unviewed'),e),e)},revert:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.put(ENDPOINT(''.concat(r,'/:courseId/projects/:projectId/revert'),e),e)}}}]),angular.module('core').service('PurchaseService',['$rootScope','$http','PATHS','HttpRetryService',function(e,n,t,r){t.PRODUCTS;var a=t.API;t.PRODUCTS_CDN;return{getPurchase:function(t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post(''.concat(a,'/v2/purchases/normalize'),t).then(function(e){return null==e?void 0:e.data});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},confirmPurchase:function(t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post(''.concat(a,'/v3/purchases/availableBalance/create/ok'),t).then(function(e){return null==e?void 0:e.data});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('ReferralsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,n){var r=e.REFERRALS;return{getLeaderboard:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/leaderboard'),e),{params:e}).then(function(e){return e.data}),this.getLeaderboard)},getUserReferralPoints:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/users/:userId'),e),{params:e}).then(function(e){return e.data}),this.getUserReferralPoints)},areTherePendingCourses:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/users/:userId/pending-free-courses'),e),{params:e}).then(function(e){return e.data}),this.areTherePendingCourses)},getRewards:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/rewards'),e),{params:e}).then(function(e){return e.data}),this.getRewards)},claimMonthlyReward:function(e){return t.post(ENDPOINT(''.concat(r,'/claim-monthly-reward'),e),e).then(function(e){return e.data})}}}]),angular.module('core').factory('HttpRetryService',[function(){return{try:function(e){return t.apply(this,arguments)}};function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<o.length&&void 0!==o[1]?o[1]:window.RETRIES_REQUEST,r=2<o.length&&void 0!==o[2]&&o[2],e.prev=2,e.next=5,t;case 5:return a=e.sent,e.abrupt('return',a);case 9:if(e.prev=9,e.t0=e.catch(2),r)return e.abrupt('return',e.t0);e.next=13;break;case 13:return a=angular.extend({retryCount:1},e.t0.config),e.next=16,i(a,n);case 16:return s=e.sent,e.abrupt('return',s);case 18:case'end':return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function i(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(a,t){var s,n,r,o=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=2<o.length&&void 0!==o[2]?o[2]:window.RETRIES_TIMEOUT,console.info('Retrying request... ',a.retryCount,'wait for ',s*a.retryCount),e.prev=2,a.params||a.data,n=new Promise(function(n,r){setTimeout(_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios(a);case 3:if(void 0===(t=e.sent))return e.abrupt('return',r(new Error('Response is undefined')));e.next=6;break;case 6:n(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(e.t0);case 12:case'end':return e.stop()}},e,null,[[0,9]])})),s*a.retryCount)}),e.next=7,n;case 7:return n=e.sent,e.abrupt('return',n.data||n);case 11:if(e.prev=11,e.t0=e.catch(2),a.retryCount<=t)return r=_objectSpread(_objectSpread({},a),{},{retryCount:a.retryCount+1}),e.next=17,i(r,t);e.next=21;break;case 17:return r=e.sent,e.abrupt('return',r);case 21:throw e.t0;case 22:case'end':return e.stop()}},e,null,[[2,11]])}))).apply(this,arguments)}}]),angular.module('core').service('SelfManagementV2Srv',['HttpRetryService','$http','$rootScope','PATHS','LazyScriptsSrv','NotificationSrv',function(t,i,l,e,n,a){var c=e.API;function d(e){return Object.assign({},0<arguments.length&&void 0!==e?e:{},{country:null==(e=l.COUNTRY)?void 0:e.code,userId:null==(e=l.USER)?void 0:e._id})}function u(){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('mercadopago'===t)return e.next=3,new Promise(function(e){return n.getAll([t],e)});e.next=4;break;case 3:return e.abrupt('return',e.sent);case 4:return e.next=6,new Promise(function(e){return n.getAll(['stripe-v3'],e)});case 6:return e.abrupt('return',e.sent);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(t,n){$MPC.openCheckout({url:r.init_point,mode:'blank',onreturn:function(e){null!=e&&e.collection_id&&'approved'===(null==e?void 0:e.collection_status)?t(_objectSpread(_objectSpread({},e),{},{gateway:'mercadopago',pid:e.external_reference,userId:r.userId})):(a.error({msg:'Hubo un inconveniente al procesar el pago con MERCADO PAGO'}),n(e))}})});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return o.apply(this,arguments)}function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.Stripe(t.publicKey),e.next=3,n.redirectToCheckout({sessionId:t.response.id});case 3:if(null!=(r=e.sent)&&null!=(n=r.error)&&n.message)throw null==r?void 0:r.error;e.next=6;break;case 6:return e.abrupt('return',r);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}return{get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.try(axios.get(''.concat(c,'/purchase-penalty'),{params:d(e)}).then(function(e){return _objectSpread(_objectSpread({},e.data.penalty),{},{flags:e.data.flags,availableBalanceUsed:e.data.availableBalanceUsed?_objectSpread({},e.data.availableBalanceUsed):null,newAvailableBalanceUsed:e.data.newAvailableBalanceUsed?_objectSpread({},e.data.newAvailableBalanceUsed):null,conditionUsed:e.data.conditionUsed})}),this.get)},createTransferPurchase:function(s){var o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t='',e.prev=1,e.next=4,i.post(''.concat(c,'/purchase-transfer-penalty'),_objectSpread(_objectSpread({},d(s)),{},{redirectTo:location.href})).then(function(e){return null==e?void 0:e.data});case 4:if(r=e.sent,n=r.purchaseTmp,r.blockPayment)return l.$broadcast('MODAL:CONTACT_US:OPEN','transfer'),e.abrupt('return',{contactUs:!0});e.next=10;break;case 10:if(n){e.next=12;break}return e.abrupt('return',{freeChange:!0});case 12:if(r=n.purchaseId,a=n.gateway,t=r,a)return e.next=17,u(a);e.next=17;break;case 17:if('mercadopago'===a)return e.next=20,m(n);e.next=22;break;case 20:e.next=25;break;case 22:if('stripe'===a)return e.next=25,p(n);e.next=25;break;case 25:e.next=33;break;case 27:return e.prev=27,e.t0=e.catch(1),e.t0,e.next=32,o.failReenrollCommissionPurchase({pid:t});case 32:throw e.t0;case 33:case'end':return e.stop()}},e,null,[[1,27]])}))()},approveTransferPurchase:function(e){return i.post(''.concat(c,'/purchase-transfer-penalty/').concat(e.pid,'/ok'),e)},failTransferPurchase:function(e){return i.post(''.concat(c,'/purchase-transfer-penalty/').concat(e.pid,'/fail'),e)},createReenrollCommissionPurchase:function(s){var o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.post(''.concat(c,'/purchase-commission-penalty'),_objectSpread(_objectSpread({},d(s)),{},{redirectTo:location.href})).then(function(e){return null==e?void 0:e.data});case 3:if(t=e.sent,n=t.purchaseTmp,t.blockPayment)return l.$broadcast('MODAL:CONTACT_US:OPEN','commissionReenroll'),e.abrupt('return',{contactUs:!0});e.next=9;break;case 9:if(n){e.next=11;break}return e.abrupt('return',{freeChange:!0});case 11:if(r=n.purchaseId,a=n.gateway,e.prev=12,a)return e.next=16,u(a);e.next=16;break;case 16:if('mercadopago'===a)return e.next=19,m(n);e.next=21;break;case 19:e.next=24;break;case 21:if('stripe'===a)return e.next=24,p(n);e.next=24;break;case 24:e.next=32;break;case 26:return e.prev=26,e.t0=e.catch(12),e.t0,e.next=31,o.failReenrollCommissionPurchase({pid:r});case 31:throw e.t0;case 32:e.next=38;break;case 34:throw e.prev=34,e.t1=e.catch(0),e.t1,e.t1;case 38:case'end':return e.stop()}},e,null,[[0,34],[12,26]])}))()},approveReenrollCommissionPurchase:function(e){return i.post(''.concat(c,'/purchase-commission-penalty/').concat(e.pid,'/ok'),e)},failReenrollCommissionPurchase:function(e){return i.post(''.concat(c,'/purchase-commission-penalty/').concat(e.pid,'/fail'),e)},createReenrollProductPurchase:function(s){var o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.post(''.concat(c,'/purchase-course-penalty'),_objectSpread(_objectSpread({},d(s)),{},{redirectTo:location.href})).then(function(e){return null==e?void 0:e.data});case 3:if(t=e.sent,n=t.purchaseTmp,t.blockPayment)return l.$broadcast('MODAL:CONTACT_US:OPEN','courseReenroll'),e.abrupt('return',{contactUs:!0});e.next=9;break;case 9:if(n){e.next=11;break}return e.abrupt('return',{freeChange:!0});case 11:if(r=n.purchaseId,a=n.gateway,e.prev=12,a)return e.next=16,u(a);e.next=16;break;case 16:if('mercadopago'===a)return e.next=19,m(n);e.next=21;break;case 19:e.next=24;break;case 21:if('stripe'===a)return e.next=24,p(n);e.next=24;break;case 24:e.next=32;break;case 26:return e.prev=26,e.t0=e.catch(12),e.t0,e.next=31,o.failReenrollProductPurchase({pid:r});case 31:throw e.t0;case 32:e.next=38;break;case 34:throw e.prev=34,e.t1=e.catch(0),e.t1,e.t1;case 38:case'end':return e.stop()}},e,null,[[0,34],[12,26]])}))()},approveReenrollProductPurchase:function(e){return i.post(''.concat(c,'/purchase-course-penalty/').concat(e.pid,'/ok'),e)},failReenrollProductPurchase:function(e){return i.post(''.concat(c,'/purchase-course-penalty/').concat(e.pid,'/fail'),e)},createReactivePurchase:function(s){var o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.post(''.concat(c,'/purchase-reactive-penalty'),_objectSpread(_objectSpread({},d(s)),{},{redirectTo:location.href})).then(function(e){return null==e?void 0:e.data});case 3:if(t=e.sent,n=t.purchaseTmp,t.blockPayment)return l.$broadcast('MODAL:CONTACT_US:OPEN','reactive'),e.abrupt('return',{contactUs:!0});e.next=9;break;case 9:if(n){e.next=11;break}return e.abrupt('return',{freeChange:!0});case 11:if(r=n.purchaseId,a=n.gateway,e.prev=12,a)return e.next=16,u(a);e.next=16;break;case 16:if('mercadopago'===a)return e.next=19,m(n);e.next=21;break;case 19:e.next=24;break;case 21:if('stripe'===a)return e.next=24,p(n);e.next=24;break;case 24:e.next=32;break;case 26:return e.prev=26,e.t0=e.catch(12),e.t0,e.next=31,o.failReenrollPurchase({pid:r});case 31:throw e.t0;case 32:e.next=38;break;case 34:throw e.prev=34,e.t1=e.catch(0),e.t1,e.t1;case 38:case'end':return e.stop()}},e,null,[[0,34],[12,26]])}))()},approveReactivePurchase:function(e){return i.post(''.concat(c,'/purchase-reactive-penalty/').concat(e.pid,'/ok'),e)},failReactivePurchase:function(e){return i.post(''.concat(c,'/purchase-reactive-penalty/').concat(e.pid,'/fail'),e)},isNotCourseReenrollAllowed:function(t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',i.get(''.concat(c,'/v1/purchases/course-reenroll/').concat(t.camadaId,'/users/').concat(t.userId,'/is-not-course-reenroll-allowed'),t));case 1:case'end':return e.stop()}},e)}))()},simulateUnenrollment:function(t,n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',i.post(''.concat(c,'/v1/courses/').concat(t,'/students/').concat(n,'/unenrollment-simulation')).then(function(e){return e.data}));case 1:case'end':return e.stop()}},e)}))()},unenrollFromCourse:function(t,n,r){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',i.post(''.concat(c,'/v1/courses/').concat(t,'/students/').concat(n,'/unenroll'),r));case 1:case'end':return e.stop()}},e)}))()},isOnQualityPeriod:function(t,n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',i.get(''.concat(c,'/penalties/').concat(t,'/quality-clause?course_id=').concat(n)).then(function(e){return e.data}));case 1:case'end':return e.stop()}},e)}))()},isAuthorized:function(t,n,r){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',i.post(''.concat(c,'/penalties/').concat(t,'/operation/').concat(n,'/is-authorized?course_id=').concat(r)).then(function(e){return e.data}));case 1:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('SelfManagementSrv',['$http','PATHS_PLATFORM','$rootScope','NotificationSrv','HttpRetryService',function(t,e,n,r,a){var s=e.USERS,o=e.COURSES,i=e.SUPPORT,l=e.REPORT_USER,c=(e.REPORT_TEACHER,e.REPORT_CONTENT,e.UNENROLL_REQUEST);e.API;return{support:function(e){return t.post(i,e)},reportUser:function(e){return t.post(l,e)},reportBlog:function(e){return t.post(''.concat(l,'/blog'),e)},unenrollRquest:function(e){return t.post(c,e)},getTop10Perks:function(e){return t.post(ENDPOINT(''.concat(o,'/:courseId/students/:userId/top-10-perks'),e),e).then(function(e){return e.data})},getRequests:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/requests'),e),e)},discartRequest:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/requests/:requestId/discart'),e),e).then(function(e){return e.data})},isRequestReenableValid:function(e){return a.try(t.get(ENDPOINT(''.concat(s,'/:userId/self-management/reenable/:courseId'),e),{params:e}).then(function(e){return e.data}),this.isRequestReenableValid)},registerInCourse:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/register-in-course'),e),e)},requestReenable:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/reenable'),e),e).then(function(e){return e.data})},requestTopPerks:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/top-perks'),e),e)},requestUnenroll:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/unenroll/:courseId'),e),e).then(function(e){return e.data})},requestEnrollCert:function(e){return t.post(ENDPOINT(''.concat(o,'/:courseId/students/:studentId/self-management/enroll-cert'),e),e,{responseType:'blob'})},requestBePartnerWith:function(e){return t.post(ENDPOINT(''.concat(o,'/:courseId/students/:studentId/self-management/be-partner-with'),e),e)},requestRefaund:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/refaund/:courseId'),e),e).then(function(e){return e.data})},requestChangeGroup:function(e){return t.post(ENDPOINT(''.concat(s,'/:userId/self-management/change-group/:courseId'),e),e).then(function(e){return e.data})}}}]),angular.module('core').factory('ServicesSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,r){var a=e.SERVICES;return{get:function(e){return null!=e&&e._id?this.getById(e):this.getAll(e)},getAll:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a),t),{params:t}).then(function(e){return e.data}),n.getAll);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/').concat(t._id),t),{params:t}).then(function(e){return e.data}),n.getById);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getReferralRewards:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/referral-rewards'),t),{params:t}).then(function(e){return e.data}),n.getReferralRewards);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},startService:function(e){return r.try(t.put(ENDPOINT(''.concat(window.CH_API,'/private/students/').concat(e.userId,'/services/').concat(e.serviceId,'?isTop10=').concat(e.isTop10)),e))}}}]),angular.module('core').service('ToastInfo',['$rootScope','$http','PATHS_PLATFORM','HttpRetryService',function(e,t,n,r){var a=n.BFF_API;return{getToastInfo:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.try(axios.get(''.concat(a,'/v1/home/notifications-social-sharing')));case 3:return t=e.sent,e.abrupt('return',t.data[0]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt('return',null);case 10:case'end':return e.stop()}},e,null,[[0,7]])}))()},shareSocialSharingNoti:function(n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.try(axios.put(''.concat(a,'/v1/home/notifications-social-sharing/').concat(n,'/shared'),{}));case 3:return t=e.sent,e.abrupt('return',t.data.linkedin_share_link);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt('return',null);case 10:case'end':return e.stop()}},e,null,[[0,7]])}))()},omitSocialSharingNoti:function(n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.try(axios.put(''.concat(a,'/v1/home/notifications-social-sharing/').concat(n,'/readed'),{}));case 3:return t=e.sent,e.abrupt('return',t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt('return',null);case 10:case'end':return e.stop()}},e,null,[[0,7]])}))()}}}]),angular.module('core').factory('StagesSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(e,t,r){var a=t.STAGES;return{get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.slug?this.getBySlug(e):this.getById(e)},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/:stageId'),t)).then(function(e){return e.data}),n.getById);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getBySlug:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/slug/:slug'),t)).then(function(e){return e.data}),n.getBySlug);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getModules:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/:_id/modules'),t),{params:t}).then(function(e){return e.data}),n.getModules);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getRelatedContents:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.try(axios.get(ENDPOINT(''.concat(a,'/:_id/related-contents'),t)).then(function(e){return e.data}),n.getRelatedContents);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('TalentSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,n){var r=e.TALENT;return{getExperticeAreas:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/expertice-areas'),e),e).then(function(e){return e.data}),this.getExperticeAreas)},getLanguages:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/languages'),e),e).then(function(e){return e.data}),this.getLanguages)},getLanguageLevels:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/language-levels'),e),e).then(function(e){return e.data}),this.getLanguageLevels)},getSkills:function(e){return n.try(t.get(ENDPOINT(''.concat(r,'/skills'),e),{params:e}).then(function(e){return e.data}),this.getSkills)}}}]),angular.module('core').factory('UploadsSrv',['PATHS_PLATFORM','Upload',function(r,a){return{images:function(e){return a.upload({url:r.UPLOAD_IMAGES,file:e})},files:function(e,t,n){return a.upload({url:r.UPLOAD_FILES,data:{file:e,prefix:t,invoice:n}})},recording:function(e){return a.upload({url:r.UPLOAD_RECORDING,data:{file:e}})}}}]),angular.module('core').service('PlatformUserBalanceService',['$rootScope','$http','PATHS_PLATFORM','HttpRetryService',function(e,t,n,a){var s=n.API;return{getAvailableUserBalances:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.try(axios.get(''.concat(s,'/users/').concat(n,'/profile-available-balance')).then(function(e){return e.data}),r.getUserBalances);case 3:if(0<(t=e.sent).length)if(0<(t=t.filter(function(e){return!e.claimed&&e.enable&&'free'===e.management})).length)return e.abrupt('return',t[0]);e.next=8;break;case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt('return',null);case 13:case'end':return e.stop()}},e,null,[[0,10]])}))()}}}]),angular.module('core').service('UsersSrv',['HttpRetryService','$http','PATHS_PLATFORM',function(a,s,e){var t=e.USERS,n=e.CHAT_USERS,o=e.SESSION,r=e.API;return{get:function(e){if(e._id||e.id)return a.try(s.get(ENDPOINT(''.concat(t,'/:userId'),Object.assign(e,{userId:e._id||e.id})),{params:e}),this.get)},getById:function(e){if((e=e||{}).ts=(new Date).getTs(),e._id||e.id)return a.try(s.get(ENDPOINT(''.concat(t,'/:userId'),Object.assign(e,{userId:e._id||e.id})),{params:e}),this.getById)},isFree:function(e){return a.try(s.get(''.concat(ENDPOINT(''.concat(t,'/:userId/is-free'),e)),{params:e}).then(function(e){return e.data}),this.isFree)},update:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId'),Object.assign(e,{userId:e.user._id})),e.user)},setStoredSession:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(s.post(o,{token:n},{withCredentials:!0}),r.setStoredSession);case 2:return t=e.sent,e.abrupt('return',t);case 4:case'end':return e.stop()}},e)}))()},getStoredSession:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){try{e(s.get(o,{withCredentials:!0}))}catch(e){t(e)}}),e.next=3,t;case 3:return t=e.sent,e.abrupt('return',null==t?void 0:t.data);case 5:case'end':return e.stop()}},e)}))()},deleteStoredSession:function(){return s.delete(o,{withCredentials:!0})},updateOnboardingProfile:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/onboarding-profile'),Object.assign(e,{userId:e.user._id})),e.user)},getProfile:function(e){return(e=e||{}).ts=(new Date).getTs(),a.try(s.get(''.concat(ENDPOINT(''.concat(t,'/:userId/profile'),Object.assign(e,{userId:e._id}))),{params:e}),this.getProfile)},getProfileInvoiceInfo:function(e){return(e=e||{}).ts=(new Date).getTs(),a.try(s.get(''.concat(ENDPOINT(''.concat(t,'/:userId/profile-invoice-info'),Object.assign(e,{userId:e._id}))),{params:e}).then(function(e){return e.data}),this.getProfileInvoiceInfo)},getProfileAvailableBalance:function(e){return(e=e||{}).ts=(new Date).getTs(),a.try(s.get(''.concat(ENDPOINT(''.concat(t,'/:userId/profile-available-balance'),Object.assign(e,{userId:e._id}))),{params:e}).then(function(e){return e.data}),this.getProfileAvailableBalance)},claimAvailableBalance:function(e){return(e=e||{}).ts=(new Date).getTs(),s.put(''.concat(ENDPOINT(''.concat(t,'/:userId/profile-available-balance'),e)),e)},getCanTeach:function(e){return(e=e||{}).ts=(new Date).getTs(),a.try(s.get(''.concat(ENDPOINT(''.concat(t,'/:userId/can-teach'),Object.assign(e,{userId:e._id}))),{params:e}).then(function(e){return e.data}),this.getCanTeach)},upsertProfileHistory:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/profile/histories/:classId/:moduleId'),e),{params:e})},getAvailability:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/availability')),{params:e}).then(function(e){return e.data}),this.getAvailability)},getCertifications:function(e){return a.try(null!=e&&e.certId?s.get(ENDPOINT(''.concat(t,'/:userId/certifications/:certId'),e),{params:e}):s.get(ENDPOINT(''.concat(t,'/:userId/certifications'),e),{params:e}),this.getCertifications)},getCourseCertification:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/camadas/:camadaId/certification'),e),{params:e}),this.getCourseCertification)},getWorks:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/works'),e),{params:e}),this.getWorks)},upsertWork:function(e){var t;return e.userId&&null!=(t=e.work)&&t._id?this.updateWork(e):this.setWork(e)},updateWork:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/works/:workId'),Object.assign(e,{workId:e.work._id})),e.work)},setWork:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/works'),e),e.work)},deleteWork:function(e){return s.delete(ENDPOINT(''.concat(t,'/:userId/works/:workId'),Object.assign(e,{workId:e.work._id})))},getEducation:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/education'),e),{params:e}),this.getEducation)},upsertEducation:function(e){var t;return e.userId&&null!=(t=e.education)&&t._id?this.updateEducation(e):this.setEducation(e)},updateEducation:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/education/:educationId'),Object.assign(e,{educationId:e.education._id})),e.education)},setEducation:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/education'),e),e.education)},deleteEducation:function(e){return s.delete(ENDPOINT(''.concat(t,'/:userId/education/:educationId'),Object.assign(e,{educationId:e.education._id})))},isValidateProfileSlug:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/validate-profile-slug'),e),e)},hasMembership:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/has-membership'),e),{params:e}),this.hasMembership)},getPushNotifications:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/push-notifications'),e),{params:e}).then(function(e){return e.data}),this.getPushNotifications)},updatePushNotificationReaded:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/push-notifications/:notificationId/readed'),e))},isValidEmail:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/is-valid-email'),e),e).then(function(e){return e.data})},getCountry:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/country'),e),e).then(function(e){return e.data}),this.getCountry)},updateCountry:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/country'),e),e)},upsertNotificationToken:function(e){var t=ENDPOINT(''.concat(n,'/:userId/devices'),e);return axios.post(t,e)},removeNotificationToken:function(e){e=ENDPOINT(''.concat(n,'/:userId/devices/:token'),e);return s.delete(e)},getFlags:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/flags'),e),{params:e}).then(function(e){return e.data}),this.getFlags)},isVideoTutorialViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/video-tutorials'),e),{params:e}).then(function(e){return e.data}),this.isVideoTutorialViewed)},videoTutorialViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/video-tutorials'),e),e)},isForumBannerViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/forum-banner'),e),{params:e}).then(function(e){return e.data}),this.isForumBannerViewed)},forumBannerViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/forum-banner'),e),e)},personalGoalBannerViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/personal-goal-banner'),e),e)},referralFormBannerViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/referral-form-banner'),e),e)},canApplyToKickOff:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/can-apply-to-kick-off'),e),{params:e}).then(function(e){return e.data}),this.canApplyToKickOff)},isKickOffBannerViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/kick-off-banner'),e),{params:e}).then(function(e){return e.data}),this.isKickOffBannerViewed)},kickOffBannerViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/kick-off-banner'),e),e)},onboardingSlidesViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/onboarding-slides'),e),e)},isForumSlidesViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/forum-slides'),e),{params:e}),this.isForumSlidesViewed)},forumSlidesViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/forum-slides'),e),e)},wasOnboardingPostLoginCompleted:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/onboardingv2'),e),{params:e}).then(function(e){return e.data}),this.wasOnboardingPostLoginCompleted)},onboardingV2:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/onboardingv2'),e),e)},isPostOnboardingTooltipViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/post-onboarding'),e),{params:e}),this.isPostOnboardingTooltipViewed)},postOnboarding:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/post-onboarding'),e),e)},wasTeacherOnboardingSlidesViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/teacher-onboarding-slides'),e),{params:e}),this.wasTeacherOnboardingSlidesViewed)},setTeacherOnboardingSlidesViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/teacher-onboarding-slides'),e),e)},wasStudentOnboardingSlidesViewed:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/student-onboarding-slides'),e),{params:e}).then(function(e){return e.data}),this.wasStudentOnboardingSlidesViewed)},setStudentOnboardingSlidesViewed:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/student-onboarding-slides'),e),e)},wasStudentOnboardingTestCompleted:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/student-onboarding-test'),e),{params:e}),this.wasStudentOnboardingTestCompleted)},setStudentOnboardingTestCompleted:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/student-onboarding-test'),e),e)},getPersonalGoal:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/personal-goal'),e),{params:e}),this.getPersonalGoal)},upsertPersonalGoal:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/personal-goal'),e),e)},changePassword:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/change-password'),e),e)},isValidChangePasswordRequest:function(e){return s.post(ENDPOINT(''.concat(r,'/change-password-request'),e),e)},confirmChangePassword:function(e){return s.put(ENDPOINT(''.concat(r,'/change-password-request'),e),e)},getMembership:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/membership'),e),{params:e}),this.getMembership)},cancelMembership:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/membership/:membershipId/cancel'),e),e)},getChatToken:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/chat-token'),e),e),this.getChatToken)},getStreamToken:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/get-stream-token'),e),e),this.getStreamToken)},getUserMessages:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/chat-messages'),e),e)},getReferralCupon:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/referral-cupon'),e),{params:e}).then(function(e){return e.data}),this.getReferralCupon)},getReferralCuponV2:function(){return a.try(s.get(ENDPOINT(''.concat(r,'/referral/code'))).then(function(e){return e.data}),this.getReferralCuponV2)},getReferralReward:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/referral-cupon-reward'),e),e).then(function(e){return e.data}),this.getReferralReward)},claimReferralCouponRewardDiscount:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/referral/:referralUsageId/discount'),e),e).then(function(e){return e.data})},claimReferralCouponRewardServiceCareer:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/referral/:referralUsageId/service-career'),e),e).then(function(e){return e.data})},claimReferralCuponReward:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/referral/:referralUsageId'),e),e).then(function(e){return e.data})},getReferralCuponImage:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/image/:type/:size'),e),e).then(function(e){return e.data})},updateReferralCuponCode:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/code'),e),e).then(function(e){return e.data})},updateReferralSharing:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/referral-cupon/:cuponId/sharing'),e),e).then(function(e){return e.data})},hasActiveCourses:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/has-active-courses'),e),e).then(function(e){return e.data}),this.hasActiveCourses)},getUserBotInfo:function(e){return s.post(''.concat(r,'/user-bot-info'),e).then(function(e){return e.data})},getAssignments:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/assignements'),e),e).then(function(e){return e.data}),this.getAssignments)},getUserSocialNetworks:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/social-networks'),e),e).then(function(e){return e.data}),this.getUserSocialNetworks)},updateUserSocialNetworks:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/social-networks'),e),e).then(function(e){return e.data})},getUserExpertice:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/expertice'),e),e).then(function(e){return e.data}),this.getUserExpertice)},updateUserExpertice:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/expertice'),e),e).then(function(e){return e.data})},getUserLanguages:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/languages'),e),e).then(function(e){return e.data}),this.getUserLanguages)},updateUserLanguages:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/languages'),e),e).then(function(e){return e.data})},getUserSkills:function(e){return a.try(s.get(ENDPOINT(''.concat(t,'/:userId/skills'),e),e).then(function(e){return e.data}),this.getUserSkills)},upsertUserSkill:function(e){var t;return null!=e&&null!=(t=e.skill)&&t._id?this.updateUserSkill(e):this.setUserSkill(e)},setUserSkill:function(e){return s.post(ENDPOINT(''.concat(t,'/:userId/skills'),e),e).then(function(e){return e.data})},updateUserSkill:function(e){return s.put(ENDPOINT(''.concat(t,'/:userId/skills/:skillId'),e),e).then(function(e){return e.data})},deleteUserSkill:function(e){return s.delete(ENDPOINT(''.concat(t,'/:userId/skills/:skillId'),e),e).then(function(e){return e.data})},getSurvey:function(e){return a.try(s.get(ENDPOINT(''.concat(r,'/teachers/:userId/experience-survey?'),e),{params:e}).then(function(e){return e.data}),this.getSurvey)},sendSurvey:function(e){return s.post(ENDPOINT(''.concat(r,'/teachers/:userId/experience-survey?'),e),e).then(function(e){return e.data})},getAuthLogin:function(e,t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get(''.concat(window.CH_API,'/platform/auth/user'));case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('ProductModifiersSrv',['HttpRetryService','$http','$rootScope','PATHS_PLATFORM','PATHS','LazyScriptsSrv','NotificationSrv',function(t,l,n,e,r,a,s){var o=e.COURSE_PRODUCT_MODIFIER,c=r.API;function d(e){return Object.assign({},0<arguments.length&&void 0!==e?e:{},{country:(null==(e=n.COUNTRY)?void 0:e.code)||'ar',userId:null==(e=n.USER)?void 0:e._id})}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('mercadopago'===t)return e.next=3,new Promise(function(e){return a.getAll([t],e)});e.next=4;break;case 3:return e.abrupt('return',e.sent);case 4:return e.next=6,new Promise(function(e){return a.getAll(['stripe-v3'],e)});case 6:return e.abrupt('return',e.sent);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(t,n){$MPC.openCheckout({url:r.init_point,mode:'modal',onreturn:function(e){null!=e&&e.collection_id&&'approved'===(null==e?void 0:e.collection_status)?t(_objectSpread(_objectSpread({},e),{},{gateway:'mercadopago',pid:e.external_reference,userId:r.userId})):(s.error({msg:'Hubo un inconveniente al procesar el pago con MERCADO PAGO'}),n(e))}})});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.Stripe(t.publicKey),e.next=3,n.redirectToCheckout({sessionId:t.response.id});case 3:if(null!=(r=e.sent)&&null!=(n=r.error)&&n.message)throw null==r?void 0:r.error;e.next=6;break;case 6:return e.abrupt('return',r);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}return{getByProduct:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.try(axios.get(''.concat(c,'/products/').concat(e.productId,'/premium'),{params:d(e)}).then(function(e){return e.data}),this.getByProduct)},getByCourse:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.try(axios.get(''.concat(o,'/').concat(e.courseId),{params:d(e)}).then(function(e){return e.data}),this.getByCourse)},createPurchase:function(o){var i=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=location.origin+location.pathname,e.prev=1,e.next=4,l.post(''.concat(c,'/purchase-product-modifier'),_objectSpread(_objectSpread({},d(o)),{},{redirectTo:t})).then(function(e){return null==e?void 0:e.data});case 4:return n=e.sent,r=n._id,a=n.purchaseId,s=n.gateway,e.prev=7,e.next=10,function(){return u.apply(this,arguments)}(s);case 10:if('mercadopago'===s)return e.next=13,function(){return m.apply(this,arguments)}(n);e.next=16;break;case 13:e.sent,e.next=20;break;case 16:if('stripe'===s)return e.next=19,function(){return p.apply(this,arguments)}(n);e.next=20;break;case 19:e.sent;case 20:return e.next=22,i.approvePurchase({pid:r||a});case 22:return e.abrupt('return',e.sent);case 25:return e.prev=25,e.t0=e.catch(7),e.next=29,i.failPurchase({pid:r||a});case 29:throw e.t0;case 30:e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(1),e.t1;case 35:case'end':return e.stop()}},e,null,[[1,32],[7,25]])}))()},approvePurchase:function(e){return l.post(''.concat(c,'/purchase-product-modifier/').concat(e.pid,'/ok'),e)},failPurchase:function(e){return l.post(''.concat(c,'/purchase-product-modifier/').concat(e.pid,'/fail'),e)}}}]),angular.module('core').service('ProductsSrv',['$rootScope','$http','PATHS','HttpRetryService',function(n,e,t,a){var s=t.PRODUCTS,o=t.API;t.PRODUCTS_CDN;function i(e){var t,e=0<arguments.length&&void 0!==e?e:{};return e.country=e.country||(null==(t=n.USER)||null==(t=t.profile)?void 0:t.country)||(null==(t=n.COUNTRY)?void 0:t.code),e.startDate=e.startDate||(new Date).getTime(),e}function l(e,t){return delete t.accesstoken,delete t.idtoken,e}return{get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&e.slug||null!=e&&e._id?this.getById(e):this.getAll(e)},getById:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',a.try(axios.get(''.concat(s,'/').concat(t.slug?'slug/'.concat(t.slug):t._id),{params:t,transformRequest:l}).then(function(e){return e.data}),n.getById));case 1:case'end':return e.stop()}},e)}))()},getAll:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(s,{params:i(t),transformRequest:l}).then(function(e){return e.data}),r.getAll);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getSortedByCategory:function(){var n=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{},e.next=3,a.try(axios.get(''.concat(s),{params:i(t),transformRequest:l}).then(function(e){return e.data}),r.getSortedByCategory);case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},getCourses:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(s,'/').concat(t.slug?'slug/'.concat(t.slug):t._id,'/courses'),{params:i(t),transformRequest:l}).then(function(e){return e.data}),n.getCourses);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},getUpsellingCupon:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(''.concat(o,'/checkout/upselling-cupon'),{params:i(n),transformRequest:l}).then(function(e){return e.data}),r.getUpsellingCupon);case 2:return t=e.sent,e.abrupt('return',null==t?void 0:t.cupon);case 4:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('PushNotificationsSrv',['NotificationSrv','$filter',function(n,e){var t,r=e('translate');function a(){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:'Notification'in window?e.next=5:(console.warn('PushNotificationsSrv','not available for browser'),n.info({msg:r('toast.push-notifications-not-available')}),e.next=22);break;case 5:return e.prev=5,e.next=8,Notification.requestPermission();case 8:if('granted'===(t=e.sent))return e.abrupt('return',!0);e.next=14;break;case 14:if('denied'===t)throw n.info({msg:r('toast.push-notifications-not-denied')}),new Error('denied');e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),console.error('PushNotificationsSrv',e.t0);case 22:return e.abrupt('return',!1);case 23:case'end':return e.stop()}},e,null,[[5,19]])}))).apply(this,arguments)}return{requestPermission:a,show:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:(e.sent?function(e){e=0<arguments.length&&void 0!==e?e:{},console.info('PushNotificationsSrv','show in app notification'),n.info({msg:'<b>'.concat(e.title,'</b> <br> ').concat(e.msg),cb:e.cb})}:function(e){var t=0<arguments.length&&void 0!==e?e:{};console.info('PushNotificationsSrv','show web notification'),new Notification(t.title||'Coder',{icon:t.icon||'https://res.cloudinary.com/hdsqazxtw/image/upload/v1594746410/icon-192_y4csz6.png',body:t.msg}).onclick=t.cb||function(e){e.preventDefault(),window.open(t.cbUrl||''.concat(location.origin),'_blank').focus()}})(t);case 4:case'end':return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}}]),angular.module('core').factory('QuillEditorSrv',['$http','PATHS','HttpRetryService',function($http,_ref158,HttpRetryService){var QUILL_EDITOR=_ref158.QUILL_EDITOR;return{get:function get(){var _this129=this;return _asyncToGenerator(_regeneratorRuntime().mark(function _callee163(){return _regeneratorRuntime().wrap(function _callee163$(_context163){for(;;)switch(_context163.prev=_context163.next){case 0:return _context163.abrupt('return',new Promise(function(resolve,reject){return HttpRetryService.try(axios.get(ENDPOINT(QUILL_EDITOR)).then(function(_ref159){var data=_ref159.data;return resolve(eval(data))},reject),_this129.get)}));case 1:case'end':return _context163.stop()}},_callee163)}))()}}}]),angular.module('core').factory('RetryAxiosSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,a){var s=e.TERMS;return{get:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,axios.get(s,{params:n});case 3:return e.t1=e.sent,e.t2=r.get,t=e.t0.try.call(e.t0,e.t1,e.t2),e.abrupt('return',null==t?void 0:t.data);case 7:case'end':return e.stop()}},e)}))()},sign:function(e){return t.put(''.concat(s,'/').concat(e.termId),e)}}}]),angular.module('core').service('SessionSrv',['$http','StorageSrv','$rootScope','PermissionsSrv','UsersSrv','$state','AmplitudeSrv','PATHS_PLATFORM','BotSrv','HttpRetryService','NotificationSrv',function(s,o,c,i,l,d,u,t,r,a,n){function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=window.firebase)&&null!=(r=r.messaging)&&r.isSupported()){if(console.warn('Configuring Web Push Messaging for '.concat(n)),r='granted'===Notification.permission,a=r&&localStorage.getItem('pushToken'))return e.next=7,f(n,a);e.next=7}else e.next=11;break;case 7:v(!!a),t=void 0,null!=(t=window.firebase)&&t.messaging().onMessage(function(e){var t;console.warn('Message received: ',JSON.stringify(e)),'granted'===Notification.permission&&(t={body:''.concat((null==e||null==(t=e.data)?void 0:t.sender)||'Unknown',':  ').concat(e.notification.body),icon:e.notification.image,image:e.notification.image},e=new Notification(e.notification.title,t),setTimeout(e.close.bind(e),2e3))}),e.next=13;break;case 11:p(),console.warn('Web Push Messaging not supported on this platform');case 13:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}function p(){c.$emit('NOTIFICATIONS:PUSH:STATE','unavailable')}function v(e){c.$emit('NOTIFICATIONS:PUSH:STATE',e?'enabled':'disabled')}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=window.firebase)||null==(n=n.messaging)||!n.isSupported()){e.next=20;break}if('Configuring Web Push Messaging for '.concat(t),e.prev=2,e.t0='granted'===Notification.permission,e.t0){e.next=9;break}return e.next=7,Notification.requestPermission();case 7:e.t1=e.sent,e.t0='granted'===e.t1;case 9:if(e.t0)return'Notification permission granted for '.concat(t,'.'),e.next=14,window.firebase.messaging().getToken({vapidKey:window.PUBLIC_VAPID_KEY});e.next=15;break;case 14:return e.abrupt('return',e.sent);case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(2),console.warn('Error getting permission for Web Push Messaging: '.concat(e.t2));case 20:return e.abrupt('return',null);case 21:case'end':return e.stop()}},e,null,[[2,17]])}))).apply(this,arguments)}function f(e,t){var n=c.$currentPlatform,r=n.browser,n=n.os;return l.upsertNotificationToken({userId:e,os:n,browser:r,token:t})}function h(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){return g.apply(this,arguments)}(t);case 3:if(n=e.sent)return localStorage.setItem('pushToken',n),e.next=8,f(t,n);e.next=11;break;case 8:v(!0),e.next=11;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),p(),console.warn('Web Push Messaging not supported on this platform: '.concat(e.t0));case 17:case'end':return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function b(){return(b=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem('pushToken'),e.prev=1,e.next=4,window.firebase.messaging().deleteToken();case 4:localStorage.removeItem('pushToken'),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn('Could not delete push token: '+e.t0);case 10:r&&(t=null==(a=c.USER)?void 0:a._id,n=r,l.removeNotificationToken({userId:t,token:n}));case 11:case'end':return e.stop()}var t,n},e,null,[[1,7]])}))).apply(this,arguments)}return c.$on('PUSH_NOTIFICATION:ENABLE',function(e,t){t?function(){return h.apply(this,arguments)}(null==(t=c.USER)?void 0:t._id).then(function(){}):function(){b.apply(this,arguments)}()}),{getAuthUser:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a,n){if(window.ENV_B2B)return e.abrupt('return',t.setStoredSession(n,r));e.next=4}else e.next=5;break;case 4:return e.abrupt('return',t.setStoredSession(n,function(e,t,n){if(r)return r(null,t,n)}));case 5:return e.abrupt('return',!1);case 6:case'end':return e.stop()}},e)}))()},getAuthUserPromise:function(e){var t=this;return new Promise(function(r,a){t.getAuthUser(e,function(e,t,n){return e?a(e):r({user:t,userId:n})})})},getStoredSession:function(r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a,e.next=4,l.getStoredSession(t.getAuthToken());case 4:if(n=e.sent,r)return e.abrupt('return',r(null,null==n?void 0:n.data));e.next=7;break;case 7:return e.abrupt('return',null==n?void 0:n.data);case 10:return e.prev=10,e.t0=e.catch(0),e.t0,r&&r(e.t0),e.abrupt('return',e.t0);case 15:case'end':return e.stop()}},e,null,[[0,10]])}))()},setStoredSession:function(r,a){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.setStoredSession(r);case 3:return t=e.sent,a&&a(null,null==t?void 0:t.data,null==t||null==(n=t.data)?void 0:n._id),e.abrupt('return',null==t?void 0:t.data);case 8:e.prev=8,e.t0=e.catch(0),a&&a(e.t0);case 11:return e.abrupt('return');case 12:case'end':return e.stop()}},e,null,[[0,8]])}))()},getAuthId:function(){return o.get(window.CH_AUTH_ID)||o.getCookie(window.CH_AUTH_ID)},setAuthId:function(e){return window.ENV_B2B?this.getAuthId():(o.setCookie(window.CH_AUTH_ID,e),u.setUserId(e),o.set(window.CH_AUTH_ID,e))},getAuthToken:function(){return o.get(window.CH_AUTH_TOKEN)||o.getCookie(window.CH_AUTH_TOKEN)},setAuthToken:function(e){return window.ENV_B2B?this.getAuthToken():(o.setCookie(window.CH_AUTH_TOKEN,e),o.set(window.CH_AUTH_TOKEN,e))},handleLogin:function(r,a){var s=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get(r);case 2:return n=e.sent,t=new Promise(function(e,t){try{if(null==n||!n._id)throw new Error('No user found');e(n)}catch(e){t(e)}}),e.next=6,t;case 6:if(null!=(t=e.sent)&&t._id)return e.abrupt('return',s.set(t,a));e.next=11;break;case 11:return e.abrupt('return',a(!0));case 12:case'end':return e.stop()}},e)}))()},hasActiveSession:function(){var l=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=(t=l).getAuthId(),r=t.getAuthToken(),null!=(a=c.USER)&&a._id){e.next=28;break}return e.next=7,t.getStoredSession();case 7:(a=e.sent)&&null!=a&&a._id?(t.set(a),e.next=26):e.next=12;break;case 12:if(window.ENV_B2B)e.next=26;else{if(s=n,r&&!n)return e.next=17,t.getAuthUser(r);e.next=21}break;case 17:if(o=e.sent,s){e.next=20;break}throw new Error('Invalid token');case 20:s=o.userId;case 21:return e.next=23,t.getPrmise(s);case 23:return i=e.sent,e.next=26,t.setPromise(i);case 26:e.next=29;break;case 28:throw new Error('No session found');case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(0),console.error(e.t0),e.abrupt('return',!0);case 35:return e.abrupt('return',null);case 36:case'end':return e.stop()}},e,null,[[0,31]])}))()},getAccessToken:function(e){return a.try(s.get(''.concat(t.API,'/access-tokens/').concat(e)).then(function(e){return e.data}),this.getAccessToken)},getImpersonToken:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(s.get(''.concat(window.CH_ACADEMIC_API,'/v1/access-token/').concat(t)).then(function(e){return e.data}),n.getImpersonToken);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))()},get:function(n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get({_id:n,lean:1,session:1});case 2:return t=e.sent,e.abrupt('return',null==t?void 0:t.data);case 4:case'end':return e.stop()}},e)}))()},set:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=n&&n._id){if((t=a.getAuthToken())&&!window.COGNITO_LOGIN&&(s.defaults.headers.common.Authorization=null!=t&&t.includes('Bearer')?t:'Bearer '.concat(t.trim())),null!=(t=n.flags)&&t.fullBlocked)return e.abrupt('return',a.logout('blocked'));e.next=7}else e.next=22;break;case 7:if(null!=t&&t.debtor)return e.abrupt('return',a.logout('debtor'));e.next=9;break;case 9:return i.set(n),c.USER=n,e.next=13,o.set(window.CH_USER_SESSION,{_id:n._id,email:n.email,profile:{first_name:n.profile.first_name,last_name:n.profile.last_name}});case 13:return e.next=15,u.setUserProperties({email:n.email,name:n.fullName});case 15:return e.next=17,function(){return m.apply(this,arguments)}(n._id).then(function(){});case 17:return c.$emit('SESSION:SET'),c.$emit('PERSONAL_GOAL:SET',n.personalGoal),e.abrupt('return',n);case 22:if(r)return e.abrupt('return',r(!0));e.next=26;break;case 26:console.warn('Not callback for set user'),a.logout();case 28:e.next=33;break;case 30:throw e.prev=30,e.t0=e.catch(0),e.t0;case 33:case'end':return e.stop()}},e,null,[[0,30]])}))()},setPromise:function(r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.set(r);case 2:return n=e.sent,t=new Promise(function(e,t){(n._id?e:t)(n)}),e.next=6,t;case 6:return t=e.sent,e.abrupt('return',t);case 8:case'end':return e.stop()}},e)}))()},getPromise:function(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get(t);case 2:return n=e.sent,e.abrupt('return',new Promise(function(e,t){try{if(null==n||!n._id)throw new Error('No user session');e(n)}catch(e){t(e)}}));case 4:case'end':return e.stop()}},e)}))()},manageSession:function(r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setAuthToken(r),e.next=3,a.getAuthUser(r);case 3:if(null!=(t=e.sent)&&t._id){if(window.ENV_B2B)return e.abrupt('return',a.set(t,function(e){if(e)return a.showError({key:'SessionSrv.set',message:'Falló al setear el usuario.'});!e&&null!=(e=location.href)&&e.includes('ingresar')&&d.go('dashboard')}));e.next=7}else e.next=17;break;case 7:return e.next=9,a.handleLogin(null==t?void 0:t._id);case 9:(n=e.sent)._id?(null!=(n=n.flags)&&n.onboardingV2?d.go('dashboard'):d.go('onboarding'),e.next=15):e.next=14;break;case 14:return e.abrupt('return',a.showError({key:'SessionSrv.handleLogin',message:'Falló al manejar la sesion.'}));case 15:e.next=18;break;case 17:return e.abrupt('return',a.showError({key:'SessionSrv.getAuthUser',message:'Falló al obtener el usuario autenticado.'}));case 18:case'end':return e.stop()}},e)}))()},showError:function(e){return n.error({msg:'Hubo un problema con tu sesión, ingresa nuevamente, si el problema persiste escribinos por el chat de soporte. Perdon por las molestías.',delay:1e4})},setAuthorization:function(e){return o.setCookie('auth',e),o.set('auth',e)},getAuthorization:function(){return o.get('auth')||o.getCookie('auth')},logoutCognito:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return axios.defaults.headers.accesstoken='',axios.defaults.headers.idtoken='',s.defaults.headers.common.accesstoken='',s.defaults.headers.common.idtoken='',o.clear(),e.next=7,axios.get(''.concat(window.origin,'/logout'));case 7:return e.abrupt('return',window.location=''.concat(window.COGNITO_LOGIN_URL,'/logout'));case 8:case'end':return e.stop()}},e)}))()},logout:function(t){var n=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.USER=null,c.PERMISSIONS=null,s.defaults.headers.common.Authorization='',o.remove(window.CH_AUTH_ID),o.remove(window.CH_AUTH_TOKEN),o.remove(window.CH_USER_SESSION),o.remove('closedBanner'),o.set('isLogout',!0,!0),r.shutDown(),window.COGNITO_LOGIN?n.logoutCognito():l.deleteStoredSession().then(function(){t&&d.go(t)});case 10:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').service('SharesSrv',['$http','$rootScope','$window','$location','PATHS','PATHS_PLATFORM','NotificationSrv','UsersSrv','AmplitudeSrv',function(n,h,t,r,e,a,b,w,T){function s(e,t){return delete t.accesstoken,delete t.idtoken,e}var o=e.URL_SHORTNER,i=a.USERS;h.SITE=h.SITE||{};function l(e){t.open(e.url,e.title||'',e.size||'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600')}return{createShorterUrl:function(t){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||function(e){var e=0<arguments.length&&void 0!==e?e:r.absUrl(),t='www.coderhouse.com';return e=(e=e||location.href).includes('herokuapp')||e.includes('localhost')?(e=(e=(e=(e=e.replace('https://ch-platform-qa.herokuapp.com',t)).replace('https://ch-platform.herokuapp.com',t)).replace('https://localhost',t)).replace(':3040','')).replace(':3043',''):e}(t),e.next=3,n.post(o,{url:t,transformRequest:s}).then(function(e){return e.data||t});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))()},withFacebook:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createShorterUrl(n);case 2:return t=e.sent,e.abrupt('return',l({url:'https://www.facebook.com/dialog/share?app_id=1822869404615091&href='.concat(t,'&title=').concat(r,'&quote=').concat(r),title:'facebook-share-dialog',size:'width=626,height=436'}));case 4:case'end':return e.stop()}},e)}))()},withTwitter:function(r,a){var s=arguments,o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=2<s.length&&void 0!==s[2]?s[2]:'DemocratizandoLaEducación',e.next=3,o.createShorterUrl(r);case 3:return n=e.sent,e.abrupt('return',l({url:'https://twitter.com/intent/tweet?hashtags='.concat(t,'&via=Coderhouse&text=').concat(encodeURI(a),'&url=').concat(n)}));case 5:case'end':return e.stop()}},e)}))()},withLinkedin:function(a){var s=arguments,o=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1<s.length&&void 0!==s[1]?s[1]:h.SITE.title,n=2<s.length&&void 0!==s[2]?s[2]:h.SITE.description,e.next=4,o.createShorterUrl(a);case 4:return r=e.sent,e.abrupt('return',l({url:'https://www.linkedin.com/shareArticle?mini=true&url='.concat(r,'&title=').concat(t,'&summary=').concat(n,'&source=Coderhouse'),title:t}));case 6:case'end':return e.stop()}},e)}))()},withWhatsApp:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createShorterUrl(n);case 2:return t=e.sent,r.includes('www.coderhouse.com')&&(r=r.replace('www.coderhouse.com',t)),e.abrupt('return',window.open(''.concat(h.IS_MOBILE?'whatsapp:/':'https://web.whatsapp.com','/send?url=').concat(t,'&text=').concat(r),'_blank'));case 5:case'end':return e.stop()}},e)}))()},withTelegram:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createShorterUrl(n);case 2:return t=e.sent,r.includes('www.coderhouse.com')&&(r=r.replace('www.coderhouse.com',t)),e.abrupt('return',window.open('https://t.me/share/url?url='.concat(t,'&text=').concat(r),'_blank'));case 5:case'end':return e.stop()}},e)}))()},withMessenger:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createShorterUrl(n);case 2:return t=e.sent,r.includes('www.coderhouse.com')&&(r=r.replace('www.coderhouse.com',t)),e.abrupt('return',window.open('https://www.facebook.com/dialog/send?app_id=1822869404615091&display=popup&link='.concat(t,'&redirect_uri=').concat(t,'&url=').concat(t,'&title=').concat(r,'&quote=').concat(r),'_blank'));case 5:case'end':return e.stop()}},e)}))()},withCopy:function(n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createShorterUrl(n);case 2:if(t=e.sent,r.includes('www.coderhouse.com')&&(r=r.replace('www.coderhouse.com',t)),(t=document.getElementById('copy-area')).value=r,t.select(),navigator.clipboard)return e.next=10,navigator.clipboard.writeText(r);e.next=12;break;case 10:e.next=13;break;case 12:document.execCommand('copy');case 13:return b.info({msg:'Copiado!'}),e.abrupt('return',t.value='');case 15:case'end':return e.stop()}},e)}))()},referralCodeWithEmail:function(e){return n.post(ENDPOINT(''.concat(i,'/:userId/referral-cupon/:cuponId/email'),e),e).then(function(e){return null==e?void 0:e.data})},referralCodeWithSocial:function(g){var f=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var r,a,s,o,i,l,c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=g.from,r=void 0===r?'banner':r,a=g.to,p=g.cpn,m=h.USER,o=''.concat(m.profile.first_name,' ').concat(m.profile.last_name).toLowerCase(),n=t=void 0,t=(null==m?void 0:m.flags)||{},n='alumno',t.isInfluencer?n='influencer':t.isTutor?n='tutor':t.isTeacher&&(n='profesor'),s=n,s='https://www.coderhouse.com/?referral-cpn='.concat(p._id,'&utm_source=upselling&utm_medium=plataforma&utm_campaign=').concat(s,'&utm_term=').concat(o,'&utm_content=').concat(a),o='🥳 Te elegí para que accedas a una educación de calidad en Coderhouse, como yo. Te regalo un '.concat(p.enrollmentDiscount,'% OFF sobre el valor de la beca en cursos y carreras online de @coderhouse. Inscríbete aquí 😎'),i=[o,'www.coderhouse.com'],l=function(e){return'<li>'.concat(e,'</li>')},c=[],d=0;d<i.length;d++)c.push(l(i[d]));return u=c.join('\n\n'),u=$('<ul>'.concat(u,'</ul>')).text().trim(),v={to:a},e.next=15,w.updateReferralSharing({medium:v.to,userId:m._id,cuponId:p._id,email:v.email});case 15:if(m=e.sent,p=m.success,v=m.message,window.ENV_PROD&&!p)return e.abrupt('return',b.success({msg:v||'No se pudo compartir tu cupón'}));e.next=20;break;case 20:return T.logEvent('referral',{from:r,to:a,action:'shared'}),e.next=23,f.to(a,s,['whatsapp','copy'].includes(a)?u:o);case 23:return e.abrupt('return',e.sent);case 24:case'end':return e.stop()}var t,n},e)}))()},to:function(t,n,r){var a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('linkedin'===t)return e.next=3,a.withLinkedin(n,'Coderhouse',r);e.next=4;break;case 3:return e.abrupt('return',e.sent);case 4:if('whatsapp'===t)return e.next=7,a.withWhatsApp(n,r);e.next=8;break;case 7:return e.abrupt('return',e.sent);case 8:if('facebook'===t)return e.next=11,a.withFacebook(n,r);e.next=12;break;case 11:return e.abrupt('return',e.sent);case 12:if('twitter'===t)return e.next=15,a.withTwitter(n,r);e.next=16;break;case 15:return e.abrupt('return',e.sent);case 16:if('telegram'===t)return e.next=19,a.withTelegram(n,r);e.next=20;break;case 19:return e.abrupt('return',e.sent);case 20:if('messenger'===t)return e.next=23,a.withMessenger(n,r);e.next=24;break;case 23:return e.abrupt('return',e.sent);case 24:if('copy'===t)return e.next=27,a.withCopy(n,r);e.next=28;break;case 27:return e.abrupt('return',e.sent);case 28:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').factory('StorageSrv',['$cookies',function(n){return{get:function(e){var t,n=null==(n=window)?void 0:n.localStorage.getItem(e);return(_.isUndefined(n)||_.isNull(n))&&(n=null==(t=window)?void 0:t.sessionStorage.getItem(e)),!_.isUndefined(n)&&(JSON.isValid(n)?JSON.parse(n):n)},set:function(e,t,n){return t&&null!=(n=window[n?'sessionStorage':'localStorage'])&&n.setItem(e,_.isObject(t)?JSON.stringify(t):t),this.get(e)},getCookie:function(e){return n.get(e)},setCookie:function(e,t){return n.put(e,t),this.getCookie(e)},remove:function(e){var t;null!=(t=window)&&t.localStorage.removeItem(e),null!=(t=window)&&t.sessionStorage.removeItem(e),n.remove(e),n.remove('auth0.ssodata')},clear:function(){var e;null!=(e=window)&&e.localStorage.clear(),window.sessionStorage.clear()}}}]),angular.module('core').factory('SupportFaqsSrv',['$http','PATHS','HttpRetryService',function(e,t,a){var s=t.FAQS,o=t.FAQS_PLATFORM;return{get:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t){return delete t.accesstoken,delete t.idtoken,e},null!=n&&n.faqId)return e.next=4,a.try(axios.get(''.concat(s,'/').concat(n.faqId),{params:n,transformRequest:t}).then(function(e){return e.data}),r.get);e.next=5;break;case 4:return e.abrupt('return',e.sent);case 5:return e.next=7,a.try(axios.get(o,{params:n,transformRequest:t}).then(function(e){return e.data}),r.get);case 7:return e.abrupt('return',e.sent);case 8:case'end':return e.stop()}},e)}))()}}}]),angular.module('core').factory('TermsSrv',['$http','PATHS_PLATFORM','HttpRetryService',function(t,e,a){var s=e.TERMS;return{get:function(n){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.try(axios.get(s,{params:n}),r.get);case 2:return t=e.sent,e.abrupt('return',null==t?void 0:t.data);case 4:case'end':return e.stop()}},e)}))()},sign:function(e){return t.put(''.concat(s,'/').concat(e.termId),e)}}}]),angular.module('core').service('TrainingCampsSrv',['HttpRetryService','$http','$rootScope','PATHS','LazyScriptsSrv','NotificationSrv',function(t,o,n,e,r,a){var i=e.API,s=e.TRAINING_CAMPS;e.BFF_API;function l(e){return Object.assign({},0<arguments.length&&void 0!==e?e:{},{country:null==(e=n.COUNTRY)?void 0:e.code,userId:null==(e=n.USER)?void 0:e._id})}function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('mercadopago'===t)return e.next=3,new Promise(function(e){return r.getAll([t],e)});e.next=4;break;case 3:return e.abrupt('return',e.sent);case 4:return e.next=6,new Promise(function(e){return r.getAll(['stripe-v3'],e)});case 6:return e.abrupt('return',e.sent);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(t,n){$MPC.openCheckout({url:r.init_point,mode:'modal',onreturn:function(e){null!=e&&e.collection_id&&'approved'===(null==e?void 0:e.collection_status)?t(_objectSpread(_objectSpread({},e),{},{gateway:'mercadopago',pid:e.external_reference,userId:r.userId})):(a.error({msg:'Hubo un inconveniente al procesar el pago con MERCADO PAGO'}),n(e))}})});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.Stripe(t.publicKey),e.next=3,n.redirectToCheckout({sessionId:t.response.id});case 3:if(null!=(r=e.sent)&&null!=(n=r.error)&&n.message)throw null==r?void 0:r.error;e.next=6;break;case 6:return e.abrupt('return',r);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}return{get:function(e){return t.try(o.get(s,{params:l(e)}).then(function(e){return e.data}),this.get)},getById:function(e){return t.try(o.get(ENDPOINT(''.concat(s,'/:trainingId'),e),{params:l(e)}).then(function(e){return e.data}),this.getById)},hasAccess:function(e){return{canSeeTrainingCamp:!1}},createPurchase:function(a){var s=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.post(''.concat(i,'/purchase-training'),_objectSpread(_objectSpread({},l(a)),{},{redirectTo:a.redirectTo||location.href})).then(function(e){return null==e?void 0:e.data});case 3:return t=e.sent,n=t._id,r=t.gateway,e.prev=6,e.next=9,function(){return c.apply(this,arguments)}(r);case 9:if('mercadopago'===r)return e.next=12,function(){return d.apply(this,arguments)}(t);e.next=15;break;case 12:e.sent,e.next=19;break;case 15:if('stripe'===r)return e.next=18,function(){return u.apply(this,arguments)}(t);e.next=19;break;case 18:e.sent;case 19:return e.next=21,s.approvePurchase({pid:n});case 21:return e.abrupt('return',e.sent);case 24:return e.prev=24,e.t0=e.catch(6),e.t0,e.next=29,s.failPurchase({pid:n});case 29:throw e.t0;case 30:e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(0),e.t1;case 35:case'end':return e.stop()}},e,null,[[0,32],[6,24]])}))()},approvePurchase:function(e){return o.post(''.concat(i,'/purchase-training/').concat(e.pid,'/ok'),e)},failPurchase:function(e){return o.post(''.concat(i,'/purchase-training/').concat(e.pid,'/fail'),e)}}}]),angular.module('core').factory('UnenrollmentReasonSrv',['$http','PATHS','HttpRetryService',function(t,e,n){var r=e.UNENROLLMENT_REASONS;return{get:function(e){return null!=e&&e._id?this.getById(e):this.getAll(e)},getAll:function(e){return t.get(r,{params:e}).then(function(e){return e.data}).then(function(e){return e.docs.sort(function(e,t){return e.reason>t.reason?1:-1})})},getById:function(e){return t.get(''.concat(r,'/').concat(e._id)).then(function(e){return e.data})},upsert:function(e){return e._id?this.update(e):this.set(e)},set:function(e){return t.post(r,e).then(function(e){return e.data})},update:function(e){return t.put(''.concat(r,'/').concat(e._id),e).then(function(e){return e.data})},delete:function(e){return t.delete(''.concat(r,'/').concat(e._id)).then(function(e){return e.data})}}}]),angular.module('core').component('chBannerCoderWeek',{templateUrl:'modules/ch-components/ch-banner-coder-week/ch-banner-coder-week.view.html',controllerAs:'vm',controller:['$rootScope','$scope','FEATURES','$timeout','StorageSrv','$element',function(s,e,t,o,n,r){var i=this,a=(i.target='_blank',t.BANNER_CODER_WEEK),l=t.BANNER_REFERRAL_WEEK,t=t.BANNER_NEW_SERVICE,c=null!=a&&a.enable?a:null,d=((c=(c=c||(null!=l&&l.enable?l:null))||(null!=t&&t.enable?t:null))&&(i.banner=c),n.get('ch-banners')||{}),u=(i.killBanner=!1,i.bannerHeight='',i.transitionDuration=500,3);function m(e){var t,n,r,a=0<arguments.length&&void 0!==e?e:{};null!=(e=s.COUNTRY)&&e.code?((c=c||a||{}).description=a.description||('ar'!==(null==(e=s.COUNTRY)?void 0:e.code)?'🔥 Del 25 al 28 de Febrero <span class="ch-color-accent-1">30% OFF</span> en todos los cursos y carreras 🔥':'🔥 Del 25 al 28 de Febrero <span class="ch-color-accent-1">30% OFF</span> y hasta 12 cuotas sin interés en todos los cursos y carreras 🔥'),i.target='_blank',(null!=(e=a.description)&&e.length||null==(e=a.available_on)||!e.length||null!=(e=a.available_on)&&e.includes(null==(e=s.COUNTRY)?void 0:e.code))&&((e=(i.BANNER=a).options||{}).showCta=!(null==(r=e.cta)||!r.label),i.showRight=e.showCta&&e.showCloseBtn,i.options=e,i.link=a.link,i.title=a.description,i.showingBanner=!0,i.closeBanner=!1,null!=a&&a.countdown&&p(),Array.isArray(a.description))&&(t=i.BANNER.description,n=0,r=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t[n]?n:0,i.title=t[n],n++;case 3:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),setInterval(r,5e3),r())):--u&&o(function(){return m(a)},1e3)}function p(){var e;i.countdown=null==(e=c)?void 0:e.countdown(),o(p,1e3)}function v(e){var t=0<arguments.length&&void 0!==e?e:c;!d[null==t?void 0:t.currentSlug]&&null!=t&&t.currentSlug&&o(function(){return m(t)},3500)}i.onClickClose=function(e){null!=e&&e.preventDefault(),i.closeBanner=!0,i.showingBanner=!1,c.currentSlug&&(d[c.currentSlug]=!0,n.set('ch-banners',d)),i.transitioning=!0,o(function(){o(s.calcHeaderHeight),i.transitioning=!1,i.closeBanner=!0},i.transitionDuration)},i.$onInit=function(){v(),e.$on('close',i.onClickClose),e.$on('BANNER:SHOW',function(e,t){return v(t)})}}]}),angular.module('core').component('chBannerSurvey',{templateUrl:'modules/ch-components/ch-banner-survey/ch-banner-survey.view.html',controllerAs:'vm',controller:['$rootScope','$state','UsersSrv',function(e,t,n){var r,a=this,s=(new Date).getDay(),o=null==(o=e.USER)||null==(o=o.flags)?void 0:o.isStudent,i=null==(r=e.USER)?void 0:r._id,l=null==(r=e.COUNTRY)?void 0:r.code;a.BANNER={enable:!e.IS_ENV_BR&&!o&&s-1<=15&&(t.is('home')||t.is('dashboard'))},a.sendSurvey=function(){n.sendSurvey({userId:i,country:l}),window.open(a.BANNER.link,'_blank').focus()},this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.BANNER.enable)return a.BANNER.enable=!1,e.next=5,n.getProfile({_id:i});e.next=12;break;case 5:return t=e.sent,l=null==t||null==(t=t.profile)?void 0:t.country,e.next=9,n.getSurvey({userId:i,country:l});case 9:t=e.sent,a.BANNER.link=null==t?void 0:t.survey,a.BANNER.link?a.BANNER.enable=!0:a.BANNER.enable=!1;case 12:case'end':return e.stop()}},e)}))}]}),angular.module('core').component('chBannerTalentWeek',{templateUrl:'modules/ch-components/ch-banner-talent-week/ch-banner-talent-week.view.html',controllerAs:'vm',controller:['$rootScope','$scope','FEATURES','$timeout','StorageSrv','$element',function(t,e,n,r,a,s){var o=this,n=(o.target='_blank',n.BANNER_TALENT_WEEK),i=null==(i=t.USER)||null==(i=i.flags)?void 0:i.isStudent,l=null!=n&&n.enable&&i&&!t.IS_ENV_BR?n:null,c=(l&&(o.banner=l),a.get('ch-banners')||{});function d(e){var t=0<arguments.length&&void 0!==e?e:l;!c[null==t?void 0:t.currentSlug]&&null!=t&&t.currentSlug&&r(function(){return function(e){e=0<arguments.length&&void 0!==e?e:{},l=l||e||{},o.BANNER=e,o.link=e.link,o.showingBanner=!0,o.closeBanner=!1}(t)},3500)}o.bannerHeight='',o.transitionDuration=500,o.onClickClose=function(e){null!=e&&e.preventDefault(),o.closeBanner=!0,o.showingBanner=!1,l.currentSlug&&(c[l.currentSlug]=!0,a.set('ch-banners',c)),o.transitioning=!0,r(function(){r(t.calcHeaderHeight),o.transitioning=!1,o.closeBanner=!0},o.transitionDuration)},o.$onInit=function(){d(),e.$on('close',o.onClickClose),e.$on('BANNER:SHOW',function(e,t){return d(t)})}}]}),angular.module('core').component('chBannerTutorials',{bindings:{params:'<'},templateUrl:'modules/ch-components/ch-banner-tutorials/ch-banner-tutorials.view.html',controllerAs:'vm',controller:['$rootScope',function(t){var n=this;n.showBanner=!0,n.$onInit=function(){},n.onClickOpenModal=function(e){e.preventDefault(),t.$emit('MODAL:TUTORIALS_TEST:OPEN',!0,{camadaId:n.params.camadaId})},n.onClickClose=function(e){e.preventDefault(),n.showBanner=!1}}]}),angular.module('core').component('chBannerUpselling',{bindings:{params:'<'},templateUrl:'modules/ch-components/ch-banner-upselling/ch-banner-upselling.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','CoursesSrv','$filter','AmplitudeSrv','FEATURES','$state',function(s,n,t,o,r,a,i){var l=this;function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.hasActiveCourses({userId:s.USER._id});case 2:return t=e.sent,t=t.active,e.abrupt('return',t);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNextRecomendedLevel({userId:s.USER._id,courseId:l.params.courseId});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}l.showBanner=!1,l.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return c.apply(this,arguments)}();case 2:if(e.sent)return e.abrupt('return');e.next=5;break;case 5:return e.next=7,function(){return d.apply(this,arguments)}();case 7:if(a=e.sent,t=a.course,n=a.level,r=a.classmates,a=a.cupon,a=void 0===a?{}:a,null!=t&&t._id){e.next=11;break}return e.abrupt('return');case 11:t.startDateAlias=''.concat(o('date')(t.startDate,'dd/MM'),' de ').concat(o('date')(t.startHour,'HH:mm'),' a ').concat(o('date')(t.endHour,'HH:mm'),'Hs'),null!=a&&a.enrollmentDiscount&&(a.enrollmentDiscountAlias=''.concat(a.enrollmentDiscount,'% OFF')),t.checkoutLink=''.concat(t.checkoutLink,'&utm_medium=plataforma&utm_source=upselling&utm_campaign=banner&stu=').concat(s.USER._id),n.testimonialsLink=''.concat(window.CH_WWW,'/testimonios?productId=').concat(n._id,'&utm_medium=plataforma&utm_source=upselling&utm_campaign=banner'),l.cupon=a,l.classmates=r,l.levelTmp=n,l.courseTmp=t,l.showBanner=!(null==t||!t._id);case 20:case'end':return e.stop()}},e)})),l.onClickClose=function(e){e.preventDefault(),l.showBanner=!1},l.onClickTestimonials=function(e){r.logEvent('upselling',{from:'course-banner',cta:'testimonials'})},l.onClickDownload=function(e){r.logEvent('upselling',{from:'course-banner',cta:'download-program'})},l.onClickEnroll=function(e){a.PRODUCTS&&(e.preventDefault(),i.go('products',{courseId:l.courseTmp._id,productId:l.levelTmp._id,checkout:1,utm_campaign:'banner',utm_source:'upselling',utm_medium:'plataforma'})),r.logEvent('upselling',{from:'course-banner',cta:'enroll'})},l.onClickSeeOtherDates=function(e){a.PRODUCTS&&(e.preventDefault(),i.go('products',{productId:l.levelTmp._id,utm_campaign:'banner',utm_source:'upselling',utm_medium:'plataforma'})),r.logEvent('upselling',{from:'course-banner',cta:'other-dates'})}}]}),angular.module('core').component('chBannerWorkshop',{templateUrl:'modules/ch-components/ch-banner-workshop/ch-banner-workshop.view.html',controllerAs:'vm',controller:['$rootScope','$scope','$timeout','ContentsSrv','AnalyticsSrv',function(r,a,n,s,t){var o=this;function i(e){var e=0<arguments.length&&void 0!==e?e:o.banner,t=window.localStorage.getItem('closedBanner');null!=e&&e.name&&'true'!=t&&n(function(){o.showingBanner=!0,o.closeBanner=!1},3500)}o.banner={},o.bannerHeight='',o.transitionDuration=500,o.onClickClose=function(e){null!=e&&e.preventDefault(),o.closeBanner=!0,o.showingBanner=!1,o.transitioning=!0,window.localStorage.setItem('closedBanner',!0),n(function(){n(r.calcHeaderHeight),o.transitioning=!1,o.closeBanner=!0},o.transitionDuration)},o.onClickCta=function(e){e.includes('training-camp')?t.pushDataLayer('trackEvent','cta','training_camp','cta_banner_tc'):e.includes('coderplus')&&t.pushDataLayer('trackEvent','cta','banner_coderplus','cta_banner_coderplus')},o.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(n=r.USER)||null==(n=n.flags)?void 0:n.isStudent,t=null==(t=r.USER)||null==(t=t.profile)?void 0:t.country,n&&t)return e.next=5,s.getBanners({country:t});e.next=7;break;case 5:(n=e.sent)&&(o.banner=n);case 7:i(),a.$on('close',o.onClickClose),a.$on('BANNER:SHOW',function(e,t){return i(t)});case 10:case'end':return e.stop()}},e)}))}]}),angular.module('core').component('chBtnArrow',{bindings:{type:'=',label:'=',direction:'=',atClick:'='},templateUrl:'modules/ch-components/ch-btn-arrow/ch-btn-arrow.view.html',controllerAs:'vm',controller:['IconSvgSrv','$timeout',function(e,t){var n=this;n.$onInit=function(){e.getMany(['arrow-2-r']).then(function(e){return n.icons=e}),t(function(){})}}]}),angular.module('core').component('chBtnNotifications',{templateUrl:'modules/ch-components/ch-btn-notifications/ch-btn-notifications.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','$timeout',function(i,l,n){var c=this,d=null;function e(){c.show||(i.IS_MOBILE_COMPUTED&&i.$emit('BODY:PREVENT_SCROLL'),c.show=!0,$('.notifications-list')[0].scrollTop=0,d(),r(c.flagHasUnread=!1))}function t(){if(c.show&&(i.IS_MOBILE_COMPUTED&&i.$emit('BODY:ALLOW_SCROLL'),c.show=!1,d(),c.notifications.find(function(e){return!e.flags.wasReaded}))){for(var e=c.notifications,t=[],n=0;n<e.length;n++)t.push(function(e){return e.flags.wasReaded||(e.flags.wasReaded=e.updateReadStatus=!0),e}(e[n]));c.notifications=t;for(var r=c.notifications.filter(function(e){return e.updateReadStatus}),a=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',l.updatePushNotificationReaded({userId:null==(n=i.USER)?void 0:n._id,notificationId:t._id,ts:(new Date).getTs()}));case 1:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),s=[],o=0;o<r.length;o++)s.push(a(r[o],o,r));Promise.all(s)}}function r(e){i.areThereUnreadNotifications=e,i.$emit('NOTIFICATIONS_READ_STATUS',e)}function a(){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null==(t=i.USER)?void 0:t._id)return e.abrupt('return',l.getPushNotifications({userId:t,ts:(new Date).getTs()}).then(function(e){c.notifications=e,c.flagHasUnread=!(null==(e=c.notifications)||!e.find(function(e){return!e.flags.wasReaded})),r(c.flagHasUnread);e=c.notifications;return(e=null==e?void 0:e.find(function(e){return e.flags.forcePopup}))&&i.$broadcast('BANNER:SHOW',{currentSlug:e._id,closable:!0,description:e.text,shortDescription:e.shortDescription,link:e.link,enable:!0,options:{wholeCta:!1,showCloseBtn:!0,underHeader:!0,cta:{label:'Ver más'}}}),c.notifications}));e.next=3;break;case 3:return e.abrupt('return',new Promise(function(e){return e()}));case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}c.show=!1,c.$onInit=function(){d=i.$tryDigest,n(a,1e3)},c.toggle=function(){return(c.show?t:e)()},i.$on('NOTIFICATIONS:GET',function(e,t){return t&&n(a,1e3)}),i.$on('NOTIFICATIONS:OPEN',e),c.onClickOutside=function(){!i.IS_MOBILE_COMPUTED&&c.show&&t()},c.onClickOpenNotification=function(e,t){t.flags.isFromCoder&&(null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),i.$emit('MODAL:GENERIC_DIALOG:OPEN',{title:t.title,text:t.text,image:t.image,video:t.video,hideRejectCta:t.link?0:1,confirmCtaLabel:t.link?'Abrir':0,onConfirm:t.link?function(){return window.open(t.link,'_blank').focus()}:0}))}}]}),angular.module('core').component('chCampusModal',{templateUrl:'modules/ch-components/ch-campus-modal/ch-campus-modal.view.html',controllerAs:'vm',controller:['$window','$scope','$filter','$rootScope',function(e,t,n,r){var a=t;function s(e,t){r.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,a.course,r.USER,e,t)}a.vm=this,n('translate'),r.$on('MODAL:CAMPUS_REQUEST_UNENROLL:OPEN',function(e,t){return a.$onInit(t)}),a.showModal=function(){$('.modal.show').modal('hide'),$('#ch-campus-modal-error').modal('hide'),$('#ch-campus-modal').modal('show')},a.closeModal=function(){return $('.modal.show').modal('hide')},a.showErrorModal=function(){a.showBalanceError=!0},a.$onInit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new Date,n=new Date(e.course.camada.schedules[2].day);a.showRequestBalance=2<e.course.camada.schedules.length&&t<n,a.isOnQualityPeriod=e.isOnQualityPeriod,a.course=e.course,a.showBalanceError=!1,a.showModal()},a.vm.onCommissionChange=function(){s(!1,!1)},a.vm.onCourseChange=function(){s(!1,!0)},a.vm.onTransferCourse=function(){s(!0,!1)},a.vm.onRequestBalance=function(){r.$broadcast('MODAL:REQUEST_UNENROLL:OPEN',{course:a.course})}}]}),angular.module('core').component('chChat',{templateUrl:'modules/ch-components/ch-chat/ch-chat.view.html',controllerAs:'vm',controller:['$rootScope','PATHS','NotificationSrv','PushNotificationsSrv','UsersSrv','$state','$filter','$location',function(i,e,a,l,s,t,o,n){var r=e.CHAT,c=this,d=(c.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null==i?void 0:i.USER,c.URL=b(),e.next=4,u(t);case 4:return n=e.sent,r=v(),a=p(t),s=(r?g:f)(t),o=window.ENV_PROD,h({userData:n,camadaId:r,defaultFilters:s,personalFilters:a,sort:{last_message_at:-1},isProd:o}),e.next=13,l.requestPermission();case 13:case'end':return e.stop()}},e)})),function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==t?void 0:t.getStreamToken)return e.abrupt('return',n);e.next=3;break;case 3:return n=null==t?void 0:t._id,e.next=6,s.getStreamToken({userId:n});case 6:return r=e.sent,r=r.data.token,e.abrupt('return',r);case 9:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),u=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t._id){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,d(t);case 4:return r=e.sent,e.abrupt('return',{id:null==t?void 0:t._id,name:null==t?void 0:t.fullName,image:null==t?void 0:t.avatar,country:null==t||null==(n=t.profile)?void 0:n.country,token:r});case 6:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),m='messaging',p=function(e){e=null==e?void 0:e._id;return{type:m,isPersonal:!0,members:{$in:[e]}}},v=function(){var e;return null==t||null==(e=t.params)?void 0:e.camadaId},g=function(e){var t=v(),e=null==e?void 0:e._id;return{type:m,$or:[{name:{$autocomplete:'#'.concat(t,'-')}},{isSupport:!0}],members:{$in:[e]}}},f=function(e){e=null==e?void 0:e._id;return{type:m,isPersonal:{$ne:!0},members:{$in:[e]}}},h=function(t){var n=0,r=window.setInterval(function(){n++;var e=document.getElementById('iframe-chat');null!=e&&e.id&&(e.contentWindow.postMessage(t,window.CH_CHAT),window.addEventListener('message',function(e){e.data.received&&window.clearInterval(r)},window.CH_CHAT)),5<n&&(a.error({msg:o('translate')('ch-chat.error')}),window.clearInterval(r))},1e3)},b=function(){var e=n.search(),e=e.hideTranslations&&'true'===e.hideTranslations?'?hideTranslations=true':'';return i.IS_MOBILE?''.concat(r,'/messages'):''.concat(r,'/desktop-chat').concat(e)};lozad('.lozad-chat',{load:function(){i.$emit('LOADING:OPEN',!0)},loaded:function(e){i.$emit('LOADING:CLOSE',!0)}}).observe()}]}),angular.module('core').component('chLoader',{bindings:{active:'<'},templateUrl:'modules/ch-components/ch-loader/ch-loader.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','$scope',function(e,n,t){function r(){return $('#ch-loader-spinner')}t.show=this.active,this.$onChanges=function(e){t.show=null==e||null==(e=e.active)?void 0:e.currentValue};var a=r();e.$on('LOADING:OPEN',function(e,t){t&&(null!=(t=a)&&t.length||(a=r()),n(function(){var e;return null==(e=a)?void 0:e.addClass('show')}))}),e.$on('LOADING:CLOSE',function(e,t){t&&(null!=(t=a)&&t.length||(a=r()),n(function(){var e;return null==(e=a)?void 0:e.removeClass('show')},600))})}]}),angular.module('core').component('chLogo',{bindings:{color:'='},templateUrl:'modules/ch-components/ch-logo/ch-logo.view.html',controllerAs:'vm',controller:['FEATURES',function(e){this.FEATURES=e}]}),angular.module('core').component('chModalFeedback',{templateUrl:'modules/ch-components/ch-modal-feedback/ch-modal-feedback.view.html',controllerAs:'vm',controller:['$timeout','$rootScope','NotificationSrv','CoursesSrv','LazyScriptsSrv','$document','NormalizeSrv','$filter',function(i,l,a,s,c,d,e,o){var u=this,m=null,p={},v=3,g=null;function f(e,t){$('#ch-modal-feedback').modal('hide'),t?a.success({msg:o('translate')('ch-modal-feedback.toast.success')}):a.error({msg:o('translate')('ch-modal-feedback.toast.error')})}function h(n,r){v--,n&&a.info({msg:''.concat(o('translate')('ch-modal-feedback.toast.checking'),' (').concat(v+1,')')}),i(function(){p.typeformId=u.currentFeedbackUrl.split('?')[0].split('/').last(),p.typefromResponseId=n,p.ts=Date.now(),s.getFeedback(p).then(function(e){e.success?(r(null,!0),l.$emit('TUTOR:SUCCESS:FEEDBACK')):0<=v?function(){t.apply(this,arguments)}({formId:p.typeformId,responseId:p.typefromResponseId,ts:p.ts},function(e,t){t?(r(e,t),l.$emit('TUTOR:SUCCESS:FEEDBACK')):h(n,r)}):r(null,!1)})},1300)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',s.upsertTypeformResponse(_objectSpread(_objectSpread({},t),{},{isNps:u.currentSchedule.flags.showNpsFeedback?1:0,isTeacher:l.USER.flags.isStudent?0:1})).then(function(e){return n(null,!(null==e||!e.response_id)||e.success)},n));case 1:case'end':return e.stop()}},e)}))).apply(this,arguments)}u.$onInit=function(){u.TEXTS=e.textsRegionalizationV2({'ch-modal-feedback.btn.close':'Cerrar','ch-modal-feedback.btn.pospose':'Completarla después'})},u.onClickClose=function(e){e.preventDefault(),f()},l.$on('MODAL:FEEDBACK:OPEN',function(e,t,n,r,a,s){var o;t&&(v=3,p={scheduleId:n._id,camadaId:r,userId:a},u.currentFeedbackUrl=n.feedbackUrl,u.currentSchedule=n,m=s,t=function(){return i(function(){return function n(r,a){c.get('typeform',function(){var e,t=document.getElementById('typeform-feedback');t&&null!=(e=window.typeformEmbed)&&e.makeWidget?window.typeformEmbed.makeWidget(t,r,{onSubmit:function(e){g=e.response_id,h(e.response_id,f)}}):i(function(){return n(r,a)},300)})}(n.feedbackUrl,s)})},a=(r=l.$currentPlatform).mobile,o=r.browser,r=r.os,!a||'safari'!==(null==o?void 0:o.toLowerCase())&&'ios'!==(null==r?void 0:r.toLowerCase())?((o=$('#ch-modal-feedback')).modal('dispose'),$('.modal.show').modal('hide'),o.modal({backdrop:'static',show:!0}),o.on('shown.bs.modal',t),o.on('hide.bs.modal',function(){m&&m()})):((a=d[0].createElement('a')).setAttribute('target','_blank'),a.setAttribute('href',u.currentFeedbackUrl),a.click()))}),l.$on('MODAL:FEEDBACK:CLOSE',function(e,t){t&&f()}),u.onSubmit=function(e){e.preventDefault(),h(g,f)}}]}),angular.module('core').component('chModalInfoServices',{templateUrl:'modules/ch-components/ch-modal-info-services/ch-modal-info-services.view.html',controllerAs:'vm',controller:['$rootScope','$state','ServicesSrv',function(s,t,o){var i=this;function l(){$('.modal.show').modal('hide'),$('#ch-modal-info-services').modal('show')}function n(){$('#ch-modal-info-services').modal('hide')}i.$onInit=function(){},i.onClickClose=function(e){e.preventDefault(),n()},i.onClickAddToCart=function(e){e.preventDefault(),$('.modal-backdrop').remove(),t.go('services',{checkout:1,serviceId:i.service._id})},i.onClickGoToServices=function(e){t.go('services')},s.$on('MODAL:INFO_SERVICES:OPEN',function(e,t,n,r){var a;i.userTmp=n,i.sche=r,t&&(t=n,r=r.service,a=l,o.get({userId:n._id,_id:r,country:null==(t=s.COUNTRY)?void 0:t.code}).then(function(e){i.service=e,a(null)}))}),s.$on('MODAL:INFO_SERVICES:OPEN',function(e,t){t&&n()})}]}),angular.module('core').component('chModalOnboardingSlidesV2',{templateUrl:'modules/ch-components/ch-modal-onboarding-slides-v2/ch-modal-onboarding-slides-v2.view.html',controllerAs:'vm',controller:['UsersSrv','NormalizeSrv','$state','$rootScope','$timeout','TYPEFORM',function(a,e,s,o,r,n){var i=this,l=(i.TEXTS=e.textsRegionalizationV2({'ch-modal-onboarding-slides.teacher.0.title':'¡Hola! Bienvenid@ a la plataforma para profesores/as de Coderhouse.','ch-modal-onboarding-slides.teacher.0.subtitle':'Vamos a hacer un recorrido rápido con la información que necesitás previo al inicio del curso. ¿Arrancamos?','ch-modal-onboarding-slides.teacher.0.btn':'¡Dale!','ch-modal-onboarding-slides.teacher.1.title':'Recursos','ch-modal-onboarding-slides.teacher.1.subtitle':'En la pestaña recursos vas a encontrar el on-boarding para profesores/as. Son una serie de pequeños videos que te explican la plataforma Zoom y la plataforma de Coder. Miralos todos para conocer cómo dictar las clases.','ch-modal-onboarding-slides.teacher.1.btn':'Ver recurso','ch-modal-onboarding-slides.teacher.2.title':'Certificación profesor/a','ch-modal-onboarding-slides.teacher.2.subtitle':'Además del on-boarding, encontrarás la certificación profesor/a. Es importante que la realices ya que te dará herramientas para poder planificar mejor tus clases.','ch-modal-onboarding-slides.teacher.2.btn':'Ver recurso','ch-modal-onboarding-slides.teacher.3.title':'Cuenta de ZOOM','ch-modal-onboarding-slides.teacher.3.subtitle':'El mismo día que inicia el curso, vas a encontrar expuesta en el botón ZOOM la plataforma, el usuario y la contraseña para dictar las clases en esta plataforma. No te olvides de loguearte antes de cada clase!','ch-modal-onboarding-slides.teacher.3.btn':'Descargar Zoom','ch-modal-onboarding-slides.teacher.4.title':'Canal de Slack','ch-modal-onboarding-slides.teacher.4.subtitle':'También estará creado el canal de slack que compartirás con tus tutores. Ahí podrás presentarte y ponerte en contacto con ellos.','ch-modal-onboarding-slides.teacher.4.btn':'Descargar Slack','ch-modal-onboarding-slides.teacher.5.title':'Call de WarmUp','ch-modal-onboarding-slides.teacher.5.subtitle':'Debés agendar una call de WarmUp para el mismo día que inicia el curso. Encontrarás más información sobre esto en el on-boarding. <br>\n          Acá encontrás el formulario para realizar la call. Si surge algún problema, podés dejarlo asentado al final del mismo para que podamos solucionarlo.','ch-modal-onboarding-slides.teacher.5.btn':'Abrir formulario','ch-modal-onboarding-slides.teacher.6.title':'¡Listo!','ch-modal-onboarding-slides.teacher.6.subtitle':'Ya estás listo para empezar. ¡Muchos éxitos! 😉','ch-modal-onboarding-slides.teacher.6.btn':'Gracias','ch-modal-onboarding-slides.forum.0.title':'¡Te damos la Bienvenida al Foro de la Comunidad!👋','ch-modal-onboarding-slides.forum.0.subtitle':'Te invitamos a que aportes valor con contenido en base a tus conocimientos, temas de interés y con tus experiencias en nuestros cursos como así también laborales que se adecúen al Foro.💡','ch-modal-onboarding-slides.forum.0.btn':'¡Dale!','ch-modal-onboarding-slides.forum.1.title':'Código de Conducta','ch-modal-onboarding-slides.forum.1.subtitle':'Te invitamos a que eches un vistazo a nuestro <strong>Código de Conducta</strong> 📗  antes de que comiences con tu primer Post en este apartado, dentro de la sección \'Codigo de Conducta\'. ','ch-modal-onboarding-slides.forum.1.btn':'Ver Código de Conducta','ch-modal-onboarding-slides.forum.2.title':'¡Listo!','ch-modal-onboarding-slides.forum.2.subtitle':'','ch-modal-onboarding-slides.forum.2.btn':'¡Adelante!','ch-modal-onboarding-slides.assistant.0.title':'¡Hola! Bienvenid@ a la plataforma para tutores de Coderhouse.','ch-modal-onboarding-slides.assistant.0.subtitle':'Vamos a hacer un recorrido rápido con la información que necesitás previo al inicio del curso. ¿Arrancamos?','ch-modal-onboarding-slides.assistant.0.btn':'¡Dale!','ch-modal-onboarding-slides.assistant.1.title':'Recursos','ch-modal-onboarding-slides.assistant.1.subtitle':'En la pestaña "recursos" vas a encontrar los videos de on-boarding para tutores. Son una serie de pequeños videos que te explican todas las plataformas que vas a utilizar. Miralos todos para conocer cómo dictar las clases.','ch-modal-onboarding-slides.assistant.1.btn':'Ver recurso','ch-modal-onboarding-slides.assistant.2.title':'Capacitación para tutores','ch-modal-onboarding-slides.assistant.2.subtitle':'Es una capacitación didáctico-pedagógica obligatoria para tutores que te dará herramientas para desempeñarte en este rol.','ch-modal-onboarding-slides.assistant.2.btn':'Ver recurso','ch-modal-onboarding-slides.assistant.3.title':'Zoom','ch-modal-onboarding-slides.assistant.3.subtitle':'Para participar de las clases, podes loguearte en Zoom con una cuenta propia. No necesitarás accesos brindados por Coderhouse: estos son únicamente para el profesor/a.','ch-modal-onboarding-slides.assistant.3.btn':'Descargar Zoom','ch-modal-onboarding-slides.assistant.5.title':'Call de WarmUp','ch-modal-onboarding-slides.assistant.5.subtitle':'Previo al inicio del curso, el/la profesor/a se pondrá en contacto por mail o Slack para agendar una call de WarmUp. Es importante que estés atento/a y asistas para conocer al equipo y chequear que todo funcione correctamente.  Encontrarás más información sobre esto en el on-boarding.<br><br>\n          <i>(En caso de no recibir contacto hasta 12 hs previo a la clase, te pedimos que lo notifiques a tutores@coderhouse.com para revisar la situación).</i>','ch-modal-onboarding-slides.assistant.6.title':'Equipo','ch-modal-onboarding-slides.assistant.6.subtitle':'Dentro del curso, haciendo click en el botón "info" en el menú de 3 puntos del margen derecho, encontrarás los datos de contacto del/a profesor/a y el equipo de tutores. ¡Podés contactarlos en caso de necesitarlo!','ch-modal-onboarding-slides.assistant.7.title':'TutorSchool','ch-modal-onboarding-slides.assistant.7.subtitle':'Esta es una breve encuesta de 5 preguntas para poder evaluar tu satisfacción durante el proceso de la Tutor School.<br>\n          Tu opinión nos importa y con ella podremos seguir creciendo.<br>\n          Desde ya, te agradecemos por tomarte un tiempo para responderla','ch-modal-onboarding-slides.assistant.8.title':'¡Listo!','ch-modal-onboarding-slides.assistant.8.subtitle':'','ch-modal-onboarding-slides.assistant.8.btn':'Gracias','ch-modal-onboarding-slides.student.0.title':'¿Cómo ingresar a tu primera clase?','ch-modal-onboarding-slides.student.0.subtitle':'¡Entrar a la clase es muy sencillo! Cada día que tengas clases se habilitará el botón <b>"ir al vivo"</b> el cual abrirá <b>ZOOM</b>, te recomendamos que lo tengas descargado previamente.','ch-modal-onboarding-slides.student.0.btn':'Descargar Zoom','ch-modal-onboarding-slides.student.1.title':'¿Cómo nos comunicamos?','ch-modal-onboarding-slides.student.1.subtitle':'Para comunicarte con tu profesor, tutor y compañeros de tu comisión, utilizamos nuestro chat interno. Recibirás la invitación a los canales el día de inicio del curso: <br>\n          - Canal general de tu comisión <br>\n          - Canal de tutoría (con tu tutor)','ch-modal-onboarding-slides.student.1.btn':'Descargar Zoom','ch-modal-onboarding-slides.student.2.title':'Video tutoriales','ch-modal-onboarding-slides.student.2.subtitle':'Contamos con varios videos para que puedas ver y saber más sobre la metodología y la dinámica de los <i>cursos online en vivo</i> que brindamos en Coder.','ch-modal-onboarding-slides.student.2.btn':'Ver tutoriales','ch-modal-onboarding-slides.student.3.title':'¿Te gustaría estar más preparado/a?','ch-modal-onboarding-slides.student.3.subtitle':'Tenemos un test autoevaluativo para que te pongas a prueba antes del inicio del curso.','ch-modal-onboarding-slides.student.4.title':'¡Ayudanos a mejorar! 😉','ch-modal-onboarding-slides.student.4.subtitle':'Por último ayudanos a responder estas preguntas para conocerte mejor.','ch-modal-onboarding-slides.student.4.btn':'¡Dale!','ch-modal-onboarding-slides.student.5.title':'¡Listo!','ch-modal-onboarding-slides.student.5.subtitle':'Ya sabés cómo empezar tu curso. <br/>¡Muchos éxitos! 😉','ch-modal-onboarding-slides.student.5.btn':'Gracias'}),{teacher:{key:'teacher',items:[{active:!0,title:i.TEXTS['ch-modal-onboarding-slides.teacher.0.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.0.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.0.btn'],onClick:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(),a.setTeacherOnboardingSlidesViewed({userId:o.USER._id});case 2:case'end':return e.stop()}},e)}))()}}},{enable:!o.IS_ENV_BR,title:i.TEXTS['ch-modal-onboarding-slides.teacher.1.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.1.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.1.btn'],onClick:function(e){e.preventDefault(),window.openNewTab(''.concat(window.CH_PLATFORM,'/video-tutoriales/t'))}}},{enable:!o.IS_ENV_BR,title:i.TEXTS['ch-modal-onboarding-slides.teacher.2.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.2.subtitle'],image:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1591649599/recursos_yijoai.png',btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.2.btn'],onClick:function(e){e.preventDefault(),window.openNewTab(''.concat(window.CH_PLATFORM,'/cursos/3095/certificacion-docente'))}}},{title:i.TEXTS['ch-modal-onboarding-slides.teacher.3.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.3.subtitle'],image:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1591649599/cuenta-zoom_oo7rca.png',btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.3.btn'],onClick:function(e){e.preventDefault(),window.openNewTab('https://zoom.us/download')}}},{enable:!o.IS_ENV_BR,title:i.TEXTS['ch-modal-onboarding-slides.teacher.5.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.5.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.5.btn'],onClick:function(e){e.preventDefault();var e=o.USER,t=e._id,e=e.email;window.openNewTab(''.concat(n.TEACHER_TECH_CALL_SUPPORT,'?userId=').concat(t,'&email=').concat(e))}}},{title:i.TEXTS['ch-modal-onboarding-slides.teacher.6.title'],text:i.TEXTS['ch-modal-onboarding-slides.teacher.6.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.teacher.6.btn'],onClick:function(e){e.preventDefault(),a.setTeacherOnboardingSlidesViewed({userId:o.USER._id}).then(t)}}}]},assistant:{key:'assistant',items:[{active:!0,title:i.TEXTS['ch-modal-onboarding-slides.assistant.0.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.0.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.0.btn'],onClick:function(){d();var e=null==(e=o.USER)?void 0:e._id;e&&a.setTeacherOnboardingSlidesViewed({userId:e})}}},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.1.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.1.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.1.btn'],onClick:function(e){e.preventDefault(),window.openNewTab(''.concat(window.CH_PLATFORM,'/video-tutoriales/t'))}}},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.2.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.2.subtitle'],image:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1591649599/recursos_yijoai.png',btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.2.btn'],onClick:function(e){e.preventDefault(),window.openNewTab(''.concat(window.CH_PLATFORM,'/cursos/3095/certificacion-docente'))}}},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.3.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.3.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.3.btn'],onClick:function(e){e.preventDefault(),window.openNewTab('https://zoom.us/download')}}},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.5.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.5.subtitle']},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.6.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.6.subtitle'],image:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1597928811/info_cmnofa.png'},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.7.title'],text:i.TEXTS['ch-modal-onboarding-slides.assistant.7.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.7.btn'],onClick:function(e){e.preventDefault();var e=o.USER,t=e._id,e=e.email;return window.openNewTab(''.concat(n.TUTORSCHOOL_NPS,'?userid=').concat(t,'&email=').concat(e))}}},{title:i.TEXTS['ch-modal-onboarding-slides.assistant.8.title'],text:e.textsRegionalization({text:{default:i.TEXTS['ch-modal-onboarding-slides.assistant.8.subtitle'],neutral:'Ya estás listo para comenzar. ¡Muchos éxitos! 😉'}}).text,btn:{label:i.TEXTS['ch-modal-onboarding-slides.assistant.8.btn'],onClick:function(e){e.preventDefault(),a.setTeacherOnboardingSlidesViewed({userId:o.USER._id}).then(t)}}}]},student:{key:'student',items:[{active:!0,title:i.TEXTS['ch-modal-onboarding-slides.student.0.title'],text:i.TEXTS['ch-modal-onboarding-slides.student.0.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.student.0.btn'],onClick:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(),(t=null==(t=o.USER)?void 0:t._id)&&a.setStudentOnboardingSlidesViewed({userId:t}),window.openNewTab('https://zoom.us/download');case 4:case'end':return e.stop()}},e)}))()}}},{title:i.TEXTS['ch-modal-onboarding-slides.student.1.title'],text:i.TEXTS['ch-modal-onboarding-slides.student.1.subtitle']},{enable:!1,title:i.TEXTS['ch-modal-onboarding-slides.student.2.title'],text:i.TEXTS['ch-modal-onboarding-slides.student.2.subtitle'],btn:{label:i.TEXTS['ch-modal-onboarding-slides.student.2.btn'],onClick:function(e){e.preventDefault(),window.openNewTab('https://plataforma.coderhouse.com/video-tutoriales')}}},{enable:!1,title:i.TEXTS['ch-modal-onboarding-slides.student.3.title'],text:i.TEXTS['ch-modal-onboarding-slides.student.3.subtitle'],btn:{isNext:!0}},{enable:!1,title:i.TEXTS['ch-modal-onboarding-slides.student.4.title'],text:i.TEXTS['ch-modal-onboarding-slides.student.4.subtitle'],image:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1593862006/4_bjqp7j.jpg',btn:{isNext:!0}},{title:i.TEXTS['ch-modal-onboarding-slides.student.5.title'],text:e.textsRegionalization({text:{default:i.TEXTS['ch-modal-onboarding-slides.student.5.subtitle'],neutral:'Ya sabes cómo comenzar tu curso. <br/>¡Muchos éxitos! 😉'}}).text,btn:o.IS_ENV_BR?{}:{label:i.TEXTS['ch-modal-onboarding-slides.student.5.btn'],onClick:function(e){e.preventDefault();e=null==(e=o.USER)?void 0:e._id;if(!e)return t();a.setStudentOnboardingSlidesViewed({userId:e}).then(t)}}}]}});function c(e,t){i.slides={items:e.items.filter(function(e){return _.isUndefined(e.enable)||e.enable})},$('.modal.show').modal('hide');var n=$('#ch-modal-onboarding-slides-v2');n.on('shown.bs.modal',function(){$('.modal-backdrop').on('click',function(){return n.modal('hide')})}),n.modal({keyboard:!0}),r(function(){$('#carouselExampleCaptions').carousel({interval:t?0:7e3,ride:!1,wrap:!1})}),r(o.$tryDigest)}function t(){$('.modal.show').modal('hide')}function d(e,t){null!=e&&e.preventDefault(),$('#carouselExampleCaptions').carousel(-1===t?'prev':'next')}i.onClickClose=function(e){e.preventDefault(),t()},i.onClickSlide=d,o.$on('MODAL:TEACHER_ONBOARDING_SLIDES:OPEN',function(e,t,n){(t&&s.is('dashboard')||n)&&c(l.teacher)}),o.$on('MODAL:ASSISTANT_ONBOARDING_SLIDES:OPEN',function(e,t,n){(t&&s.is('dashboard')||n)&&c(l.assistant)}),o.$on('MODAL:STUDENT_ONBOARDING_SLIDES:OPEN',function(e,t,n){var r=null==(r=o.USER)?void 0:r._id;t&&s.is('dashboard')&&r&&a.wasStudentOnboardingSlidesViewed({userId:r,ts:(new Date).getTs()}).then(function(e){return!e||n?c(l.student):null})})}]}),angular.module('core').component('chModalReferrals',{templateUrl:'modules/ch-components/ch-modal-referrals/ch-modal-referrals.view.html',controllerAs:'vm',controller:['$rootScope','$state','IconSvgSrv','$filter','UsersSrv','SharesSrv',function(n,e,r,t,a,s){var o=this;t('translate');function i(){return(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get('copy-icon');case 2:return o.copyIcon=e.sent,e.next=5,function(){return l.apply(this,arguments)}(o.userTmp._id);case 5:t=e.sent,o.cupon=t.code,$('.modal.show').modal('hide'),$('#ch-modal-referrals').modal('show');case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getReferralCuponV2();case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}n.$on('MODAL:REFERRALS:OPEN',function(e,t){o.userTmp=n.USER||{},t&&function(){i.apply(this,arguments)}()}),o.onClickClose=function(){n.IS_MOBILE_COMPUTED&&n.$emit('SIDEBAR:TOGGLE'),$('#ch-modal-referrals').modal('hide')};o.copyCode=function(){var e='https://www.coderhouse.com/?referral-cpn='.concat(o.cupon._id,'&utm_source=upselling&utm_medium=plataforma');s.to('copy',e,o.cupon.code),e='copy_code_modal',window.dataLayer.push({event:'trackEvent',eventCategory:'cta',eventAction:'referrals-new',eventLabel:e})},o.goToReferrals=function(){o.onClickClose(),e.go('referrals2021')}}]}),angular.module('core').component('chModalShare',{templateUrl:'modules/ch-components/ch-modal-share/ch-modal-share.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','AmplitudeSrv','SharesSrv','$stateParams','CoursesSrv','$filter','NotificationSrv',function(r,a,s,o,i,l,e,c){var d=this,u=(d.flags={},e('translate'));function t(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return d.flags.from=t,d.flags.shareCourseStarts=n.shareCourseStarts||d.flags.shareCourseStarts,d.flags.shareCourseEnds=n.shareCourseEnds||d.flags.shareCourseEnds,d.flags.shareTop10=n.shareTop10||d.flags.shareTop10,d.flags.shareEnrollment=n.shareEnrollment||d.flags.shareEnrollment,s.logEvent('sharing',m({from:t,action:'opened'})),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return l.getStudentCourse({camadaId:e.camadaId||i.camadaId,userId:r.USER._id}).then(function(e){e=null==e||null==(e=e.data)?void 0:e.course;return e.level.fullUrl='https://www.coderhouse.com/online/'.concat(e.level.url),d.courseTmp=e})}(n).then(function(){var t;t=d.courseTmp.level.title,d.TEXTS={title:function(){var e='';return d.flags.shareEnrollment&&(e=u('ch-modal-share.share-enrollment')),d.flags.shareCourseStarts&&(e=u('ch-modal-share.share-course-starts')),d.flags.shareCourseEnds&&(e=u('ch-modal-share.share-course-ends')),(e=d.flags.shareTop10?u('ch-modal-share.share-top-10'):e).replace('%courseTitle%',t)}(),description:function(){var e='';return d.flags.shareEnrollment&&(e=u('ch-modal-share.share-enrollment.description')),d.flags.shareCourseStarts&&(e=u('ch-modal-share.share-enrollment.description')),d.flags.shareTop10&&(e=u('ch-modal-share.share-enrollment.description')),e=r.USER.flags.isTeacher&&(d.flags.shareCourseStarts&&(e=u('ch-modal-share.share-course-starts.description.for-teachers')),d.flags.shareCourseEnds)?u('ch-modal-share.share-course-ends.description.for-teachers'):e}(),sharing:function(){var e='';return d.flags.shareEnrollment&&(e=u('ch-modal-share.share-enrollment.text')),d.flags.shareCourseStarts&&(e=u('ch-modal-share.share-course-starts.text')),d.flags.shareCourseEnds&&(e=u('ch-modal-share.share-course-ends.text')),(e=d.flags.shareTop10?u('ch-modal-share.share-top-10.text'):e).replace('%courseTitle%',t)}(),hashtag:u('ch-modal-share.hashtag')},$('.modal.show').length&&$('.modal.show').modal('hide'),$('#ch-modal-share').modal('show'),a(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})})})}function n(){$('#ch-modal-share').modal('hide')}function m(e){var t=e.from,n=e.action,e=e.to;return{from:t||d.flags.from,to:e,action:n,role:r.USER.flags.isTutor?'tutor':r.USER.flags.isTeacher?'teacher':'student',what:d.flags.shareEnrollment?'course-enrollment':d.flags.shareCourseStarts?'course-starts':d.flags.shareCourseEnds?'course-ends':!!d.flags.shareTop10&&'course-top10'}}d.$onInit=function(){var e=location.href;d.flags={shareCourseStarts:e.includes('open-sharing-starts'),shareCourseEnds:e.includes('open-sharing-ends'),shareTop10:e.includes('open-sharing-top10'),shareEnrollment:e.includes('open-sharing-enrollment')},a(function(){e.includes('open-sharing')&&t(null,'from-url')},1e3)},r.$on('MODAL:SHARE:OPEN',t),$('#ch-modal-share').on('hidden.bs.modal',n),d.onClickClose=function(e){e.preventDefault(),n()},d.onClickShare=function(e,t){e.preventDefault();var n,e=d.TEXTS.sharing,r=d.courseTmp.level.fullUrl;s.logEvent('sharing',m({from:d.flags.from,to:t,action:'shared'})),'copy'===t?((n=document.getElementById('copy-area')).value=e,n.select(),document.execCommand('copy'),n.value='',c.info({msg:'Copiado!'})):o.to(t,r,e)},d.onClickSubmit=function(e){e.preventDefault(),n()}}]}),angular.module('core').component('chModalSocialSharing',{templateUrl:'modules/ch-components/ch-modal-social-sharing/ch-modal-social-sharing.view.html',controllerAs:'vm',controller:['$rootScope','$state','IconSvgSrv','$filter','UsersSrv','SharesSrv','ToastInfo','$window',function(e,t,n,r,a,s,o,i){var l=this;r('translate');function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.shareSocialSharingNoti(l.id);case 2:t=e.sent,i.open(t,'_blank'),d();case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){$('#ch-modal-social-sharing').hide()}this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getToastInfo();case 2:(t=e.sent)&&$('#ch-modal-social-sharing').show(),l.title=(null==t?void 0:t.title)||'',l.description=(null==t?void 0:t.description)||'',l.id=(null==t?void 0:t.id)||'';case 7:case'end':return e.stop()}},e)})),l.onClickLinks=function(e){e.preventDefault(),function(){c.apply(this,arguments)}(),u('compartir notificacion')},l.onClickClose=function(e){e.preventDefault(),o.omitSocialSharingNoti(l.id),u('omitir notificacion'),d()};var u=function(e){window.dataLayer.push({event:'trackEvent',eventCategory:'cta',eventAction:'social-sharing',eventLabel:e})}}]}),angular.module('core').component('chModalSupport',{templateUrl:'modules/ch-components/ch-modal-support/ch-modal-support.view.html',controllerAs:'vm',controller:['$rootScope','$state','CODER_LANDINGS','FEATURES','$timeout','AmplitudeSrv','IconSvgSrv','BotSrv','SelfManagementSrv','NotificationSrv','$filter',function(a,n,t,e,r,s,o,i,l,c,d){var u=this,m=(u.FEATURES=e,d('translate'));function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.showOnboardingSlides=['dashboard','personal-goal'].includes(n.current.name),e.next=3,o.get('raised-hand');case 3:u.iconRaisedHand=e.sent,u.flags=(t=void 0,t=['faqs-short','faqs','onboarding-videos','onboarding-videos-teacher','onboarding-videos-student','onboarding-videos-1','onboarding-videos-2'].includes(n.current.name),{showPersonalGoal:a.PERMISSIONS.student,index:!0,formLink:!0,form:t,showAssistantResource:null==(t=u.userTmp.flags)?void 0:t.isTutor}),$('.modal.show').modal('hide'),$('#ch-modal-support').modal('show');case 6:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}function v(){$('#ch-modal-support').modal('hide')}a.$on('MODAL:SUPPORT:OPEN',function(e,t){u.userTmp=a.USER||{},t&&function(){p.apply(this,arguments)}()}),u.onClickClose=function(e){e.preventDefault(),v()},u.onClickOnboarding=function(e){null!=e&&e.preventDefault(),r(function(){var e;null!=(e=u.userTmp.flags)&&e.isTeacher?null!=(e=u.userTmp.flags)&&e.isTutor?a.$emit('MODAL:ASSISTANT_ONBOARDING_SLIDES:OPEN',!0,!0):a.$emit('MODAL:TEACHER_ONBOARDING_SLIDES:OPEN',!0,!0):a.$emit('MODAL:STUDENT_ONBOARDING_SLIDES:OPEN',!0,!0)},1e3),v()},u.onClickDefineGoals=function(e){e.preventDefault(),n.go('onboarding',{force:1}),v()},u.onClickFaqs=function(e){e.preventDefault();e=a.IS_ENV_BR?'pt':'es',e='https://ayuda.coderhouse.com/'.concat(e);window.open(e),v()},u.onClickOnboardingVideos=function(e){e.preventDefault(),n.go('onboarding-videos'),v()},u.onClickChat=function(e){e.preventDefault(),null!=(e=u.userTmp.flags)&&e.isTeacher?u.flags={support:1}:(i.show(),v())},u.onClickAssistantResource=function(e){e.preventDefault(),s.logEvent('presentacion-que-hago-cuando'),v(),a.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:{name:m('ch-modal-support.presentation.resource-for-tutors')},scheTmp:{presentationLink:t.ASSISTANT_RESOURCE}})},u.onClickPedagogicalAssistance=function(e){e.preventDefault(),s.logEvent('asistencia-pedagogica'),v(),a.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:{name:m('ch-modal-support.presentation.request-assistance')},scheTmp:{presentationLink:(e=(e=(e='utm_source=platform&utm_medium=web')+'&email='.concat(u.userTmp.email))+'&userid='.concat(u.userTmp._id),'https://coderhouse.typeform.com/to/uZEFaHIU?'.concat(e))}})},u.onSubmitSupportForm=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.USER,n=r._id,r=r.email,e.prev=2,e.next=5,l.support({user:{_id:n,email:r},text:u.message});case 5:c.success({msg:m('ch-modal-support.toast.success')}),v(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c.error(e.t0);case 12:case'end':return e.stop()}},e,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalTutorialsTest',{bindings:{params:'<'},templateUrl:'modules/ch-components/ch-modal-tutorials-test/ch-modal-tutorials-test.view.html',controllerAs:'vm',controller:['UsersSrv','TYPEFORM','$rootScope','$timeout','NotificationSrv','LazyScriptsSrv','CoursesSrv','$filter',function(s,o,i,l,c,d,r,u){function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return m.apply(this,arguments)}({camadaId:r.camadaId,userId:null==(a=i.USER)?void 0:a._id});case 2:if(o._TUTORIALS_TEST=e.sent,i.IS_MOBILE)return e.abrupt('return',window.open(o._TUTORIALS_TEST,'_blank').focus());e.next=5;break;case 5:t=function(){return l(function(){return function n(r){d.get('typeform',function(){var e,t=document.getElementById('typeform-test');t&&null!=(e=window.typeformEmbed)&&e.makeWidget?window.typeformEmbed.makeWidget(t,r,{onSubmit:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setStudentOnboardingTestCompleted({userId:i.USER._id});case 2:c.success({msg:u('translate')('ch-modal-tutorials-test.toast.success')});case 3:case'end':return e.stop()}},e)}))()}}):l(function(){return n(r)},300)})}(o._TUTORIALS_TEST)})},n=void 0,(n=$('#ch-modal-tutorials-test-container')).modal('dispose'),$('.modal.show').modal('hide'),n.on('shown.bs.modal',t),n.modal('show');case 6:case'end':return e.stop()}var t,n},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getOnboardingTestLink(t);case 2:return n=e.sent,n=n.link,e.abrupt('return',n);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function t(){$('#ch-modal-tutorials-test-container').modal('hide')}i.$on('MODAL:TUTORIALS_TEST:OPEN',function(e,t){t&&!function(){n.apply(this,arguments)}(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}),$('#ch-modal-tutorials-test-container').on('hidden.bs.modal',t),this.onClickClose=function(e){e.preventDefault(),t()}}]}),angular.module('core').component('chModalZoomTips',{templateUrl:'modules/ch-components/ch-modal-zoom-tips/ch-modal-zoom-tips.view.html',controllerAs:'vm',controller:['$rootScope','NormalizeSrv','$timeout','SupportFaqsSrv',function(n,e,t,r){var a=this;function s(){$('.modal.show').length||($('#ch-modal-zoom-tips-container').modal('show'),t(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}))}function o(){$('#ch-modal-zoom-tips-container').modal('hide')}$('#ch-modal-zoom-tips-container').on('hidden.bs.modal',o),a.onClickClose=function(e){e.preventDefault(),o()},n.$on('MODAL:ZOOM_TIPS:OPEN',function(e,t){t&&r.get({faqId:n.PERMISSIONS.teacher?'5defd9636b4b9e00927cbab7':'5defda552d1c6e0092188731'}).then(function(e){return a.faqTmp=e}).then(s)}),a.onClickSubmit=function(e){e.preventDefault(),o()}}]}),angular.module('core').run(['NotificationSrv','ProductModifiersSrv','$filter',function(a,s,o){_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o('translate'),n={},null!=(r=location.href)&&null!=(r=r.split('?')[1])&&null!=(r=r.split('&'))&&r.forEach(function(e){e=e.split('='),n[e[0]]=e[1]}),(r=n['flag-premium-success'])&&null!=n&&n.pid){if(e.prev=5,Number(r))return e.next=10,s.approvePurchase(n);e.next=14}else e.next=22;break;case 10:e.sent,a.success({msg:t('ch-modal-request-premium.toast.success')}),e.next=17;break;case 14:return e.next=16,s.failPurchase(n);case 16:throw'fail';case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),a.error({msg:t('ch-modal-request-premium.toast.error')});case 22:case'end':return e.stop()}},e,null,[[5,19]])}))()}]).component('chPaidContentModal',{templateUrl:'modules/ch-components/ch-paid-content-premium/ch-paid-content-modal.html',controllerAs:'vm',controller:['$scope','$filter','$rootScope','FEATURES','AnalyticsSrv','ProductModifiersSrv','NotificationSrv','$state',function(r,e,a,t,n,s,o,i){var l=this,c=e('translate'),d=(a.$on('PAID:CONTENT:PREMIUM:OPEN',function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.courseId=n.courseId,r.contentPreview=d(n.contentPreview),e.next=4,function(){return m.apply(this,arguments)}(n).then(function(e){if(e)return l.programUrl=e.mainProgramUrl,l.videoPreview=e.videoPreviewUrl,r.productModifier=e,r.productParse=''.concat(e.pricing.currency.symbol,' ').concat(e.pricing.fullFinalPrice,' ').concat(e.pricing.currency.iso_code),r.$apply(function(){return r.$onInit(n)})});case 4:return e.abrupt('return',e.sent);case 5:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()),r.$onInit=function(){return r.showModal()},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t='youtube.com';if(u(e))return e.includes(''.concat(t,'/shorts'))?e.replace('shorts','embed').concat('?controls=0&showInfo=0'):e.includes(''.concat(t,'/watch'))?e.replace('watch?v=','embed/'):e}),u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';try{return Boolean(new URL(e))}catch(e){return!1}};function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:{productId:'',programId:''},e.next=3,s.getByProduct({productId:t.productId,programId:t.programId,userId:a.USER._id});case 3:return t=e.sent,e.abrupt('return',t);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}r.onSubmit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.pushDataLayer('trackEvent','coder_premium','cta','comprar_ahora'),e.next=3,s.createPurchase({courseId:r.courseId,userId:a.USER._id,productModifierId:r.productModifier._id});case 3:null!=(t=e.sent)&&t.success?(o.success({msg:c('ch-modal-request-product-modifier.toast.sended')}),i.go('dashboard')):o.error(),r.closeModal();case 6:case'end':return e.stop()}},e)})),r.showModal=function(){$('.modal.show').modal('hide'),$('#ch-paid-content-modal').modal('show'),$('#premium-iframe').attr('src',r.contentPreview)},r.closeModal=function(){$('.modal.show').modal('hide'),$('#premium-iframe').attr('src','')},$('#ch-paid-content-modal').on('hidden.bs.modal',r.closeModal)}]}),angular.module('core').component('chPremiumBadgeComponent',{templateUrl:'modules/ch-components/ch-premium-badge/ch-premium-badge.html',controllerAs:'vm',bindings:{params:'<'},controller:['$filter',function(e){this.$onInit=function(){}}]}),angular.module('core').component('chScheduleChanges',{templateUrl:'modules/ch-components/ch-schedule-changes/ch-schedule-changes.view.html',controllerAs:'vm',controller:['$rootScope','$scope','$element',function(e,t,n){}]}),angular.module('core').component('chUpsellingMiniBanner',{bindings:{params:'<',progress:'<'},templateUrl:'modules/ch-components/ch-upselling-mini-banner/ch-upselling-mini-banner.view.html',controllerAs:'vm',controller:['$rootScope','$scope','UsersSrv','CoursesSrv','AmplitudeSrv','NotificationSrv','$timeout','$filter',function(l,c,d,u,a,s,o,e){var m=this,p=e('translate');m.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.currentIndex=0,c.COL_MD=l.COL.colMd,m.hideBanner=!0,t=l.USER.personalGoalComputed,t=void 0===t?{colors:{'accent-color':'var(--ch-cyan-coder)'}}:t,m.userPersonalGoalColor=t.colors['accent-color'],e.next=7,d.hasActiveCourses({userId:l.USER._id}).then(function(e){return e.active});case 7:if(e.sent){e.next=21;break}return e.next=11,u.getPerksByCourseProgress({userId:l.USER._id,courseId:m.params.courseId});case 11:for(t=e.sent,n=t.perks,r=t.progress,a=n,s=function(e){var t=e.key,n=e.unlockedFromSchedules;'services'===t?e.title=p('ch-upselling-mini-banner.services.title'):'complementaries'===t?e.title=p('ch-upselling-mini-banner.complementaries.title'):'next-level'===t&&(e.title=p('ch-upselling-mini-banner.next-level.title')),e.title=e.title.replace('%unlockedFromSchedules%',n).replace('%enrollmentLink%',e.enrollmentLink).replace('%cupon%',e.cupon)},o=0;o<a.length;o++)s(a[o]);(i=n.find(function(e){return e.active}))&&m.onClickSelectPerk(null,i,!0),m.perksTmp=n,m.progress=r;case 21:case'end':return e.stop()}},e)})),c.closeBanner=function(e){null!=e&&e.preventDefault(),m.hideBanner=!0},m.goToPerk=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),a.logEvent('upselling-progress-bar',{from:'course-banner',productTitle:t.url,productType:t.flags.isLevel?'course':'services'})},m.goBackToPerks=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.showCarousel=!1,m.carouselItems=[];case 2:case'end':return e.stop()}},e)})),m.onClickSelectPerk=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),m.carouselItems=[],r||a.logEvent('upselling-progress-bar',{from:'course-banner',cta:n.key}),n.isUnlocked){e.next=5;break}return e.abrupt('return',s.info({msg:p('ch-upselling-mini-banner.toast-info')}));case 5:m.showCarousel=!1,o(function(){c.activePerk=n,m.carouselItems=n.items,m.showCarousel=!0,m.hideBanner=!1});case 7:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}()}]}),angular.module('core').component('chWidgetProgress',{bindings:{params:'<'},templateUrl:'modules/ch-components/ch-widget-progress/ch-widget-progress.view.html',controllerAs:'vm',controller:['$timeout',function(e){var t=this;t.$onInit=function(){t.progress={headline:t.params.headline,details:t.params.details,expected:t.params.expected,amount:t.params.amount,completed:t.params.completed,number:t.params.number||(t.params.perc?''.concat(t.params.perc,'%'):'0%'),perc:t.params.perc?''.concat(t.params.perc,'%'):'0%',flags:t.params.flags},t.loaded=!0,e(function(){return t.progress.init=!0})},t.$onChanges=t.$onInit}]}),angular.module('core').directive('chCssUrl',[function(){return{scope:{url:'='},restrict:'A',replace:!1,controller:['$rootScope','$timeout','$scope','$element',function(e,t,n,r){function a(){var e;n.url&&(e=0!==n.url.indexOf('url(')?'url('.concat(n.url,')'):n.url,r.css('--url',window.CLOUDINARY(e,24,24)))}this.$onInit=a,n.$watch('url',a)}]}}]),angular.module('core').component('chHeaderDropdownMenu',{bindings:{expand:'<',strategy:'<',sections:'<'},templateUrl:'modules/ch-directives/ch-header/ch-header-dropdown-menu.view.html',controllerAs:'vm',controller:['$scope','$rootScope','$location','NormalizeSrv','FEATURES','CODER_LANDINGS','TYPEFORM','$state','PushNotificationsSrv','$filter',function(e,s,t,n,o,r,i,a,l,c){var d=this,u=a.go,m=c('translate');function p(){d.expand=!d.expand}d.$onInit=function(){for(var e,t,n=[{icon:'user-1',label:m('ch-header-dropdown.btn-profile'),cb:function(){var e;p(),u(null!=(e=s.USER)&&null!=(e=e.flags)&&e.isStudent?'profile2021':'profile',{profileSlug:s.USER._id})}},{icon:'play-outline-1',label:m('ch-header-dropdown.btn-video-tutorials'),cb:function(){s.IS_ENV_BR?window.openNewTab('https://coderhouse.notion.site/C-digo-de-conduta-4510eb43249e4264b73d4a7fd6ea9356'):u('onboarding-videos-1',{vid:'conduct'}),p()},get enable(){var e;return!s.IS_ENV_BR&&(null==(e=s.USER)?void 0:e.flags.isStudent)}},{icon:'smiley',label:m('ch-header-dropdown.btn-code-of-conduct'),cb:function(){s.IS_ENV_BR?window.openNewTab('https://drive.google.com/file/d/1V6OQULDs_rqwxvDAquOqEzzn82cr4wHF/view?usp=sharing'):window.openNewTab('https://drive.google.com/file/d/17C9HFNGsu2LDWqKGeLcaBFaQsLVFZWcW/view?usp=sharing'),p()},get enable(){var e;return null==(e=s.USER)?void 0:e.flags.isStudent}},{href:''.concat(i.TEACHER_REFERRED,'&email=').concat(s.USER.email),target:'_blank',icon:'refeer',label:m('ch-header-dropdown.btn-refer-colleague'),enable:null==(e=s.PERMISSIONS)?void 0:e.teacher,cb:function(){window.open(this.href,this.target)}},{icon:'gift',label:m('ch-header-dropdown.btn-notifications'),sref:'chat',cb:function(){return p(),l.show({msg:'👋 Hola!'})},get enable(){return d.strategy.btnPushNotifications}},{icon:'far fa-comment-dots',label:m('ch-header-dropdown.btn-notifications-off'),cb:function(){d.$emit('onMenuClickOutside'),s.$emit('PUSH_NOTIFICATION:ENABLE',!1),p()},get enable(){return'enabled'===d.strategy.pushNotificationsState}},{icon:'gift',label:m('ch-header-dropdown.btn-download-app'),sref:'download',cb:function(){p()},get enable(){return d.strategy.btnDownload}},{label:'Webinars',icon:'tutoriales',cb:function(e){null!=e&&e.preventDefault(),u('contents',{type:'webinars'}),p()},get enable(){return d.strategy.webinars}},{label:'Tool Kits',icon:'tool-kit-3',cb:function(){return window.open('https://coderhouse.notion.site/Tool-Kits-f48e2f813d024bcb92147424c028f3ef')},get enable(){return d.strategy.toolKit&&!s.IS_ENV_BR}},{icon:'comunidad',label:m('ch-header-dropdown.btn-community'),href:i.COMMUNITY,target:'_blank',cb:function(){window.open(this.href,this.target),p()},get enable(){return d.strategy.community}},{icon:'discount-tag-rev4',label:m('ch-header-dropdown.btn-perks'),cb:function(){u('perks'),p()},get enable(){return d.strategy.perks}},{icon:'sign-out',label:m('ch-header-dropdown.btn-sign-out'),cb:function(){s.logout(),p(),v()},get enable(){return!0}},{icon:'star',label:m('ch-header-dropdown.btn-newsletter'),cb:function(){window.open('https://cdn.forms-content.sg-form.com/fc52a10a-90a3-11eb-a700-a6de1aea3a1a'),p()},get enable(){return o.NEWSLETTER_MENU_OPTION&&!s.IS_ENV_BR}}],r=[],a=0;a<n.length;a++)r.push((t=n[a],Object.keys(t).includes('enable')||(t.enable=!0),t));d.items=r.filter(function(e){return e.enable}),'disabled'===d.strategy.pushNotificationsState&&s.$emit('PUSH_NOTIFICATION:ENABLE',!0)},e.$watchGroup(['strategy','sections','strategy.pushNotificationsState'],d.$onInit),e.onClickOutside=function(){return e.$emit('onMenuClickOutside')};var v=function(){var e=document.getElementById('iframe-2021');e&&e.contentWindow.postMessage({action:'clear'},'*')}}]}),angular.module('core').directive('chHeader',[function(){return{scope:{},restrict:'E',replace:!0,link:function(e,t){e.$watch(function(){return(null==t?void 0:t.offset)&&60<t.offset().top},function(e){e?t.addClass('shadow'):t.removeClass('shadow')})},templateUrl:'modules/ch-directives/ch-header/ch-header.view.html',controllerAs:'vm',controller:['$scope','$state','$rootScope','$location','TYPEFORM','FEATURES','$transitions','$timeout','CODER_LANDINGS','IconSvgSrv','CoursesSrv','UsersSrv','NotificationSrv','PATHS','STREAM_KEY','$filter','StorageSrv',function(e,t,r,a,n,s,o,i,l,c,d,u,m,p,v,g,f){var h=e,b=(h.openAvatarMenu=!1,h.CODER_LANDINGS=l,h.PATHS=p,h.USER=r.USER,h.$state=t,r.PERMISSIONS=r.PERMISSIONS||{},Object.defineProperty(h,'IS_MOBILE',{get:function(){return r.IS_MOBILE_COMPUTED}}),h.SIDEBAR_ENABLED=s.SIDEBAR,h.PERMISSIONS=r.PERMISSIONS||{},h.FEATURES=s,h.COMMUNITY=n.COMMUNITY,h.PERKS_URL=n.PERKS,h.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=f.get('ch-banners')||{})[n='notification-new-ui']||(t[n]=!0,f.set('ch-banners',t),m.info({msg:'¡Hicimos cambios de estilo! 🎉 Para verlos, recarga la página con ctrl+shift+r (cmd+shift+r en Mac).'}));try{h.enableStreamChat=!1,h.chatClient=StreamChat.getInstance(v.value),r.$on('HEADER:HIDE',function(e,t){h.flags=h.flags||{},h.flags.hide=t,b()}),r.$emit('App:Tracking')}catch(e){console.warn('Cannot init chat'),console.warn(e)}case 4:case'end':return e.stop()}},e)})),h.avatarUiRef=function(){return h.SIDEBAR_ENABLED&&!h.IS_MOBILE?'profile({profileSlug: USER.profile.slug || USER._id})':null},r.calcHeaderHeight=function(){var e=$('#header-main-container')[0].offsetHeight||$('#header-container-inside')[0].offsetHeight||0;r.$setRootVar('header-height',e)});function w(){var e;h.PERMISSIONS=r.PERMISSIONS||{},h.isStudent=h.PERMISSIONS.student,h.USER=h.USER||{},h.USER.flags=h.USER.flags||{},h.FEATURES._NOTIFICATIONS_BUTTON=s.NOTIFICATIONS_BUTTON&&(null==(e=h.USER)?void 0:e._id),h.sections={},h.strategy={community:!1,btnDownload:s.DOWNLOAD,btnPushNotifications:s.PUSH_NOTIFICATIONS,perks:!1,toolKit:!1,pushNotificationsState:h.pushNotificationsState,webinars:!0},'disabled'===h.strategy.pushNotificationsState&&r.$emit('PUSH_NOTIFICATION:ENABLE',!0)}$(window).resize(b),r.$on('$viewContentLoaded',function(){var e;h.showBtnFiltersSidebar=t.is('dashboard'),w(),h.flags=h.flags||{},h.flags.b2bStudent=(null==(e=h.USER)?void 0:e.fromCorporate)||window.ENV_B2B}),o.onSuccess({},function(){i(b)}),i(function(){return b()},100),w(),r.$on('NOTIFICATIONS:PUSH:STATE',function(e,t){h.pushNotificationsState=t,w()}),r.$watch('USER',function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.USER=t||r.USER,h.currentPicture=(null==(n=h.USER)||null==(n=n.profile)?void 0:n.avatar)||'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif',h.FEATURES._NOTIFICATIONS_BUTTON=s.NOTIFICATIONS_BUTTON&&(null==(n=h.USER)?void 0:n._id),w(),e.next=6,T(h.USER);case 6:if(h.enableStreamChat)return e.next=9,y(h.USER);e.next=9;break;case 9:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),r.$watch('PERMISSIONS',function(e){h.PERMISSIONS=e||r.PERMISSIONS}),h.onClickLogout=r.logout,c.getMany(['user','gift','moon','sun','salir','zap','map']).then(function(e){null!=e&&e.length&&(h.icons=e,h.isDarkmode=r.DARKMODE_IS_ENABLED,h.themeIcon=e[h.isDarkmode?'sun':'moon'])}),h.personalGoalOptions={dropdown:!1,cta:!0,tooltip:!0},h.toggleTheme=r.toggleTheme,h.isDarkmode=r.DARKMODE_IS_ENABLED,r.$on('THEME_SWITCH',function(){h.isDarkmode=r.DARKMODE_IS_ENABLED,h.icons&&(h.themeIcon=h.icons[h.isDarkmode?'sun':'moon'])}),h.handlePictureClick=function(){if(h.IS_MOBILE)return h.onClickToggleSidebar();h.toggleDropdown()},h.toggleDropdown=function(){h.openAvatarMenu=!h.openAvatarMenu},h.onClickToggleSidebar=function(){h.SIDEBAR_ENABLED&&(h.toggleSidebar=!h.toggleSidebar,r.$emit('SIDEBAR:TOGGLE'))},h.onMenuClickOutside=function(){h.openAvatarMenu&&(h.openAvatarMenu=!1,r.$tryDigest())},e.$on('onMenuClickOutside',h.onMenuClickOutside),h.onClickToggleFiltersSidebar=function(){h.toggleFilterSidebar=!h.toggleFilterSidebar,r.$emit('FILTERS:SIDEBAR:TOGGLE')},h.goToLogin=function(){},h.openReferralsModal=function(){r.$emit('MODAL:REFERRALS:OPEN',!0)},h.openSocialSharing=function(){r.$emit('MODAL:SOCIAL-SHARING:OPEN',!0)},r.$on('HEADER:SIDEBAR:CLOSED',function(e,t){t&&(h.toggleSidebar=!1,h.toggleFilterSidebar=!1)}),h.IS_MOBILE&&r.$on('NOTIFICATIONS_READ_STATUS',function(e,t){h.flagHasUnread=t}),h.onClickOpenSupport=function(e){e.preventDefault(),r.$emit('MODAL:SUPPORT:OPEN',!0)},h.goToProfile=r.goToProfile;var T=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t._id&&!0!==h.enableStreamChat){e.next=2;break}return e.abrupt('return');case 2:return e.prev=2,n={userId:t._id,ts:(new Date).getTs()},e.next=6,d.getPlatformUserCoursesWithStream(n);case 6:0<e.sent.courses.length&&(h.enableStreamChat=!0,k(t._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0;case 13:case'end':return e.stop()}},e,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.streamUserToken='',null!=t&&t._id){e.next=3;break}return e.abrupt('return');case 3:if(n=null==t?void 0:t.getStreamToken)return e.abrupt('return',h.streamUserToken=n);e.next=6;break;case 6:return n=null==t?void 0:t._id,e.next=9,u.getStreamToken({userId:n});case 9:r=e.sent,r=r.data.token,h.streamUserToken=r;case 12:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),k=function(n){var e;null!=(e=h.chatClient)&&e.on&&h.chatClient.on(function(e){var t;e.hasOwnProperty('total_unread_count')&&r.$emit('NOTIFICATION.UNREAD_ITEMS',e.total_unread_count),'notification.message_new'===e.type&&(null==e||null==(t=e.message)||null==(t=t.user)?void 0:t.id)!==n&&'/chat'!==a.path()&&(e={msg:null!=e&&null!=(t=e.channel)&&t.isPersonal?g('translate')('ch-header.messages.personal').replace('%fromUser%',null==e||null==(t=e.message)||null==(t=t.user)?void 0:t.name):g('translate')('ch-header.messages.sended').replace('%fromUser%',null==e||null==(t=e.message)||null==(t=t.user)?void 0:t.name).replace('%fromChannel%',null==e||null==(t=e.channel)?void 0:t.name)},m.info(e))})}}]}}]).directive('clickOutside',['$document',function(r){return{restrict:'A',scope:{clickOutside:'&'},link:function(t,n,e){r.on('click',function(e){n===e.target||n[0].contains(e.target)||document.querySelector('.dropdown-menu').classList.contains('hide')||t.$eval(t.clickOutside)})}}}]),angular.module('core').component('chLoginSlides',{templateUrl:'modules/ch-directives/ch-login-slides/ch-login-slides.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','$transitions','$filter',function(t,n,r,e){for(var a,s=this,o=(s.IS_B2B=window.ENV_B2B,s.ENV_PROD=window.ENV_PROD,e('translate')),i=0,l=[{title:o('ch-login-slides.slides.1.title'),colorClass:'yellow-coder',tagClass:'bg-yellow-coder'},{title:o('ch-login-slides.slides.2.title'),colorClass:'repink',tagClass:'bg-repink'},{title:o('ch-login-slides.slides.3.title'),colorClass:'green-coder',tagClass:'bg-green-coder'},{title:o('ch-login-slides.slides.4.title'),colorClass:'pink-coder',tagClass:'bg-pink-coder'},{title:o('ch-login-slides.slides.5.title'),colorClass:'cyan-coder',tagClass:'bg-cyan-coder'}],c=[],d=0;d<l.length;d++)c.push(_objectSpread(_objectSpread({},a=l[d]),{},{hashtag:'#'.concat(a.hashtag||o('ch-login-slides.hashtag'))}));var u=c;function m(){var e=++i===u.length;e&&(s.loginSlides=u=[u.splice(u.length-1,1)[0]].concat(_toConsumableArray(u)),i=0,s.transitionDur=0),s.currentSlide=i,t._digest(),n(function(){return s.transitionDur=''}),e&&n(m)}t.IS_ENV_BR&&u.splice(1,1),s.loginSlides=u,this.$onInit=function(){var t,e=r.onStart({},function(){return t=!0,e()});(function e(){t||(m(),n(e,6e3))})()},n(function(){var e=$('#login-video');null!=e&&e.length&&null!=e&&null!=(e=e.get(0))&&e.play()})}]}),angular.module('core').directive('chManualActiveState',[function(){return{scope:{activeProp:'@',scope:'=',soft:'='},restrict:'A',replace:!1,controller:['$rootScope','$timeout','$scope','$element',function(e,t,n,r){function a(){return(n.scope[n.activeProp]=!0)+e.$tryDigest()}function s(){return(n.scope[n.activeProp]=!1)+e.$tryDigest()}t(function(){r.on('mousedown',a),r.on('mouseleave',s),r.on('mouseup',s),n.soft||r.on('mousemove',s),r.on('blur',s)})}]}}]),angular.module('core').directive('chPopupContainer',[function(){return{scope:{show:'=',position:'=',translation:'=',onClickOutside:'=',clickOutsideSelector:'='},restrict:'E',replace:!1,transclude:!0,templateUrl:'modules/ch-directives/ch-popup-container/ch-popup-container.view.html',controllerAs:'vm',controller:['$rootScope','$scope','$timeout','KeypressSrv','$element',function(r,e,t,n,a){e.containerId='popup-container-'+Date.now();var s=e.clickOutsideSelector||'#'+e.containerId,o=function(e){return $(e.target).closest(s).length?null:i()},i=function(){e.onClickOutside&&(e.onClickOutside(),r._digest())};function l(){$(document).on('click',o),n.on({target:27,fn:i})}function c(){return l()+v()}function d(){return $(document).off('click',o),void n.off({target:27,fn:i})+p()}var u,m=function(){return u=u||a.find('.ch-popup-container-container')},p=function(){return m().css('--x-translate','')},v=function(){var e=m(),t=e.offset().left,n=t+r.VARS.sidebarWidth-10,t=window.innerWidth-(e.outerWidth()+t)-10;n<0&&e.css('--x-translate','10px'),t<0&&e.css('--x-translate','-10px')};e.$watch('show',function(){return t(e.show?c:d)}),l()}]}}]),angular.module('core').directive('chSidebar',[function(){return{scope:{},restrict:'E',replace:!0,templateUrl:'modules/ch-directives/ch-sidebar/ch-sidebar.view.html',controllerAs:'vm',controller:['$state','$transitions','$rootScope','$location','FEATURES','TrainingCampsSrv','CODER_LANDINGS','TYPEFORM','$timeout','IconSvgSrv','CoursesSrv','AmplitudeSrv','$filter','AnalyticsSrv','STREAM_KEY','UsersSrv',function(t,e,v,M,g,f,F,n,r,a,B,q,s,o,G,j){var h=this,i=s('translate'),H=function(){q.logEvent('sidebar',{from:'sidebar',to:this.name,role:v.USER.flags.isTutor?'tutor':v.USER.flags.isTeacher?'teacher':'student'}),t.go(this.state[0],this.urlOptions),v.IS_MOBILE_COMPUTED&&h.unFixBar()},l=function(){var e;return(e=[]).concat.apply(e,_toConsumableArray(h.barItems||[]))};function c(){h.isEnabled=g.SIDEBAR&&v.IS_LOGGED&&!V.some(function(e){return e===t.current.name}),r(u({}))}function d(r){return new Promise(function(t,n){r.icon_url&&a.get(r.icon_url).then(function(e){r.iconHTML=e,t()}).catch(function(e){return n(e)})})}function u(e){var t=e.expanded,t=void 0===t?h.fixed:t,e=e.dead,e=void 0===e?!h.isEnabled:e,n=$('html'),e=(n.addClass('expanding-sidebar'),h.expandTimeout&&r.cancel(h.expandTimeout),h.expandTimeout=r(function(){return n.removeClass('expanding-sidebar')},300),(e||w()?null:t?k:S)||'0px');$(':root')[0].style.setProperty('--sidebar-width',e||'0px'),v.VARS.sidebarWidth=parseInt(e)}function m(){return p.apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i,l,c,d,u,m,p;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.PERMISSIONS=v.PERMISSIONS||{},h.isStudent=v.PERMISSIONS.student,h.isTeacher=v.PERMISSIONS.teacher,h.enableStreamChat=!1,h.USER=v.USER||{},h.USER.flags=h.USER.flags||{},b(),t=!(null==(t=h.USER)||!t._id),n=g.B2B||(null==(n=v.PERMISSIONS)?void 0:n.b2b)||(null==(n=h.flags)?void 0:n.b2bStudent),r=v.IS_MOBILE_COMPUTED,a=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={userId:h.USER._id,ts:(new Date).getTs()},e.next=4,B.getPlatformUserCoursesWithStream(t);case 4:t=e.sent,n=t.courses,0<(null==(n=void 0===n?[]:n)?void 0:n.length)&&(h.enableStreamChat=!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0;case 13:case'end':return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),(s=null)!=(o=h.USER)&&o._id&&h.isStudent&&!h.isTeacher)return e.next=15,Promise.all([f.hasAccess({userId:h.USER._id}),a()]);e.next=19;break;case 15:o=e.sent,i=_slicedToArray(o,1),i=i[0],s=i;case 19:if(null!=(i=h.USER)&&i._id)return e.next=22,a();e.next=22;break;case 22:for(l={courses:!r,community:!1,chat:g.CHAT&&h.enableStreamChat,forum:!1,contents:!1,faqs:t},h.isStudent&&!n&&t?l=Object.assign({},l,{products:g.PRODUCTS,services:g.TALENT_SERVICES&&!r,btnReferral:g.REFERRAL_CUPON,jobs:g.JOBS&&!r&&!h.USER.flags.becaSuspended,btnPerks:g.PERKS&&!h.USER.flags.becaSuspended,btnTrainingCamps:null==(c=s)?void 0:c.canSeeTrainingCamp}):h.isTeacher&&(l=Object.assign({},l,{btnReferTeacher:!1,btnPostulations:!r,btnReferral:g.REFERRAL_CUPON_TEACHER,btnPerks:g.PERKS})),h.strategy=l,d=h.barItemsDefault,u=function(e){for(var t,n=e.filter(function(e){return e.active()}),r=[],a=0;a<n.length;a++)r.push(('function'==typeof(t=n[a]).stateEval&&(t.state=t.stateEval()),Array.isArray(t.state)||(t.state=[t.state]),t));return r},m=[],p=0;p<d.length;p++)m.push(u(d[p]));h.barItems=m;case 30:case'end':return e.stop()}},e)}))).apply(this,arguments)}h.coderLogoAction=function(){l().find(function(e){return e.state.some(function(e){return'dashboard'===e})}).callback()},h.expandBar=function(){h.expanded=!0},h.collapseBar=function(){h.compress=!1,h.expanded=!1},h.toggleExpandBar=function(){h.expanded?h.collapseBar():h.expandBar()},h.fixBar=function(){h.fixed||(h.fixed=!0,v.IS_MOBILE_COMPUTED?v.$emit('BODY:PREVENT_SCROLL'):(u({}),$(window).off('mousemove',y),localStorage.setItem('sidebarIsFixed',!0)))},h.unFixBar=function(){h.fixed&&(h.fixed=!1,v.IS_MOBILE_COMPUTED?v.$emit('BODY:ALLOW_SCROLL'):(u({}),$(window).on('mousemove',y),localStorage.setItem('sidebarIsFixed',!1)))},h.toggleFixBar=function(){h.fixed?h.unFixBar():h.fixBar(),v.$emit('SIDEBAR_CHANGE')},h.toggleBar=function(){h.toggleExpandBar(),h.toggleFixBar()},setInterval(_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h.enableStreamChat&&null!=(t=h.USER)&&t._id&&window.CH_CHAT_ACTIVE&&b();case 1:case'end':return e.stop()}},e)})),window.CH_CHAT_INTERVAL_CONNECTION);var b=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.chatClient=StreamChat.getInstance(G.value),e.next=3,j.getStreamToken({userId:h.USER._id});case 3:return t=e.sent,t=t.data.token,e.next=7,h.chatClient.connectUser({id:h.USER._id,name:null==(n=h.USER)?void 0:n.fullName,image:null==(n=h.USER)||null==(n=n.profile)?void 0:n.avatar},t);case 7:n=e.sent,r=null==n||null==(t=n.me)?void 0:t.total_unread_count,v.$emit('NOTIFICATION.UNREAD_ITEMS',r),h.chatClient.disconnectUser();case 11:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();h.openReferralsModal=function(){var e;h.fixed||(h.expanded=!1),v.$emit('MODAL:REFERRALS:OPEN',!0),e='open_referrals_modal',window.dataLayer.push({event:'trackEvent',eventCategory:'cta',eventAction:'referrals-new',eventLabel:e})};function w(){return v.IS_MOBILE_COMPUTED}function T(){var e=w();e!==N&&((N=e)&&h.fixed&&h.unFixBar(),u({}))}function y(e){var t;P-(P=Date.now())<-1e3||!h.expanded&&h.hoverItem&&(t=$('.tooltip-container')[0]).css('top','calc('.concat(e.pageY-$('html')[0].scrollTop,'px - ').concat(A=A||t.offsetHeight/2,'px)'))}for(var k,S,s=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.hoverItem=null,h.strategy={},t=localStorage.getItem('sidebarIsFixed'),h.fixed=!v.IS_MOBILE_COMPUTED&&'true'===t,r(function(){var e;(e=$('.ch-sidebar-container')[0]).style.setProperty('--collapsed-width',R),e.style.setProperty('--expanded-width',C),e=parseInt(window.getComputedStyle(e).getPropertyValue('font-size')),S=e*parseInt(R)+'px',k=e*parseInt(C)+'px',u({}),$(window).on('mousemove',y),m(),E()}),e.next=7,a.get('menu-new');case 7:return h.iconMenuHTML=e.sent,e.next=10,a.get('coder-logo-round-1');case 10:h.iconCoderLogoHTML=e.sent;case 11:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e;h.activeItem=(e=l().find(function(e){return e.state.some(function(e){return e===t.current.name})}))&&e.id},V=(h.USER=v.USER||{},['login','onboarding']),C='15em',R='4em',z=v.IS_ENV_BR?'pt':'es',x=0,I=[[{id:++x,name:i('ch-sidebar.btn-dashboard'),state:'dashboard',active:function(){return!0},icon_url:'dashboard-new'},{id:++x,name:i('ch-sidebar.btn-courses-and-careers'),state:'products',icon_url:'cursos-carreras-new',active:function(){return h.strategy.products&&h.USER.flags.isStudent},urlOptions:{utm_source:'upselling',utm_medium:'plataforma',utm_campaign:'sidebar'}},{id:++x,name:i('ch-sidebar.btn-services'),icon_url:'servicios-new',state:'services',active:function(){return h.USER.flags.hasServices}},{id:++x,name:i('ch-sidebar.btn-training-camp'),icon_url:'campground',additionalClasses:'btn-training-camp',state:'training-camp',active:function(){return h.strategy.btnTrainingCamps},isNew:!0,display:!v.IS_ENV_BR,callback:function(){return Y()}},{id:++x,name:'CoderGO',icon_url:'coder-go',state:'coder-go',active:function(){return g.CODER_GO_LANDING&&h.USER.flags.canApplyToCoderGo},isNew:new Date<new Date('2022/1/1'),display:!1},{id:++x,name:i('ch-sidebar.btn-jobs'),active:function(){return h.strategy.jobs},icon_url:'empleos-new',state:'jobs',callback:function(){return t.go('jobs')},display:!1},{id:++x,name:i('ch-sidebar.btn-community'),icon_url:'comunidad',active:function(){return h.strategy.community},callback:function(){return window.open(n.COMMUNITY,'_blank').focus()}},{id:++x,name:i('ch-sidebar.btn-foroum'),active:function(){return h.strategy.forum},icon_url:'message-box',state:'forum-feed',isNew:new Date<new Date('dec/31/2020'),callback:function(){return t.go('forum-feed',{category:'all'})},display:!v.IS_ENV_BR},{id:++x,name:i('ch-sidebar.btn-chat'),icon_url:'chat-new',active:function(){return h.strategy.chat},state:'chat'},{id:++x,name:i('ch-sidebar.btn-postulations'),active:function(){return h.strategy.btnPostulations},icon_url:'raised-hand-new',state:'postulations-new'},{id:++x,name:i('ch-sidebar.btn-tutor-school'),active:function(){var e;return null==(e=v.USER)||null==(e=e.flags)?void 0:e.isTutor},icon_url:'teacher-chalkboard-new',state:'dashboard',urlOptions:{'open-tab':'tutorschool'}},{id:++x,name:i('ch-sidebar.btn-referral-teacher'),active:function(){return h.strategy.btnReferTeacher},icon_url:'paper-plane',callback:function(){return window.open(n.TEACHER_REFERRED,'_blank').focus()}},{id:++x,name:i('ch-sidebar.btn-referral-friend'),icon_url:'cashback',active:function(){return h.strategy.btnReferral},callback:function(){return v.$emit('MODAL:REFERRAL_CUPON:OPEN','sidebar')},display:!1},{id:++x,name:i('ch-sidebar.btn-tool-kits'),icon_url:'tool-kit-2',active:function(){return!0},callback:function(){return window.open('https://coderhouse.notion.site/Tool-Kits-f48e2f813d024bcb92147424c028f3ef','_blank').focus()},display:!1},{id:++x,name:i('ch-sidebar.btn-video-tutorials'),icon_url:'tutoriales',active:function(){return h.strategy.faqs},state:'onboarding-videos',display:!1},{id:++x,name:i('ch-sidebar.btn-faqs'),icon_url:'ayuda',active:function(){return h.strategy.faqs},state:'faqs',display:!1},{id:++x,name:i('ch-sidebar.btn-contents'),icon_url:'contenidos',active:function(){return h.strategy.contents},state:'contents'},{id:++x,name:i('ch-sidebar.btn-coderplus'),icon_url:'rocket',active:function(){return'ar'==h.USER.profile.country&&window.STUDENT_COURSES_INPROGRESS.find(function(e){return null==(e=e.level)||null==(e=e.url)?void 0:e.includes('data')})},callback:function(){return K()}},{id:++x,name:i('ch-sidebar.btn-perks'),active:function(){return h.strategy.btnPerks},icon_url:'discount-new',state:'perks'},{id:++x,name:i('ch-sidebar.btn-community'),active:function(){return!0},icon_url:'discord',callback:function(){return window.open(i('home.banner.discord.link'),'_blank').focus()}},{id:++x,name:i('ch-sidebar.btn-next-events'),icon_url:'calendar-new',active:function(){return!0},callback:function(){return window.open(v.IS_ENV_BR?'https://lu.ma/calendariobr':'https://lu.ma/coderhouse','_blank').focus()},display:!0}],[{id:++x,name:v.DARKMODE_IS_ENABLED?'Light Mode':'Dark Mode',icon_url:v.DARKMODE_IS_ENABLED?'sun':'moon',additionalClasses:'flip-on-theme-switch',itemIdentificator:'dark-mode',active:function(){return g.THEME_SWITCHER},setup:void v.$on('THEME_SWITCH',function(){var e=l().find(function(e){return'dark-mode'===e.itemIdentificator});e&&(e.name=v.DARKMODE_IS_ENABLED?'Light Mode':'Dark Mode',e.icon_url=''+v.THEME_ICON_INVERTED,d(e))}),callback:function(){return v.toggleTheme()+(v.IS_MOBILE_COMPUTED&&h.unFixBar())}},{id:++x,name:i('ch-sidebar.btn-download-app'),icon_url:'user',active:function(){return v.IS_MOBILE_COMPUTED&&g.DOWNLOAD},state:['profile']},{id:++x,name:i('ch-sidebar.btn-profile'),icon_url:'user',active:function(){return v.IS_MOBILE_COMPUTED},callback:function(){return t.go('profile',{profileSlug:h.USER._id})+(v.IS_MOBILE_COMPUTED&&h.unFixBar())},state:['profile']},{id:++x,name:i('ch-sidebar.btn-help'),icon_url:'question-new',active:function(){return!0},callback:function(){return window.open('https://ayuda.coderhouse.com/'.concat(z))}},{id:26,name:i('ch-sidebar.btn-exit'),icon_url:'sign-out',active:function(){return v.IS_MOBILE_COMPUTED},callback:function(){v.logout()},display:v.IS_MOBILE_COMPUTED}]],W=function(e){for(var t,n=e.filter(function(e){return e.display||_.isUndefined(e.display)}),r=[],a=0;a<n.length;a++)r.push(_objectSpread(_objectSpread({},t=n[a]),{},{callback:t.callback||H}));return r},O=[],D=0;D<I.length;D++)O.push(W(I[D]));h.barItemsDefault=O;for(var Y=function(){o.pushDataLayer('trackEvent','training_camp','landing','ingreso_tc'),t.go('training-camp')},K=function(){o.pushDataLayer('trackEvent','sidebar','coderplus','ingreso_coderplus'),window.open('https://coderplus.coderhouse.com/','_blank').focus()},P=(h.contentItems=[],h.activeItem=1,(new Date).getTs()),A=null,N=null,U=(s(),r(c),g.IS_DEV&&(window.sidebarcont=h),[].concat(_toConsumableArray((x=[]).concat.apply(x,_toConsumableArray(h.barItemsDefault))),_toConsumableArray(h.contentItems))),L=0;L<U.length;L++)!function(e,t,n){d(e).then(function(){t-1===n.length&&(h.barItems=h.barItemsDefault.filter(function(e){return e.active()}))})}(U[L],L,U);e.onSuccess({},function(){c(),m(),E(),T(),v.$emit('BODY:ALLOW_SCROLL'),u({})}),v.$on('SIDEBAR:TOGGLE',h.toggleBar),v.$on('SIDEBAR:CLOSE',h.unFixBar),v.$on('NOTIFICATION.UNREAD_ITEMS',function(e,t){h.unreadChatMessages=t<=0?'':9<t?'+9':t}),v.$on('NOTIFICATIONS_READ_STATUS',function(e,t){var n;v.IS_MOBILE_COMPUTED&&(n=[].concat(_toConsumableArray((n=[]).concat.apply(n,_toConsumableArray(h.barItemsDefault))),_toConsumableArray(h.contentItems)).find(function(e){return'notifications'===e.itemIdentificator}))&&(n.icon_url='bell-bordered',d(n))}),v.$on('SIDEBAR:HIDE',function(e,t){t&&r(function(){return h.isEnabled=!1})}),v.$on('SESSION:SET',function(){c()}),v.$on('DEVICE_TYPE:CHANGE',m),$(window).on('resize',T)}]}}]),angular.module('core').config(['$stateProvider',function(e){e.state('candidates',{url:'/candidatos/gracias',component:'candidates'}).state('candidates-already-taken',{url:'/candidatos/fue-confirmado',component:'candidates'}).state('substitutes',{url:'/suplentes/gracias',component:'candidates'}).state('substitutes-already-taken',{url:'/suplentes/fue-confirmado',component:'candidates'})}]).component('candidates',{templateUrl:'modules/landings/candidates/candidates.view.html',controllerAs:'vm',controller:['$state','NormalizeSrv',function(e,t){var n=this;n.$onInit=function(){n.flags={forSubstitutes:e.is('substitutes')||e.is('substitutes-already-taken'),wasAlreadyTaken:e.is('candidates-already-taken')||e.is('substitutes-already-taken')},n.TEXTS=t.textsRegionalizationV2({'landings.candidates.confirmed.title':'¡Gracias por postularte al curso!, <br/> te enviaremos toda la info por email.','landings.candidates.rejected.title':'La fecha ya fue asignada a otro candidato, gracias por postularte.','landings.candidates.description':'Te contactaremos cuando quedes confirmado para el curso.','landings.candidates.addtionalMessage':'Puedes cancelar esta postulación desde tu Inicio.','landings.candidates.contact':'Si necesitas hablar con nosotros siempre puedes hacerlo mediante el chat de soporte.','landings.candidates.btn':'ir a la plataforma','landings.substitutes.rejected.title':'La fecha ya fue asignada a otro suplente, gracias por postularte.','landings.substitutes.confirmed.title':'Gracias por confirmar tu asistencia!, te enviaremos toda la info por mail.'})}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('change-password',{url:'/cambiar-contrasena?tkn',component:'changePassword',resolve:{isValidTkn:['$stateParams','UsersSrv',function(e,t){return'test'===e.tkn?{success:!0}:t.isValidChangePasswordRequest({token:e.tkn}).then(function(e){return e.data})}]}})}]).component('changePassword',{bindings:{isValidTkn:'<'},templateUrl:'modules/landings/change-password/change-password.view.html',controllerAs:'vm',controller:['$stateParams','UsersSrv','NotificationSrv','$state','NormalizeSrv',function(t,n,r,a,e){var s=this;function o(){r.error(),a.go('dashboard')}s.steps={form:1},s.pattern='^(?=.*d)(?=.*[a-z])(?=.*[A-Z])(?!.*s).*$',s.$onInit=function(){s.TEXTS=e.textsRegionalizationV2({'landings.changePassword.title':'Cambiar contraseña','landings.changePassword.newPassLabel':'Nueva contraseña','landings.changePassword.confirmPassLabel':'Confirmar contraseña','landings.changePassword.popupOver':'Debe contener al menos un número y una letra mayúscula, y con un mínimo de entre 6 y 12 caracteres.','landings.changePassword.btnSubmit':'Guardar','landings.changePassword.errorToast':'El tiempo para cambiar la contraseña expiro, es necesario solicitarlo nuevamente.','landings.changePassword.infoToast':'Las contraseñas ingresadas no son iguales.','landings.changePassword.successToast':'Contraseña actualizada.'}),s.isValidTkn.success||(r.error({msg:s.TEXTS['landings.changePassword.errorToast']}),a.go('dashboard'))},s.onChange=function(e,t){t.isValid=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$/.test(t.value)},s.onSubmit=function(e){if(e.preventDefault(),s.pass1,s.pass2,s.pass1.value!==s.pass2.value)return r.info({msg:s.TEXTS['landings.changePassword.infoToast']});s.pass1.isValid&&s.pass2.isValid&&n.confirmChangePassword({password:s.pass1.value,token:t.tkn,v2:1}).then(function(e){e=e.data;return null!=e&&e.success?(a.go('dashboard'),r.success({msg:s.TEXTS['landings.changePassword.successToast']})):o()},o)}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('changes-confirmed',{url:'/cambios/confirmacion',component:'changes'}).state('changes-disapproved',{url:'/cambios/contacto',component:'changes'})}]).component('changes',{templateUrl:'modules/landings/changes/changes.view.html',controllerAs:'vm',controller:['$state','NormalizeSrv',function(e,t){var n=this;n.$onInit=function(){n.flags={confirmed:e.is('changes-confirmed')},n.TEXTS=t.textsRegionalizationV2({'landings.changes.title':'Cambios en tu curso','landings.changes.confirmed.description':'Desde ya lamento las molestias ocasionadas, pero estos cambios han sido necesarios para poder mantener la calidad del curso.<br><br>Recuerda que todas las modificaciones se van a ver reflejadas dentro de la plataforma. <br><br> ¿Quieres escribinos?, puedes hacerlo mediante <a href="mailto:ayuda@coderhouse.com">ayuda@coderhouse.com</a>.','landings.changes.rejected.description':'Hola, en breve nos pondremos en contacto contigo.<br><br> ¿Quieres escribinos?, puedes hacerlo mediante <a href="mailto:ayuda@coderhouse.com">ayuda@coderhouse.com</a>.','landings.changes.btn':'ir a la plataforma'})}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('debtor',{url:'/acceso-suspendido',component:'debtor'}).state('blocked',{url:'/acceso-bloqueado',component:'debtor'})}]).component('debtor',{templateUrl:'modules/landings/debtor/debtor.view.html',controllerAs:'vm',controller:['$rootScope','$state',function(e,t){var n=this;n.$onInit=function(){t.is('blocked')&&(n.isBlocked=!0)},e.$emit('SIDEBAR:HIDE',!0)}]}),angular.module('core').config(['$stateProvider',function(e){e.state('download',{url:'/descargar',component:'download'})}]).component('download',{templateUrl:'modules/landings/download/download.view.html',controllerAs:'vm',controller:['$rootScope',function(t){var e=this,n=[{os:'PWA',description:'Chrome / Edge / Android / iOS',cb:function(){var e;return null!=(e=t.$currentPlatform)&&null!=(e=e.os)&&e.includes('mac')?alert('Ver tutorial'):['chrome','edge'].includes(t.$currentPlatform.browser.toLowerCase())?alert('Navegador no soportado'):void t.$emit('PWA:PROMPT',!0)},btnLabel:'Instalar'},{os:'Windows',description:'Portable',link:'https://drive.google.com/uc?id=1fOXVD09XVbOrqmMzt2zVOdYZCXnBh0Tc&export=download'},{os:'MacOS',description:'64x',link:'https://drive.google.com/uc?id=1b5VH-8MNzB5OsRjePWUp-_CFBRIvY0I2&export=download'}];e.$onInit=function(){e.softwares=n,e.strategy={isLoaded:!0}},e.onClick=function(e,t){if(e.preventDefault(),t.cb)return t.cb();window.open(t.link,'_blank').focus()}}]}),angular.module('core').config(['$stateProvider',function(e){var t={component:'error'};e.state('404',Object.assign({},t,{url:'/404'})).state('500',Object.assign({},t,{url:'/500'}))}]).component('error',{templateUrl:'modules/landings/errors/errors.view.html',controllerAs:'vm',controller:['$document','NormalizeSrv',function(t,n){var r=this;r.$onInit=function(){var e=t[0].createElement('meta');e.id='robots-meta-tag',e.name='robots',e.content='noindex,nofollow',t[0].getElementsByTagName('head')[0].appendChild(e),r.TEXTS=n.textsRegionalizationV2({'landings.errors.title':'404','landings.errors.description':'No pude encontrar nada en esta ruta... podrias revisar la URL?','landings.errors.offline.title':'Offline','landings.errors.offline.description':'Necesitas estar conectado a internet para usar el sitio'})}}]}),angular.module('core').config(['$stateProvider','FEATURES',function(e,t){t={component:t.IS_MOBILE?'faqsMobile':'faqs',resolve:{faqs:['SupportFaqsSrv',function(e){return e.get({sorted:'category'})}]}};e.state('faqs',Object.assign({},t,{url:'/preguntas-frecuentes?categoria&pregunta&open-form'})).state('faqs-short',Object.assign({},t,{url:'/faqs?categoria&pregunta&open-form'}))}]).component('faqs',{bindings:{faqs:'<'},templateUrl:'modules/landings/faqs/faqs.view.html',controllerAs:'vm',controller:'FaqsCtrl'}).component('faqsMobile',{bindings:{faqs:'<'},templateUrl:'modules/landings/faqs/faqs.view.mobile.html',controllerAs:'vm',controller:'FaqsCtrl'}).controller('FaqsCtrl',['$rootScope','$stateParams','$filter',function(o,n,e){var d=this,u=(d.activeCategory=null,{platform:e('translate')('faqs.categories.platform'),certification:e('translate')('faqs.categories.certification'),slack:e('translate')('faqs.categories.slack'),absents:e('translate')('faqs.categories.absents'),course:e('translate')('faqs.categories.course'),workshops:e('translate')('faqs.categories.workshops'),it:e('translate')('faqs.categories.it'),enrollments:e('translate')('faqs.categories.enrollments'),content:e('translate')('faqs.categories.content'),contents:e('translate')('faqs.categories.content'),payments:e('translate')('faqs.categories.payments'),others:e('translate')('faqs.categories.others'),applications:e('translate')('faqs.categories.applications'),students:e('translate')('faqs.categories.students'),substitutions:e('translate')('faqs.categories.substitutions'),responsabilities:e('translate')('faqs.categories.responsabilities')});d.$onInit=function(){var e=n.categoria,t=n.pregunta,i=(t={currentCatSlug:e,currentSlug:t,isTeacher:null==o||null==(e=o.USER)||null==(e=e.flags)?void 0:e.isTeacher}).currentCatSlug,l=t.currentSlug,t=t.isTeacher,s=d.faqs,c=0;d.activeTab=t?'teacher':'student',_.each(s,function(e,o){for(var t=s[o],n=function(e,t){if(e.label=u[e.key],!c&&i&&[e.key.toLowerCase(),e.label.toLowerCase()].includes(i.toLowerCase())&&(d.activeTab=o,c=t),l){for(var n=e.items,r=[],a=0;a<n.length;a++)r.push((s=n[a],d.activeTab||c||l!==s.slug||(s.extended=!1,d.activeTab=o,c=t),s));e.items=r}var s;return e},r=[],a=0;a<t.length;a++)r.push(n(t[a],a));s[o]=r}),d.faqsCategories=s,d.onClickSectionTab(null,d.activeTab),o.IS_MOBILE||d.onClickCategory(null,d.faqsCategories[d.activeTab][c]),parseInt(n['open-form'])&&d.onClickSupport()},d.onClickToogleCollapse=function(e,t,n){for(var r in null!=e&&e.preventDefault(),d.activeCategory.items)r!=t&&(d.activeCategory.items[r].expanded=!1);d.activeCategory.items[t].expanded=n||!d.activeCategory.items[t].expanded,d.activeCategory.items[t]&&d.activeCategory.items[t].slug},d.onClickSectionTab=function(e,t){null!=e&&e.preventDefault(),d.activeTab=t},d.onClickCategory=function(e,t){null!=e&&e.preventDefault();for(var n,r=d.faqsCategories[d.activeTab],a=[],s=0;s<r.length;s++)a.push(((n=r[s]).active=n.key===t.key&&!n.active,n));d.faqsCategories[d.activeTab]=a,d.activeCategory=t,o.IS_MOBILE&&o.$emit('BODY:PREVENT_SCROLL'),1===t.items.length&&d.onClickToogleCollapse(null,0,!0)},d.goBack=function(){o.IS_MOBILE&&(d.activeCategory=null,o.$emit('BODY:ALLOW_SCROLL'))},d.onClickSupport=function(e){null!=e&&e.preventDefault(),o.$broadcast('MODAL:SUPPORT:OPEN',!0)}}]),angular.module('core').config(['$stateProvider',function(e){e.state('legals',{url:'/terminos-y-condiciones',component:'legals'}).state('legals-2',{url:'/legales',component:'legals'})}]).component('legals',{templateUrl:'modules/landings/legals/legals.view.html',controllerAs:'vm',controller:['$rootScope','TermsSrv',function(n,r){var a=this;a.activeTab='students',a.onClickSectionTab=function(e,t){e&&e.preventDefault(),'students'!==(a.activeTab=t)&&'teachers'!==t||r.get({userId:null==(e=n.USER)?void 0:e._id,flagIgnoreSigned:!0,flagTeachers:'teachers'===t}).then(function(e){return a.term=e})},a.onClickSectionTab(null,a.activeTab)}]}),angular.module('core').config(['$stateProvider',function(e){var t={component:'onboardingVideos'};e.state('onboarding-videos-1',Object.assign({},_objectSpread({url:'/class-experience?vid'},t))).state('onboarding-videos-2',Object.assign({},_objectSpread({url:'/onboarding-videos?vid'},t))).state('onboarding-videos',Object.assign({},_objectSpread({url:'/video-tutoriales?vid&flag-welcome'},t))).state('onboarding-videos-student',Object.assign({},_objectSpread({url:'/video-tutoriales/s?f'},t))).state('onboarding-videos-teacher',Object.assign({},_objectSpread({url:'/video-tutoriales/t?f'},t))).state('onboarding-videos-assistant',Object.assign({},_objectSpread({url:'/video-tutoriales/a?f'},t))).state('onboarding-videos-coordinator',Object.assign({},_objectSpread({url:'/video-tutoriales/c?f'},t))).state('tutorschool',Object.assign({},_objectSpread({url:'/tutorschool'},t)))}]).component('onboardingVideos',{templateUrl:'modules/landings/onboarding-videos/onboarding-videos.view.html',controllerAs:'vm',controller:['$rootScope','NormalizeSrv','$state','$timeout','FEATURES','OnboardingVideosSrv','$stateParams','$filter',function(f,e,h,b,w,a,T,y){var k=this,_='ch-playback-data';function S(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a,s,o,i,l,c,d,u,m,p,v,g;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(d=f.USER)&&d._id||0<=n)if(d=f.USER,r=null==(d=void 0===d?{}:d)||null==(r=d.flags)?void 0:r.isTeacher,a=null==d||null==(a=d.flags)?void 0:a.isTutor,s=null==d||null==(d=d.flags)?void 0:d.isCoordinator,o=h.current.name,k.IS_STUDENT=!r&&!a&&!s&&['onboarding-videos','onboarding-videos-student'].includes(o),k.IS_TEACHER=r,k.IS_TUTOR=a,k.IS_MOBILE=w.IS_MOBILE,k.IS_TUTOR_SCHOOL='tutorschool'===o,k.IS_TUTOR_SCHOOL)e.next=19;else if(h.params.f)e.next=19;else{if(s&&'onboarding-videos-coordinator'!==o)return e.abrupt('return',h.go('onboarding-videos-coordinator',{f:1}));e.next=15}else e.next=58;break;case 15:if(a&&'onboarding-videos-assistant'!==o)return e.abrupt('return',h.go('onboarding-videos-assistant',{f:1}));e.next=17;break;case 17:if(r&&'onboarding-videos-teacher'!==o)return e.abrupt('return',h.go('onboarding-videos-teacher',{f:1}));e.next=19;break;case 19:return i='https://res.cloudinary.com/hdsqazxtw/video/upload/v1601136395/1._TutorSchool_Trim_rlzxj7.mp4',l=CLOUDINARY('https://res.cloudinary.com/hdsqazxtw/image/upload/v1577730698/Screen_Shot_2019-12-30_at_15.23.21_epyso7.jpg',window.innerWidth),e.next=23,C('students',T['flag-welcome']);case 23:if(c=e.sent,k.stateIsTeacher='onboarding-videos-teacher'===o,k.IS_TUTOR_SCHOOL)return i='https://res.cloudinary.com/hdsqazxtw/video/upload/v1601136395/1._TutorSchool_Trim_rlzxj7.mp4',l=CLOUDINARY('https://res.cloudinary.com/hdsqazxtw/image/upload/v1601136452/1._TutorSchool_Trim_Moment_eypien.jpg',window.innerWidth),e.next=30,C('tutor-school');e.next=33;break;case 30:c=e.sent,e.next=40;break;case 33:if(['onboarding-videos-assistant','onboarding-videos-teacher'].includes(o)||k.IS_TEACHER)return i='https://res.cloudinary.com/hdsqazxtw/video/upload/v1601136395/1._TutorSchool_Trim_rlzxj7.mp4',l=CLOUDINARY('https://res.cloudinary.com/hdsqazxtw/image/upload/v1582739371/foo_ceqepl.jpg',window.innerWidth),d=s||'onboarding-videos-coordinator'===o?'coordinators':a||'onboarding-videos-assistant'===o?'assistants':'teachers',e.next=39,C(d);e.next=40;break;case 39:c=e.sent;case 40:if(u=localStorage.getItem(_))for(u=JSON.parse(u),m=u,p=function(t){var e=c.find(function(e){return e.id===t.id});if(e)for(var n in t)e[n]=t[n]},v=0;v<m.length;v++)p(m[v]);g=T.vid,k.heroVideoUrl=i,k.heroVideoPoster=l,k.onboardingVideos=c,k.selectedVideo=(void 0,t=null,(t=g?c.find(function(e){return e.key===g}):t)||c[0]),k.showingVideoPlayer=!1,k.autoplayEnabled=!0,k.transitioning=!1,k.youtubePlayer=null,k.playbackInterval=null,k.lastClickOrigin='bottom',k.TEXTS=k.IS_TUTOR_SCHOOL?{title:'TutorSchool',description:y('translate')('onboarding-videos.tutor-school.description')}:k.IS_TEACHER?{title:'ON-BOARDING',description:y('translate')('onboarding-videos.onboarding.description')}:{title:y('translate')('onboarding-videos.students-onboarding.title'),description:y('translate')('onboarding-videos.students-onboarding.description')},E(),g&&!function e(t){var n;null!=(n=k.youtubePlayer)&&n.pauseVideo?$('#video-'.concat(t,' .play-button')).click():b(function(){return e(t)},300)}(g),e.next=59;break;case 58:b(function(){return S(n--)},300);case 59:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}k.$onInit=function(){S(3)},k.playVideo=function(t,n){var e;k.youtubePlayer&&k.youtubePlayer.pauseVideo(),null!=(e=t.flags)&&e.isForm?(k.selectedVideo=t,k.changeVideoPlayerVisibility(!0,n)):(k.selectedVideo=t,b(function(){var e={videoId:k.selectedVideo.id};!t.finishedPlayback&&t.secondsPlayed&&(e.startSeconds=t.secondsPlayed),k.youtubePlayer.loadVideoById(e),k.changeVideoPlayerVisibility(!0,n)},1e3)),k.IS_MOBILE&&document.body.scrollTop<65&&document.body.scroll({top:65,behavior:'smooth'}),b(function(){return k.scrollToVideo(t.id)})},k.changeVideoPlayerVisibility=function(t,e){e&&$('.video-player-container').css('transform-origin',t?k.lastClickOrigin=''.concat(e.pageX,'px ').concat(e.pageY-$('html')[0].scrollTop,'px'):k.lastClickOrigin),k.transitioning=!0,!k.showingVideoPlayer&&t&&f.$emit('BODY:PREVENT_SCROLL'),t||f.$emit('BODY:ALLOW_SCROLL'),b(function(){var e;k.showingVideoPlayer=t,null!=(e=k.selectedVideo.flags)&&e.isForm||k.youtubePlayer&&(k.showingVideoPlayer?k.youtubePlayer.playVideo():k.youtubePlayer.pauseVideo()),b(function(){return k.transitioning=!1},500)})},k.scrollToVideo=function(e){if(window.innerWidth<=960)return $('#video-player-scroll-container')[0].scrollTo({top:0,behavior:'smooth'});$('#video-'.concat(e))[0].scrollIntoView({behavior:'smooth'})},k.saveProgressToLS=function(){for(var e,t=k.onboardingVideos,n=[],r=0;r<t.length;r++)n.push({id:(e=t[r]).id,percentagePlayed:e.percentagePlayed,secondsPlayed:e.secondsPlayed,finishedPlayback:e.finishedPlayback,url:e.url});localStorage.setItem(_,JSON.stringify(n))},k.handlePlayerStateChange=function(e){e=e.data;if(1===e)k.calculatePlaybackPercentage(),k.playbackInterval=setInterval(k.calculatePlaybackPercentage,500);else if(clearInterval(k.playbackInterval),k.saveProgressToLS(),0===e&&(k.selectedVideo.finishedPlayback=!0,k.autoplayEnabled))for(var t in k.onboardingVideos)if(k.onboardingVideos[t].id===k.selectedVideo.id){if(parseInt(t)===k.onboardingVideos.length-1)return;k.playVideo(k.onboardingVideos[++t]);break}};var n,r,s=0;function E(){k.apiReady&&YT.Player&&(k.youtubePlayer=new YT.Player('player',{height:'100%',width:'100%',videoId:k.selectedVideo.id,events:{onReady:window.onPlayerReady,onStateChange:function(e){return k.handlePlayerStateChange(e)}},playerVars:{cc_load_policy:0,iv_load_policy:3,modestbranding:0,rel:0,showinfo:0,fs:0}}))}function C(){return o.apply(this,arguments)}function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},'teachers'===t?r.forTeachers=1:'assistants'===t?r.forTutors=1:'coordinators'===t?r.forCoordinators=1:'tutor-school'===t?r.forTutorSchool=1:r.forStudents=1,n&&(r.onlyWelcome=1),e.next=5,a.get(r);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}k.calculatePlaybackPercentage=function(){k.selectedVideo.secondsPlayed=Math.round(k.youtubePlayer.getCurrentTime()),k.selectedVideo.finishedPlayback=99<=(k.selectedVideo.percentagePlayed=Math.round(k.selectedVideo.secondsPlayed/k.youtubePlayer.getDuration()*100)),f.$digest(),10==++s&&(k.saveProgressToLS(),s=0)},b(function(){(1280/720).toFixed(3);$(window).resize(function(){var e=$('.black-bg').width(),t=$('.black-bg').height();e/1280<t/720?($('#hero-video-cover').height(t),$('#hero-video-cover').width('auto')):($('#hero-video-cover').width(e),$('#hero-video-cover').height('auto'))}),$(window).trigger('resize'),document.addEventListener('keyup',function(e){'Escape'===e.key&&k.showingVideoPlayer&&k.changeVideoPlayerVisibility(!1)})}),(n=document.createElement('script')).src='https://www.youtube.com/iframe_api',(r=document.getElementsByTagName('script')[0]).parentNode.insertBefore(n,r),window.onYouTubeIframeAPIReady=(k.apiReady=!0,E),window.onPlayerReady=function(e){},k.onClickSupport=function(e){e.preventDefault(),f.$broadcast('MODAL:SUPPORT:OPEN',!0)},k.onClickOpenTest=function(e){e.preventDefault(),f.$emit('MODAL:TUTORIALS_TEST:OPEN',!0)},k.toggleState=function(){h.go('onboarding-videos-'+(k.stateIsTeacher?'student':'teacher')),$('html')[0].scrollTop=0},k.onClickChangeVideos=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(n);case 3:k.onboardingVideos=e.sent;case 4:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),k.onClickTutorSchoolTest=function(e){e.preventDefault(),window.open('https://forms.gle/N1dHEwXc3jP8TMDN6','_blank')}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('next-courses-unsuscribed',{url:'/suscripciones/proximos-cursos/desuscrito',component:'substitutes'}).state('next-courses-b2b-unsuscribed',{url:'/suscripciones/proximos-cursos-corporativo/desuscrito',component:'substitutes'}).state('jobs-unsuscribed',{url:'/suscripciones/empleos/desuscrito',component:'substitutes'}).state('unsuscribed',{url:'/suscripciones/desuscrito',component:'substitutes'})}]).component('substitutes',{templateUrl:'modules/landings/suscriptions/suscriptions.view.html',controllerAs:'vm',controller:['$state','NormalizeSrv',function(e,t){var n=this;n.$onInit=function(){n.flags={forNextCourses:e.is('next-courses-unsuscribed'),forNextCoursesB2B:e.is('next-courses-b2b-unsuscribed'),forJobs:e.is('jobs-unsuscribed'),forUnsuscribed:e.is('unsuscribed')},n.TEXTS=t.textsRegionalizationV2({'landings.suscriptions.next-courses-unsuscribed.title':'Ya no recibirás nuestros emails con nuestros próximos cursos.','landings.suscriptions.next-courses-b2b-unsuscribed.title':'Ya no recibirás nuestros emails con nuestros próximos cursos corporativos.','landings.suscriptions.jobs-unsuscribed.title':'Ya no recibirás nuestros emails con las nuevas búsquedas.','landings.suscriptions.unsuscribed.title':'Ya te encuentras desuscripto.','landings.suscriptions.description':'Si necesitas hablar con nosotros siempre podes hacerlo mediante el chat de soporte.','landings.suscriptions.btn':'ir a la plataforma'})}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('chat',{parent:'platform',url:'/chat',component:'chat',data:{requiresLogin:!0,isFbLocked:!0},resolve:{}})}]).component('chat',{templateUrl:'modules/platform/chat/chat.view.html',controllerAs:'vm',controller:['BotSrv','$timeout',function(e,t){this.$onInit=function(){t(e.hide,1e3)}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('blog-post',{parent:'platform',url:'/contenidos/blog/:slug',component:'blogPost',data:{requiresLogin:!0},resolve:{contentTmp:['ContentsSrv','$stateParams',function(e,t){return e.getBlogs(t)}]}})}]).component('blogPost',{bindings:{contentTmp:'<'},templateUrl:'modules/platform/contents/components/blog-posts/blog-post.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope','$filter','NotificationSrv','$transitions',function(t,n,e,r,a){var s=this;function o(){t.getBlogs({_id:s.contentTmp._id}).then(function(e){s.contentTmp=e,i()})}s.$onInit=function(){Promise.all([t.getBlogsRelated({_id:s.contentTmp._id}).then(function(e){return s.relatedContent=e})]).then(),s.contentTmp.contentType='blogposts',s.contentTmp.createdAtAlias=''.concat(e('date')(s.contentTmp.createdAt,'MMMM'),' ').concat(e('date')(s.contentTmp.createdAt,'dd'),', ').concat(e('date')(s.contentTmp.createdAt,'yyyy')),i(),c(),n.$on('PURCHASE:COMPLETED',o)},s.$onDestroy=function(){},s.onClickLike=function(e){e.preventDefault(),t.upsertLike({_id:s.contentTmp._id,type:'blogposts'}).then(function(){s.contentTmp.flags.wasLiked=!s.contentTmp.flags.wasLiked},r.error)};var i=function(){var e;return n.blogDurationAlias=null!=(e=s.contentTmp.measures)&&e.minutes?' | '.concat(s.contentTmp.measures.minutes,' minutos de lectura'):''};var l={barEl:null,startEl:null,endEl:null,get bar(){return this.barEl||(this.barEl=$('.blog-progress-actual-bar'))},get start(){return this.startEl||(this.startEl=$('.blog-start-marker'))},get end(){return this.endEl||(this.endEl=$('.blog-end-marker'))}},c=function(){var r=!1,e=a.onSuccess({},function(){return r=!0,e()});!function e(){var t,n;r||(n=0,(t=window.pageYOffset-l.start.offset().top)&&100<(n=t/((t=document.body.scrollHeight)-window.innerHeight-(t-l.end[0].offsetTop))*100)&&(n=100),l.bar.css('width',n+'%'),window.requestAnimationFrame(e))}()}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('blog-posts',{parent:'platform',url:'/blog',component:'blogPosts',data:{requiresLogin:!0},resolve:{blogPosts:['ContentsSrv',function(e){return e.getBlogs()}]}})}]).component('blogPosts',{bindings:{blogPosts:'<'},templateUrl:'modules/platform/contents/components/blog-posts/blog-posts.view.html',controllerAs:'vm',controller:['ContentsSrv',function(t){var n=this;n.$onInit=function(){var e;Promise.all([null!=(e=n.blogPosts)&&e.length?e:t.getBlogs().then(function(e){return n.blogPosts=e})])}}]}),angular.module('core').component('chContentCard',{bindings:{rawItem:'<',cardThumb:'<',cardTitle:'<',cardDescription:'<',cardLink:'<',cardAuthor:'<',cardDate:'<',cardFlags:'<',ctaLabel:'<',contentType:'<',ctaIcon:'<',ctaIconSize:'<',leftImg:'<',leftImgIcon:'<',listView:'<'},templateUrl:'modules/platform/contents/components/ch-content-card/ch-content-card.view.html',controllerAs:'vm',controller:['$scope','$element','$filter',function(n,t,r){function a(){return e=e||$(t).find('.card-tail')}var e,s=this,o=(this.$onInit=function(){s.cardThumb=s.cardThumb||'https://res.cloudinary.com/hdsqazxtw/image/upload/v1566320864/default_qsc82y.png';var e=s.cardAuthor||{};e.avatar=e.avatar||'https://res.cloudinary.com/hdsqazxtw/image/upload/v1566320864/default_qsc82y.png',e.job=e.job||e.jobName,e.name=e.name||'Coderhouse',s.cardAuthor=e,1==s.listView&&s.cardDate&&(s.cardDate=''.concat(r('date')(s.cardDate,'MMMM'),' ').concat(r('date')(s.cardDate,'dd'),', ').concat(r('date')(s.cardDate,'yyyy'))),t.addClass('ch-content-card-main-wrapper global-hide quick-hide natural hide '+(s.listView?'col-12 list-view':'col-xl-3 col-lg-4 col-md-6 col-12')),s.rawItem?(n.showTopCta=s.rawItem.flags.isFree||s.rawItem.flags.wasPurchased,n.pricing=s.rawItem.pricing):n.showTopCta=!0,s.ctaLabel=s.cardFlags.isIncomming?r('translate')('webinars.next'):r('translate')('webinars.watch')},n.pressCard=function(){n.mouseIsDown=!0},n.releaseCard=function(){n.mouseIsDown=!1},n.openTail=function(){var e,t;!o&&!n.showTopCta&&(o=!0,(e=a()).css('--tail-height',e.find('.content').outerHeight()+'px'),t=e.find('.card-description')[0])&&(t.scrollHeight>t.offsetHeight?e.addClass('overflowing'):e.removeClass('overflowing'))},!(n.closeTail=function(){n.releaseCard(),o&&!n.showTopCta&&(o=!1,a().css('--tail-height','0px'))}))}]}),angular.module('core').component('chContentPlayer',{bindings:{url:'<',isAudio:'<',reload:'<'},templateUrl:'modules/platform/contents/components/ch-content-player/ch-content-player.view.html',controllerAs:'vm',controller:['$rootScope','$interval','KeypressSrv',function(t,n,e){var r=this,a=null,s=null,o=50;function i(e){var t=Math.floor(e/3600),n=(1<=t?e-=3600*t:t='00',Math.floor(e/60));return 1<=n?e-=60*n:n='00',e<1&&(e='00'),1==n.toString().length&&(n='0'+n),1==e.toString().length&&(e='0'+e),''.concat(t?t+':':'').concat(n?n+':':'').concat(e||'')}r.flags={currentProgressAlias:'00:00:00',currentTime:0,durationAlias:'00:00:00',duration:0,playerProgressBar:0,playerVolumeBar:2,isMuted:!1};function l(){var e,t=parseInt(a.getCurrentTime(),10);r.flags.currentTime=i(t),r.flags.currentProgressAlias=i(t),r.flags.playerProgressBar=(t=t,e=r.flags.duration,t&&e&&parseInt(100*t/e,10))}r.$onInit=function(){!function e(){var t,n;return null!=(t=YT)&&t.Player?a=new YT.Player('player',{height:r.isAudio?'0':'390px',width:r.isAudio?'0':'100%',videoId:(t=r.url,n=0,t&&(t.includes('watch')?n=t.split('v=').last():(t.includes('youtu.be')||t.includes('embed'))&&(n=t.split('/').last())),n),events:{onReady:function(){r.flags.duration=parseInt(a.getDuration()),r.flags.durationAlias=i(r.flags.duration)},onPlaybackQualityChange:function(){return console.log('onPlaybackQualityChange',YT.PlayerState)},onStateChange:function(){return console.log('onStateChange',YT.PlayerState,a.getPlayerState())},onError:function(){return console.log('onError',YT.PlayerState)}},playerVars:{cc_load_policy:0,iv_load_policy:3,modestbranding:0,rel:0,showinfo:0,fs:0}}):((t=document.createElement('script')).src='https://www.youtube.com/iframe_api',(n=document.getElementsByTagName('script')[0]).parentNode.insertBefore(t,n),e())}(),e.on({target:32,fn:r.onClickPlay}),e.on({target:38,fn:r.volumeUp}),e.on({target:40,fn:r.volumeDown}),e.on({target:77,fn:r.onClickMute})},r.$onDestroy=function(){e.off({target:32,fn:r.onClickPlay}),e.off({target:38,fn:r.volumeUp}),e.off({target:40,fn:r.volumeDown}),e.off({target:77,fn:r.onClickMute})},r.onClickPlay=function(e){e&&e.preventDefault(),a&&a.getPlayerState&&((e=a.getPlayerState()===YT.PlayerState.PLAYING)?(a.pauseVideo(),n.cancel(s)):(a.playVideo(),s=n(l,1e3)),r.flags.isPlaying=!e,t.$tryDigest())},r.onChangeProgressBar=function(e){a&&a.seekTo(r.flags.playerProgressBar/100*r.flags.duration,!0)},r.onChangeVolumeBar=function(e){a&&(a.setVolume(r.flags.playerVolumeBar),t.$tryDigest())},r.onClickMute=function(e){var t;a&&(t=0,r.flags.playerVolumeBar?(r.flags.isMuted=!0,o=r.flags.playerVolumeBar):(r.flags.isMuted=!1,t=o),r.flags.playerVolumeBar=t,r.onChangeVolumeBar())},r.volumeDown=function(e){e&&e.preventDefault(),r.flags.playerVolumeBar=o+=-5,r.flags.playerVolumeBar<0&&(r.flags.playerVolumeBar=0),r.onChangeVolumeBar()},r.volumeUp=function(e){e&&e.preventDefault(),r.flags.playerVolumeBar=o+=5,100<r.flags.playerVolumeBar&&(r.flags.playerVolumeBar=100),r.onChangeVolumeBar()}}]}),angular.module('core').component('chContentPricing',{bindings:{item:'<',toState:'<'},templateUrl:'modules/platform/contents/components/ch-content-pricing/ch-content-pricing.view.html',controllerAs:'vm',controller:['$scope','$filter','ContentsSrv','NotificationSrv',function(n,e,r,a){function t(e){window.open(e,'_blank').focus()}var s=this,o=this,i=e('translate'),l=(this.$onInit=function(){var e=s.item;e.flags.isPaid&&!e.flags.wasPurchased?e.flags.canUseMembership?(n.topLabel=i('content.pricing.get-using'),n.bottomLabel=i('content.pricing.your-membership')):(n.topLabel=i('content.pricing.get-by'),n.bottomLabel=e.pricing.currency.symbol+' '+e.pricing.fullFinalPrice+' '+e.pricing.currency.iso_code):(n.topLabel=i('content.pricing.content'),e.flags.isPro||e.flags.isTalent&&(n.topLabel=i('content.pricing.exclusive-content')),e.flags.isFree?n.bottomLabel=i('content.pricing.free'):e.flags.wasPurchased?n.bottomLabel=i('content.pricing.buyed'):(e.flags.isPro&&(n.topLabel=i('content.pricing.exclusive-content-pro')),e.flags.isTalent&&(n.topLabel=i('content.pricing.exclusive-content-development')))),n.showCta=e.flags.isPaid&&!e.flags.wasPurchased||'resources'===e.contentType||e.flags.hasInscriptionForm,l(e),n.ctaLabel=l(e)},n.$watch('vm.item',this.$onInit),function(e){return e.flags.hasInscriptionForm?i('content.pricing.purchase'):'resources'===e.f&&!e.flags.isPaid&&e.flags.wasPurchased||'resources'===e.contentType&&!e.flags.isPaid&&e.flags.wasPurchased?i('content.pricing.download'):i('content.pricing.buy')}),c=function(e,t){!e&&null!=t&&t.success?(a.success({msg:i('content.pricing.adquired')}),n.$emit('PURCHASE:COMPLETED')):a.error()};!function e(t){var n;null!=(t=o.item)&&t._id?(n={},null!=(t=location.href)&&null!=(t=t.split('?')[1])&&null!=(t=t.split('&'))&&t.forEach(function(e){e=e.split('='),n[e[0]]=e[1]}),n.type=o.item.contentType,n._id=o.item._id,(t=n['flag-content'])&&(parseInt(t)?r.approvePurchase(n).then(function(e){e=e.success;return c(null,{success:e})}):c(!0,{success:!1}))):setTimeout(e,1e3)}();n.handleClick=function(e){e&&e.preventDefault();var e=s.item;return e.flags.hasInscriptionForm?t(e.inscriptionFormLink):'resources'===e.contentType&&!e.flags.isPaid&&e.flags.wasPurchased?t(s.item.url):void(e.flags.isPaid&&!e.flags.wasPurchased&&(e=s.item,r.createPurchase({type:e.contentType,_id:e._id,canUseMembership:e.flags.canUseMembership,backUrl:'contenidos/'.concat(e.contentType,'/').concat(e.slug)},c)))}}]}),angular.module('core').component('chContentsList',{bindings:{contentType:'<'},templateUrl:'modules/platform/contents/components/ch-contents-list/ch-contents-list.view.html',controllerAs:'vm',controller:['$rootScope','$scope','ContentsSrv','$timeout',function(s,n,t,o){var r=this,a=this;a.$onInit=function(e){var t=a.controller=(t=r.contentType,i[t]||i.default(t));n.options=t.viewOptions,t.init(a,n,e)},n.$on('CONTENT:RELOAD',function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:s.contentFilters;t&&a.contentType===n&&a.controller.getAndSet(r,!0)});var i={defaultOptions:{webinars:{mainTitle:'Últimos Webinars',urlPrefix:'contenidos/webinars/',ctaIcon:'play-outline'},videos:{mainTitle:'Últimos Videos',urlPrefix:'contenidos/videos/',ctaIcon:'play-outline'},resources:{mainTitle:'Últimos Recursos',urlPrefix:'contenidos/resources/',ctaLabel:'Más info',ctaIcon:'download'},podcasts:{mainTitle:'Últimos Podcasts',urlPrefix:'contenidos/podcasts/',ctaLabel:'Escuchar',ctaIcon:'headphones'},blogs:{mainTitle:'Últimos Blogs',urlPrefix:'contenidos/blog/',listView:1,ctaIconSize:'.75em',ctaLabel:'Leer'}},default:function(e){return{vm:null,key:e,init:function(e,t,n){this.vm=e,this.scope=t,Promise.all([this.getAndSet(n)])},getAndSet:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.contentFilters||{},a=1<arguments.length?arguments[1]:void 0;return new Promise(function(t,e){n.getItems(r).then(function(e){n.vm.items=e||[],(!n.vm.items.length&&n.getRelated()||Promise.resolve()).then(function(){o(function(){return n.scope.$emit('show',n.key,a)},!a&&1e3),t()})}).catch(e)})},getItems:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.contentFilters||{};return t['get'+s.capitalize(this.key)](e)},getRelated:function(){var n=this;return new Promise(function(t,e){n.getItems({limit:4}).then(function(e){n.vm.relatedItems=_.shuffle(e||[]),t()}).catch(e)})},viewOptions:this.defaultOptions[e]}}}}]}),angular.module('core').component('chMembershipBanner',{templateUrl:'modules/platform/contents/components/ch-membership-banner/ch-membership-banner.view.html',controllerAs:'vm',controller:['$rootScope',function(t){var n=this;n.$onInit=function(){var e;n.hasMembership=null==t||null==(e=t.USER)?void 0:e.flags.hasMembership}}]}),angular.module('core').component('chRelatedList',{bindings:{items:'<',toState:'<',contentType:'<'},templateUrl:'modules/platform/contents/components/ch-related-list/ch-related-list.view.html',controllerAs:'vm',controller:[function(){var s=this;s.$onInit=function(){if('podcasts'!==s.contentType){for(var e=s.items||[],t=[],n=0;n<e.length;n++)t.push((r=e[n],a=void 0,r.title=60<(null==(a=r.title)?void 0:a.trim().length)?r.title.trim().slice(0,55)+'...':r.title,r));s.items=t}var r,a}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('podcast',{parent:'platform',url:'/contenidos/podcasts/:slug',component:'podcast',data:{requiresLogin:!0},resolve:{contentTmp:['ContentsSrv','$stateParams',function(e,t){return e.getPodcasts(t)}]}})}]).component('podcast',{bindings:{contentTmp:'<'},templateUrl:'modules/platform/contents/components/podcasts/podcast.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope',function(e,t){var n=this;function r(){return e.getPodcasts({_id:n.contentTmp._id}).then(function(e){return n.contentTmp=e})}n.$onInit=function(){Promise.all([e.getPodcastsRelated({_id:n.contentTmp._id}).then(function(e){return n.relatedContent=e})]).then(),t.$on('PURCHASE:COMPLETED',r)}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('podcasts',{parent:'platform',url:'/podcasts',component:'podcasts',data:{requiresLogin:!0},resolve:{items:['ContentsSrv',function(e){return e.getPodcasts()}]}})}]).component('podcasts',{bindings:{items:'<'},templateUrl:'modules/platform/contents/components/podcasts/podcasts.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope',function(e,t){e.componentDefaults('Podcasts').init(this,t)}]}),angular.module('core').config(['$stateProvider',function(e){e.state('resource',{parent:'platform',url:'/contenidos/resources/:slug',component:'resource',data:{requiresLogin:!0},resolve:{contentTmp:['ContentsSrv','$stateParams',function(e,t){return e.getResources(t)}]}})}]).component('resource',{bindings:{contentTmp:'<'},templateUrl:'modules/platform/contents/components/resources/resource.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope',function(e,t){var n=this;function r(){e.getResources({_id:n.contentTmp._id}).then(function(e){return n.contentTmp=e})}n.$onInit=function(){Promise.all([e.getResourcesRelated({_id:n.contentTmp._id}).then(function(e){return n.relatedContent=e})]).then(function(){n.contentTmp.contentType='resources'}),t.$on('PURCHASE:COMPLETED',r)},n.onClickDownload=function(e){e.preventDefault(),window.open(n.contentTmp.url,'_blank').focus()}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('resources',{parent:'platform',url:'/recursos',component:'resources',data:{requiresLogin:!0},resolve:{resources:['ContentsSrv',function(e){return e.getResources()}]}})}]).component('resources',{bindings:{resources:'<'},templateUrl:'modules/platform/contents/components/resources/resources.view.html',controllerAs:'vm',controller:['ContentsSrv',function(t){var n=this;n.$onInit=function(){var e;Promise.all([null!=(e=n.resources)&&e.length?e:t.getResources().then(function(e){return n.resources=e})])}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('video',{parent:'platform',url:'/contenidos/videos/:slug',component:'videoDetail',data:{requiresLogin:!0},resolve:{contentTmp:['ContentsSrv','$stateParams',function(e,t){return e.getVideos(t)}]}})}]).component('videoDetail',{bindings:{contentTmp:'<'},templateUrl:'modules/platform/contents/components/videos/video.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope',function(e,t){var n=this;n.$onInit=function(){Promise.all([e.getVideosRelated({_id:n.contentTmp._id}).then(function(e){return n.relatedContent=e})]).then(function(){})},t.$on('PURCHASE:COMPLETED',function(){return e.getVideos({_id:n.contentTmp._id}).then(function(e){return n.contentTmp=e})})}]}),angular.module('core').config(['$stateProvider',function(e){e.state('videos',{parent:'platform',url:'/videos',component:'videos',data:{requiresLogin:!0},resolve:{videos:['ContentsSrv',function(e){return e.getVideos()}]}})}]).component('videos',{bindings:{videos:'<'},templateUrl:'modules/platform/contents/components/videos/videos.view.html',controllerAs:'vm',controller:['ContentsSrv',function(t){var n=this;n.$onInit=function(){var e;Promise.all([null!=(e=n.videos)&&e.length?e:t.getVideos().then(function(e){return n.videos=e})])}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('webinar',{parent:'platform',url:'/contenidos/webinars/:slug',component:'webinar',data:{requiresLogin:!0},resolve:{contentTmp:['ContentsSrv','$stateParams',function(e,t){return e.getWebinars(t)}]}})}]).component('webinar',{bindings:{contentTmp:'<'},templateUrl:'modules/platform/contents/components/webinars/webinar.view.html',controllerAs:'vm',controller:['ContentsSrv','$scope','$filter',function(n,e,r){var a=this;a.$onInit=function(){var e,t;null!=(t=a.contentTmp)&&t.startDate&&(e=(t=a.contentTmp).startDate,t=t.startHour,a.contentTmp.startDateAlias='En vivo el '.concat(r('date')(e,'dd/MM'),' ').concat(r('date')(t,'HH:mm'),'hs.')),Promise.all([n.getWebinarsRelated({_id:a.contentTmp._id}).then(function(e){return a.relatedContent=e})]).then(function(){})},e.$on('PURCHASE:COMPLETED',function(){return n.getWebinars({_id:a.contentTmp._id}).then(function(e){return a.contentTmp=e})})}]}),angular.module('core').config(['$stateProvider',function(e){e.state('webinars',{parent:'platform',url:'/webinars',component:'webinars',data:{requiresLogin:!0},resolve:{items:['ContentsSrv',function(e){return e.getWebinars()}]}})}]).component('webinars',{bindings:{items:'<'},templateUrl:'modules/platform/contents/components/webinars/webinars.view.html',controllerAs:'vm',controller:[function(){this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case'end':return e.stop()}},e)}))}]}),angular.module('core').config(['$stateProvider',function(e){e.state('contents',{parent:'platform',url:'/contenidos',reloadOnSearch:!1,component:'contents',data:{requiresLogin:!0,isFbLocked:!0}}).state('contents/:type',{parent:'platform',url:'/contenidos/:type',params:{type:{dynamic:!0}},reloadOnSearch:!1,component:'contents',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('contents',{templateUrl:'modules/platform/contents/contents.view.html',controllerAs:'vm',controller:['$stateParams','$state','$rootScope','$scope','$timeout','$transitions',function(t,e,o,i,n,r){var a=this,l=(a.isIframe='true'===window.IS_IFRAME,a.onClickFilter=function(){i.hide(!0).then(function(){s(),l()})},function(){return o.$broadcast('CONTENT:RELOAD',!0,i.tabListOptions.activeTab.key)}),s=function(){try{var e,t,n;o.contentFilters={category:null==(e=a.filters.category.options.find(function(e){return e.active}))?void 0:e.key,forPersona:null==(t=a.filters.forPersona.options.find(function(e){return e.active}))?void 0:t.key,freemium:null==(n=a.filters.freemium.options.find(function(e){return e.active}))?void 0:n.key}}catch(e){console.info(e)}};i.hide=function(t){return new Promise(function(e){if(i.hidden)return e();$('ch-content-card').addClass('hide'),t?$('ch-content-card').addClass('_quick'):$('ch-content-card').removeClass('_quick'),i.hidden=!0,n(e,t?300:i.transitionDuration)})},i.show=function(t){return new Promise(function(e){if(!1===i.hidden)return e();i.hidden=!1,o.$tryDigest(),t?$('ch-content-card').addClass('_quick'):$('ch-content-card').removeClass('_quick'),n(function(){$('ch-content-card.global-hide').removeClass('hide'),n(function(){return e()},t?300:i.transitionDuration)})})},i.onTabChange=function(t){(t='string'==typeof t?c.find(function(e){return e.key===t}):t)&&i.tabListOptions.activeTab!==t&&e.go('contents/:type',{type:t.key})},i.transition=function(t,e){try{var n=d=Date.now();if(t='string'==typeof t?c.find(function(e){return e.key===t}):t){for(var r=c,a=0;a<r.length;a++)(s=r[a]).active=t.key===s.key;i.hide(e).then(function(){n===d&&(i.tabListOptions||(i.tabListOptions={activeTab:null}),i.tabListOptions.activeTab=i.activeTab=t,o.$tryDigest(),l())})}}catch(e){console.info(e)}var s};a.$onInit=function(){try{(c=c.filter(function(e){return _.isUndefined(e.enable)||e.enable})).length&&(t.type?(e=c.find(function(e){return[e.key.toLowerCase(),e.label.toLowerCase()].includes(t.type)}))&&(e.active=!0):c[0].active=!0),i.tabListOptions={items:i.tabs=c,setTabsInternally:!1,clickHandler:i.onTabChange,activeTab:i.activeTab=c.find(function(e){return e.active})},(o.contentFilters?function(){for(var n in o.contentFilters)!function(){var t=o.contentFilters[n],e=a.filters[n].options.find(function(e){return e.key===t});e&&(e.active=!0)}()}:s)()}catch(e){console.warn(e)}var e};var c=[{key:'webinars',label:'Webinars'}],d=null,u=(i.transitionDuration=1e3,['contents/:type','contents']);(window.scoop=i).$on('show',function(e,t,n){var r;o.contentsMountId!==i.contentsMountId||(r=c.find(function(e){return e.key===t})).loaded&&!n||(r.loaded=!0,i.show())}),r.onSuccess({},function(e){o.contentsMountId===i.contentsMountId&&u.includes(e.to().name)&&i.transition(t.type,e.to().name!==e.from().name&&'contents'!==e.from().name)}),o.contentsMountId=i.contentsMountId=Date.now()}]}),angular.module('core').component('chCourse2021',{templateUrl:'modules/platform/courses/directives/ch-course-2021/ch-course-2021.view.html',controllerAs:'vm',controller:[function(){var n=this;n.$onInit=function(){var e=location.search,e=void 0===e?'':e,t=location.pathname;t.includes('desafios-entregados')&&(t=t.replace('desafios-entregados','desafios')),n.iframePath=''.concat(window.CH_PLATFORM_AERO_2021,'/').concat(t.slice(1)).concat(e)}}]}),angular.module('core').component('chCourseAttendance',{templateUrl:'modules/platform/courses/directives/ch-course-attendance/ch-course-attendance.view.html',controllerAs:'vm',controller:['CoursesSrv','NotificationSrv','$timeout','$filter','$rootScope','$stateParams','FEATURES',function(b,o,w,T,y,k,s){var _=this,i=T('translate');function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getTeacherCourse({userId:null==(t=y.USER)?void 0:t._id,camadaId:k.camadaId});case 2:t=e.sent,n=t.data,_.camadaTmp=n;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function c(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i,l,c,d,u,m,p,v,g,f,h;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getAttendances({camadaId:k.camadaId,teacherId:null==(t=y.USER)?void 0:t._id,ts:Date.now()});case 2:for(t=e.sent,s=t.data,n=s.allTutors,r=s.allStudents,a=s.schedules,s=s.flags,_.flags=s,o=n,i=function(e){e.schedules=S(e.schedules);for(var t=e.schedules.filter(function(e){return e.attendend}),n=[],r=0;r<t.length;r++)n.push(t[r]._id);return e.schedulesSet=new Set(n),e},l=[],c=0;c<o.length;c++)l.push(i(o[c]));for(_.allTutors=l,d=r,u=function(e){e.schedules=S(e.schedules);for(var t=e.schedules.filter(function(e){return e.attendend}),n=[],r=0;r<t.length;r++)n.push(t[r]._id);return e.schedulesSet=new Set(n),e},m=[],p=0;p<d.length;p++)m.push(u(d[p]));for(_.allStudents=m,v=S(a),g=function(t){var e,n=t.flags,r=t.stage,n=(e='',n.isComplementary&&(e=T('translate')('course.attendance.schedule-complementary')),e=null!=r&&r.name?r.name:T('translate')('course.attendance.schedule-additional'),' - '.concat(e));return t.alias=''.concat(T('date')(t.day,'EEEE dd/MM').toUpperCase(),' ').concat(n),t.amounts=t.amounts||{},t.amounts.attended=_.allStudents.filter(function(e){return e.schedulesSet.has(t._id)}).length,t.amounts.students=_.allStudents.length,t},f=[],h=0;h<v.length;h++)f.push(g(v[h]));_.schedules=f,w(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})},1e3);case 22:case'end':return e.stop()}},e)}))).apply(this,arguments)}function S(e){return e.filter(function(e){return!(null!=(e=e._flags)&&e.isComplementary)})}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.setAttendance({camadaId:_.camadaTmp._id,scheduleId:t._id,studentId:n._id,ts:Date.now()});case 3:t._flags.sameScheduleFrom||o.success({msg:''.concat(T('translate')('course.attendance.toast.attendee'),' - ').concat(n.profile.fullName)}),r&&r(null,t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.error(),r&&r(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.setAbsent({camadaId:_.camadaTmp._id,scheduleId:t._id,studentId:n._id,ts:Date.now()});case 3:t._flags.sameScheduleFrom||o.info({msg:''.concat(T('translate')('course.attendance.toast.absent'),' - ').concat(n.profile.fullName)}),r&&r(null,t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.error(),r&&r(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}_.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([function(){return l.apply(this,arguments)}(),c()]);case 2:t=_.camadaTmp.course,n=Date.now(),(a=new Date(t.startDate)).setDate(a.getDate()-2),(r=new Date(t.endDate)).setDate(r.getDate()+2),_.strategy=Object.assign({},t.flags,{isStarted:n>=a.getTime(),isEnded:n>=r.getTime(),isLoaded:!0,attendanceByMeeting:s.ATTENDANCE_BY_MEETING&&t.flags.isRemote}),_.showAutomaticAttendanceCard=!0,a={coderAskAttendance:i('course.attendance.available-tooltip')},_.tooltips=a;case 12:case'end':return e.stop()}},e)})),_.closeAutomaticAttendanceCard=function(){_.showAutomaticAttendanceCard=!1},_.onClickToogleAttendance=function(e,t,n,r){var a;return e.preventDefault(),_.strategy.isEnded?o.error({msg:T('translate')('course.attendance.toast.course-ended')}):null!=t&&null!=(e=t.flags)&&e.unenrollStudent||null!=t&&null!=(e=t.flags)&&e.inactiveStudent?o.error({msg:null!=t&&null!=(e=t.flags)&&e.unenrollStudent?T('translate')('course.attendance.toast.student-unenroll'):T('translate')('course.attendance.toast.student-inactive')}):(e=function(e,t){if(null!=(e=n._flags)&&e.sameScheduleAs&&null!=r&&null!=(t=r._flags)&&t.sameScheduleFrom)return n._flags.sameScheduleAs===r._id&&n._id===r._flags.sameScheduleFrom}(),n.attendend=!n.attendend,a=_.schedules.find(function(e){return e._id===n._id}),r&&(r.attendend=e?!r.attendend:r.attendend),void(n.attendend?(a.amounts.attended++,function(){d.apply(this,arguments)}):(a.amounts.attended--,function(){u.apply(this,arguments)}))(n,t,function(){}))},_.onClickAttedanceByMeetingParticipants=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.setAttedanceByMeetingParticipants({courseId:_.camadaTmp.course._id,teacherId:y.USER._id,scheduleId:n._id,ts:Date.now()});case 3:r=e.sent,(s=r.data).participants&&o.info({msg:function(e){var t;if(n=(n=(n=(n=(n=(n=T('translate')('course.attendance.toast.attendees')).replace('%participants%',s.participants)).replace('%students%',s.students)).replace('%assigned%',s.assigned)).replace('%attended%',s.attended)).replace('%assigned%',s.assigned),null!=(e=s.notAttended)&&e.length){for(var n=n+T('translate')('course.attendance.toast.not-found')+'<ul class="list-unstyled">',r=s.notAttended,a=0;a<r.length;a++)t=r[a],n+='<li>'.concat(t.fullName,'</li>');n+='</ul>'}else n+=T('translate')('course.attendance.toast.all-found');return n}(),delay:1e4}),c();case 7:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),_.onClickMeetingPartipants=function(e,t){e.preventDefault(),y.$emit('MODAL:COURSE_MEETING_PARTICIPANTS:OPEN',!0,_.camadaTmp.course,t)}}]}),angular.module('core').controller('chCourseCampusDeliversCtrl',['$scope','$rootScope','FEATURES','CoursesSrv','$filter','$stateParams','$state','IconSvgSrv','StorageSrv',function(g,f,e,h,t,b,a,n,r){var w=t('translate'),T=this,s=(T.loading=!0,g.newChallengesUrl=''.concat(window.STAFF_DELIVERS,'/').concat(g.camadaTmp.id),T.FEATURES=e,g.IS_MOBILE=f.IS_MOBILE,null==e?void 0:e.COURSE_CAMPUS_DELIVERS_CAMADAS.includes(g.camadaTmp.id)),o=(T.optionClass='class-all',g.icons=['challenge-pen','sliders','circle-red'],$(document).on('click','.dropdown-menu',function(e){e.stopPropagation()}),T.$onInit=function(){var e=g.camadaTmp,t=Object.assign({},g.camadaTmp.course),e=(t.camada={_id:e._id,id:e.id},(new Date).getTime()),n=new Date(t.startDate),r=(n.setDate(n.getDate()-2),new Date(t.endDate));r.setDate(r.getDate()+2),t.flags=Object.assign(t.flags,{isStarted:!!t.flags.isPersonalGoal||e>=n.getTime(),isEnded:!t.flags.isPersonalGoal&&e<=r.getTime(),showDeliversResponseTime:!t.flags.isPrerecorded}),T.courseTmp=t,T.hasNewChallengesActive=f.hasAccessToNewDeliver,T.hasNewChallengesActive?T.loading=!1:Promise.all([o(),!!T.courseTmp.flags.isStarted&&h.getDeliversProgress({camadaId:b.camadaId,teacherId:null==(n=f.USER)?void 0:n._id,ts:(new Date).getTs()}).then(function(e){T.progress=null==e?void 0:e.data,T.progress.headline={reviewed:w('ch-course-delivers.headline.reviewed'),unreviewed:w('ch-course-delivers.headline.unreview'),reviewedOffTime:w('ch-course-delivers.headline.reviewedOffTime')},T.progress.details={reviewed:w('ch-course-delivers.details.reviewed').replace('%reviewed%',T.progress.total.reviewed).replace('%delivered%',T.progress.total.delivered),unreviewed:w('ch-course-delivers.details.unreview').replace('%delivered%',T.progress.total.delivered),reviewedOffTime:w('ch-course-delivers.details.reviewedOffTime').replace('%deliversOnTime%',T.progress.total.deliversOnTime)},g.loading=!1}),i(),function(){return l.apply(this,arguments)}()]).then(function(){b['open-deliver']&&T.deliverTmp&&T.deliverTmp._id?a.go('platform-course-deliver-review',{camadaId:T.courseTmp.camada.id,courseSlug:T.courseTmp.level.url,moduleId:T.deliverTmp.module._id,deliverId:T.deliverTmp._id}):(T.loading=!1,$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100}))})},function(){return n.getMany(g.icons).then(function(e){return g.icons=e})});var i=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i,l,c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getTeacherDelivers({camadaId:b.camadaId,teacherId:null==(t=f.USER)?void 0:t._id});case 3:for(t=e.sent,T.teacherModules=t.data,n=function(e){for(var t=e,n=[],r=0;r<t.length;r++)n.push(function(t){for(var e=t.modules,n=function(e){return _objectSpread(_objectSpread({},e),{},{stage:t.name})},r=[],a=0;a<e.length;a++)r.push(n(e[a],a,e));var s=r;return _objectSpread(_objectSpread({},t),{},{modules:s})}(t[r]));return n}(T.teacherModules),n=function(e){for(var t=e,n=[],r=0;r<t.length;r++)n.push(function(e){var t=e.modules.filter(function(e){return'Onboarding'!==e.type});return _objectSpread(_objectSpread({},e),{},{modules:t})}(t[r]));return n}(n),r=n,a=function(e){return e.modules.filter(function(e){return new Date(e.deliveryHabilitationDate)<=Date.now()&&e.reviewedPercentage<100||e.unviewedMessages})},s=[],o=0;o<r.length;o++)s.push(a(r[o]));for(i=n,l=function(e){return e.modules.filter(function(e){return new Date(e.deliveryHabilitationDate)>Date.now()})},c=[],d=0;d<i.length;d++)c.push(l(i[d]));for(u=n,m=function(e){return e.modules.filter(function(e){return 100<=e.reviewedPercentage&&!e.unviewedMessages})},p=[],v=0;v<u.length;v++)p.push(m(u[v]));g.setUIRows=[{label:w('ch-course-delivers.delivers.under-review'),modules:s.flat()},{label:w('ch-course-delivers.delivers.next-deliveries'),modules:c.flat(),limit:3},{label:w('ch-course-delivers.delivers.revised-no-messages'),modules:p.flat(),limit:3}],e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0.message);case 25:case'end':return e.stop()}},e,null,[[0,22]])}));return function(){return e.apply(this,arguments)}}();function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=b['open-deliver'])&&t.length)return e.next=3,h.getDeliver({camadaId:b.camadaId,deliverId:b['open-deliver'],userId:f.USER._id,ts:Date.now()});e.next=6;break;case 3:t=e.sent,n=t.data,T.deliverTmp=n;case 6:return e.abrupt('return',!1);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}T.onClickShowUnreviwed=function(e){if(e.preventDefault(),s)return a.go('platform-course-campus-common',{camadaId:g.camadaTmp.id,courseSlug:T.courseTmp.level.url,homeworkId:''});f.$emit('MODAL:COURSE_UNREVIEWED_DELIVERS:OPEN',!0,T.courseTmp)},T.handleDeliverView=function(e,t){return e.preventDefault(),e.stopPropagation(),a.go('platform-course-deliver',{camadaId:g.camadaTmp.id,courseSlug:g.camadaTmp.course.level.url,moduleId:t})},T.onClickDeliversReviewedOffTime=function(){return f.$emit('MODAL:COURSE_DELIVERS_REVIEWED_OFF_TIME:OPEN',!0,T.courseTmp)}}]),angular.module('core').directive('chCourseCampusDelivers',[function(){return{restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-campus-delivers/ch-course-campus-delivers.html',controller:'chCourseCampusDeliversCtrl',controllerAs:'vm',scope:{camadaTmp:'='}}}]),angular.module('core').directive('chCourseCard',[function(){return{scope:{courseTmp:'<',isCertificate:'<'},restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-card/ch-course-card.view.html',controllerAs:'vm',controller:['$rootScope','$state','FEATURES','$scope','NormalizeSrv','IconSvgSrv','$filter','CertificationsSrv','AmplitudeSrv','CoursesSrv',function(c,t,d,u,m,e,p,n,r,o){var a,v,s=this,g=p('translate'),f=(s.$onInit=function(e){a=u.courseTmp,s.item=i(a),b()},function(e){var t,n={};return null!=e&&e._id&&((n={_id:e._id,avatar:'url('.concat(null==(t=e.profile)?void 0:t.avatar,')'),hasPicture:!(null==(t=e.profile)||!t.avatar),initials:e.initials,name:(null==(t=e.profile)?void 0:t.fullName)||''.concat(null==(t=e.profile)?void 0:t.first_name,' ').concat(null==(t=e.profile)?void 0:t.last_name).trim()}).hasName=!!n.name),n}),i=function(e){var t,n=e.level,r=e.schedules,a=e.camada,s=e.startDate,o=e.flags,i=e.modality,l=e.zoomUrl,r=(v=o.isEnded&&u.isCertificate,{raw:e,title:n.title,description:n.description,hours:l?g('ch-course.now-live'):null==r?void 0:r.hours,days:(null==r?void 0:r.daysString)&&(null==r?void 0:r.daysString.join(', ').replace(/,\s([^,]+)$/,' '.concat(g('ch-course.and'),' $1')))||'',flags:_objectSpread(_objectSpread({},o),{},{isTrainingCamp:-1!==n.title.toLowerCase().indexOf('training camp'),showBtnShare:function(){if(!o.isContainer&&o.isRemote){var e;if(d.REFERRAL_CUPON_TEACHER&&null!=(e=c.PERMISSIONS)&&e.teacher)return!o.isStarted||o.isEnded;if(d.REFERRAL_CUPON&&null!=(e=c.PERMISSIONS)&&e.student)return o.isNpsPromoter||!o.isStarted}return!1}()}),icons:{},camada:''.concat(p('translate')('course.card.commission'),' ').concat(a.id),modality:i,teacher:f(a.leadTeacher),assistant:f(a.personalAssistant),nextSche:(n=a.nextSche,o.isContainer?{label:''}:o.isPlanned&&!o.isStarted?{label:''.concat(p('translate')('course.card.start-date'),' ').concat(p('date')(s,'EEEE'),' ').concat(p('date')(s,'dd/MM'))}:(n=!n&&null!=r&&r.length?a.schedules.find(function(e){return new Date(e.day).getTime()>(new Date).getTime()}):n)?{label:l?g('ch-course.today'):n.day&&m.getRelativeDate(n.day),flags:n.flags}:null),isDisabled:o.isEnded||o.isNext,showCertificateIframe:v,certUrl:v&&''.concat(null==e||null==(i=e.cert)?void 0:i.url,'?embed=true&embed_cert=true'),tag:(s={},o.isCandidate?s={show:!1,label:p('translate')('course.card.tags.candidate')}:o.isContainer?s={show:!1}:o.isOnboarding?s={show:!1,label:p('translate')('course.card.tags.onboarding')}:o.isPrerecorded||o.isRemoteRecorded?s={show:!1,label:p('translate')('course.card.tags.recorded')}:o.isInProgress?s={show:!1,label:null!=o&&o.isTeacher?p('translate')('course.card.tags.active'):p('translate')('course.card.tags.active.2')}:o.isPlanned?s={show:!1,label:p('translate')('course.card.tags.next')}:o.isEnded&&(s={show:!1,label:p('translate')('course.card.tags.ended')}),s),btnLabel:o.isCandidate?o.hasPostulationsLocked&&null!=(t=c.USER)&&null!=(t=t.flags)&&t.isTutor||o.hasTeachersPostulationsLocked&&null!=(t=c.USER)&&null!=(t=t.flags)&&t.isTeacher?p('translate')('course.card.btn-postulation-closed'):p('translate')('course.card.btn-postulation'):o.isOnboardingVideos?p('translate')('course.card.btn-videos'):o.isOnboarding?p('translate')('course.card.btn-content'):v?p('translate')('course.card.btn-cert'):p('translate')('course.card.btn-go-to'),btnShareLabel:o.isNpsPromoter||o.isEnded&&o.isTeacher?p('translate')('course.card.btn-recomend'):p('translate')('course.card.btn-invite'),btnZoomLabel:g('course.card.btn-zoom'),zoomUrl:l});return v&&h(),r},l=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseOid,s=t.scheduleId,a=t.userId,r=t.oldMeetingLink,e.next=3,o.getMeetingAttendanceLink({userId:a,scheduleId:s,courseId:n});case 3:return a=e.sent,s=a.meeting,e.abrupt('return',null!=(n=null==s?void 0:s.link)?n:r);case 6:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getHtml({id:a.cert._id});case 2:return e.abrupt('return',s.certificationHtml=e.sent);case 3:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){return e.getMany(['calendar-1','horario','fecha']).then(function(e){return s.item.icons=e})};s.onClickCourse=function(e){if(e&&e.preventDefault(),v)s.item.raw.cert?window.open(s.item.raw.cert.url,'_blank'):c.$emit('MODAL:PROFILE_CERTIFICATION:OPEN',!0,s.item.raw);else{if(a.flags=a.flags||{},a.flags.isCandidate)return c.$broadcast('MODAL:COURSE_CANDIDACY:OPEN',!0,a,a.level,c.USER);if(a.flags.isOnboardingVideos)return r.logEvent('onboarding-resource',{title:'onboarding-videos'}),t.go('onboarding-videos-teacher');if(a.flags.isOnboardingVideo)r.logEvent('onboarding-resource',{title:a.level.title,link:a.link}),c.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,{name:a.level.title,schedule:{recordingVideoLink:a.link}});else{if(!a.flags.isOnboardingDocumentation)return a.flags.isOnboardingExternal?(r.logEvent('onboarding-resource',{title:a.level.title,link:a.link}),window.open(a.link,'_blank').focus()):a.playbook?t.go('platform-playbooks',{camadaId:a.camada.id,courseSlug:a.level.url}):t.go('platform-course',{camadaId:a.camada.id,courseSlug:a.level.url});r.logEvent('onboarding-resource',{title:a.level.title,link:a.link}),c.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:{name:a.level.title},scheTmp:{presentationLink:a.link},courseTmp:a})}}},s.onClickShare=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),c.$emit('MODAL:REFERRAL_CUPON:OPEN','dashboard.course',{courseTitle:a.level.title,isFromRecomendation:a.flags.isStarted,isFromInvite:!a.flags.isStarted})},s.showZoomBtn=function(e){return!!s.item.zoomUrl},s.onClickGoToZoom=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),null!=(n=a)&&n.camada.zoomRegistrant)return e.prev=3,e.next=6,l({courseOid:null==(n=a)?void 0:n._id,scheduleId:null==(n=a)?void 0:n.currentScheduleId,userId:null==(n=c.USER)?void 0:n._id,oldMeetingLink:s.item.zoomUrl});e.next=13;break;case 6:return n=e.sent,e.abrupt('return',window.open(n,'_blank'));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt('return',window.open(s.item.zoomUrl,'_blank'));case 13:window.open(s.item.zoomUrl,'_blank');case 14:case'end':return e.stop()}},e,null,[[3,10]])}));return function(e){return t.apply(this,arguments)}}()}]}}]),angular.module('core').component('chCourseChat',{bindings:{camadaTmp:'<',chatChannel:'=',fullScreen:'='},templateUrl:'modules/platform/courses/directives/ch-course-chat/ch-course-chat.view.html',controllerAs:'vm',controller:[function(){}]}),angular.module('core').component('chCourseClassmatesV2',{bindings:{course:'<',camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-classmates-v2/ch-course-classmates-v2.view.html',controllerAs:'vm',controller:['$scope','CoursesSrv','$rootScope','FEATURES','PERSONAL_GOALS','$element','$transitions','$state','$filter',function(a,s,o,e,t,i,l,n,r){var c,d=this,u=(a.pageAtTop=null,d.isIframe='true'===window.IS_IFRAME,d.USER=o.USER,d.FEATURES=e,d.isObjectiveActive=!1,d.isTutorActive=!1,d.strategy={loaded:!1},r('translate')),m=(d.filterOptions=[{key:'tutor',label:u('course.classmates.filters.assistant')},{key:'objetivo',label:u('course.classmates.filters.objective')}],{teacher:u('course.classmates.roles.teacher'),assistant:u('course.classmates.roles.assistant'),assistantAsk:u('course.classmates.roles.assistant-ask'),syncAssistant:u('course.classmates.roles.sync-assistant'),reviewerAssistant:u('course.classmates.roles.reviewer-assistant'),substitute:u('course.classmates.roles.substitute'),specialist:u('course.classmates.roles.specialist'),coordinator:u('course.classmates.roles.coordinator'),coordinatorAsk:u('course.classmates.roles.coordinator-ask'),associate:u('course.classmates.roles.associate'),associateAsk:u('course.classmates.roles.associate-ask'),student:u('course.classmates.roles.student')}),p={sameTutor:!1,samePersonalGoal:!1};function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getClassmates({courseId:(null==(t=d.camadaTmp)?void 0:t.course._id)||(null==(t=d.course)?void 0:t._id),userId:o.USER._id,v2:1});case 2:t=e.sent,n=t.data,d.allTeachers=null==n?void 0:n.map(function(e){return e.rolAlias=m[e.rol]||'',e.tutorOf.forEach(function(e){return e.flags.show=!0}),e.flags.isCurrentUserTutor=!!e.tutorOf.find(function(e){return e._id===o.USER._id}),e.flags.show=!0,e});case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getClassmate({courseId:(null==(n=d.camadaTmp)?void 0:n.course._id)||(null==(n=d.course)?void 0:n._id),userId:t,v2:1});case 2:n=e.sent,(r=n.data).rolAlias=m[r.rol]||'',r.flags.isCurrent=r._id===o.USER._id,d.userTmp=r;case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}d.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.strategy.isTeacher=o.USER.flags.isTeacher,e.next=3,Promise.all([function(){return v.apply(this,arguments)}(),g(o.USER._id)]);case 3:d.strategy.loaded=!0,d.TEXTS={studentsSubtitle:d.strategy.isTeacher?u('course.classmates.teacher-subtitle'):u('course.classmates.student-subtitle')},h();case 6:case'end':return e.stop()}},e)})),d.onClickMyProfile=function(){d.isIframe?b('to-profile'):n.go('profile',{profileSlug:o.USER._id})},d.onClickUser=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,g(n);case 3:window.matchMedia('(max-width: 1200px)').matches&&$('html')[0].scrollTo({top:$('.profile-wrapper').offset().top,behavior:'smooth'});case 4:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),d.onClickChatting=function(e){var t;d.isIframe?b('to-chat'):(t={idTransmitter:{_id:d.USER._id},idReceiver:{_id:d.userTmp._id}},window.localStorage.setItem('to-chat-action',JSON.stringify(t)),document.location.href=window.origin+'/chat')},d.onClickFilter=function(e){switch(e){case'tutor':p.sameTutor=!p.sameTutor;for(var t=d.allTeachers,n=0;n<t.length;n++)(o=t[n]).flags.show=!p.sameTutor||o.flags.isCurrentUserTutor;d.isTutorActive=!d.isTutorActive;break;case'objetivo':p.samePersonalGoal=!p.samePersonalGoal;for(var r=d.allTeachers,a=function(e){for(var t,n=e.tutorOf,r=0;r<n.length;r++)(t=n[r]).flags.show=!p.samePersonalGoal||t.personalGoal===d.userTmp.personalGoal},s=0;s<r.length;s++)a(r[s]);d.isObjectiveActive=!d.isObjectiveActive}var o};var h=function(){var n=!1,e=l.onSuccess({},function(){return n=!0,e()}),r=i.find('.whole-container');!function e(){var t;n||(t=window.pageYOffset,c!==t&&(t=(c=t)>o.VARS['--header-height'],i.css('--sibling-offset-top',r.offset().top+'px'),a.pageAtTop!==(a.pageAtTop=t))&&o._digest(),window.requestAnimationFrame(e))}()};function b(e){var t=Object.freeze({'to-profile':'to-profile','to-chat':'to-chat'});window.parent.postMessage({type:t[e]},'*')}a.shouldIShow=function(e){var t;return!(null!=(t=a.searchInput)&&null!=(t=t.trim())&&t.length)||e.tutorOf.some(function(e){return null==e||null==(e=e.fullName)?void 0:e.toLowerCase().includes(a.searchInput.toLowerCase())})},d.handleProfile=function(e){e.preventDefault(),e.stopPropagation(),d.isIframe?b('to-profile'):n.go('profile',{profileSlug:d.userTmp.profile.slug||d.userTmp._id})}}]}),angular.module('core').directive('chCourseDeliverReview',[function(){return{restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-deliver-review/ch-course-teacher-deliver-review.view.html',controller:'chCourseTeacherDeliverReviewCtrl',controllerAs:'vm',scope:{camadaTmp:'='}}}]),angular.module('core').controller('chCourseTeacherDeliverReviewCtrl',['$scope','FEATURES','ProjectsSrv','UploadsSrv','$rootScope','$timeout','$state','$stateParams','NotificationSrv','CoursesSrv','QuillEditorSrv','$filter','NormalizeSrv','CODER_LANDINGS','AmplitudeSrv',function(d,e,i,s,l,u,t,n,o,r,a,c,m,p,v){var p=p.ASSISTANT_CODER_VALIJA,g=this,f=c('translate'),h=(g.FEATURES=e,g.softScores=[{key:'lowScore',value:f('ch-course-deliver-review.soft-review.low'),disapprove:!0},{key:'mediumScore',value:f('ch-course-deliver-review.soft-review.medium')},{key:'highScore',value:f('ch-course-deliver-review.soft-review.high')}].reverse(),null);function b(){return(b=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getModule({camadaId:n.camadaId,moduleId:n.moduleId,ts:(new Date).getTs()});case 2:return t=e.sent,t=t.data,e.abrupt('return',g.moduleTmp=t);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function w(){return T.apply(this,arguments)}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.deliverId){e.next=2;break}return e.abrupt('return',!1);case 2:return e.next=4,r.getDeliver({camadaId:n.camadaId,deliverId:n.deliverId,userId:l.USER._id,ts:Date.now()});case 4:return t=e.sent,t=t.data,e.abrupt('return',g.deliverTmp=t);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get();case 2:return e.abrupt('return',h=e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function k(){return _.apply(this,arguments)}function _(){return(_=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($('.quill-editor').length){e.next=2;break}return e.abrupt('return',u(k,300));case 2:return e.next=4,h.build('quill-editor',{modules:{toolbar:[['bold','italic','underline','strike'],['code-block'],[{list:'ordered'},{list:'bullet'}],['clean']]},placeholder:f('ch-course-deliver-review.comment-placeholder.2'),theme:'snow'})[0];case 4:g.quillEditor=e.sent,g.quillEditor.on('text-change',function(e,t,n){'user'===n&&S(g.quillEditor.getText())}),null!==(t=localStorage.getItem('draft-tutor-teacher-challenge-'.concat(g.deliverTmp._id)))&&''!==t&&g.quillEditor.setText(t);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}g.ASSISTANT_CODER_VALIJA=p,g.isCoderUComission=l.hasCoderU,g.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([function(){return b.apply(this,arguments)}(),w(),function(){return y.apply(this,arguments)}()]);case 2:i=Object.assign({},d.camadaTmp),o=Object.assign({},i.course),delete i.course,o.camada=i,i=(new Date).getTime(),(l=new Date(o.startDate)).setDate(l.getDate()-2),(c=new Date(o.endDate)).setDate(c.getDate()+2),o.flags=Object.assign(o.flags,{isStarted:!!o.flags.isPersonalGoal||i>=l.getTime(),isEnded:!o.flags.isPersonalGoal&&i<=c.getTime(),showDeliversResponseTime:!o.flags.isPrerecorded}),g.courseTmp=o,g.FEATURES.DELIVER_SOFT_REVIEW=o.hasPreIntegratorTpWithSoftRewiew&&g.moduleTmp.flags.isPreIntegratorTp,g.FEATURES.DELIVER_WITH_ONE_REVIEW=o.hasComplementaryTpWithOneReview&&g.moduleTmp.flags.isComplementaryTp,g.FEATURES.CAN_TUTOR_MAKE_REVIEWS=!o.flags.isSyncAssistant,g.loading=!1,g.chatImageTmp='',g.chatFileTmp='',g.files=[],g.deliverTmp.timeline=g.deliverTmp.timeline.filter(function(e){return'final-deadline'!==e.key||g.deliverTmp.module.integratorTp||g.deliverTmp.status.higScore}),g.currentSoftScore=''.concat((null==(l=g.deliverTmp)||null==(l=l.status)?void 0:l.toSoftScore)||''),g.currentFinalScore=''.concat(g.deliverTmp.score||''),g.tabs={criteria:g.moduleTmp.flags.hasEvaluationCriteria,questions:!1,chat:!0},g.deliverTmp.downloadLink=m.getFileDownloadLink(g.deliverTmp.link),g.deliverTmp.student.premiumTier=(s=g.deliverTmp.student,t=void 0,t=g.FEATURES.PREMIUM_TIERS,null!=s&&s.premiumTier&&(null==s?void 0:s.premiumTier)!==t.bronze&&'NONE'!==(null==s?void 0:s.premiumTier)?s.premiumTier:null),!function(){C.apply(this,arguments)}(g.deliverTmp),a=r=n=t=void 0;for(var t=!(t=g.moduleTmp.flags).isComplementaryTp&&!t.isPreIntegratorTp&&!t.isIntegratorTp,n=[{id:1,value:f('ch-course-deliver-review.shortcuts.empty'),enable:!0},{id:1,value:f('ch-course-deliver-review.shortcuts.received-approved'),directApproval:!0,enable:t},{id:1,value:f('ch-course-deliver-review.shortcuts.thanks-approved'),directApproval:!0,enable:t},{id:1,value:f('ch-course-deliver-review.shortcuts.approved'),directApproval:!0,enable:t}].filter(function(e){return null==e?void 0:e.enable}),r=[],a=0;a<n.length;a++)r.push(function(e,t){return e.id=t,e}(n[a],a));g.messageShortcuts=r,k(),u(function(){var e=document.querySelector('.chat-container .chat-content');null!=e&&e.scrollHeight&&(e.scrollTop=e.scrollHeight)},300);case 30:case'end':return e.stop()}var s,t},e)}));var S=function(e){E(),localStorage.setItem('draft-tutor-teacher-challenge-'.concat(g.deliverTmp._id),e)},E=function(){localStorage.removeItem('draft-tutor-teacher-challenge-'.concat(g.deliverTmp._id))};function C(){return(C=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.chatsUnviewed=!1,t.chat){e.next=3;break}return e.abrupt('return',!1);case 3:for(n=t.chat.filter(function(e){return(null==e?void 0:e.flags.unviewed)&&!(null!=e&&e.flags.fromUser)}),r=n,a=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.messageViewed({courseId:g.courseTmp._id,projectId:g.deliverTmp._id,teacherId:l.USER._id,chatId:t._id,ts:Date.now()});case 2:return t.flags.unviewed=!1,t.flags.viewed=!0,t.viewedBy=t.viewedBy||[],t.viewedBy.push(l.USER._id),e.abrupt('return',t);case 7:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),s=[],o=0;o<r.length;o++)s.push(a(r[o],o,r));return e.next=10,Promise.all(s);case 10:return e.abrupt('return',e.sent);case 11:case'end':return e.stop()}},e)}))).apply(this,arguments)}function R(e,t){i.sendMessage({courseId:g.courseTmp._id,projectId:g.deliverTmp._id,chat:Object.assign({},e,{from:l.USER._id,date:(new Date).getTime()})}).then(function(e){if(g.quillEditor.setText(''),g.chatImageTmp='',g.chatFileTmp='',g.files=[],I(),t)return t()},function(e){return o.error()})}function x(e){var t,n,r,a=g.quillEditor.getText();3<(null==a?void 0:a.length)&&'\n'!=a?function(e){if(/<img\s+[^>]*src="[^"]*base64[^"]*"[^>]*>/gi.test(e))return o.info({msg:f('ch-deliver-review-warning-media')}),!1;if(4e3<function(e){for(var t=e.filter(function(e){return'string'==typeof e.insert}),n=[],r=0;r<t.length;r++)n.push(function(e){return e.insert}(t[r]));return n.join('')}(g.quillEditor.getContents()).length)return o.info({msg:f('ch-deliver-review-warning-characters').replace('{{characters}}',4e3)}),!1;return!0}(t=h.retrieveHTML(g.quillEditor))&&(r=function(){R({text:t,file:g.chatFileTmp,link:g.chatFileTmp,richText:!0},function(){void 0!==e&&e(),E()})},null!=(a=g.files)&&a.length?(a=g.files[0],n=function(e){g.chatFileTmp=e.files&&e.files[0]&&e.files[0].url,r()},a&&!g.uploading&&(g.uploading=!0,o.info({msg:f('ch-course-deliver-review.toast.uploading')}),s.files(a).success(function(e){o.success({msg:f('ch-course-deliver-review.toast.uploaded')}),u(function(){g.uploading=!1,n(e)})}).error(function(){o.error(),u(function(){return g.uploading=!1})}))):r&&r()):e&&e()}function I(){u(function(){w().then(function(){o.info({msg:f('ch-course-deliver-review.toast.sent')})})},1500)}g.onClickTab=function(e,t){e.preventDefault();e={};e[t]=!0,g.tabs=e},g.onClickSendMessage=function(e){e.preventDefault(),x()},g.onClickDisapprove=function(e,t,n,r){e.preventDefault(),i.disapprove({courseId:g.courseTmp._id,projectId:g.deliverTmp._id,score:t,softScore:n,reviewerId:l.USER._id}).then(function(e){var t,n=null==(t=g.deliverTmp.status)?void 0:t.approved;g.deliverTmp.status=null==e?void 0:e.data.status,i.revert({courseId:g.courseTmp._id,projectId:g.deliverTmp._id}),x(function(){n?R({text:f('ch-course-deliver-review.toast.revert-approve')},function(){E()}):w()})},function(e){return o.error()})},g.onClickApprove=function(e,t,n,r){null!=e&&e.preventDefault(),g.deliverTmp.flags.isIntegratorTp&&!t?o.info({msg:f('ch-course-deliver-review.toast.not-score')}):i.approve({courseId:g.courseTmp._id,projectId:g.deliverTmp._id,score:t,softScore:n,reviewerId:l.USER._id}).then(function(e){g.deliverTmp.status=null==e?void 0:e.data.status,x(function(){r||R({text:f('ch-course-deliver-review.toast.approved')},function(){E()})})},function(e){return o.error()})},g.onClickSubmitSoftScore=function(r){null!=r&&r.preventDefault(),null!=r&&r.stopPropagation(),x(function(){g.currentSoftScore?w().then(function(){var e=g.softScores.find(function(e){return e.key===(null==(e=g.deliverTmp)||null==(e=e.status)?void 0:e.toSoftScore)}),t=g.softScores.find(function(e){return e.key===g.currentSoftScore}),n=f('ch-course-deliver-review.message.sent-score').replace('%score%',t.value);e&&g.currentSoftScore!==e.value&&(n=f('ch-course-deliver-review.message.change-score').replace('%score1%',e.value).replace('%score2%',t.value)),e!==t?R({text:n},function(){t.disapprove?g.onClickDisapprove(r,0,t.key,!0):g.onClickApprove(r,0,t.key,!0),E(),I()}):I()}):I()})},g.onClickSubmitFinalScore=function(t){null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),x(function(){var e=parseInt(g.currentFinalScore,10);!e||g.deliverTmp.status.approved&&e===g.deliverTmp.score?I():R({text:f('ch-course-deliver-review.message.final-score').replace('%score%',e)},function(){7<=e?g.onClickApprove(t,e):g.onClickDisapprove(t,e),I()})})},g.onClickUnviewed=function(e,t){e.preventDefault();var n=null==(e=g.deliverTmp.chat)||null==(e=e.filter(function(e){return!e.flags.fromUser}))?void 0:e.last();null!=n&&n._id?i.messageUnviewed({courseId:g.courseTmp._id,projectId:g.deliverTmp._id,teacherId:l.USER._id,chatId:n._id,ts:Date.now()}).then(function(e){n.flags.unviewed=!0,n.flags.viewed=!n.flags.unviewed,n.viewedBy=n.viewedBy||[],n.viewedBy=n.viewedBy.filter(function(e){return e!==l.USER._id}),g.deliverTmp.chatsUnviewed=!0,o.success({msg:f('ch-course-deliver-review.toast.viewed')})}):o.success({msg:f('ch-course-deliver-review.toast.viewed-error')})},g.onClickUploadFile=function(e){e.preventDefault(),document.getElementById('input-file').click()},g.onClickRemoveFile=function(e){e.preventDefault(),g.chatFileTmp='',g.files=[]},d.$watch('vm.projectFile',function(){var e;null!=(e=g.projectFile)&&e.name&&1e7<(null==(e=g.projectFile)?void 0:e.size)?o.info({msg:f('ch-deliver-review-warning-file-size')}):null!=(e=g.projectFile)&&e.name&&(g.files=[g.projectFile])}),g.onClickBack=function(e){e.preventDefault(),t.go('platform-course-deliver',n)},g.onClickAddShortcutMessage=function(e,t){e.preventDefault(),g.quillEditor.insertText(0,t.value),!t.directApproval||g.moduleTmp.flags.isPreIntegratorTp&&g.FEATURES.DELIVER_SOFT_REVIEW||g.onClickApprove()},g.onClickStudentDelivers=function(e,t){e.preventDefault(),l.$emit('MODAL:COURSE_STUDENT_DELIVERS:OPEN',!0,t,g.courseTmp)},g.onClickReportStudent=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),l.$emit('MODAL:REPORT_USER:OPEN',!0,g.courseTmp,l.USER,t.student,t,n?'lock-deliver':'empty-deliver',!0,function(e,t){t&&(n?i.lock({courseId:g.courseTmp._id,projectId:g.deliverTmp._id}).then(function(e){g.deliverTmp.locked=!0,o.success({msg:f('ch-course-deliver-review.toast.locked')}),R({text:f('ch-course-deliver-review.message.locked')})},function(e){return o.error()}):R({text:f('ch-course-deliver-review.message.locked.2')}))})},g.onClickUnlockDeliver=function(e){return e.preventDefault(),i.unlock({courseId:g.courseTmp._id,projectId:g.deliverTmp._id}).then(function(e){var e=null==(e=e.data)?void 0:e.unlockedUntil,t=f('ch-course-deliver-review.message.unlocked');e&&(e=c('date')(e,'dd/MM/yyyy HH:mm'),t=''.concat(t,' hasta el ').concat(e,'hs.')),g.deliverTmp.locked=!1,o.success({msg:t}),R({text:t})},function(e){return o.error()})},g.onClickSoftReviewModal=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$emit('MODAL:GENERIC_DIALOG:OPEN',{title:f('ch-course-deliver-review.soft-review-modal.title'),text:f('ch-course-deliver-review.soft-review-modal.text'),hideRejectCta:1})},g.onClickCoderValija=function(){v.logEvent('coder-valija')}}]),angular.module('core').component('chCourseDeliver',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-deliver/ch-course-deliver.view.html',controllerAs:'vm',controller:['$scope','$rootScope','$timeout','FEATURES','NotificationSrv','CoursesSrv','$filter','$state','$stateParams','IconSvgSrv',function(e,c,s,t,o,d,u,i,m,l){var p=this,v=u('translate');function g(){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var i,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getModuleDelivers({camadaId:m.camadaId,teacherId:null==(i=c.USER)?void 0:i._id,moduleId:m.moduleId,ts:Date.now()});case 2:i=e.sent,l=i.data,p.moduleTmp=l,a=r=n=t=void 0;for(var t=p.moduleTmp.students,n=p.FEATURES.PREMIUM_TIERS,r=t,a=0;a<r.length;a++){o=void 0;var s=r[a];var o=!(null!=s&&s.premiumTier)||(null==s?void 0:s.premiumTier)===n.bronze||'NONE'===(null==s?void 0:s.premiumTier);s.premiumTier=o?null:s.premiumTier}(t=p.moduleTmp).flags.enabledFromDateAlias=v('ch-course-deliver.from-date-alias').replace('%time%',u('date')(t.schedule.day,'dd/MM/yyyy HH:mm')),t.flags.enabledToDateAlias=v('ch-course-deliver.to-date-alias').replace('%time%',u('date')(t.flags.deliverExpirationDate,'dd/MM/yyyy HH:mm')),!function(t){var e=p.camadaTmp.class.stages.find(function(e){return e._id===t.stage});t.stageName=e.name}(p.moduleTmp),p.moduleTmp.students.some(function(e){return(null==e?void 0:e.premiumTier)&&(null==e?void 0:e.premiumTier)!==p.FEATURES.PREMIUM_TIERS.bronze})&&(p.options=[].concat(_toConsumableArray(p.options),[{filter:'byPremium',name:v('ch-course-student-menu.premium')}])),p.onChangeFilters();case 10:case'end':return e.stop()}},e)}))).apply(this,arguments)}function f(e,t){return new Date(e.deliver.createdAt).getTime()>new Date(t.deliver.createdAt).getTime()?1:-1}p.FEATURES=t,p.IS_MOBILE=c.IS_MOBILE,p.options=[{filter:'all',name:v('ch-course-deliver.filters.all')},{filter:'approved',name:v('ch-course-deliver.filters.approved')},{filter:'check',name:v('ch-course-deliver.filters.reviewed')},{filter:'readyCheck',name:v('ch-course-deliver.filters.for-review')},{filter:'deliver',name:v('ch-course-deliver.filters.delivered')},{filter:'noDeliver',name:v('ch-course-deliver.filters.not-delivered')}],p.optionsOrder=[{order:'needRevision',name:v('ch-course-deliver.order.urgent')},{order:'alphabetical',name:v('ch-course-deliver.order.az')}],p.onClickBack=function(e){e.preventDefault(),i.go('platform-course-delivers',m)},p.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.camadaTmp.class.stages.find(function(e){return e.modules.find(function(e){return e._id===m.moduleId})}),p.PEER_REVIEW=''.concat(window.CH_PLATFORM_2021,'/reviews/').concat(m.camadaId,'/').concat(m.moduleId,'/').concat(n._id),n=Object.assign({},p.camadaTmp),t=Object.assign({},n.course),delete n.course,t.camada=n,n=Date.now(),(r=new Date(t.startDate)).setDate(r.getDate()-2),(a=new Date(t.endDate)).setDate(a.getDate()+2),t.flags=Object.assign(t.flags,{isStarted:!!t.flags.isPersonalGoal||n>=r.getTime(),isEnded:!t.flags.isPersonalGoal&&n<=a.getTime(),showDeliversResponseTime:!t.flags.isPrerecorded}),p.courseTmp=t,p.unshowMessages=u('translate')('ch-modal-course-unreviewed-delivers.new.messages'),p.withoutMessages=u('translate')('ch-modal-course-unreviewed-delivers.without.messages'),e.next=17,Promise.all([l.getMany(['magnifier','circle-red']).then(function(e){return p.icons=e}),g()]);case 17:!function(t){var e;t&&(e=p.moduleTmp.students.find(function(e){return(null==(e=e.deliver)?void 0:e._id)===t}),null!=(e=e.deliver)&&e._id?i.go('platform-course-deliver-review',Object.assign({},m,{deliverId:t})):o.info({msg:v('ch-course-deliver.toast.deliver-not-found')}))}(m['open-deliver']||m.open),p.loading=!1,s(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})},1e3);case 20:case'end':return e.stop()}},e)})),c.$on('COURSE:DELIVERS:UPDATE',function(e,t){t&&g()}),p.onChangeFilters=function(){var t=[],e=p.moduleTmp.students;switch(p.currentFilter){case'approved':t=e.filter(function(e){return null==(e=e.deliver)?void 0:e.status.approved});break;case'check':t=e.filter(function(e){var t;return(null==(t=e.deliver)?void 0:t._id)&&!(null!=(t=e.deliver)&&t.status.approved)&&(null==(t=e.deliver)?void 0:t.flags.wasReviewed)});break;case'readyCheck':t=e.filter(function(e){var t;return(null==(t=e.deliver)?void 0:t._id)&&!(null!=(t=e.deliver)&&t.status.approved)&&!(null!=(t=e.deliver)&&t.flags.wasReviewed)});break;case'deliver':t=e.filter(function(e){return e.deliver});break;case'noDeliver':t=e.filter(function(e){return!e.deliver});break;case'byPremium':t=e.filter(function(e){return!!e.premiumTier});break;default:t=p.moduleTmp.students}for(var n=t='alphabetical'===p.currentOrder?t.sort(function(e,t){return e.fullName.localeCompare(t.fullName)}):[].concat(t.filter(function(e){return null==(e=e.deliver)||null==(e=e.flags)?void 0:e.notReviewedWarning}).sort(f),t.filter(function(e){var t=null==(t=e.deliver)?void 0:t.flags;return(null==(e=e.deliver)?void 0:e._id)&&!(null!=t&&t.notReviewedWarning)&&!(null!=t&&t.wasApproved)&&!(null!=t&&t.wasReviewed)}).sort(f),t.filter(function(e){var t=null==(t=e.deliver)?void 0:t.flags;return(null==(e=e.deliver)?void 0:e._id)&&!(null!=t&&t.notReviewedWarning)&&!(null!=t&&t.wasApproved)&&(null==t?void 0:t.wasReviewed)}).sort(f),t.filter(function(e){var t=null==(t=e.deliver)?void 0:t.flags;return(null==(e=e.deliver)?void 0:e._id)&&!(null!=t&&t.notReviewedWarning)&&(null==t?void 0:t.wasApproved)&&(null==t?void 0:t.chatsUnviewed)}).sort(f),t.filter(function(e){var t=null==(t=e.deliver)?void 0:t.flags;return(null==(e=e.deliver)?void 0:e._id)&&!(null!=t&&t.notReviewedWarning)&&(null==t?void 0:t.wasApproved)&&!(null!=t&&t.chatsUnviewed)}).sort(f),t.filter(function(e){return!(null!=(e=e.deliver)&&e._id)})).filter(function(e){return!!e}),r=[],a=0;a<n.length;a++)r.push(function(e){if(null!=(e=e.deliver)&&e.flags.notReviewedWarning)return t.hasReviewedWaring=!0}(n[a]));p.studentTmpFilter=t},p.onClickStudentDelivers=function(e,t){e.preventDefault(),c.$emit('MODAL:COURSE_STUDENT_DELIVERS:OPEN',!0,t,p.courseTmp)},p.onClickModule=function(e){e.preventDefault(),c.$emit('MODAL:COURSE_MODULE_DELIVER:OPEN',!0,p.moduleTmp,p.courseTmp)}}]}),angular.module('core').controller('chCourseDeliversV5Ctrl',['$scope','$rootScope','FEATURES','CoursesSrv','$filter','$stateParams','$state','IconSvgSrv','StorageSrv',function(u,a,e,s,m,o,i,l,E){var p=m('translate'),C=this,c=u;function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=o['open-deliver'])&&t.length)return e.next=3,s.getDeliver({camadaId:o.camadaId,deliverId:o['open-deliver'],userId:a.USER._id,ts:Date.now()});e.next=6;break;case 3:t=e.sent,n=t.data,C.deliverTmp=n;case 6:return e.abrupt('return',!1);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}C.FEATURES=e,C.loading=!0,C.option='all',C.optionClass='class-all',c.icons=['challenge-pen','sliders','circle-red'],$(document).on('click','.dropdown-menu',function(e){e.stopPropagation()}),C.$onInit=function(){var e=u.camadaTmp,t=Object.assign({},u.camadaTmp.course),e=(t.camada={_id:e._id,id:e.id},(new Date).getTime()),n=new Date(t.startDate),r=(n.setDate(n.getDate()-2),new Date(t.endDate)),n=(r.setDate(r.getDate()+2),t.flags=Object.assign(t.flags,{isStarted:!!t.flags.isPersonalGoal||e>=n.getTime(),isEnded:!t.flags.isPersonalGoal&&e<=r.getTime(),showDeliversResponseTime:!t.flags.isPrerecorded}),C.courseTmp=t,E.get('ch-delivers-filters')||{});C.filters=Object.assign(n,{expertMode:_.isUndefined(n.expertMode)?1:n.expertMode}),Promise.all([l.getMany(c.icons).then(function(e){return c.icons=e}),!!C.courseTmp.flags.isStarted&&s.getDeliversProgress({camadaId:o.camadaId,teacherId:null==(e=a.USER)?void 0:e._id,ts:(new Date).getTs()}).then(function(e){C.progress=null==e?void 0:e.data,C.progress.headline={reviewed:p('ch-course-delivers.headline.reviewed'),unreviewed:p('ch-course-delivers.headline.unreview'),reviewedOffTime:p('ch-course-delivers.headline.reviewedOffTime')},C.progress.details={reviewed:p('ch-course-delivers.details.reviewed').replace('%reviewed%',C.progress.total.reviewed).replace('%delivered%',C.progress.total.delivered),unreviewed:p('ch-course-delivers.details.unreview').replace('%delivered%',C.progress.total.delivered),reviewedOffTime:p('ch-course-delivers.details.reviewedOffTime').replace('%deliversOnTime%',C.progress.total.deliversOnTime)}}),!!C.courseTmp.flags.isStarted&&s.getDelivers({camadaId:o.camadaId,teacherId:null==(r=a.USER)?void 0:r._id,ts:(new Date).getTs(),v5:1}).then(function(e){for(var t,o=(new Date).getTime(),a=null==e||null==(t=e.data)?void 0:t.modules.map(function(e){var t,n,r,a,s;return e.headline=e.flags.isComplementaryTp?p('ch-course-delivers.type.complementary'):e.flags.isPreIntegratorTp?p('ch-course-delivers.type.pre-delivery'):e.flags.isIntegratorTp?p('ch-course-delivers.type.final-project'):p('ch-course-delivers.type.challenge'),e.schedule.expirationAlias=(t=new Date(e.schedule.day).getTime(),n=new Date(e.flags.deliverExpirationDate).getTime(),r=e.schedule.day,a=p('ch-course-delivers.data.available-on'),s='',t<o&&o<n?(r=n,s=p('ch-course-delivers.data.expires-on'),a=p('ch-course-delivers.data.from')):n<o&&(r=n,s=p('ch-course-delivers.data.expired-on'),a=p('ch-course-delivers.data.from')),a=''.concat(a,' ').concat(_.capitalize(m('date')(t,'EEEE dd/MM'))),s=''.concat(s,' ').concat(_.capitalize(m('date')(r,'EEEE dd/MM'))),''.concat(a,' ').concat(s)),null!=(n=e.schedule.stage)&&n.name&&(e.schedule.stage.alias=''.concat(p('ch-course-delivers.data.class'),' ').concat(e.schedule.stage.name)),e.schedule.flags.isIncoming&&(e.schedule.flags.isNext=!0),e}),n=u.camadaTmp.class.stages,r=[],s=0;s<n.length;s++)r.push(function(t){var e,n,r;return t.schedule=u.camadaTmp.schedules.find(function(e){return e&&e.stage===t._id}),null!=(e=t.schedule)&&e._id&&(t.schedule.flags=t.schedule.flags||t.schedule._flags,t.modules=a.filter(function(e){return e.stage===t._id}),t.flags.hasDelivers=t.modules&&t.modules.length,t.flags.hasDelivers&&(e=_.sumBy(t.modules,'progress.total.delivered'),n=_.sumBy(t.modules,'progress.total.reviewed'),t.flags.reviewedChallenges=e===n,t.infoTooltip=t.flags.reviewedChallenges?'100% revisados':''.concat(e-n,' por revisar'),e=t.modules.filter(function(e){return e.flags.isTp&&!e.flags.isPreIntegratorTp}).length,n=t.modules.filter(function(e){return e.flags.isPreIntegratorTp}).length,r=t.modules.filter(function(e){return e.flags.isIntegratorTp}).length,t.subtitle=[''.concat(e?''.concat(e,' ').concat(1<e?'desafíos':'desafío'):'')],t.subtitle.push(''.concat(n?''.concat(n,' ').concat(1<n?'pre entregas':'pre entrega'):'')),t.subtitle.push(''.concat(r?''.concat(r,' proyecto final'):'')),t.subtitle=t.subtitle.filter(function(e){return!!e}).join(' | ')),t.selected=(null==(e=C.filters)?void 0:e.currentStage)===t._id),t}(n[s]));C.stages=r;for(var i,l=[{label:p('ch-course-delivers.delivers.under-review'),modules:a.filter(function(e){return!e.schedule.flags.isNext&&(e.progress.total.reviewedPerc<100||e.progress.total.chatsUnviewed)})},{label:p('ch-course-delivers.delivers.next-deliveries'),modules:a.filter(function(e){return e.schedule.flags.isNext}),limit:3},{label:p('ch-course-delivers.delivers.revised-no-messages'),modules:a.filter(function(e){return 100<=e.progress.total.reviewedPerc&&!e.progress.total.chatsUnviewed}),limit:3}],c=[],d=0;d<l.length;d++)c.push(((i=l[d]).modules=_.orderBy(i.modules,['progress.total.reviewedPerc','progress.total.chatsUnviewed'],['asc','desc']),i));C.rows=c,C.flags=null==e||null==(t=e.data)?void 0:t.flags,C.filterByDeliverType(null,C.filters.currentDeliverFilter),C.filterByStage(null,C.filters.currentStageFilter),C.rowsFiltered=C.rows,C.stagesFiltered=C.stages}).catch(function(){return a.$emit('CAMPUS:REDIRECT')}),function(){return d.apply(this,arguments)}()]).then(function(){o['open-deliver']&&C.deliverTmp&&C.deliverTmp._id?i.go('platform-course-deliver-review',{camadaId:C.courseTmp.camada.id,courseSlug:C.courseTmp.level.url,moduleId:C.deliverTmp.module._id,deliverId:C.deliverTmp._id}):(C.loading=!1,$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100}))})},C.onChangeStage=function(a){for(var e=C.rowsFiltered,t=function(e){for(var t,n=e.modules,r=0;r<n.length;r++)(t=n[r]).hide=!!a&&t.stage!==a},n=0;n<e.length;n++)t(e[n])},C.onClickStage=function(e,t){t.selected=!t.selected;for(var n,r,a=C.stages,s=0;s<a.length;s++)n=a[s],r=void 0,n.selected=t._id===n._id&&t.selected,null!=(r=n.schedule)&&r.flags&&(n.schedule.flags.isIncoming=!1);t.selected?C.filterByDeliverType():C.rowsFiltered=C.rows},C.onClickToogleView=function(e){e.preventDefault(),C.filters.expertMode=!C.filters.expertMode,E.set('ch-delivers-filters',C.filters)},C.onClickShowUnreviwed=function(e){e.preventDefault(),a.$emit('MODAL:COURSE_UNREVIEWED_DELIVERS:OPEN',!0,C.courseTmp)},C.onClickDeliversReviewedOffTime=function(e){a.$emit('MODAL:COURSE_DELIVERS_REVIEWED_OFF_TIME:OPEN',!0,C.courseTmp)},C.filterByDeliverType=function(e,t){var n,r,a,s,o,i=JSON.parse(JSON.stringify(C.rows)),l=null==(n=C.stages)?void 0:n.find(function(e){return e.selected});if(null!=l&&l._id){for(var c=i,d=[],u=0;u<c.length;u++)d.push(((r=c[u]).modules=r.modules.filter(function(e){return e.stage===l._id}),r));i=d}switch(t){case'tp':for(var m=i,p=[],v=0;v<m.length;v++)p.push(((o=m[v]).modules=o.modules.filter(function(e){return e.flags.isTp&&!e.flags.isPreIntegratorTp}),o));i=p;break;case'pre-integrator-tp':for(var g=i,f=[],h=0;h<g.length;h++)f.push(((s=g[h]).modules=s.modules.filter(function(e){return e.flags.isPreIntegratorTp}),s));i=f;break;case'integrator-tp':for(var b=i,w=[],T=0;T<b.length;T++)w.push(((a=b[T]).modules=a.modules.filter(function(e){return e.flags.isIntegratorTp}),a));i=w;break;default:C.rowsFiltered=C.rows}for(var y,k=i,_=[],S=0;S<k.length;S++)_.push(((y=k[S]).empty=!y.modules.length,y));C.rowsFiltered=_,C.rowsFiltered.empty=!!(C.rowsFiltered[0].empty&&C.rowsFiltered[1].empty&&C.rowsFiltered[2].empty),C.filters.currentStage=null==l?void 0:l._id,C.filters.currentDeliverFilter=t,E.set('ch-delivers-filters',C.filters)},C.filterByStage=function(e,t){switch(t){case'class-today':C.stagesFiltered=C.stages.filter(function(e){return e.schedule.flags.isToday});break;case'class-past':C.stagesFiltered=C.stages.filter(function(e){return e.schedule.flags.isPast});break;case'next-class':C.stagesFiltered=C.stages.filter(function(e){return e.schedule.flags.isNext});break;default:C.stagesFiltered=C.stages}C.filters.currentStageFilter=t,E.set('ch-delivers-filters',C.filters)},C.onClickToogleShowAll=function(e,t){e.preventDefault(),t.limit=100===t.limit?3:100,t.showAll=!0},$(window).scroll(function(e){var t=$(window).scrollTop();77<t?$('.class-list').css({top:'10%'}):t<77&&$('.class-list').css({top:'auto'})})}]),angular.module('core').directive('chCourseDelivers',[function(){return{restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-delivers/ch-course-delivers-v5.view.html',controller:'chCourseDeliversV5Ctrl',controllerAs:'vm',scope:{camadaTmp:'='}}}]),angular.module('core').component('chCourseLeaderboardV2',{bindings:{course:'<',camadaTmp:'='},templateUrl:'modules/platform/courses/directives/ch-course-leaderboard-v2/ch-course-leaderboard-v2.view.html',controllerAs:'vm',controller:['CoursesSrv','$rootScope','SessionSrv','TYPEFORM','NotificationSrv','$state','$stateParams','FEATURES','SelfManagementSrv','$element','$transitions','$timeout','$filter',function(a,s,o,e,t,n,r,i,l,c,d,u,m){var p,v=this,g=(v.USER=s.USER,v.PERKS_URL=e.PERKS,v.pageAtTop=null,v.leadboardLimit=5,m('translate'));function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=Object.assign({},v.course||(null==(r=v.camadaTmp)?void 0:r.course))).flags=Object.assign({btnBack:s.PERMISSIONS.student,isTeacher:s.PERMISSIONS.teacher,loaded:!1},r.flags),e.next=4;var t=r._id,n=s.USER._id;return a.getLeaderboard({courseId:t,userId:n,honorDeliver:window.ENV_PROD?'':1}).then(function(e){return v.leaderboard=null==e?void 0:e.data,v.userTmp=v.leaderboard.find(function(e){return e._id===n}),v.leaderboard});case 4:r.flags.isUserLeaderboardClosed=r.flags.isEnded&&r.flags.isLeaderboardEnded&&1,r.flags.leaderboardPerksStartDateAlias=m('date')(r.flags.leaderboardPerksStartDate,'dd/MM/yyyy'),r.flags.leaderboardPerksEndDateAlias=m('date')(r.flags.leaderboardPerksEndDate,'dd/MM/yyyy'),r.flags.leaderboardEndDateAlias=m('date')(r.flags.leaderboardEndDate,'dd/MM/yyyy'),v.FEATURES=Object.assign(i,{_STUDENTS_LEADERBOARD:i.STUDENTS_LEADERBOARD&&r.flags.isLeaderboardEnable,_STUDENTS_LEADERBOARD_PERKS:r.flags.hasLeaderboardV1Perks,_STUDENTS_LEADERBOARD_V2:r.flags.hasLeaderboardV2,_STUDENTS_LEADERBOARD_V3:r.flags.hasLeaderboardV3,_STUDENTS_LEADERBOARD_V4:r.flags.hasLeaderboardV4,_STUDENTS_LEADERBOARD_V6:r.flags.hasLeaderboardV6,_STUDENTS_LEADERBOARD_V7:r.flags.hasLeaderboardV7,_DELIVERS_SOFT_REVIEW:r.flags.hasPreIntegratorTpWithSoftRewiew,_COURSE_LEADERBOARD_REQUEST_PERKS:(t=void 0,!(!i.COURSE_LEADERBOARD_REQUEST_PERKS||null==(t=v.userTmp)||!t._id)&&(null==(t=v.userTmp)||null==(t=t.flags)?void 0:t.isInTop)&&(null==(t=r.flags)?void 0:t.isEnded)&&!(null!=(t=r.flags)&&t.isB2B))}),v.courseTmp=r,v.courseTmp.flags.loaded=!0;case 11:case'end':return e.stop()}},e)}))).apply(this,arguments)}v.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.t10DateEnabled=w(),v.top10url=y(),v.isBr=s.IS_ENV_BR,$(document).ready(v.fixWidth),e.next=6,function(){return f.apply(this,arguments)}();case 6:return e.next=8,b();case 8:u(h),s.$on('MODAL:REQUEST_LEADERBOARD_TOP10_PERK:REQUESTED',b);case 10:case'end':return e.stop()}},e)})),v.$onDestroy=function(){$(window).off('resize',v.fixWidth)};var h=function(){$(window).on('resize',v.fixWidth);var r=!1,e=d.onStart({},function(){return r=!0,e()});!function e(){var t,n;r||((n=window.pageYOffset)!==p&&(n=(p=n)<s.VARS['--header-height'],c.css('--sibling-offset-top',((null==(t=c.find('#first-sibling').offset())?void 0:t.top)||0)+'px'),v.pageAtTop!==(v.pageAtTop=n))&&s._digest(),window.requestAnimationFrame(e))}()};function b(){var e;return!(!v.courseTmp.flags.isEnded||null==(e=v.userTmp)||null==(e=e.flags)||!e.isInTop)&&l.getRequests({userId:v.userTmp._id,fromTop10:1,fromCourse:v.courseTmp._id,ts:(new Date).getTs()}).then(function(e){e=null==e?void 0:e.data;null!=e&&e.length&&(v.perkRequestsTmp=e)})}v.onClickBack=function(e){e.preventDefault(),n.go('platform-course',{camadaId:r.camadaId,courseSlug:r.courseSlug})},v.onClickCloseModal=function(e){e.preventDefault(),$('#faq-modal').modal('hide')},v.onClickShowAll=function(e){e.preventDefault(),v.leadboardLimit=5===v.leadboardLimit?999:5},v.onClickRequestTopPerks=function(e){e.preventDefault(),v.courseTmp.flags.isUserLeaderboardClosed?s.$emit('MODAL:REQUEST_LEADERBOARD_TOP10_PERK:OPEN',!0,v.courseTmp,v.userTmp,v.perkRequestsTmp):t.info({msg:''.concat(g('ch-course-leaderboard-v2.toast.claim-at'),' ').concat(v.courseTmp.flags.leaderboardPerksStartDateAlias,'.')})},v.fixWidth=function(){v.windowWidth=$(window).width()},v.onClickShare=function(e){null!=e&&e.preventDefault();e=v.courseTmp.flags;s.$emit('MODAL:SHARE:OPEN','top10',{shareCourseStarts:e.startsTomorrow||e.startsToday||e.isStarted,shareCourseEnds:e.endsTomorrow||e.endsToday||e.isEnded})},v.onClickShowFaq=function(e){e.preventDefault(),window.open(g('ch-course-leaderboard-v2.faqs-link'),'_blank')};var w=function(){var e=moment('2023-11-22T00:00:00.000Z')<moment(v.camadaTmp.course.startDate);return e&&T(),e},T=function(){var r=window.setInterval(function(){var e,t=v.USER,n={authId:o.getAuthId(),token:o.getAuthToken()};t&&(null!=(e=document.getElementById('iframe-top-10'))&&e.id&&e.contentWindow.postMessage({type:'send-user',payload:{auth:n,user:{id:t._id,country:t.profile.country,fullName:t.fullName}}},'*'),window.addEventListener('message',function(e){'t10_data_received'==e.data.event&&window.clearInterval(r)}))},1e3)},y=function(){var e=Object.assign({},v.course||v.camadaTmp.course);return s.PERMISSIONS.student&&!s.PERMISSIONS.teacher?''.concat(window.CH_TOP_10,'/cursos/').concat(e.camada.id,'/').concat(e.level.url,'/top10'):''.concat(window.CH_TOP_10,'/cursos/').concat(e.camada.id,'/').concat(e.level.url,'/coursetop10')}}]}),angular.module('core').component('chCourseMeeting',{bindings:{course:'<',camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-meeting/ch-course-meeting.view.html',controllerAs:'vm',controller:['$stateParams','$rootScope','NotificationSrv','PATHS_PLATFORM','$timeout','$filter',function(a,s,o,e,i,l){var c=e.COURSES,d=this,u=null;d.$onInit=function(){var e,t,n=function(){var e,t=a.scheduleId,n=d.camadaTmp.schedules.find(function(e){return e._id===t}).embedLiveVideoLink;null!=(e=n)&&e.includes('zoom')&&(n=''.concat(window.CH_PLATFORM,'/meeting/meeting.html'));return d.IFRAME_URL=n}();function r(){o.error({msg:l('translate')('ch-course-meeting.toast.error'),delay:1e4})}null!=n&&n.includes('zoom')&&('Chrome'!==(null==s||null==(n=s.$currentPlatform)?void 0:n.browser)&&o.info({msg:l('translate')('ch-course-meeting.toast.not-valid-browser')}),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){return null!=e&&e.active?null:r()}).catch(r),e={courseId:(null==(n=d.camadaTmp)?void 0:n.course._id)||d.course._id,scheduleId:a.scheduleId,userId:s.USER._id},t=0,u=window.setInterval(function(){t++,document.getElementById('iframe-zoom').contentWindow.postMessage({endpoint:''.concat(c,'/').concat(e.courseId,'/schedules/').concat(e.scheduleId,'/meeting/config'),params:e}),5<t&&(o.error({msg:l('translate')('ch-course-meeting.toast.fatal-error')}),window.clearInterval(u))},1e3)),s.$emit('SIDEBAR:CLOSE',!0),i(function(){s.$emit('HEADER:HIDE',!0),s.$emit('SUBHEADER:COLLAPSE',!0),i(function(){return window.dispatchEvent(new Event('resize'))},300)})},window.addEventListener('message',function(e){e=null==e?void 0:e.data;e.received&&window.clearInterval(u),e.code,['error-init','error-joined'].includes(e.code)&&o.error({msg:'<a href="'.concat(e.joinUrl,'" target="_blank">').concat(l('translate')('ch-course-meeting.toast.error-join'),'</a>')})})}]}),angular.module('core').component('chCourseProgramContent',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-program-content/ch-course-program-content.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','$state','$stateParams','$timeout','NotificationSrv','$document','NormalizeSrv','CoursesSrv','StagesSrv','ModulesSrv',function(r,a,s,u,o,i,l,m,n,c,d){var p=this,e=r.PERMISSIONS,v=null,g=null;function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getModules({_id:t._id,tp:!0,integratorTp:!0});case 2:null!=(n=e.sent)&&n.length&&(n=n[0])._id!==p.moduleTmp._id&&(null!=(r=n.text)&&r.length&&(delete n.slideUrl,delete n.videoUrl),b(n));case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function h(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getUserCourseProgramProgress({camadaId:p.camadaTmp.id,userId:r.USER._id,ts:(new Date).getTs()});case 2:t=e.sent,!function(e){var t,o=e.find(function(e){return e.slug===u.stageSlug});if(null!=o&&o._id){o.theoryLink=m.getGoogleDriveFilePreview(o.theoryLink);for(var n=e,r=function(t){var e,n;if(t._id===o._id){t.active=!0;for(var r=t.modules,a=[],s=0;s<r.length;s++)a.push(((e=r[s])._id===p.moduleTmp._id&&(e.active=!0),e));t.modules=a}return null!=(n=t.schedule)&&n._id&&null!=(n=p.camadaTmp.schedules.find(function(e){return e._id===t.schedule._id}))&&n.sharedFolderLink&&(t.schedule.sharedFolderLink=n.sharedFolderLink),t},a=[],s=0;s<n.length;s++)a.push(r(n[s]));e=a,null!=(t=o.schedule)&&t.sharedFolderLink&&(p.embedSharedFolderLink='https://drive.google.com/embeddedfolderview?id='.concat(o.schedule.sharedFolderLink.split('/folders/')[1],'#list'),function(){f.apply(this,arguments)}(o)),p.stageTmp=o}for(var i=!1,l=e.reverse(),c=[],d=0;d<l.length;d++)c.push(function(e){return!i&&e.flags.completed?(i=!0,e.flags.lastCompleted=!0):e.flags.lastCompleted=!1,e}(l[d]));e=c.reverse(),p.stages=e,T(function(e,t){p.hasPrevStage=!!t[e-1],p.hasNextStage=!!t[e+1]}),y(function(e,t){t[e+1]||(p.hideBtnNextModule=!0),t[e-1]||(p.hideBtnPrevModule=!0)})}(t.data);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function b(n){var e,t;null!=n&&n._id&&(n.githubUrl&&(d.getGithubContent({url:n.githubUrl}).then(function(t){o(function(){p.markdownContent=t&&decodeURIComponent(escape(window.atob(t.content)));new SimpleMDE({renderingConfig:{codeSyntaxHighlighting:!0},element:l[0].getElementById('simplemde-markdown'),autoDownloadFontAwesome:!1,indentWithTabs:!1,spellChecker:!1,status:!1,toolbarTips:!1,placeholder:'...'}).value(p.markdownContent);var e=l[0].querySelector('.editor-toolbar');angular.element(e.querySelector('.fa.fa-eye'))[0].click(),angular.element(e)[0].remove()})},function(e){return p.markdownContentError=!0}),o(function(){p.markdownContent||(p.markdownContentError=!0)},5e3)),m.normalizeContentText(n.text,function(e){n.text=e,o(function(){return w(e)})}),m.normalizeContenSlide(n.slideUrl,function(e,t){n.slideEditUrl=e,n.slideUrl=t}),m.normalizeContenVideo(n.videoUrl,function(e){return n.videoUrl=e}),e=p.camadaTmp.schedules.find(function(e){return e.stage===n.stage}),n.flags.canBeEmbed=null==e||null==(t=e.presentationLink)?void 0:t.includes('coda.io'),n.flags.canBeEmbed&&(n.presentationLink=null==e?void 0:e.presentationLink),p.moduleTmp=n,a.upsertProfileHistory({userId:r.USER._id,classId:null!=(t=p.moduleTmp)&&t.class?p.moduleTmp.class:null!=(t=p.stageTmp)&&t.class?p.stageTmp.class:null!=(t=p.camadaTmp.class)&&t._id?p.camadaTmp.class._id:p.camadaTmp.class,moduleId:p.moduleTmp._id}).then(h))}function w(e){var t=l[0].getElementById('simplemde');t&&null!=e&&e.length?((g=new SimpleMDE({element:t,autoDownloadFontAwesome:!1,indentWithTabs:!1,spellChecker:!1,status:!1,toolbarTips:!1,placeholder:'...',toolbar:['bold','italic','heading','heading-smaller','heading-bigger','horizontal-rule','|','quote','code','unordered-list','ordered-list','|','preview','guide']})).value(e),t=l[0].querySelector('.editor-toolbar'),angular.element(t.querySelector('.fa.fa-eye'))[0].click(),angular.element(t)[0].remove(),e=g.value(),t=new Blob([e],{type:'text/plain'}),p.downloadUrl=(window.URL||window.webkitURL).createObjectURL(t),p.nameFile=''.concat(u.stageSlug,'-').concat(u.moduleSlug,'.txt')):o(w)}function T(e){for(var t=p.stages,n=0,r=null==t?void 0:t.length;n<r;n++)if(p.stageTmp._id===t[n]._id)return e(n,t)}function y(e){for(var t=p.stageTmp.modules,n=0,r=null==t?void 0:t.length;n<r;n++)if(p.moduleTmp._id===t[n]._id)return e(n,t)}function k(e,t){_((null==t?void 0:t.slug)||(null==(t=e.modules[0])?void 0:t.slug),e.slug)}function _(t,n){var e=p.stages.find(function(e){return e.slug===n||e.modules.find(function(e){return e.slug===t})});if(null!=e&&e._id&&e.flags.enable||v.flags.isOnline||p.strategy.isTeacher||e.playbookClass)return s.go('platform-course-program-content',{camadaId:p.camadaTmp.id,courseSlug:v.level.url,stageSlug:n,moduleSlug:t});var r,e='🔒 Esta clase se habilitara mas adelante en el curso.';null!=(r=p.courseTmp)&&null!=(r=r.flags)&&r.isOnline&&(e='🚀 Completa la clase anterior para acceder a este contenido'),i.info({msg:e,delay:5e3})}p.IS_MOBILE=r.IS_MOBILE,p.strategy={isTeacher:null==e?void 0:e.teacher,isStudent:null==e?void 0:e.student},p.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v=null!=(t=p.camadaTmp.course)&&t._id?p.camadaTmp.course:p.camadaTmp,e.next=3,Promise.all([d.get({slug:u.moduleSlug})]);case 3:t=e.sent,n=_slicedToArray(t,1),b(n[0]);case 7:case'end':return e.stop()}},e)})),p.onClickStage=function(e,t){e.preventDefault();for(var n,r=p.stages,a=[],s=0;s<r.length;s++)a.push(((n=r[s]).active=n._id===t._id&&!n.active,n));if(p.stages=a,null!=(e=t.schedule)&&e.sharedFolderLink){e=t.modules.find(function(e){return e.tp||e.integratorTp});if(null!=e&&e._id)return k(t,e)}1===t.modules.length&&k(t)},p.onClickModule=function(e,t,n){e.preventDefault(),k(t,n)},p.onClickPrevStage=function(){T(function(e,t){t=t[e-1];if(t)return k(t)})},p.onClickNextStage=function(){T(function(e,t){t=t[e+1];if(t)return k(t)})},p.onClickPrevModule=function(e){e.preventDefault(),y(function(e,t){return t[e-1]?_(t[e-1].slug):p.onClickPrevStage()})},p.onClickNextModule=function(e){e.preventDefault(),y(function(e,t){var n;return null!=(n=t[e+1])&&n.slug?_(t[e+1].slug):p.onClickNextStage()})},r.$emit('App:Tracking')}]}),angular.module('core').component('chCourseRatingV2',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-rating-v2/ch-course-rating-v2.view.html',controllerAs:'vm',controller:['$stateParams','$location',function(e,t){t=t.search(),t=t.hideTranslations&&'true'===t.hideTranslations?'&hideTranslations=true':'';this.RATING=''.concat(window.CH_PLATFORM_2021,'/ratings').concat(t)}]}),angular.module('core').component('chCourseRating',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-rating/ch-course-rating.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','$filter','AmplitudeSrv','SharesSrv','NotificationSrv',function(r,e,C,a,s,t){var R=this;function x(e,t){var n,r=(null==(r=R.progress.positives)?void 0:r.value)||R.progress.positivesPerc,a=(null==(a=R.progress.neutrals)?void 0:a.value)||R.progress.neutralsPerc,s=(null==(s=R.progress.negatives)?void 0:s.value)||R.progress.negativesPerc;return t&&(r=(null==(n=R.progress.fromTeachers.positives)?void 0:n.value)||R.progress.fromTeachers.positivesPerc,a=(null==(n=R.progress.fromTeachers.neutrals)?void 0:n.value)||R.progress.fromTeachers.neutralsPerc,s=(null==(n=R.progress.fromTeachers.negatives)?void 0:n.value)||R.progress.fromTeachers.negativesPerc),null!=e&&e._id&&(r=e.stats.positivesPerc,a=e.stats.neutralsPerc,s=e.stats.negativesPerc,t)&&(r=e.stats.fromTeachers.positivesPerc,a=e.stats.fromTeachers.neutralsPerc,s=e.stats.fromTeachers.negativesPerc),{positivesPerc:r,neutralsPerc:a,negativesPerc:s}}function I(e,t){var n=[],r=[],a=[];function s(e,n){var t;if(null!=(t=e)&&t.length)for(var r=e=Array.isArray(e)?e:[e],a=0;a<r.length;a++)!function(t){var e=n.find(function(e){return null!=t&&t.value?t.value===e.value:t===e.value});e?e.qty++:n.push({value:null!=t&&t.value?t.value:t,qty:1})}(r[a])}function o(e,t){for(var n,r=e,a=[],s=0;s<r.length;s++)a.push(((n=r[s]).flags=n.flags||{},n.flags[t]=!0,n));return a}for(var i,l,c=[],d=e,u=0;u<d.length;u++){var m=d[u];null!=(m=t?m.feedsFromTeachers:m.feeds)&&m.length&&(c=[].concat(c,m))}if(null!=(e=c)&&e.length)for(var p=c,v=0;v<p.length;v++)i=p[v],l=void 0,null!=(l=i.tags)&&null!=(l=l.positives)&&l.length&&s(i.tags.positives,n),null!=(l=i.tags)&&null!=(l=l.neutrals)&&l.length&&s(i.tags.neutrals,r),null!=(l=i.tags)&&null!=(l=l.negatives)&&l.length&&s(i.tags.negatives,a);return function(e){for(var t,n=0,r=e,a=0;a<r.length;a++)t=r[a],n+=t.qty;for(var s,o=e,i=[],l=0;l<o.length;l++)i.push(((s=o[l]).perc=parseFloat((s.qty/n*100).toFixed(1),10),s));return i}([].concat(o(n,'positive'),o(r,'neutral'),o(a,'negative'))).sort(function(e,t){return e.perc>t.perc?-1:1})}function O(e,m){for(var p=[],t=e,n=function(e){var t,n,r,a,s,o=m?e.feedsFromTeachers:e.feeds;if(null!=o&&o.length){for(var i=o,l=[],c=0;c<i.length;c++)l.push(((s=i[c]).comment=s.answer||s.comment||'.',s));for(var d=l.filter(function(e){return null==(e=e.comment)?void 0:e.length}),u=0;u<d.length;u++)t=d[u],a=r=n=void 0,r=null==(r=t.comment)?void 0:r.trim(),n=e.stage.name,e.flags.isAdditional?n=C('translate')('ch-course-rating.additional-class'):e.flags.isComplementary&&(n=C('translate')('ch-course-rating.complementary-class')),a=(null==r?void 0:r.length)||0,p.push({_id:t._id,stageName:n,date:e.day,alias:''.concat(C('date')(e.day,'dd/MM/yyyy'),' - ').concat(n),comment:a<3?C('translate')('ch-course-rating.no-user-feedback'):r,commentLength:a,rating:t.rating,flags:{positive:3<t.rating,neutral:3===t.rating,negative:t.rating<3}})}},r=0;r<t.length;r++)n(t[r]);return _.orderBy(p,['rating','commentLength'],['desc','desc'])}function D(){R.suggestionsLength=Math.abs(R.progress.suggestions.length-R.currentSuggestionsLimit)}function o(e){return e<10?'0'.concat(e):e}function n(e){for(var t,n,r=e,a=[],s=0;s<r.length;s++)a.push((t=r[s],n=void 0,n=new Date(t.day),t.alias=''.concat(o(n.getDate()),'/').concat(o(n.getMonth()+1),' - ').concat(t.stage.name,' ').concat(t.flags.isFeedbackRequired?'':C('translate')('ch-course-rating.feedback-no-required')),t));return a}R.currentSuggestionsLimit=10,R.currentRole='students',R.$onInit=function(){Promise.all([e.getTeacherCourseRating({userId:r.USER._id,camadaId:R.camadaTmp.id}).then(function(e){e=null==e?void 0:e.data;return e.schedules=n(e.schedules),e.complementarySchedules=n(e.complementarySchedules),R.progress=e})]).then(function(){for(var e,t=Object.assign({},R.camadaTmp.course),n={showDetails:!1},n=null!=t&&null!=(e=t.flags)&&e.normalized?Object.assign(n,t.flags):(e=(new Date).getTime(),(o=new Date(t.startDate)).setDate(o.getDate()-2),(t=new Date(t.endDate)).setDate(t.getDate()+2),Object.assign(n,{isStarted:e>=o.getTime(),isEnded:e<=t.getTime()})),w=function(e){return e.filter(function(e){return e.flags.isFeedbackEnable})}(R.progress.schedules),r=(R.progress.stars=function(e){for(var t=e.toString().split('.'),n=(t[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10),[1,2,3,4,5]),r=[],a=0;a<n.length;a++)r.push(function(e){return e<=t[0]?'full':e-1===t[0]?t[1]&&8<=t[1]?'full':t[1]&&t[1]<8?'half':'empty':'empty'}(n[a]));return r}((null==(o=R.progress.teacher)?void 0:o.value)||R.progress.teacherRating),R.progress.barChart=x(),R.progress.suggestions=O(R.progress.schedules),R.progress.tags=I(R.progress.schedules),D(),R.progress.schedules.filter(function(e){return e.flags.isFeedbackRequired})),a=[],s=0;s<r.length;s++)a.push(function(e){return e.alias}(r[s]));for(var o=a,i=w,l=[],c=0;c<i.length;c++)l.push(function(e){return e.stats.positivesPerc}(i[c]));for(var d=w,u=[],m=0;m<d.length;m++)u.push(function(e){return e.stats.neutralsPerc}(d[m]));for(var p=w,v=[],g=0;g<p.length;g++)v.push(function(e){return e.stats.negativesPerc}(p[g]));for(var f=w,h=[],b=0;b<f.length;b++)h.push(function(e){return e.stats.attended}(f[b]));for(var T=w,y=[],k=0;k<T.length;k++)y.push(function(e){return e.stats.amountOfFeedbacks}(T[k]));for(var _=w,S=[],E=0;E<_.length;E++)S.push(function(e){return e.stats.rating}(_[E]));R.charts={progress:{labels:o,series:[C('translate')('ch-course-rating.charts.positive'),C('translate')('ch-course-rating.charts.neutral'),C('translate')('ch-course-rating.charts.negative')],colors:[P('#3bc78d'),P('#ffb301'),P('#fa2864')],data:[l,u,v],onClick:function(){},options:{scales:{yAxes:[{id:'y-axis-1',type:'linear',display:!0,beginAtZero:!0,ticks:{min:0,stepSize:10,max:100}}],xAxes:[{display:!1}]}},reset:function(b){return this.data=function(){if(b){for(var e=w,t=[],n=0;n<e.length;n++)t.push(e[n].stats.fromTeachers.positivesPerc);for(var r=w,a=[],s=0;s<r.length;s++)a.push(r[s].stats.fromTeachers.neutralsPerc);for(var o=w,i=[],l=0;l<o.length;l++)i.push(o[l].stats.fromTeachers.negativesPerc);return[t,a,i]}for(var c=w,d=[],u=0;u<c.length;u++)d.push(c[u].stats.positivesPerc);for(var m=w,p=[],v=0;v<m.length;v++)p.push(m[v].stats.neutralsPerc);for(var g=w,f=[],h=0;h<g.length;h++)f.push(g[h].stats.negativesPerc);return[d,p,f]}()}},attendance:{labels:o,series:[C('translate')('ch-course-rating.charts.attendance'),C('translate')('ch-course-rating.charts.feedbacks')],colors:[P('#45b6c4'),P('#92c94b'),P('#7282db')],data:[h,y],onClick:function(){},options:{scales:{yAxes:[{id:'y-axis-1',type:'linear',display:!0,beginAtZero:!0,ticks:{min:0,stepSize:50<R.progress.amountOfStudents?10:5,max:R.progress.amountOfStudents}}],xAxes:[{display:!1}]}}},rating:{labels:o,series:[' Rating'],colors:[P('#3bc78d')],data:[S],onClick:function(){},options:{scales:{yAxes:[{id:'y-axis-1',type:'linear',display:!0,beginAtZero:!0,ticks:{min:0,stepSize:1,max:5}}],xAxes:[{display:!1}]}},reset:function(o){return this.data=function(){if(o){for(var e=w,t=[],n=0;n<e.length;n++)t.push(e[n].stats.fromTeachersRating);return[t]}for(var r=w,a=[],s=0;s<r.length;s++)a.push(r[s].stats.rating);return[a]}()}}},n.loaded=!0,R.flags=n})};var P=function(e,t){return{backgroundColor:'transparent',pointBackgroundColor:e,pointHoverBackgroundColor:e,borderWidth:t||3,borderColor:e,pointBorderColor:e,pointBorderWidth:3,pointHoverBorderColor:e}};function i(e,t){var n='teachers'===R.currentRole,r=null;t&&(e=[r=e.find(function(e){return e._id===t})]),R.progress.barChart=x(r,n),R.progress.tags=I(e,n),R.progress.suggestions=O(e,n),R.charts.progress.reset(n),R.charts.rating.reset(n)}R.onChangeRoleFeedbacks=function(){i(R.progress.schedules,R.currentSchedule),D()},R.onChangeScheduleFeedbacks=function(){i(R.progress.schedules,R.currentSchedule),D()},R.onChangeComplementaryScheduleFeedbacks=function(){i(R.progress.complementarySchedules,R.currentComplementarySchedule),D()},R.onClickShowAllSuggestions=function(e){R.currentSuggestionsLimit=10!=R.currentSuggestionsLimit?10:99999,D()},R.onClickToggleDetails=function(e){e.preventDefault(),R.flags.showDetails=!R.flags.showDetails},R.onClickShare=function(e,t){e.preventDefault();var e='linkedin',t=t.comment,n=R.courseTmp.level.fullUrl;a.logEvent('sharing',{from:'ratings',to:e,role:r.USER.flags.isTutor?'tutor':'teacher',what:'feedback'}),s.to(e,n,t)}}]}),angular.module('core').component('chCourseScorecard',{templateUrl:'modules/platform/courses/directives/ch-course-scorecard/ch-course-scorecard.view.html',controllerAs:'vm',controller:['CoursesSrv','NotificationSrv','$timeout','$filter','$rootScope','SessionSrv','$stateParams','FEATURES',function(r,e,t,n,a,s,o,i){var l=this,c=(n('translate'),l.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.USER,a.IS_MOBILE,l.USER=t,e.next=4,function(){return d.apply(this,arguments)}();case 4:l.scoreCardUrl=''.concat(window.CH_TOP_10,'/scorecardcourse'),c(l.camadaTmp._id);case 6:case'end':return e.stop()}},e)})),function(r){var a=window.setInterval(function(){var e,t=l.USER,n={authId:s.getAuthId(),token:s.getAuthToken()};t&&(null!=(e=document.getElementById('iframe-scorecard-course'))&&e.id&&e.contentWindow.postMessage({type:'send-user',payload:{auth:n,user:{id:t._id,country:t.profile.country,fullName:t.fullName},commission:{id:r}}},'*'),window.addEventListener('message',function(e){'coursescorecard_data_received'==e.data.event&&window.clearInterval(a)}))},1e3)});function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getTeacherCourse({userId:null==(t=a.USER)?void 0:t._id,camadaId:o.camadaId});case 2:t=e.sent,n=t.data,l.camadaTmp=n;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}}]}),angular.module('core').directive('chCourseStudentMenu',[function(){return{scope:{camadaTmp:'='},restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-student-menu/ch-course-student-menu.view.html',controllerAs:'vm',controller:['$scope','$rootScope','$timeout','$state','FEATURES','CoursesSrv','$stateParams','AnalyticsSrv','NotificationSrv','SelfManagementSrv','$filter','BotSrv','$location',function(i,l,c,t,d,s,u,n,m,r,p,v,e){var a,g=this,f=(g.IS_MOBILE=l.IS_MOBILE,(new Date).getTime());function h(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.flags,null!=(n=void 0===n?{}:n)&&n.isEnded&&(n.isCertified||n.isPersonalGoal))return e.next=4,s.getUserNps({courseId:t._id,userId:l.USER._id});e.next=18;break;case 4:if(a=e.sent,a=a.data,r=a.lastSchedule,null!=a&&null!=(a=a.nps)&&a._id||null==r||!r._id){e.next=17;break}return r.flags=r.flags||{},r.flags.showNpsFeedback=!0,e.next=12,s.getScheduleFeedbackUrl({courseId:t._id,scheduleId:r._id,userId:l.USER._id});case 12:return a=e.sent,g.strategy.menu.btnNps=!n.isPersonalGoal,r.feedbackUrl=a.url,g.scheTmp=r,e.abrupt('return',!1);case 17:return e.abrupt('return',!0);case 18:return e.abrupt('return',!1);case 19:case'end':return e.stop()}},e)}))).apply(this,arguments)}function o(e){var t=(null==(t=g.courseTmp)?void 0:t.flags)||{};if(d.LIMIT_INACTIVE_STUDENT&&t.isBecaInactive)return l.$broadcast('MODAL:REQUEST_REACTIVATION:OPEN',!0,g.courseTmp,l.USER);e?e():t.isBecaInactive}function b(e){l.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,g.courseTmp,l.USER,!1,!(0<arguments.length&&void 0!==e)||e)}g.$onInit=function(){if(null==(t=i.camadaTmp)||!t.id)return m.error({msg:p('translate')('ch-student-course.errors.no-access')});var e,t=Object.assign({},i.camadaTmp.course),n=Object.assign({},i.camadaTmp),n=(delete n.course,t.camada=n,t.level.title=t.level.title.replace('Marketing Digital:',''),d._COURSE_2021=d.COURSE_2021||d.COURSE_2021_CAMADAS.includes(n.id),g.FEATURES=_objectSpread(_objectSpread({},d),{},{HAS_CODY_BOT:null==(n=t.flags)?void 0:n.hasCody}),new Date(t.endDate)),r=(n.setDate(n.getDate()+7),new Date(t.startDate)),r=(r.setDate(r.getDate()-1),Object.assign(t.flags,{isDeleyedEnded:f>n.getTime()})),a=t.training||(null==r?void 0:r.isTraining),s=(g.flags=r,(null!=(s=t.camada.tutoring)&&s.length||null!=(s=t.camada.assistantTeachers)&&s.length)&&null!=(e=s=null!=(e=s=t.camada.tutoring.find(function(e){return e.students.includes(l.USER._id)}))&&e._id||!t.flags.isPrerecorded||!t.camada.assistantTeachers.length?s:{_id:1,teacher:t.camada.assistantTeachers[0]._id})&&e._id&&null!=(e=(t.camada.tutor=s).groups)&&e.length&&(t.camada.group=s.groups.find(function(e){return e.members.includes(l.USER._id)})),{container:{btnChangeDate:!0},training:{btnSharedFolder:r.showSharedFolder,hasDiscordChannel:null==(e=t.camada.discordUrl)?void 0:e.length},default:{btnNps:!1,btnForum:d.COURSE_FORUM&&!r.isRemoteRecorded&&((null==(s=t.sharedFolderLink)?void 0:s.length)||!r.isOnline&&!r.isPersonalGoal),btnCourseInfo:!r.isStarted&&r.isRemote&&!r.isPrerecorded&&!r.isOnline&&!r.isPersonalGoal&&!r.isOnboarding,btnRemoteTips:!r.isEnded&&!r.isWorkshop&&r.isRemote,btnStudentGroup:(null==(e=t.camada.group)?void 0:e._id)&&!r.isEnded,btnStudentTutor:!r.hasCoderAsk&&(null==(s=t.camada.tutor)?void 0:s._id)&&!r.isEnded,btnLeaderboard:r.isLeaderboardEnable&&!l.hasCoderU,btnClassmates:r.showClassmates&&!r.isWorkshop&&!r.isEnded,btnSharedFolder:r.showSharedFolder,btnChangeDate:r.canChangeDate&&!r.isStarted&&!r.isEnded,btnChangeProduct:r.canChangeDate&&!r.isStarted,btnChat:!t.level.freeBr&&((null==(e=t.camada.slack)?void 0:e.length)||!r.isContainer&&!r.isPrerecorded&&!r.isRemoteRecorded&&!r.isOnline&&!r.isPersonalGoal),btnShare:!r.isOnboarding&&!r.isOnline&&!r.isRecorded&&(r.startsTomorrow||r.startsToday||r.endsTomorrow||r.endsToday||r.isEnded),btnShareLabel:r.startsTomorrow||r.startsToday?p('translate')('ch-student-course.share.start'):p('translate')('ch-student-course.share.end'),btnReferral:r.isNpsPromoter||!r.isStarted,btnReferralLabel:r.isNpsPromoter?p('translate')('ch-student-course.recommend-to-friend'):p('translate')('ch-student-course.invite-friends'),btnCoderAsk:r.hasCoderAskActive&&!t.disableCoderAskChat&&function(e,t){e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((t-e)/864e5)}(n,new Date)<=10,btnCoderAskLabel:g.FEATURES.HAS_CODY_BOT?p('translate')('ch-course-student-menu.chat-tutor-ai'):p('translate')('ch-course-student-menu.chat-tutor-v2'),btnCoderAskTooltip:g.FEATURES.HAS_CODY_BOT?p('translate')('ch-course-student-menu.chat-tutor-ai-tooltip'):p('translate')('ch-course-student-menu.chat-tutor-tooltip'),btnMiTutor:!(null!=t&&t.hasBot||r.hasCoderAsk),btnProgram:d._COURSE_2021,btnDelivers:d._COURSE_2021,hasDiscordChannel:!1,hasPremiumContentLocked:!1}}),o={headline:t.modality&&!d.PREMIUM_COMISSION(t.camada.id)?''.concat(t.camada.id,' - ').concat(t.modality):''.concat(p('translate')('ch-student-course.headine'),' ').concat(t.camada.id),isOnline:r.isOnline&&!r.isPersonalGoal,isStarted:r.isStarted,menu:r.isContainer?s.container:a?s.training:s.default},s=(l.$watch('hasPremiumContentLocked',function(e){o.menu.hasPremiumContentLocked=void 0!==e&&e}),o.menu.btnChangeDateAlias=(e=p('translate'),n=e('ch-student-course.change-commission'),r.isStarted&&r.isEnded?r.isEnded&&(n=e('ch-student-course.reenroll-course')):n=e('ch-student-course.change-commission'),' '.concat(n)),o.menu.btnChangeProductAlias=(s=p('translate'),n=s('ch-student-course.change-course'),r.isStarted&&r.isEnded?r.isEnded&&(n=s('ch-student-course.reenroll-course')):n=s('ch-student-course.change-product'),' '.concat(n)),{training:{enable:g.IS_MOBILE},default:{enable:(!r.isPrerecorded||r.isRemoteRecorded||r.isPersonalGoal)&&!t.level.freeBr,btnCourseInfo:!r.isContainer&&r.isStarted&&!r.isPrerecorded&&!r.isOnline&&!r.isPersonalGoal&&!r.isOnboarding&&!r.hasCoderU,btnLeaderboard:g.IS_MOBILE&&o.menu.btnLeaderboard,btnClassmates:!o.menu.btnClassmates,btnOnboardingVideos:!r.isB2B&&!r.isWorkshop&&r.isRemote&&!r.hasCoderAsk,btnReenroll:!(r.isPersonalGoal||r.canChangeDate||!d.STUDENT_REQUEST_REENROLL)&&r.canReenroll,btnChangeDate:r.canChangeDate,btnCourseAttendanceCertificate:!r.isEnded&&!r.isWorkshop&&!r.isTraining&&r.isRemote,btnCalendar:!(r.isContainer||r.isEnded||r.isPrerecorded||r.isOnline||r.isPersonalGoal||r.isOnboarding),btnMeetingBackground:!(r.isContainer||r.isEnded||r.isPrerecorded||r.isRemoteRecorded||r.isOnline||r.isPersonalGoal||r.isOnboarding||r.isWorkshop||r.isTraining),btnInfoScholarship:!r.isContainer&&r.showBecaRequirements,btnCanRequestToBePartnerWith:r.canRequestToBePartnerWith&&'br'===t.country}});o.submenu=r.isContainer?{}:a?s.training:s.default,u.scheduleId&&null!=t&&null!=(n=t.camada)&&null!=(n=n.schedules)&&n.length&&(t.currentSchedule=[].concat(null==t||null==(r=t.camada)?void 0:r.schedules,null==t||null==(a=t.camada)?void 0:a.complementarySchedules).find(function(e){return(null==e?void 0:e._id)===u.scheduleId}),null!=(s=t.currentSchedule))&&s._id&&(t.currentSchedule.alias=''.concat(p('date')(t.currentSchedule.day,'EEEE'),' ').concat(p('date')(t.currentSchedule.day,'dd/MM'))),g.strategy=o,function(){h.apply(this,arguments)}(t),(g.courseTmp=t).flags.isContainer&&b(!1),g.strategy.menu.btnCoderAsk&&v.fetchFrontApp(),c(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})},1e3),l.$watch('certificationId',function(e,t){g.hasCertificationAvailable=e}),i.$on('$destroy',function(){l.hasPremiumContentLocked=void 0})},g.onClickNewView=function(e){null!=e&&e.preventDefault(),localStorage.setItem('CH_COURSE_VIEW_V2:DISABLED',!1),window.location.reload()},g.onClickInfo=function(e){null!=e&&e.preventDefault(),g.isMenuDropdownActive=!1,l.$emit('MODAL:COURSE_INFO:OPEN',!0,g.courseTmp)},g.onClickForum=function(e){e.preventDefault(),t.go('platform-course-blog-posts',u)},g.onClickTutor=function(e){e.preventDefault(),l.$emit('MODAL:COURSE_TUTOR:OPEN',!0,g.courseTmp.camada.tutor,g.courseTmp)},g.onClickGroup=function(e){e.preventDefault(),l.$emit('MODAL:COURSE_TUTOR:OPEN',!0,g.courseTmp.camada.tutor,g.courseTmp,!0)},g.onClickMenuDropdown=function(e){null!=e&&e.preventDefault(),g.isMenuDropdownActive=!g.isMenuDropdownActive},g.closeMenuDropdown=function(e){null!=e&&e.preventDefault(),g.isMenuDropdownActive=!1},g.onClickRequestReenroll=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e.preventDefault(),e.stopPropagation(),b(t),g.isMenuDropdownActive=!1},g.onClickRequestEnrollCert=function(e){e.preventDefault(),e.stopPropagation(),o(function(){l.$broadcast('MODAL:REQUEST_ENROLL_CERT:OPEN',!0,g.courseTmp,l.USER),g.isMenuDropdownActive=!1})},g.onClickCalendar=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$broadcast('MODAL:COURSE_CALENDAR:OPEN',!0,g.courseTmp),g.isMenuDropdownActive=!1},g.onClickNps=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$broadcast('MODAL:FEEDBACK:OPEN',!0,g.scheTmp,g.courseTmp.camada._id,l.USER._id,function(){c(function(){return g.strategy.menu.btnNps=!1})})},g.onClickInfoScholarship=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$emit('MODAL:INFO_SCHOLARSHIP:OPEN')},g.onClickRequestBePartnerWith=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$emit('MODAL:REQUEST_TO_PARTNER_WITH:OPEN',!0,g.courseTmp._id,l.USER._id)},g.onClickUnenroll=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),l.$broadcast('MODAL:GENERIC_DIALOG:OPEN',{title:p('translate')('ch-modal-unenroll.title'),onConfirm:function(){var e;if(null!=(e=g.courseTmp)&&e._id&&null!=(e=l.USER)&&e._id)return r.requestUnenroll({courseId:g.courseTmp._id,userId:l.USER._id}).then(function(e){null!=e&&null!=(e=e.data)&&e.success?(m.success({msg:p('translate')('ch-modal-unenroll.toast.success')}),t.go('dashboard')):m.error()})}})},g.onClickCoderAsk=function(e){if(null!=e&&e.preventDefault(),g.FEATURES.HAS_CODY_BOT)return l.$broadcast('SHOW_CODERASK_CODY_SUPPORT');var t,n,r,e=null==(e=g.courseTmp)?void 0:e.level.whatsapp;e?(n=l.USER.fullName,r=null==(r=g.courseTmp)?void 0:r.level.title.replace('&','y'),t=null==(t=g.courseTmp)?void 0:t.camada.id,n=p('translate')('ch-course-student.chat-message').replace('%studentName%',n).replace('%courseTitle%',r).replace('%camadaId%',t),r='https://api.whatsapp.com/send?phone='.concat(e,'&text=').concat(n),l.$broadcast('SHOW_CODERASK_SUPPORT_MODAL',{link:r})):l.$broadcast('SHOW_CODERASK_SUPPORT_MODAL',{})},g.onClickZoomRecomendations=function(e){null!=e&&e.preventDefault(),l.$emit('MODAL:ZOOM_TIPS:OPEN',!0)},g.onClickChat=function(e){e.preventDefault(),'true'===window.IS_IFRAME&&g.courseTmp.useStreamChat?window.parent.postMessage({type:'to-chat'},'*'):!0===g.courseTmp.useStreamChat?t.go('chat'):o(function(){var e;d.CHAT&&g.courseTmp.flags.isRemoteRecorded&&null!=(e=g.courseTmp.camada.chatChannel)&&e.length?l.$emit('COURSE:CHAT_WIDGET:SHOW',{chatChannel:g.courseTmp.camada.chatChannel}):null!=(e=g.courseTmp.camada.slack)&&e.length&&window.open(g.courseTmp.camada.slack,'_blank').focus()})},g.onClickDownloadMeetingBackground=function(e){e.preventDefault(),e.stopPropagation(),l.$broadcast('MODAL:COURSE_MEETING_BACKGROUND:OPEN',!0,g.courseTmp,l.USER)},g.onClickShare=function(e){null!=e&&e.preventDefault();e=g.courseTmp.flags;l.$emit('MODAL:SHARE:OPEN','student.submenu',{shareCourseStarts:e.startsTomorrow||e.startsToday||e.isStarted,shareCourseEnds:e.endsTomorrow||e.endsToday||e.isEnded})},g.onClickReferral=function(e){null!=e&&e.preventDefault(),t.go('referrals2021')},l.$on('COURSE:PROGRESS',function(e,t){g.courseTmp,g.courseTmp.flags.isPersonalGoal&&40<=(null==(t=t.primary)?void 0:t.perc)&&(g.strategy.menu.btnNps=!0)}),l.$on('SUBHEADER:COLLAPSE',function(e,t){return g.isCollpased=t}),g.onMouseOverMiniSubHeader=function(e){g.showCollapsedOverlay=!0},g.onMouseLeaveMiniSubHeader=function(e){g.showCollapsedOverlay=!1},g.onClickGoToProgram=function(e){if(null!=e&&e.preventDefault(),location.pathname.includes('clases'))return t.reload();t.go('platform-course-2021-program',u)},g.onClickGoToDelivers=function(e){if(null!=e&&e.preventDefault(),location.pathname.includes('desafios-entregados'))return t.reload();t.go('platform-course-2021-delivers',u)},g.onClickPremium=function(e){return e.preventDefault(),n.pushDataLayer('trackEvent','coder_premium','promocional','navbar_premium_btn'),l.$broadcast('PAID:CONTENT:PREMIUM:OPEN',{productId:g.courseTmp.level._id,programId:g.courseTmp.camada.class._id,courseId:g.courseTmp._id,contentPreview:null!=(e=l.premiumPreview)?e:p('translate')('ch-content-premium.link')})},g.onClickDiscord=function(e){return e.preventDefault(),g.courseTmp.training?window.open(g.courseTmp.camada.discordUrl,'_blank'):(e=p('translate')('ch-content-premium.discord.link'),window.open(e,'_blank'))},'info-popup'===(a=u.open)&&g.onClickInfo(),'zoom-tip-popup'===a&&g.onClickZoomRecomendations()}]}}]),angular.module('core').directive('chCourseStudentProgram',[function(){return{scope:{camadaTmp:'='},restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-student-program/ch-course-student-program.view.html',controllerAs:'vm',controller:['$scope','$state','$rootScope','NotificationSrv','$timeout','ProjectsSrv','AnalyticsSrv','CoursesSrv','NormalizeSrv','UsersSrv','$stateParams','FEATURES','$filter','SelfManagementSrv',function(u,m,S,v,E,n,c,l,C,r,R,p,x,a){var I=this,g=S.USER._id,O=[],D={},P=(I.IS_MOBILE=S.IS_MOBILE,I.IS_BR=S.IS_ENV_BR,I.isCoderUComission=S.hasCoderU,x('translate'));function f(e){var t=(null==(t=I.courseTmp)?void 0:t.flags)||{};return p.LIMIT_INACTIVE_STUDENT&&t.isBecaInactive?(i(!0),0):e?e():!t.isBecaInactive}function i(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number(R['open-reactivation']))&&S.$broadcast('MODAL:REQUEST_REACTIVATION:OPEN',!0,I.courseTmp,S.USER)}function q(){var r,a,e,s;(s=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:R['open-deliver'])||R.open)&&(a=r=null,I.program.stages.find(function(n){var e;return null==(e=n.modules)?void 0:e.find(function(t){var e;return null==(e=t.delivers)?void 0:e.find(function(e){return e._id===s&&(r=n,a=t,!0)})})}),null!=(e=r)&&e._id&&null!=(e=a)&&e._id?I.onClickDeliver(null,a,r):v.info({msg:P('ch-student-course.toast.deliver-not-found')}))}function G(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:R['open-video'];n&&(e=I.program.stages.find(function(e){return(null==(e=e.schedule)?void 0:e._id)===n}),null!=(t=null==e?void 0:e.schedule)&&t._id?f(function(){null!=t&&t.recordingVideoLink?S.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,e,null,I.courseTmp):window.open(t.liveVideoLink,'_blank')}):v.info({msg:P('ch-student-course.toast.recording-not-found')}))}function j(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:R['open-feedback'];n&&(null!=(e=I.program.stages.find(function(e){return(null==(e=e.schedule)?void 0:e._id)===n}))&&e._id?null!==(t=(null==e||null==(t=e.schedule)?void 0:t.flags)||{})&&t.isFeedbackRequired||null!==t&&t.isFeedbackOptional?I.onClickFeedback(null,e,e.schedule):v.info({msg:P('ch-student-course.toast.feedback-required')}):v.info({msg:P('ch-student-course.toast.class-not-found')}))}function H(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number(R['open-calendar']))&&f(function(){S.$broadcast('MODAL:COURSE_CALENDAR:OPEN',!0,I.courseTmp)})}function h(e){c.pushDataLayer('trackEvent','certificate','widget',e)}function V(e,t,n){var r,a=0<arguments.length&&void 0!==e?e:{},e=1<arguments.length?t:void 0,t=2<arguments.length?n:void 0,n=a.isFeedbackCompleted,s=(!n&&a.showNpsFeedback&&(n=!!(I.courseTmp.camada.studentsSatisfaction||[]).find(function(e){return e.user===g})),R.ff),o=R.fd,i=R.md,l=R.stu,c=l===(null==(c=S.USER)?void 0:c._id),d=(d=new Date(parseInt(R.ts)),c&&'Invalid Date'!==d&&(new Date).getTs()>d.getTime()),u=[s,o].includes(e);if(!a.isFeedbackCompleted&&(a.isFeedbackRequired||a.isFeedbackOptional)&&a.isFeedbackExpired&&s&&(a.isFeedbackExpired=!parseInt(R['force-feedback'])&&s!==e&&a.isFeedbackExpired,l&&!c||d)&&(a.isFeedbackExpired=0),o===e){var e=new Date;if(e.setDate(e.getDate()+1),a.deliverTimeLeftToExpire=e.getTime(),(l&&!c||d)&&(a.deliverTimeLeftToExpire=0),null!=t&&null!=(e=t.modules)&&e.length)for(var m=t.modules,p=0;p<m.length;p++)r=m[p],i!==r._id&&i||(r.flags.deliverTimeLeftToExpire=a.deliverTimeLeftToExpire)}return u&&(l&&!c?v.error({msg:P('ch-student-course.toast.links-to-other-user')}):d?v.error({msg:P('ch-student-course.toast.link-expired')}):!s||a.isFeedbackRequired||a.isFeedbackOptional?v.success({msg:(e=P('ch-student-course.toast.feedback-enabled'),(e=o?P('ch-student-course.toast.deliver-enabled'):e).replace('%stagename%',t.name))}):v.info({msg:P('ch-student-course.toast.feedback-no-required').replace('%stagename%',t.name)})),Object.assign(a,{isFeedbackCompleted:n})}function d(e,t){var n={pending:P('ch-student-course.tooltips.deliver-expire-at'),expired:P('ch-student-course.tooltips.deliver-expired-at'),disbaled:P('ch-student-course.tooltips.deliver-enable-on'),empty:''},r=x('date')(t,'EEEE'),a=x('date')(t,'dd/MM/yyyy'),t=x('date')(t,'HH:mm'),s=P('ch-student-course.subtext-deliver-expires-at');return''.concat(n[e],' ').concat(r,' ').concat(a,' ').concat(s,' ').concat(t,'hs')}function A(e){for(var i=I.courseTmp.flags,t=e,n=function(o){var e,t=o.schedule;if(null!=(e=o.modules)&&e.length&&(!i.isRecorded||i.isOnboarding||null!=t&&null!=(e=t.flags)&&e.isToday||null!=t&&null!=(e=t.flags)&&e.isPast||(o.modules=[]),o.delivers=o.modules.filter(function(e){e=e.flags;return e.isTp||e.isPreIntegratorTp||e.isIntegratorTp}),o.contents=o.modules.filter(function(e){e=e.flags;return!e.isTp&&!e.isPreIntegratorTp&&!e.isIntegratorTp}),null!=(t=o.delivers)&&t.length)){for(var n=o.delivers,r=function(t){var e,n;if(t.delivers=(I.program.delivers||[]).filter(function(e){return(null==(e=e.module)?void 0:e._id)===t._id}),1<t.delivers.length?(e=t.delivers.find(function(e){return null==(e=e.status)?void 0:e.approved}),t.deliver=null!=e&&e._id?e:t.delivers[0]):t.deliver=t.delivers[0],t.flags=t.flags||{},t.flags.hasDeliver=!(null==(e=t.deliver)||!e._id),t.flags.deliverTimeLeftToExpire?t.flags.isDeliverEnable=!0:I.courseTmp.flags.deliversCanBeLocked?t.flags.isDeliverEnable=t.flags.hasDeliver:t.flags.isIntegratorTp&&(t.flags.isDeliverEnable=!(!t.flags.hasDeliver&&t.flags.isDeliverExpired)||I.courseTmp.flags.hasFinalDeliverEnable),t.flags.isIntegratorTp?t.headline=P('ch-student-course.delivers-headlines.final-deliver'):t.flags.isPreIntegratorTp?t.headline=P('ch-student-course.delivers-headlines.pre-integrator-deliver'):t.flags.isComplementaryTp?t.headline=P('ch-student-course.delivers-headlines.complementary-deliver'):t.flags.isTp&&(t.headline=P('ch-student-course.delivers-headlines.regular-deliver')),null!=(e=t.deliver)&&e._id){for(var r=0,a=Object.keys(t.deliver.status),s=0;s<a.length;s++)n=a[s],t.deliver.status[n]&&r++;0==r||t.deliver.status.redelivered?(t.statusAlias=P('ch-student-course.delivers-footer.status.delivered'),t.statusClass='status-delivered',t.deliverExpirationDateAlias='',t.showDetailBtn=!0,t.showDeliverBtn=!1):t.deliver.status.approved?(t.statusAlias=P('ch-student-course.delivers-footer.status.approved'),t.statusClass='status-approved',t.deliverExpirationDateAlias='',t.showDetailBtn=!0,t.showDeliverBtn=!1):t.deliver.status.returned||t.deliver.status.disapproved&&!t.integratorTp&&!t.complementaryTp?moment()>moment(t.flags.deliverExpirationDate,'x')?(t.statusAlias=P('ch-student-course.delivers-footer.status.expired'),t.statusClass='status-expired',t.deliverExpirationDateAlias=d('expired',t.flags.deliverExpirationDate),t.showDeliverBtn=!1,t.showDetailBtn=!0):(t.statusAlias=P('ch-student-course.delivers-footer.status.redeliver'),t.statusClass='status-pending',t.deliverExpirationDateAlias=d('pending',t.flags.deliverExpirationDate),t.showDeliverBtn=!0,t.showDetailBtn=!1):(t.statusAlias=P('ch-student-course.delivers-footer.status.delivered'),t.statusClass='status-pending',t.showDeliverBtn=!1,t.showDetailBtn=!0)}else t.flags.isDeliverEnable&&t.flags.isOnTimeForDeliver?(t.statusAlias=P('ch-student-course.delivers-footer.status.pending'),t.statusClass='status-pending',t.deliverExpirationDateAlias=d('pending',t.flags.deliverExpirationDate),t.showDeliverBtn=!0,t.showDetailBtn=!1):moment()>moment(t.flags.deliverExpirationDate,'x')?(t.statusAlias=P('ch-student-course.delivers-footer.status.expired'),t.statusClass='status-expired',t.deliverExpirationDateAlias=d('expired',t.flags.deliverExpirationDate),t.showDeliverBtn=!1,t.showDetailBtn=!1):moment(o.schedule.from)>=moment()&&(t.statusClass='status-disabled',t.statusAlias=P('ch-student-course.delivers-footer.status.disabled'),t.deliverExpirationDateAlias=d('disbaled',o.schedule.from),t.showDeliverBtn=!1,t.showDetailBtn=!1);return t},a=[],s=0;s<n.length;s++)a.push(r(n[s]));o.delivers=a}return o},r=[],a=0;a<t.length;a++)r.push(n(t[a]));return r}function b(e){return l.getUserCourseProgramProgress({userId:g,camadaId:e.camada.id,upsellingClasses:p.UPSELLING_PROGRAM_CLASSES}).then(function(e){e=e.data;return O=e})}function w(n,a){return l.getUserCourseProgress({userId:g,camadaId:n.camada.id,ts:(new Date).getTs()}).then(function(e){var r=null==e?void 0:e.data,e=(_.each(r,function(e,t){var n;r[t].perc=(t=r[t].perc,(n=t%5)&&(2<n?t=t-n+5:t-=n),t)}),r.absents=r.absents||{},r.undelivers=r.undelivers||{},r.absents),t=r.undelivers;r.absents.flags=e.flags||{},r.absents.label=e.flags.warn?P('ch-student-course.warnings.absent-warning.1').replace('%amount%',e.amount):'',r.absents.label=e.flags.alert?P('ch-student-course.warnings.absent-warning.2').replace('%amount%',e.amount):'',r.undelivers.flags=t.flags||{},r.undelivers.label=t.flags.warn?P('ch-student-course.warnings.undelivers-warning.1').replace('%amount%',t.amount):'',r.undelivers.label=t.flags.alert?P('ch-student-course.warnings.undelivers-warning.2').replace('%amount%',t.amount):'',r.hasBeca=!!S.USER.flags.beca,r.hasBecaLabel=P('ch-student-course.btn-beca-requirements'),r.isAbsent=!n.flags.isPrerecorded&&(e.flags.warn||e.flags.alert),r.isUndeliver=!n.flags.isPrerecorded&&(t.flags.warn||t.flags.alert),I.progress=r,S.$broadcast('COURSE:PROGRESS',r),a&&a(null)})}function T(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I.courseTmp.flags.isOnboarding)return e.next=3,b(I.courseTmp);e.next=15;break;case 3:return e.next=5,w(I.courseTmp);case 5:if(t=100<=I.progress.content.perc,N(),t)return e.next=10,l.isOnboardingCompleted({userId:g,camadaId:I.courseTmp.camada.id,ts:(new Date).getTs()});e.next=15;break;case 10:return e.next=12,k(I.courseTmp);case 12:return null!=(t=e.sent)&&t._id?v.success({msg:P('ch-student-course.toats.certificate')}):S.$emit('MENU:NPS:BTN'),e.abrupt('return',!0);case 15:return e.abrupt('return');case 16:case'end':return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){return!!e.flags.isStarted&&n.getUserCourseDelivers({studentId:g,courseId:e._id,ts:(new Date).getTs()}).then(function(e){I.program.delivers=_.orderBy(null==e?void 0:e.data,'createdAt','desc'),t&&t(null)})}function k(e){var t=e.flags,e=e.camada;return!!(t.isEnded||t.isPrerecorded||t.isOnboarding)&&r.getCourseCertification({userId:g,camadaId:e._id,ts:(new Date).getTs()}).then(function(e){e=e.data;return S.certificationId=e,I.certificationTmp=e})}function N(){I.progress=I.progress||{},I.progress.classes=I.progress.classes||{},I.progress.content=I.progress.content||{};var e,t,n,r,a=I.courseTmp.camada.schedules.filter(function(e){return null==e?void 0:e.additional});if((O=O.filter(function(e){return!e.additional})).some(function(e){return null==e?void 0:e.modules.some(function(e){return null==e?void 0:e.is_premium})})){S.hasPremiumContentLocked=O.some(function(e){return null==e?void 0:e.modules.some(function(e){return(null==e?void 0:e.is_premium)&&!e.enabled})});for(var s=O,o=[],i=0;i<s.length;i++)o.push(function(e){e=_objectSpread({},e),e=null==e?void 0:e.modules.find(function(e){return(null==e?void 0:e.is_premium)&&!e.enabled});return e?e.videoUrl:''}(s[i]));S.premiumPreview=o.filter(function(e){return''!==e})[0]}else S.hasPremiumContentLocked=void 0;if(a.length)for(var l=a,c=0;c<l.length;c++)e=l[c],t=c,O.push({_id:0,enable:!0,additional:!0,name:''.concat(P('ch-student-course.headlines.additional-class'),' ').concat(t+1),schedule:e});if(null!=(T=a=null==(a=I.courseTmp.camada.complementarySchedules)?void 0:a.filter(function(e){return e.day}))&&T.length){for(var d=!1,u=a,m=[],p=0;p<u.length;p++)m.push(((r=u[p]).day=new Date(r.day).getTime(),r._flags=r._flags||{},r._flags.isComplementary=r._flags.isComplementary||!0,d||(r._flags.isNext=(new Date).getTs()<r.day,d=!0),r));for(var v=(a=m).filter(function(e){return!e.teachersLeveling}),g=0;g<v.length;g++)n=v[g],O.push({_id:0,enable:!0,complementary:!0,leveling:n.leveling,name:function(e){e=n.title||(null==(e=n.stage)?void 0:e.name)||'';return n.leveling?P('ch-student-course.headlines.leveling-class'):e.toLowerCase().includes('after')||e.toLowerCase().includes('complementaria')?e:''.concat(P('ch-student-course.headlines.after-class'),' ').concat(e)}(),schedule:n})}function f(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),e=Math.floor(e%86400%3600/60);return''.concat(t?''.concat(t,' ').concat(P('ch-student-course.tooltip.left-time'),' '):'').concat(n,':').concat(e<10?'0'.concat(e):e,'hs')}function h(t){var e,n,r,a,s,o=new Date,i=new Date(t.from),o=(i.setMinutes(i.getMinutes()-1),(i-o)/1e3);return o/=60,Math.abs(Math.round(o))<60&&(t.flags.isIncoming=!0,function e(t,n){var r,a;I.countdown=(r=new Date(t)-new Date,Math.floor(r/1e3/3600),a=Math.floor(r%36e5/6e4),r=Math.floor(r%6e4/1e3),a?''.concat(a,'\' ').concat(r<10?'0'.concat(r):r,'"'):(n&&n(),0)),E(function(){return e(t,n)},1e3)}(i,function(){t.flags.isNow=!0,t.flags.isIncoming=!1})),t.flags.isTodayAlias=(o=t.flags.isToday?P('ch-student-course.headlines.today'):P('ch-student-course.headlines.next-class'),i=t.from,a=x('date')(i,'EEEE'),e=x('date')(i,'dd/MM'),n=''.concat(x('date')(i,'HH:mm'),' ').concat(P('ch-student-course.tooltip.to-next-class-widget'),' ').concat(x('date')(t.to,'HH:mm'),'hs'),r=P('ch-student-course.headlines.feedback-next-class'),t.flags.isFeedbackRequired&&(r=P('ch-student-course.headlines.feedback-required')),t.flags.isFeedbackOptional&&(r=P('ch-student-course.headlines.feedback-optional')),r=I.courseTmp.flags.showProgramFeedbacks?r:'',I.courseTmp.flags.isRemoteRecorded&&(n=''),I.courseTmp.training?(s=P('ch-student-course.trainig.next-class'),i=x('date')(i,'dd/MMM/yyyy').replace('.',''),''.concat(s,' ').concat(a,' ').concat(i,' ').concat(n)):''.concat(o,' ').concat(a,' ').concat(e,' ').concat(n,' ').concat(r)),t.flags.isTodayTzAlias=function(e){e=null==(e=Intl.DateTimeFormat())||null==(e=e.resolvedOptions())||null==(e=e.timeZone)||null==(e=e.split('/').last())||null==(e=e.split('_'))?void 0:e.join(' ');return''.concat(t.flags.isTodayAlias,' - Zona Horaria: ').concat(e)}(),t.flags.isTomorrowAlias=(s=x('date')(t.from,'EEEE HH:mm'),i=t.flags.isTomorrow?P('ch-student-course.headlines.tomorrow'):P('ch-student-course.headlines.next-live'),I.courseTmp.training?(o=''.concat(x('date')(t.from,'EEEE'),' ').concat(x('date')(t.from,'dd/MMM/yyyy').replace('.','')),a=''.concat(x('date')(t.from,'HH:mm'),'hs'),''.concat(i,' ').concat(o,' ').concat(a)):''.concat(i,' ').concat(s,'hs')),t}for(var b,w,T,y=O,k=function(r){var e,t;r.flags=r.flags||{},r.flags.isFree=!!r.free,r.flags.isStarter=!!r.starter,r.flags.isAdditional=!!r.additional,r.flags.isOnboarding=!!D.onboarding,r.flags.isComplementary=!!D.complementary,r.flags.isLeveling=!!D.leveling,r.flags.isAdditional||null!=(t=r.schedule)&&t._id||(r.schedule=I.courseTmp.camada.schedules.find(function(e){return(null==e?void 0:e.stage)===r._id})),r.schedule=r.schedule||{},r.schedule.flags=Object.assign(r.schedule.flags||{},r.schedule._flags||{}),null!=(t=r.schedule)&&t.day&&(r.schedule.day=new Date(r.schedule.day).getTime(),r.schedule.flags=V(r.schedule.flags,r.schedule._id,r),I.courseTmp.flags.isOnboarding&&(r.schedule.flags.isPast=r.flags.completed),r.schedule.dayAlias=function(){var e=r.schedule,t=x('date')(e.from,'dd/MMM/yyyy').replace('.','');switch(!0){case e.flags.isFeedbackRequired:P('ch-student-course.headlines.feedback-required');break;case e.flags.isFeedbackOptional:P('ch-student-course.headlines.feedback-optional');break;default:P('ch-student-course.headlines.feedback-next-class')}var n=e.flags.isUserAbsent?'<span class="absent">'.concat(P('ch-student-course.headlines.absent'),'</span>'):'<span class="present">'.concat(P('ch-student-course.headline.present'),'</span>');return!!e._id&&(e.flags.isPast&&!I.courseTmp.training?!e.flags.isComplementary&&''.concat(t,' ').concat(n,' ').concat(e.flags.isFeedbackRequired?'':P('ch-student-course.headlines.feedback-not-required')):''.concat(t))}(),r.schedule.feedbackTimeLeftToExpireAlias=!r.schedule.flags.isFeedbackCompleted&&r.schedule.flags.isFeedbackExpired?r.schedule.flags.isUserAttended?I.courseTmp.flags.isEnded?P('ch-student-course.tooltips.ended'):I.courseTmp.flags.hasCoderAskActive?P('ch-student-course.tooltips.activate-feedback'):P('ch-student-course.tooltips.feedback-issue'):P('ch-student-course.tooltips.not-attended'):P('ch-student-course.tooltips.expire-at').replace('%time%',f(r.schedule.flags.feedbackTimeLeftToExpire)),r.schedule.deliverExpirationDateTzAlias=(t=x('date')(r.schedule.flags.deliverExpirationDate,'dd/MM/yyyy HH:mm'),e=null==(e=Intl.DateTimeFormat())||null==(e=e.resolvedOptions())||null==(e=e.timeZone)||null==(e=e.split('/').last())||null==(e=e.split('_'))?void 0:e.join(' '),''.concat(t,' - ZH: ').concat(e)),r.schedule.deliverTimeLeftToExpireAlias=I.courseTmp.flags.deliversCanBeLocked&&r.schedule.flags.deliverTimeLeftToExpire?P('ch-student-course.tooltips.deliver-time-left').replace('%time%',f(r.schedule.flags.deliverTimeLeftToExpire)):'',null!=(e=r.modules))&&e.forEach(function(t){var e,n;t.flags.deliverExpirationDate&&(t.flags.deliverExpirationDateTzAlias=(n=x('date')(t.flags.deliverExpirationDate,'dd/MM/yyyy HH:mm'),e=null==(e=Intl.DateTimeFormat())||null==(e=e.resolvedOptions())||null==(e=e.timeZone)||null==(e=e.split('/').last())||null==(e=e.split('_'))?void 0:e.join(' '),''.concat(n,' - ZH: ').concat(e)),n=moment(r.schedule.from),t.flags.isOnTimeForDeliver=n<=moment()&&moment()<moment(t.flags.deliverExpirationDate,'x'),R.fd&&!t.flags.isOnTimeForDeliver&&(e=R.fd,t.flags.isOnTimeForDeliver=r.schedule._id===e||t.flags.isOnTimeForDeliver),t.flags.deliverTimeLeftToExpireAlias=function(){if(!t.flags.isDeliverEnable){var e=moment(moment(t.flags.deliverExpirationDate,'x').format('DD MMM YYYY')).add(7,'d').format('DD MMM YYYY');if(I.courseTmp.flags.isEnded)return P('ch-student-course.tooltips.deliver-ended');if(!t.flags.hasDeliver&&t.flags.isDeliverExpired&&I.courseTmp.flags.hasCoderAskActive)return P('ch-student-course.tooltips.deliver-warning-expired').replace('%expiration%',e)}return''}(),n=new Map([['personal-development',P('ch-course-student-program-headline.profesional')]]),null!=t)&&t.type&&['personal-development'].includes(null==t?void 0:t.type)&&(t.type=n.get(t.type))})},_=0;_<y.length;_++)k(y[_]);O=A(O),I.courseTmp.flags.isPersonalGoal||I.courseTmp.flags.isOnboarding||I.courseTmp.flags.isOnline||null!=(b=Object.assign({},O.find(function(e){var t;return!(null==(t=e.schedule)||!t.flags)&&(e.schedule.flags.isNow||e.schedule.flags.isToday||e.schedule.flags.isTomorrow||e.schedule.flags.isIncoming||e.schedule.flags.isNext)})))&&null!=(T=b.schedule)&&T._id&&(T=I.courseTmp.camada.schedules.find(function(e){return e._id===b.schedule._id}),a=a.find(function(e){return e._flags.isNow||e._flags.isToday||e._flags.isTomorrow||e._flags.isIncoming||e._flags.isNext}),null!=(w=T)&&w._id||null==a||!a._id?null==(w=T)||!w._id||null!=a&&a._id?null!=(w=T)&&w._id&&null!=a&&a._id&&(I.courseTmp.widgetNextClassTmp=T.day>a.day?h(_objectSpread(_objectSpread({},a),{},{stage:b})):h(_objectSpread(_objectSpread({},T),{},{stage:b}))):I.courseTmp.widgetNextClassTmp=h(_objectSpread(_objectSpread({},T),{},{stage:b})):I.courseTmp.widgetNextClassTmp=h(_objectSpread(_objectSpread({},T=a),{},{stage:b})),null!=(w=T)&&w._id&&(b.schedule=Object.assign(b.schedule,T,{flags:T._flags})),I.courseTmp.nextSche=Object.assign({},b.schedule,{stage:b}),I.courseTmp.nextSche._id&&(I.courseTmp.nextSche=h(I.courseTmp.nextSche)),null!=a)&&a._id&&(null==a?void 0:a._id)!==b.schedule._id&&(I.courseTmp.nextComplementarySche=h(a)),I.program.stages=C.stages(O,I.courseTmp).sort(function(e,t){var n,r=null==(r=e.schedule)?void 0:r.day,a=null==(a=t.schedule)?void 0:a.day;return r&&a?(e=new Date(null==(e=e.schedule)?void 0:e.from),t=new Date(null==(t=t.schedule)?void 0:t.from),(n=new Date(r)).setHours(e.getHours(),0,0,0),(e=new Date(a)).setHours(t.getHours(),0,0,0),n.getTime()>=e.getTime()?1:-1):(!r||a)&&!r&&a?-1:1})}function U(){return(U=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getAttendance({camadaId:I.courseTmp.camada._id,scheduleId:t,studentId:n,ts:(new Date).getTs()});case 2:return r=e.sent,r=r.success,e.abrupt('return',r);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function L(){return(L=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getFeedback({camadaId:I.courseTmp.camada._id,scheduleId:t,userId:n,ts:(new Date).getTs()});case 2:return a=e.sent,r&&r(null,a),e.abrupt('return',a);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function M(e){var t,e=(null==e?void 0:e.free)||(null==e?void 0:e.leveling),n=I.program.stages.filter(function(e){return!(e.free||e.leveling)})[0],n=(null==(t=n.schedule.flags)?void 0:t.isNow)||(null==(t=n.schedule.flags)?void 0:t.isPast);return!(!e&&!n)}function F(){return(F=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getUserNps({courseId:I.courseTmp._id,userId:g,ts:(new Date).getTs()}).then(function(e){return e.data});case 2:if(n=e.sent,t=n.lastSchedule,null!=n&&null!=(n=n.nps)&&n._id||null==t||!t._id){e.next=15;break}return e.next=7,l.getScheduleFeedbackUrl({courseId:I.courseTmp._id,scheduleId:t._id,userId:S.USER._id});case 7:return n=e.sent,r=n.url,t.flags=t.flags||{},t.flags.showNpsFeedback=!0,t.feedbackUrl=r,e.next=14,new Promise(function(e){S.$broadcast('MODAL:FEEDBACK:OPEN',!0,t,I.courseTmp.camada._id,g,function(){e(!0)})});case 14:return e.abrupt('return',e.sent);case 15:return e.abrupt('return',!0);case 16:case'end':return e.stop()}},e)}))).apply(this,arguments)}function B(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,p.REQUEST_REENABLE){e.next=3;break}return e.abrupt('return',{isValid:!1});case 3:return e.next=5,a.isRequestReenableValid({courseId:I.courseTmp._id,userId:S.USER._id,type:n,ts:(new Date).getTs()});case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}I.$onInit=function(){var a,e,s,o;return u.FEATURES=p,null!=(e=u.camadaTmp)&&e.id?null!=(e=u.camadaTmp.course)&&null!=(e=e.flags)&&e.isContainer?v.info({msg:P('ch-student-course.toast.force-reenroll')}):(a=Object.assign({},u.camadaTmp.course),delete(e=Object.assign({},u.camadaTmp)).course,a.camada=e,a.level.title=a.level.title.replace('Marketing Digital:',''),s=a.sharedFolderLink,o=(null==(e=a.camada.class)||null==(e=e.flags)?void 0:e.completed)&&(null==(e=a.camada.class)?void 0:e.programFolderLink),I.program={},I.tutoringCommission=3095,void Promise.all([k(a),b(a),w(a),y(a)]).then(function(){return E(function(){var e,t=a.flags,n=a.training||t.isTraining,r=!a.level.freeBr||t.isEnded;(t=_objectSpread(_objectSpread({},t),{},{isTraining:n,showTrainingWeeks:n,isStudent:null==(e=S.PERMISSIONS)?void 0:e.student,hasFolder:!(t.isRemoteRecorded||(!s||!o)&&!s),showDeliversProgress:t.showDeliversProgress&&I.progress.delivers.amount&&!n,showFinalDeliversProgress:t.showDeliversProgress&&I.progress.delivers.score&&!n,showUpsellignBanner:t.isEnded||t.endsInLessThanAWeek,showUpsellignProgressBarBanner:t.isRemote&&(!window.ENV_PROD||p.COURSE_UPSELLING_BANNER&&t.isStarted&&!t.isEnded),showAttendanceProgress:t.showAttendanceProgress&&!n&&!p.PREMIUM_COMISSION(a.camada.id)&&r,showCertificationProgress:!p.PREMIUM_COMISSION(a.camada.id)&&!I.isCoderUComission&&(null==(e=t)?void 0:e.showCertificationProgress)&&r})).showBanners=!t.isWorkshop&&(t.showUpsellignBanner||t.showUpsellignProgressBarBanner||t.showTutorialsBanner),a.progress=I.progress,a.flags=t,I.courseTmp=a,S.courseCamadaId=I.courseTmp.camada.id,I.strategy={nextSche:!t.isPrerecorded&&!t.isOnline&&!t.isPersonalGoal},N(),E(function(){E(q,1e3),E(G,1e3),E(j,1e3),E(H,1e3),E(i,1e3),E(function(){return T(a)},1e3),$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100}),I.program.loaded=!0})})},1e3)):v.error({msg:P('ch-student-course.errors.no-access')})},u.$on('PROGRAM:ONBOARDING:COMPLETED',function(e){return T()}),I.onClickInfoScholarship=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),I.progress.hasBeca&&S.$emit('MODAL:INFO_SCHOLARSHIP:OPEN')},u.$on('PROGRAM:STAGE:FEEDBACK',function(e,t){var n;null!=t&&t._id&&(n=I.courseTmp.camada.schedules.find(function(e){return e._id===t._id}),I.onClickFeedback(null,n.stage,n))}),I.onClickFeedback=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),r.flags=r.flags||r._flags||{},f()){e.next=5;break}return e.abrupt('return');case 5:if(r.flags.isFeedbackCompleted||r.flags.isFeedbackExpired||1!==t.detail){e.next=18;break}return e.next=8,function(){return U.apply(this,arguments)}(r._id,g);case 8:if(a=e.sent,I.courseTmp.training||a){e.next=11;break}return e.abrupt('return',v.info({msg:P('ch-student-course.toasts.not-attended')}));case 11:return e.next=13,l.getScheduleFeedbackUrl({courseId:I.courseTmp._id,scheduleId:r._id,userId:S.USER._id});case 13:a=e.sent,r.feedbackUrl=a.url,E(function(){S.$broadcast('MODAL:FEEDBACK:OPEN',!0,r,I.courseTmp.camada._id,g,function(e,n){E(function(){!function(){L.apply(this,arguments)}(r._id,g,function(e,t){t.success||n?(r.flags.isFeedbackEnable=!1,r.flags.isFeedbackCompleted=!0,r.flags.isFeedbackExpired=!0):v.error({msg:P('ch-student-course.toasts.not-feedback-recived')})})},1e3)})}),e.next=38;break;case 18:s='',r.flags.isFeedbackCompleted?(s=P('ch-student-course.toasts.feedback-already-completed'),e.next=37):e.next=23;break;case 23:if(r.flags.isFeedbackExpired)return e.next=26,B({courseId:I.courseTmp._id,userid:S.USER._id,type:'reenable-feedback'});e.next=36;break;case 26:if(o=e.sent,i=o.maxRequestsReached,o.isValid)return e.abrupt('return',S.$emit('MODAL:REQUEST_REENABLE:OPEN',!0,{courseTmp:I.courseTmp,userTmp:S.USER,type:'reenable-feedback',schedule:r}));e.next=33;break;case 33:s=P(i?'ch-student-course.toasts.max-open-feedback-requests':'ch-student-course.toasts.feedback-expired');case 34:e.next=37;break;case 36:r.flags.isFeedbackEnable||(s=P('ch-student-course.toasts.feedback-not-enabled'));case 37:s&&v.info({msg:s});case 38:$('[data-toggle="tooltip"]').tooltip('hide');case 39:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),I.onClickModule=function(e,n,r){function a(){v.info({msg:P('ch-student-course.toasts.content-not-enabled'),delay:1e4})}var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{isPremium:!1,isUnlocked:!1},o=(null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),I.courseTmp.camada.schedules.find(function(e){return e.stage===n._id})),i=null==n?void 0:n.slug,l=null==r?void 0:r.slug;f(function(){var e,t;I.courseTmp.flags.isTraining&&!M(n)?a():s.isPremium&&!s.isUnlocked?(c.pushDataLayer('trackEvent','coder_premium','promocional','ver_material'),S.$broadcast('PAID:CONTENT:PREMIUM:OPEN',{productId:I.courseTmp.level._id,programId:I.courseTmp.camada.class._id,courseId:I.courseTmp._id,contentPreview:r.videoUrl})):D.isRemoteRecorded||null!=o&&null!=(t=o._flags)&&t.isEnableByProgress||null!=o&&o._flags.isIncoming||s.isUnlocked||null!=n&&n.leveling||null!=n&&n.free||I.courseTmp.flags.isTraining?null!=r&&r.githubUrl&&s.isUnlocked?window.open(r.githubUrl,'_blank'):(t=!![null==o?void 0:o.presentationLink,null==n?void 0:n.theoryLink,null==r?void 0:r.slideUrl,null==r?void 0:r.activityUrl,null==r?void 0:r.materialUrl].filter(function(e){return!(null==e||!e.length)}).length,e=!![null==o?void 0:o.recordingVideoLink,null==r?void 0:r.videoUrl].filter(function(e){return!(null==e||!e.length)}).length,t?null!=o&&null!=(t=o.presentationLink)&&t.includes('coda.io')?m.go('platform-course-program-content',{camadaId:I.courseTmp.camada.id,courseSlug:I.courseTmp.level.url,stageSlug:i,moduleSlug:l}):S.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:n,scheTmp:o,moduleTmp:r,courseTmp:I.courseTmp,isPremium:s}):e?S.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,n,r,I.courseTmp):n.flags.hasGithubModules||n.flags.free||D.isFreeTutorial||D.isOnboarding||D.isPersonalGoal||i&&l?m.go('platform-course-program-content',{camadaId:I.courseTmp.camada.id,courseSlug:I.courseTmp.level.url,stageSlug:i,moduleSlug:l}):null!=r&&r.text&&I.courseTmp.training?S.$broadcast('MODAL:LEARN_MORE_CONTENT',{content:r.text,title:null==n?void 0:n.name}):null!=r&&r.link?window.open(null==r?void 0:r.link,'_blank'):D.hasFolder?window.open(I.courseTmp.sharedFolderLink,'_blank').focus():v.error({msg:P('ch-student-course.toasts.content-not-loaded'),delay:1e4})):a()})},I.onClickDeliver=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a,s,o,i,l,c,d;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),p.PEER_REVIEW&&!(null==u||null==(a=u.camadaTmp)||null==(a=a.course)||!a.usePeerReview))return e.abrupt('return',m.go('review',{courseId:u.camadaTmp.id,homeworkId:n._id,homeworkPlanId:n.stage}));e.next=5;break;case 5:if(I.moduleTmp=n,I.scheduleTmp=null==r?void 0:r.schedule,null!=(a=n.deliver)&&a._id&&(n.deliver.flags.hasChatsUnviewed=!1),null!=(s=n.flags)&&s.hasDeliver||null!=(s=n.flags)&&s.isDeliverEnable){e.next=27;break}return e.next=11,B({courseId:I.courseTmp._id,userid:S.USER._id,type:'reenable-deliver'});case 11:s=e.sent,o=s.maxRequestsReached,i=s.isValid,s.canRequest,i?e.next=20:e.next=18;break;case 18:if(o)return e.abrupt('return',v.info({msg:P('ch-student-course.toasts.max-open-deliver-requests')}));e.next=20;break;case 20:return i=I.scheduleTmp.flags.deliverExpirationDate,(l=new Date(i)).setDate(l.getDate()+10),d=(new Date).getTime(),c=P('ch-student-course.toasts.deliver-expired').replace('%type%',n.headline.toLowerCase()).replace('%time%',x('date')(i,'dd/MM/yyyy HH:mm')),d>=l.getTime()?c+=P('ch-student-course.toasts.deliver-expired.1'):n.flags.isIntegratorTp&&(c+=P('ch-student-course.toasts.deliver-expired.2')),e.abrupt('return',v.info({msg:c}));case 27:d=function(e){var t;if(I.moduleTmp.project=I.moduleTmp.deliver,p.COURSE_DELIVER_V2_STUDENT_REVIEW){if(R.moduleId=I.moduleTmp._id,R.deliverId=(null==(t=I.moduleTmp.deliver)?void 0:t._id)||'nuevo',R.camadaTmp=u.camadaTmp,R.stageTmp=e,R.scheduleTmp=I.scheduleTmp,n.flags.isOnTimeForDeliver||n.deliver||R.fd)return S.$broadcast('MODAL:COURSE_DELIVER:OPEN',!0,I.courseTmp,S.USER,I.moduleTmp,I.scheduleTmp,R)}else S.$emit('MODAL:COURSE_DELIVER:OPEN',!0,I.courseTmp,S.USER,I.moduleTmp,I.scheduleTmp)},null!=(l=n.deliver)&&l._id?d(r):f(d);case 29:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),I.onClickGoToCert=function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function e(i,l,c,d){var u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),i.stopPropagation(),null!=(u=I.certificationTmp)&&u._id?I.courseTmp.level.freeBr?(e.t0=!0,e.next=10):e.next=7:e.next=12;break;case 7:return e.next=9,function(){return F.apply(this,arguments)}();case 9:e.t0=e.sent;case 10:e.t0&&(t=I.certificationTmp,n=l,r=c,a=d,o=s=void 0,null!=t&&t.certificateOfCareer?S.$broadcast('MODAL:CAREER_CERTIFICATE:OPEN',!0,{certTmp:t,flagDownload:n,flagLinkedinAdd:r}):(s=t.permanentLink,o=!n&&!r&&!a,n&&(s=t.downloadLink,h('download')),r&&(s=C.linkedinAddCertificate(t,'course'),h('linkedin')),a&&(s=C.getCertLinkedinShareUrl(I.courseTmp,{_id:t._id})),o&&h('www'),window.open(s,'_blank')));case 12:return e.abrupt('return');case 13:case'end':return e.stop()}var t,n,r,a,s,o},e)}));return function(e,t,n,r){return a.apply(this,arguments)}}(),I.getTooltipProjectStatusLabel=function(e){if(null==e||!e._id)return'';if(null!=(t=e.deliver)&&t._id){var t=e.deliver,e=e.status;if(t.flags.hasChatsUnviewed)return P('ch-student-course.tooltips.delivers.message-unread');if(e){if(e.approved)return P('ch-student-course.tooltips.delivers.approved');if(!e.disapproved&&!e.approved)return P('ch-student-course.tooltips.delivers.delivered');if(e.disapproved)return P('ch-student-course.tooltips.delivers.reviewed')}}return P('ch-student-course.tooltips.delivers.deliver')},u.$on('DELIVER:REFRESH',function(e){E(function(){y(I.courseTmp,function(){w(I.courseTmp,function(){I.program.stages=A(I.program.stages)})})})}),u.$on('DELIVER:UPDATED',function(e,t){t&&E(function(){y(I.courseTmp,function(){w(I.courseTmp,function(){I.program.stages=A(I.program.stages)})})})}),I.onClickVideo=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{isPremium:!1,isUnlocked:!1};if(e.stopPropagation(),e.preventDefault(),t=t||{},a.isPremium&&!a.isUnlocked)return c.pushDataLayer('trackEvent','coder_premium','promocional','ver_video'),S.$broadcast('PAID:CONTENT:PREMIUM:OPEN',{productId:I.courseTmp.level._id,programId:I.courseTmp.camada.class._id,courseId:I.courseTmp._id,contentPreview:r.videoUrl});f(function(){var e;I.courseTmp.flags.isTraining&&!M(n)?v.info({msg:P('ch-student-course.toasts.content-not-enabled')}):t.recordingVideoLink||null!=r&&r.videoUrl?S.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,n,r,I.courseTmp,a):t.liveVideoLink?p.COURSE_EMBED_LIVE_MEETING||I.courseTmp.flags.showEmbedLiveMeeting&&(null==(e=t)||null==(e=e.liveVideoLink)?void 0:e.includes('youtu.be'))?m.go('platform-course-meeting',Object.assign({},R,{scheduleId:t._id})):(v.info({msg:null!=(e=I.courseTmp.camada)&&e.zoomRegistrant?P('ch-student-course.toasts.zoom-registrant'):P('ch-student-course.toasts.zoom-name')}),l.getMeetingAttendanceLink({userId:g,scheduleId:t._id,courseId:I.courseTmp._id}).then(function(e){e=e.meeting;null!=e&&e.link?window.open(e.link,'_blank'):window.open(t.liveVideoLink,'_blank')})):v.info({msg:P('ch-student-course.toasts.zoom-not-enabled')})})},I.onClickOpenVideo=function(e,t,n,r){e.preventDefault(),f(function(){r||!p.COURSE_EMBED_LIVE_MEETING&&!I.courseTmp.flags.showEmbedLiveMeeting?window.open(t,'_blank').focus():m.go('platform-course-meeting',Object.assign({},R,{scheduleId:n._id}))})},I.onClickGoToStage=function(e,t){e.preventDefault(),$('.scrolleable').animate({scrollTop:$('#'.concat(t.slug)).offset().top-100,easing:'easeout'},600)},I.onClickStagePerk=function(e,t){},I.onClickSharedFolder=function(e){e.preventDefault(),f(function(){var e;null!=(e=I.courseTmp.sharedFolderLink)&&e.length&&window.open(I.courseTmp.sharedFolderLink,'_blank').focus()})},u.$on('REQUEST_REENABLE:APPROVED',function(e,t,n){t&&(n.moduleId?R.fd=n.scheduleId:R.ff=n.scheduleId,R.md=n.moduleId,R.stu=n.userId,N(),S.$broadcast('MODAL:COURSE_DELIVER:OPEN',!0,I.courseTmp,S.USER,I.moduleTmp,I.scheduleTmp,!0))})}]}}]),angular.module('core').component('chCourseSupervision',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-supervision/ch-course-supervision.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','$timeout','$filter','FEATURES','CODER_LANDINGS',function(r,e,t,n,a,s){var o=s.REPORT_USER_PROTOCOL,u=this,m=n('translate'),p=function(e,t){return e&&t&&parseInt(100*e/t,10)};function v(e){return e.progress=e.progress||{},e.progress.total=e.progress.total||{},e.progress.total.deliveredTooltip=''.concat(e.progress.total.delivered,' de ').concat(e.progress.total.expected,' esperadas'),e.progress.total.reviewedTooltip=''.concat(e.progress.total.deliveredPerc,'% revisadas'),e.progress.total.unreviewedTooltip=''.concat(e.progress.total.unreviewedPerc,'% por revisar'),e}function g(e){return e.progress.absents=Object.assign(e.progress.absents,{status:{positive:e.progress.absents.perc<75,neutral:75<=e.progress.absents.perc&&e.progress.absents.perc<=100,negative:100<e.progress.absents.perc}}),e.progress.absents.tooltip=''.concat(e.progress.absents.completed,' de ').concat(e.progress.absents.amount,' ausencias'),e.progress.attendance=Object.assign(e.progress.attendance,{status:{positive:75<=e.progress.attendance.perc,neutral:50<=e.progress.attendance.perc&&e.progress.attendance.perc<75,negative:e.progress.attendance.perc<50}}),e.progress.attendance.tooltip=''.concat(e.progress.attendance.completed,' de ').concat(e.progress.attendance.amount,' asistencias'),e.progress.delivers=Object.assign(e.progress.delivers,{status:{positive:75<=e.progress.delivers.deliveredPerc,neutral:50<=e.progress.delivers.deliveredPerc&&e.progress.delivers.deliveredPerc<75,negative:e.progress.delivers.deliveredPerc<50}}),e.progress.delivers.tooltip=''.concat(e.progress.delivers.completed,' aprobados de ').concat(e.progress.delivers.delivered,' entregados de ').concat(e.progress.delivers.amount,' esperados'),e}r.IS_ENV_BR&&(o='https://drive.google.com/file/d/1xpmd6L6S4H2-X5gJl95Xw4j9ODRCtFsj/view'),u.REPORT_USER_PROTOCOL=o,u.$onInit=function(){e.getSupervision({teacherId:r.USER._id,courseId:u.camadaTmp.course._id}).then(function(e){for(var t=e.course,n=e.students,e=e.teachers,r=(u.courseTmp=t,u.courseTmp.headline={classesAndAssistance:m('ch-course-supervision.classes-and-assistance'),expectedDeliveries:m('ch-course-supervision.expected-deliveries')},u.courseTmp.progress.totalDelivers.perc=p(u.courseTmp.progress.totalDelivers.expected,u.courseTmp.progress.totalDelivers.amount),e),a=v,s=[],o=0;o<r.length;o++)s.push(a(r[o],o,r));u.teachers=_.orderBy(s,['-progress.total.reviewedPerc'],'desc');for(var i=n,l=g,c=[],d=0;d<i.length;d++)c.push(l(i[d],d,i));u.students=_.orderBy(c,['progress.attendance.perc','progress.delivers.deliveredPerc'],'desc')}).then(function(){t(function(){var e;$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100}),a._REPORT_ASSISTANT=a.REPORT_ASSISTANT&&(null==(e=u.teachers)?void 0:e.length),u.FEATURES=a,u.IS_ENV_BR=r.IS_ENV_BR,u.code_of_conduct='https://drive.google.com/file/d/1s5LAqqOdW_Z9q8pqgUO0XbaCDCBkm2_C/view',u.terms_and_conditions=r.IS_ENV_BR?'https://www.coderhouse.com.br/legal':'https://www.coderhouse.com/legales'},1e3)})},u.onClickAlert=function(e,t){e.preventDefault();var n,e=null;null!=t&&null!=(n=t.flags)&&n.isAssistant&&(e='teachers-supervision'),r.$emit('MODAL:REPORT_USER:OPEN',!0,u.camadaTmp.course,r.USER,t,null,null,null,null,e)},u.onClickAssistantResource=function(e){e.preventDefault(),close(),r.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:{name:'Protocolo de notificación'},scheTmp:{presentationLink:o},courseTmp:u.courseTmp})}}]}),angular.module('core').directive('chCourseTeacherMenu',[function(){return{scope:{camadaTmp:'='},restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-course-teacher-menu/ch-course-teacher-menu.view.html',controllerAs:'vm',controller:['$scope','$rootScope','$stateParams','$state','SessionSrv','FEATURES','UsersSrv','CATEGORIES_TS','CoursesSrv','NotificationSrv','$window','NormalizeSrv','$timeout','$filter',function(I,O,t,D,e,P,A,n,N,r,a,s,o,i){var l,$=this,U=O.USER,L=null==(c=O.USER)?void 0:c._id,c=(new Date).getDay(),d=null==(d=O.USER)||null==(d=d.flags)?void 0:d.isStudent,M=null==(l=O.COUNTRY)?void 0:l.code,F=($.user=U,$.IS_MOBILE=O.IS_MOBILE,$.camadaTmp=I.camadaTmp,$.params=t,$.params.courseSlug=$.params.courseSlug||$.camadaTmp.course&&$.camadaTmp.course.level&&$.camadaTmp.course.level.url,$.FEATURES=P,$.isBr='br'==U.profile.country,$.requestSurvey=!O.IS_ENV_BR&&!d&&c-1<=15,i('translate'));function B(){return u.apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=$.courseTmp,n=s._id,r=s.flags,s.camada,s=$.sections,a=s.course,s=s.program,o=O.USER._id,r.isOnboarding&&r.isCertified)return e.next=6,function(){return m.apply(this,arguments)}($.courseTmp);e.next=7;break;case 6:r.isEnded=e.sent;case 7:if(a&&s&&r.isEnded&&r.isCertified)return e.next=10,N.getUserNps({courseId:n,userId:o});e.next=27;break;case 10:if(i=e.sent,i=i.data,l=i.nps,i=i.lastSchedule,null!=l&&l._id||null==i||!i._id){e.next=26;break}return e.next=16,N.getScheduleFeedbackUrl({courseId:n,scheduleId:i._id,userId:o});case 16:return l=e.sent,c=l.url,i.feedbackUrl=c,i.flags=i.flags||{},i.flags.showNpsFeedback=!0,$.scheTmp=i,$.strategy.menu.btnNps=!0,e.abrupt('return',!0);case 26:$.strategy.menu.btnNps=!1;case 27:return e.abrupt('return');case 28:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getUserCourseProgress({userId:O.USER._id,camadaId:t.camada.id,ts:(new Date).getTs()}).then(function(e){return 100===e.data.content.perc});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function q(){return(q=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._id,(a=t.flags).isFree||a.isOnboarding)return e.next=4,N.setUserFreeEnrollment({userId:n,courseId:r});e.next=4;break;case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,r,a,s,o,i,l,c,d,u,m,p,v,g,f,h,b,w,T,y,k,_,S,E,C,R,x;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object.assign({},I.camadaTmp.course)).camada=Object.assign({},I.camadaTmp),delete n.camada.course,$.courseTmp=n,r=D.current.name,e.next=7,N.getPermissionsNewReviews({context:{camada:[$.courseTmp.camada.id]}});case 7:if(a=e.sent,a.variation,$.sections={course:['platform-course','module'].includes(r),attendance:['platform-course-attendance'].includes(r),scorecard:['platform-course-scorecard'].includes(r),delivers:['platform-course-delivers'].includes(r),classmates:['platform-course-classmates'].includes(r),program:['platform-course'].includes(r),rating:['platform-course-rating'].includes(r),module:['module'].includes(r),supervision:['platform-course-supervision'].includes(r)},a=Object.assign({isTeacher:O.PERMISSIONS.teacher,isAssistant:n.isAssistantTeacher,isCoordinator:n.flags.isCoordinatorTeacher,isSpecialist:n.flags.isSpecialistTeacher,isReviewerAssistant:n.flags.isReviewerAssistant,isSyncAssistant:n.flags.isSyncAssistant},n.flags),l=$.courseTmp,s=l.sharedFolderLink,o=l.teachersSharedFolderLink,i=l.slack,l=l.chatChannel,c=a.isStarted,d=a.isEnded,u=a.isFinished,m=a.isRemote,p=a.isOnline,v=a.isOnboarding,g=a.isRecorded,f=a.isAssistant,h=a.isSpecialist,k=a.isReviewerAssistant,_=a.isSyncAssistant,b=a.hasCoderAskActive,S=a.isAssociateTeacher,w=!h&&!k,R=!p&&!g&&!h,C=!(p||g||h||k||$.isBr),x=!p&&!g&&!h,T=(!p||v&&f||a.isPersonalGoal)&&!h,y=!$.IS_MOBILE&&m&&!d&&!v&&!h,k=!($.IS_MOBILE||p||k||_),_=!$.IS_MOBILE&&!f&&m&&!d&&w||S,S=(null==s?void 0:s.length)&&w,E=!$.IS_MOBILE&&a.hasPowerBiAccount&&!f&&w,a.menu={btnCourseInfo:!p&&!g,btnMainCourseInfo:!c&&!p&&!g,btnAttendance:!$.IS_MOBILE&&R,btnScorecard:!$.IS_MOBILE&&C,btnSubmenuAttendance:$.IS_MOBILE&&R,btnSubmenuScorecard:$.IS_MOBILE&&C,btnFeedbacks:!$.IS_MOBILE&&x,btnSubmenuFeedbacks:$.IS_MOBILE&&x,btnDelivers:!$.IS_MOBILE&&T,btnSubmenuDelivers:$.IS_MOBILE&&T,btnClassmates:k,btnSharedFolder:(null==s?void 0:s.length)&&!h,btnSharedFolderInvitations:S,btnSharedTeacherFolder:(null==o?void 0:o.length)&&!h,btnChat:(null==i?void 0:i.length)||(null==l?void 0:l.length)||!v&&!p&&w,btnNps:w,btnNpsLabel:F(v?'ch-course-teacher-menu.btn-auto-test':'ch-course-teacher-menu.btn-nps'),btnZoomAccount:_,btnPowerBiAccount:E,btnReEnableDelivers:c&&!v&&!h&&!O.hasAccessToNewDeliver,btnRequestChangeGroup:f&&a.canRequestToChangePartnerWith&&w,btnZoomTips:m&&w,btnSubstitues:!$.IS_MOBILE&&!f&&!d&&!v&&w,btnSubstituesUnlocked:c&&!f&&!u&&w,btnComplementarySchedule:!$.IS_MOBILE&&a.isComplementarySchedulesEnable&&w,btnSupervision:y,btnLeaderboard:!$.IS_MOBILE&&a.isLeaderboardEnable&&!g&&w,btnShare:!$.IS_MOBILE&&!v&&!p&&!g&&(a.startsTomorrow||a.startsToday||a.endsTomorrow||a.endsToday)&&w,btnCalendar:!(v||p||g||d||$.IS_MOBILE),btnAttendanceCertificate:!v&&!p&&!d&&!g&&w,btnMeetingBackground:!(g||p||v||g||d||!w),btnForum:P.COURSE_FORUM&&!$.IS_MOBILE&&(g||m)&&w,btnRequestAdditionalSchedule:a.canRequestAdditionalSchedule&&w,btnReferral:P.REFERRAL_CUPON_TEACHER&&!$.IS_MOBILE&&(!c||d)&&!v&&w,btnReferralLabel:F(c?'ch-course-teacher-menu.btn-recommend-course':'ch-course-teacher-menu.btn-refer-friends'),btnCoderAsk:b&&!n.disableCoderAskChat,btnCoderAskTooltip:b?F('ch-course-teacher-menu.btn-coder-ask-tooltip'):''},!$.requestSurvey){e.next=38;break}if(M){e.next=31;break}return e.next=29,A.getProfile({_id:L});case 29:R=e.sent,M=null==R||null==(C=R.data)?void 0:C.country;case 31:return e.next=33,A.getSurvey({userId:L,country:M});case 33:x=e.sent,$.newNpslink=null==x?void 0:x.survey,a.menu.newNps=!!$.newNpslink,e.next=39;break;case 38:a.menu.newNps=!1;case 39:a.submenu=a.menu.btnCourseInfo,$.strategy=a,$.productTypeLabel=(t=void 0,t=F('ch-course-teacher-menu.product-label'),$.strategy.isOnboarding?t=F('ch-course-teacher-menu.product-onboarding-label'):$.strategy.isFree?t=F('ch-course-teacher-menu.product-tutorial-label'):$.strategy.isRemote&&(t=F('ch-course-teacher-menu.product-remote-label')),t),B(),!function(){q.apply(this,arguments)}($.courseTmp,null==U?void 0:U._id),O.$on('MENU:NPS:BTN',function(){return B(!0)}),$.has2021Enabled=P.COURSE_2021_CAMADAS.includes($.camadaTmp.id);case 46:case'end':return e.stop()}var t},e)})),$.sendSurvey=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.sendSurvey({userId:L,country:M}),window.open($.newNpslink,'_blank').focus();case 2:case'end':return e.stop()}},e)})),$.onClickSubstitute=function(e){e.preventDefault(),O.$emit('MODAL:REQUEST_SUBSTITUTE:OPEN',!0,$.courseTmp,$.camadaTmp)},$.onClickZoomAccount=function(e){null!=e&&e.preventDefault(),O.$emit('MODAL:COURSE_ZOOM_ACCOUNT:OPEN',!0,$.courseTmp,U)},$.onClickPowerBiAccount=function(e){null!=e&&e.preventDefault(),O.$emit('MODAL:COURSE_POWERBI_ACCOUNT:OPEN',!0,$.courseTmp,U)},$.onClickSetComplementarySchedule=function(e){e.preventDefault(),$.courseTmp.camada={teachers:$.camadaTmp.teachers,assistantTeachers:$.camadaTmp.assistantTeachers,coordinatorTeachers:$.camadaTmp.coordinatorTeachers},O.$emit('MODAL:COURSE_COMPLEMENTARY_SCHEDULE:OPEN',!0,$.courseTmp,U)},$.onClickZoomRecomendations=function(e){e.preventDefault(),O.$emit('MODAL:ZOOM_TIPS:OPEN',!0)},$.onClickBack=function(e){e.preventDefault(),D.is('platform-course-deliver')?D.go('platform-course-delivers',{camadaId:t.camadaId,courseSlug:t.courseSlug}):D.is('module')?D.go('platform-course',{camadaId:t.camadaId,courseSlug:t.courseSlug}):t.camadaId&&t.courseSlug?D.go('dashboard'):a.history.back()},$.onClickInfo=function(e){null!=e&&e.preventDefault(),$.courseTmp.camada={_id:$.courseTmp.camada,id:$.camadaTmp.id},$.isMenuDropdownActive=!1,O.$emit('MODAL:COURSE_INFO:OPEN',!0,$.courseTmp)},$.onClickCourseFaqs=function(e){null!=e&&e.preventDefault(),$.courseTmp.camada={_id:$.courseTmp.camada,id:$.camadaTmp.id},$.isMenuDropdownActive=!1,O.$emit('MODAL:COURSE_INFO:OPEN',!0,$.courseTmp)},$.onClickRequestEnrollCert=function(e){e.preventDefault(),e.stopPropagation(),$.isMenuDropdownActive=!1,O.$broadcast('MODAL:REQUEST_ENROLL_CERT:OPEN',!0,$.courseTmp,O.USER)},$.onClickDownloadMeetingBackground=function(e){e.preventDefault(),e.stopPropagation(),$.isMenuDropdownActive=!1,O.$broadcast('MODAL:COURSE_MEETING_BACKGROUND:OPEN',!0,$.courseTmp,O.USER)},$.onClickCalendar=function(e){null!=e&&e.preventDefault(),$.courseTmp.camada={_id:$.courseTmp.camada,id:$.camadaTmp.id},O.$emit('MODAL:COURSE_CALENDAR:OPEN',!0,$.courseTmp,!0)},$.onClickShare=function(e){null!=e&&e.preventDefault(),O.$emit('MODAL:SHARE:OPEN','teacher.submenu',{shareCourseStarts:$.courseTmp.flags.startsTomorrow||$.courseTmp.flags.startsToday,shareCourseEnds:$.courseTmp.flags.endsTomorrow||$.courseTmp.flags.endsToday})},$.onClickRequestAdditionalSchedule=function(e,t){null!=e&&e.preventDefault(),$.courseTmp.camada={_id:$.courseTmp.camada,id:$.camadaTmp.id},O.$emit('MODAL:REQUEST_ADDITIONAL_SCHEDULE:OPEN',!0,$.courseTmp,O.USER,t)},$.onClickMenuDropdown=function(e){null!=e&&e.preventDefault(),$.isMenuDropdownActive=!$.isMenuDropdownActive},$.closeMenuDropdown=function(e){null!=e&&e.preventDefault(),$.isMenuDropdownActive=!1},$.onClickChat=function(e){if(e.preventDefault(),!0===$.courseTmp.useStreamChat)return D.go('chat');(P.CHAT||$.courseTmp.flags.showChat)&&null!=(e=$.courseTmp.camada.chatChannel)&&e.length?O.$emit('COURSE:CHAT_WIDGET:SHOW',{chatChannel:$.courseTmp.camada.chatChannel}):null!=(e=$.courseTmp.camada.slack)&&e.length&&window.open($.courseTmp.camada.slack,'_blank').focus()},$.onClickForum=function(e){e.preventDefault(),D.go('platform-course-blog-posts',t)},$.onClickNewPost=function(e){e.preventDefault(),O.$emit('MODAL:FORUM_NEW_POST:OPEN',{},{course:$.courseTmp._id,categories:n,feed:$.courseTmp.level._id,platformUser:O.USER._id,stages:$.courseTmp.camada.class.stages})},'info-popup'===(l=t.open)&&$.onClickInfo(),'zoom-popup'===l&&$.onClickZoomAccount(),'zoom-tip-popup'===l&&$.onClickZoomRecomendations(),$.onClickCopy=function(e,t){s.copy(t),r.info({msg:F('ch-course-teacher-menu.toast.copy-reeable-link')})},$.onClickReEnableDeliver=function(e){if(e.preventDefault(),!$.courseTmp.flags.canReEnableDelivers)return r.info({msg:F('ch-course-teacher-menu.toast.copy-reeable-link.info')});O.$emit('MODAL:REENABLE_DELIVER:SHOW',!0,$.courseTmp._id)},$.onClickReferral=function(e){null!=e&&e.preventDefault(),O.$emit('MODAL:REFERRAL_CUPON:OPEN','teacher.course.submenu',{courseTitle:$.courseTmp.level.title,isFromRecomendation:$.courseTmp.flags.isEnded,isFromInvite:!$.courseTmp.flags.isStarted})},$.onClickNps=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),B()},$.onClickSendSharedFolderInvitations=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),e.prev=2,r.info({msg:F('ch-course-teacher-menu.toast.updating-drive-permissions')}),e.next=6,N.sendSharedFolderInvitations({courseId:$.courseTmp._id});case 6:r.success({msg:F('ch-course-teacher-menu.toast.resend-drive-permissions')}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r.error();case 12:case'end':return e.stop()}},e,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}(),$.onClickChangeStudentGroup=function(e){null!=e&&e.preventDefault(),O.$emit('MODAL:REQUEST_CHANGE_STUDENT_GROUP:OPEN',!0,{courseId:$.courseTmp._id})},$.onClickGoToDelivers=function(e){null!=e&&e.preventDefault(),$.has2021Enabled&&location.pathname.includes('entregas')&&D.reload(),D.go('platform-course-delivers',t)},$.onClickGoToClasses=function(e){null!=e&&e.preventDefault(),$.has2021Enabled&&D.reload(),D.go('platform-course',t)}}]}}]),angular.module('core').component('chCourseTeacherProgram',{bindings:{camadaTmp:'<'},templateUrl:'modules/platform/courses/directives/ch-course-teacher-program/ch-course-teacher-program.view.html',controllerAs:'vm',controller:['$state','$rootScope','NotificationSrv','$timeout','$filter','FEATURES','CoursesSrv','NormalizeSrv',function(E,d,C,t,R,e,a,x){var n,I=this,O=null==(n=d.USER)?void 0:n._id,D=(I.USER=d.USER,I.FEATURES=e,I.IS_MOBILE=d.IS_MOBILE,R('translate'));function r(e){for(var t,n=e.schedules.filter(function(e){return null==e?void 0:e.additional}),r=e.class.stages.filter(function(e){return!e.additional}),a=r,s=[],o=0;o<a.length;o++)s.push([(t=a[o]).id,t]);for(var i,l=new Map(s),c=e.schedules,d=[],u=0;u<c.length;u++)d.push([(i=c[u]).stage,i]);var m,p,v=new Map(d);if(n.length)for(var g=n,f=0;f<g.length;f++)m=g[f],p=f,r.push({_id:0,enable:!0,additional:!0,name:''.concat(D('ch-course-teacher-program.additional-class'),' (').concat(p+1,')'),schedule:m,order:l.size});var h,b,w,e=null==(n=e.complementarySchedules)?void 0:n.filter(function(e){return null==e?void 0:e.day});if(null!=e&&e.length)for(var T=e,y=0;y<T.length;y++)h=T[y],w=b=void 0,h.day=new Date(h.day).getTime(),h.flags=h.flags||{},h.flags.isComplementary=h.flags.isComplementary||!0,null!=(w=h.stage)&&w.name||null!=(w=l.get(h.stage))&&w._id&&(h.stage={_id:w._id,name:w.name}),r.push({_id:0,enable:!0,additional:!0,complementary:!0,leveling:h.leveling||h.teachersLeveling,name:(b=h.title||(null==(b=h.stage)?void 0:b.name)||'',w=''.concat(D('ch-course-teacher-program.after-class-of'),' ').concat(b),h.teachersLeveling?w=b||D('ch-course-teacher-program.warm-up'):h.leveling&&(w=D('ch-course-teacher-program.leveling-class')),w=null!=b&&b.toLowerCase().includes('after')||b.toLowerCase().includes('complementaria')?b:w),schedule:h});for(var k=r,_=function(e){var t,n;if(e.flags=e.flags||{},e.flags.isFree=!!e.free,e.flags.isStarter=!!e.starter,e.flags.isAdditional=!!e.additional,e.flags.isOnboarding=!!e.onboarding,e.flags.isComplementary=!!e.complementary,e.flags.isLeveling=!!e.leveling,e.flags&&e.modules){for(var r=e.modules,a=[],s=0;s<r.length;s++)a.push(r[s].name);e.deliversTooltip=a.join(', ');for(var o=e.modules,i=0;i<o.length;i++)(n=o[i]).flags.isIntegratorTp?n.headline=D('ch-course-teacher-program.deliver-headline.integrator-tp'):n.flags.isPreIntegratorTp?n.headline=D('ch-course-teacher-program.deliver-headline.pre-integrator-tp'):n.flags.isComplementaryTp?n.headline=D('ch-course-teacher-program.deliver-headline.complementary-tp'):n.flags.isTp&&(n.headline=D('ch-course-teacher-program.deliver-headline.regular-tp')),n.alias=''.concat(n.headline?n.headline+': ':'').concat(n.name)}e.flags.isAdditional||null!=(t=e.schedule)&&t._id||(e.schedule=v.get(e._id)),e.schedule=e.schedule||{},e.schedule.flags=Object.assign(e.schedule.flags||{},e.schedule._flags||{}),null!=(t=e.schedule)&&t.day&&(e.schedule.day=new Date(e.schedule.day).getTime(),e.schedule.flags=function(e,t){var e=0<arguments.length&&void 0!==e?e:{},n=e.isFeedbackCompleted,r=E.params.ff,t=[r].includes(1<arguments.length?t:void 0);return!n&&e.showNpsFeedback&&(n=!!(I.camadaTmp.teachersSatisfaction||[]).find(function(e){return e.user===O})),!e.isFeedbackCompleted&&(e.isFeedbackRequired||e.isFeedbackOptional)&&e.isFeedbackExpired&&r&&(e.isFeedbackExpired=!t&&e.isFeedbackExpired),t&&(e.isFeedbackRequired||e.isFeedbackOptional?C.success({msg:D('ch-course-teacher-program.toast.feedback-enabled')}):C.info({msg:D('ch-course-teacher-program.toast.feedback-not-required')})),Object.assign(e,{isFeedbackCompleted:n})}(e.schedule.flags,e.schedule._id),e.schedule.alias=''.concat(R('date')(e.schedule.day,'dd/MM/yyyy - EEEE'),' de ').concat(R('date')(e.schedule.from,'HH:mm'),'hs a ').concat(R('date')(e.schedule.to,'HH:mm'),'hs'))},S=0;S<k.length;S++)_(k[S]);I.stages=x.stages(r).sort(function(e,t){var n=null==(n=e.schedule)?void 0:n.day,r=null==(r=t.schedule)?void 0:r.day;return n&&r?(n=new Date(n),e=new Date(null==(e=e.schedule)?void 0:e.from),r=new Date(r),t=new Date(null==(t=t.schedule)?void 0:t.from),n.setHours(e.getHours(),0,0,0),r.setHours(t.getHours(),0,0,0),n.getTime()>=r.getTime()?1:-1):(!n||r)&&!n&&r?-1:1})}I.$onInit=function(){I.courseTmp=I.camadaTmp.course;var e=I.courseTmp.flags;I.programFlags={colDay:!e.isPrerecorded,colToday:!e.isPrerecorded,colRecording:e.isRemoteRecorded,colAttendance:!e.isPrerecorded&&!e.isRemoteRecorded&&!e.hideLiveLinks,colPospose:!e.isPrerecorded,colSubstitute:!e.isPrerecorded,colChallenges:!e.isPrerecorded},r(I.camadaTmp),t(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})})},I.onClickCheckin=function(e,t,n){e.preventDefault(),e.stopPropagation(),null!=(e=t.schedule)&&e.flags.isCheckinCompleted||(t.schedule.flags.isCheckinCompleted=!0,null!=n&&null!=(e=n.schedule)&&e.sameScheduleFrom&&!n.schedule.flags.isCheckinCompleted&&(n.schedule.flags.isCheckinCompleted=!0)),$('[data-toggle="tooltip"]').tooltip('hide')},I.onClickFeedback=function(e,t,n){var r;e.preventDefault(),e.stopPropagation(),n.flags.isFeedbackEnable&&!n.flags.isFeedbackCompleted?(r=[].concat(I.camadaTmp.schedules,I.camadaTmp.complementarySchedules).find(function(e){return e._id===n._id}),a.getScheduleFeedbackUrl({courseId:I.courseTmp._id,scheduleId:r._id,userId:d.USER._id}).then(function(e){r.feedbackUrl=e.url,I.schedule=n.flags,d.$broadcast('MODAL:FEEDBACK:OPEN',!0,r,I.camadaTmp._id,d.USER._id)},function(){C.error({msg:D('ch-course-teacher-program.toast.error-feedback')})})):C.info({msg:D('ch-course-teacher-program.toast.feedback-disabled')}),$('[data-toggle="tooltip"]').tooltip('hide')},d.$on('TUTOR:SUCCESS:FEEDBACK',function(){return I.schedule.isFeedbackCompleted=!0}),I.onClickModule=function(e,t,n,r){e.stopPropagation(),e.preventDefault();for(var a,s=I.camadaTmp.schedules,o=[],i=0;i<s.length;i++)o.push([(a=s[i]).stage,a]);var e=new Map(o),r=r?{}:e.get(t._id),l=!![null==(l=r)?void 0:l.presentationLink,null==t?void 0:t.theoryLink,null==n?void 0:n.slideUrl,null==n?void 0:n.activityUrl,null==n?void 0:n.materialUrl].filter(function(e){return!(null==e||!e.length)}).length,c=!![null==(c=r)?void 0:c.recordingVideoLink,null==n?void 0:n.videoUrl].filter(function(e){return!(null==e||!e.length)}).length;if(l)r=e.get(t._id),d.$broadcast('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',!0,{stageTmp:t,scheTmp:r,moduleTmp:n,courseTmp:I.courseTmp});else if(c)d.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,t,n,I.courseTmp);else if(null!=(l=I.courseTmp.sharedFolderLink)&&l.length)window.open(I.courseTmp.sharedFolderLink,'_blank').focus();else{if(I.camadaTmp.id&&I.camadaTmp.class.slug&&null!=t&&t.slug&&null!=n&&n.slug)return E.go('platform-course-program-content',{camadaId:I.camadaTmp.id,courseSlug:I.courseTmp.level.url,stageSlug:t.slug,moduleSlug:n.slug});C.error({msg:D('ch-course-teacher-program.toast.content-disabled'),delay:1e4})}},I.onClickVideo=function(e,t,n){e.stopPropagation(),e.preventDefault();var r=null==t?void 0:t.schedule;null!=r&&null!=(e=r.recordingVideoLink)&&e.length||null!=n&&null!=(e=n.videoUrl)&&e.length?d.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,t,n):null!=r&&r.liveVideoLink?(C.info({msg:null!=(e=I.courseTmp.camada)&&e.zoomRegistrant?D('ch-student-course.toasts.zoom-registrant'):D('ch-student-course.toasts.zoom-name')}),a.getMeetingAttendanceLink({userId:O,scheduleId:r._id,courseId:I.courseTmp._id}).then(function(e){e=e.meeting;null!=e&&e.link?window.open(e.link,'_blank'):window.open(r.liveVideoLink,'_blank')})):C.info({msg:D('ch-course-teacher-program.toast.record-disabled')})},I.onClickOpenMeetingInfo=function(e,t){e.preventDefault(),e.stopPropagation(),d.$broadcast('MODAL:COURSE_SCHEDULE_MEETING:OPEN',!0,I.courseTmp,t)},I.onClickScheduleRecording=function(e,t,n){e.preventDefault(),e.stopPropagation(),d.$emit('MODAL:COURSE_SCHEDULE_RECORDING:OPEN',!0,I.courseTmp,t,null!=(e=null==n?void 0:n.name)?e:'')},I.onClickComplementarySchedule=function(e,t){e.preventDefault(),e.stopPropagation(),I.courseTmp.camada={teachers:I.camadaTmp.teachers,assistantTeachers:I.camadaTmp.assistantTeachers,coordinatorTeachers:I.camadaTmp.coordinatorTeachers},d.$emit('MODAL:COURSE_COMPLEMENTARY_SCHEDULE:OPEN',!0,I.courseTmp,d.USER,t)},d.$on('PROGRAM:COURSE_COMPLEMENTARY_SCHEDULE:CREATED',function(e,t){I.camadaTmp.complementarySchedules=I.camadaTmp.complementarySchedules||[],I.camadaTmp.complementarySchedules=I.camadaTmp.complementarySchedules.filter(function(e){return e._id!==t._id}),I.camadaTmp.complementarySchedules.push(t),r(I.camadaTmp)}),d.$on('PROGRAM:COURSE_COMPLEMENTARY_SCHEDULE:REMOVED',function(e,t){I.camadaTmp.complementarySchedules=I.camadaTmp.complementarySchedules||[],I.camadaTmp.complementarySchedules=I.camadaTmp.complementarySchedules.filter(function(e){return e._id!==t._id}),r(I.camadaTmp)})}]}),angular.module('core').directive('chCourses',['$rootScope',function(e){var t='modules/platform/courses/directives/ch-courses/ch-student-courses.view.html',n='chStudentCoursesCtrl',e=e.PERMISSIONS;return(e.teacher||e.recruiter||e.supervisor)&&(t='modules/platform/courses/directives/ch-courses/ch-teacher-courses.view.html',n='chTeacherCoursesCtrl'),{restrict:'E',replace:!0,templateUrl:t,controller:n,controllerAs:'vm',scope:{}}}]),angular.module('core').controller('chStudentCoursesCtrl',['$rootScope','FEATURES','$timeout','CoursesSrv','$scope','$filter','$stateParams','HasSessionService','$location',function(l,c,d,s,u,m,p,o,v){var g=this;function f(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.STUDENT_COURSES_INPROGRESS||h('inProgress'),s=window.STUDENT_COURSES_FINISHED||h('finished'),o=window.STUDENT_COURSES_PLANNED||h('planned'),p.refreshCourses&&(a=h('inProgress'),s=h('finished'),o=h('planned')),e.t0=b,e.next=7,a;case 7:return e.t1=e.sent,g.inProgressCourses=(0,e.t0)(e.t1),0<(null==(a=g.inProgressCourses)?void 0:a.length)&&i('inProgess',g.inProgressCourses,'ch-courses.tabs.in-progress',!(null==(t=g.inProgressCourses)||!t.length)),e.t2=b,e.next=13,o;case 13:return e.t3=e.sent,g.plannedCourses=(0,e.t2)(e.t3),0<(null==(t=g.plannedCourses)?void 0:t.length)&&i('planned',g.plannedCourses,'ch-courses.tabs.planned',!(null!=(n=g.inProgressCourses)&&n.length||null!=(n=g.finishedCourses)&&n.length||null==(n=g.plannedCourses)||!n.length)),e.t4=b,e.next=19,s;case 19:e.t5=e.sent,g.finishedCourses=(0,e.t4)(e.t5),0<(null==(n=g.finishedCourses)?void 0:n.length)&&i('ended',g.finishedCourses,'ch-courses.tabs.ended',!(null!=(r=g.inProgressCourses)&&r.length||null==(r=g.finishedCourses)||!r.length));case 22:case'end':return e.stop()}},e)}))).apply(this,arguments)}function i(e,t,n,r){g.tabs.push({key:e,label:m('translate')(n),enable:!0,active:r,items:t})}function h(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:n='',e.t0=t,e.next='inProgress'===e.t0?6:'finished'===e.t0?8:'planned'===e.t0?10:12;break;case 6:return n='getInProgressStudentCourses',e.abrupt('break',12);case 8:return n='getFinishedStudentCourses',e.abrupt('break',12);case 10:return n='getPlannedStudentCourses',e.abrupt('break',12);case 12:return e.next=14,s[n]({userId:null==(r=l.USER)?void 0:r._id,lean:1,v6:1,ts:(new Date).getTs()});case 14:return r=e.sent,a=r.data,l.$emit('LOADING:OPEN',!0),e.abrupt('return',a);case 18:case'end':return e.stop()}},e)}))).apply(this,arguments)}function b(e){for(var t,n,r=e,a=[],s=0;s<r.length;s++)a.push((t=r[s],n=void 0,t.camada.nextSche=t.camada.schedules.find(function(e){e=e.day;return new Date(e).getTime()>(new Date).getTime()}),t.level.title=null!=(n=t.level.title)&&n.includes(':')&&null!=n&&n.includes('Marketing')?n.split(':')[1].trim():n,t));return a.sort(function(e,t){var n,e=!e.flags.isEnded&&null!=(n=e.camada.nextSche)&&n.day?e.startDate:null==(n=e.camada.nextSche)?void 0:n.day,t=!t.flags.isEnded&&null!=(n=t.camada.nextSche)&&n.day?t.startDate:null==(n=t.camada.nextSche)?void 0:n.day;return new Date(e).getTime()>new Date(t).getTime()?1:-1})}g.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.loading=!0,a=l.IS_MOBILE,s=l.USER,g.FEATURES=u.FEATURES=c,g.USER=s,g.tabs=[],g.flickity=null,o=v.search(),i=o.hideTranslations&&'true'===o.hideTranslations?'&hideTranslations=true':'',g.HOME_URL=''.concat(window.CH_PLATFORM_2021,'/home').concat(i),g.IS_ENV_MX='mx'===(null==(i=l.COUNTRY)?void 0:i.code)||'mx'===o.fc,g.IS_MOBILE=a,g.greeting=m('translate')('ch-courses.home-greeting').replace('%firstName%',s.profile.first_name),g.IS_ENV_MX='mx'===(null==(i=l.COUNTRY)?void 0:i.code)||'mx'===o.fc,g.IS_MOBILE=a,e.next=18,f();case 18:if(n=t=void 0,p.open)for(var t=g.tabs,n=0;n<t.length;n++){r=void 0;var r=t[n];r.active=r.key===p.open}g.onTabChange(null,g.tabs.find(function(e){return e.active})),d(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:1e5}),g.loading=!1},10),l.$emit('App:Tracking');case 21:case'end':return e.stop()}},e)})),g.onTabChange=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(null!=t&&t.preventDefault(),g.tabsLoading=!0,a=g.tabs,s=function(e){e.active=n.key===e.key},o=0;o<a.length;o++)s(a[o]);g.activeTabItems=(null==(r=g.tabs.find(function(e){return e.active}))?void 0:r.items)||[],g.tabsLoading=!1,!function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g.activeTabItems;try{var n;g.tabLoaded=!1,g.flickity&&(g.flickity.destroy(),g.flickity=null),3<(null==t?void 0:t.length)||g.IS_MOBILE?n=setInterval(function(){var e=document.querySelector('.ch-courses-v6-container .carousel');e&&e.childElementCount===(null==t?void 0:t.length)&&e.children[0].classList.contains('ch-course-card-container')&&(g.flickity=new Flickity(e,{groupCells:g.IS_MOBILE?1:3,pageDots:!1,prevNextButtons:g.IS_MOBILE?1<(null==t?void 0:t.length):3<(null==t?void 0:t.length),cellAlign:'left'}),g.tabLoaded=!0,clearInterval(n))},1):g.tabLoaded=!0,l.$emit('LOADING:CLOSE',!0)}catch(e){console.error(e)}}(),l.$emit('LOADING:OPEN',!0);case 10:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),u.$on('COURSES:RELOAD',function(e,t){t&&f()})}]),angular.module('core').controller('chTeacherCoursesCtrl',['$rootScope','FEATURES','$stateParams','NotificationSrv','CoursesSrv','$timeout','$filter','SessionSrv','StorageSrv','$scope','$location',function(p,e,v,t,a,n,g,s,r,o,i){var l=e.TUTOR_SCHOOL_ONBOARDINGS,f=e.IS_TUTOR_SCHOOL_ENABLED,h=this;function b(){return h.isBr||c(),!h.isBr}h.$onInit=function(){var e=p.USER,t=p.IS_MOBILE,t=(h.USER=e,h.IS_MOBILE=t,h._TUTOR_SCHOOL_ONBOARDINGS=l&&h.USER.flags.isTutor,h.flickity=null,h.tabs=[],h.inProgressCourses=[],h.plannedCourses=[],h.finishedCourses=[],h.tabActive=null,h.showLoader=!0,h.isBr='br'==e.profile.country,h.firstTabWithItems=-1,i.search()),e=t.hideTranslations&&'true'===t.hideTranslations?'&hideTranslations=true':'',t=(h.HOME_URL=''.concat(window.CH_PLATFORM_2021,'/home').concat(e),[{key:'all',label:g('translate')('ch-courses.tabs.all'),enable:!1,loading:!0,show:!0},{key:'tutorschool',label:g('translate')('ch-courses.tabs.tutorschool'),enable:!1,loading:!0,show:function(){var e;return null==(e=p.USER)||null==(e=e.flags)?void 0:e.isTeacher}()&&!h.isBr},{key:'newsletter',label:g('translate')('ch-courses.tabs.newsletter'),enable:!1,loading:!0,show:!h.isBr},{key:'onboardings',label:g('translate')('ch-courses.tabs.onboardings'),enable:!1,loading:!0,show:!0},{key:'candidates',label:g('translate')('ch-courses.tabs.applications'),enable:!1,loading:!0,show:!0}]);b()&&t.unshift({key:'scorecard',label:g('translate')('scorecard-tab-title'),enable:!1,loading:!0,show:!0}),h.tabs=t.filter(function(e){return e.show}),h.tabOptions={items:h.tabs,activeKeyStr:'key',setTabsInternally:!0,activeTab:!0},m(),d({user:h.USER}),p.$on('DASHBOARD:COURSES:REALOAD',function(e,t){return t?d():null}),p.$emit('App:Tracking'),h.scoreCardUrl=''.concat(window.CH_TOP_10,'/scorecardhome'),h.showScorecardBtn=b()};var c=function(){var r=window.setInterval(function(){var e,t=h.USER,n={authId:s.getAuthId(),token:s.getAuthToken()};t&&(null!=(e=document.getElementById('iframe-scorecard-home'))&&e.id&&e.contentWindow.postMessage({type:'send-user',payload:{auth:n,user:{id:t._id,country:t.profile.country,fullName:t.fullName}}},'*'),window.addEventListener('message',function(e){'homescorecard_data_received'==e.data.event&&window.clearInterval(r)}))},1e3)};function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getTeacherCamadas({userId:t});case 2:return n=e.sent,e.abrupt('return',n);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return u.apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(d){var u,m;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=d.user,u=u._id,e.next=4,window.TEACHER_CAMADAS;case 4:if(e.t0=e.sent,e.t0){e.next=9;break}return e.next=8,function(){return w.apply(this,arguments)}(u);case 8:e.t0=e.sent;case 9:return m=e.t0,e.next=12,function(){return T.apply(this,arguments)}({userId:u,camadas:m});case 12:return function(){S.apply(this,arguments)}({userId:u}),e.next=15,Promise.all([function(){return E.apply(this,arguments)}({userId:u}),function(){return C.apply(this,arguments)}({userId:u})]);case 15:m=e.sent,i=o=s=a=r=n=t=c=l=void 0;for(var t=k(l=m.flat()),n=l.filter(function(e){return e.flags.isOnboarding}),r=[],a=0;a<n.length;a++)r.push(function(e){return _objectSpread(_objectSpread({},e),{},{camada:_objectSpread({},e.camada||{}),level:e.level||{title:e.title,description:e.description},link:e.link,flags:e.flags})}(n[a]));var s=(l=r).filter(function(e){e=e.flags;return null==e?void 0:e.isIntro}),o=l.filter(function(e){e=e.flags;return null==e?void 0:e.isTraining}),i=l.filter(function(e){e=e.flags;return null==e?void 0:e.isTutorSchool}),l=l.filter(function(e){e=e.flags;return null==e?void 0:e.isNewsletter}),c=(null==(c=h.USER.flags)?void 0:c.isTeacher)&&p.IS_ENV_BR,t=t.filter(function(e){e=e.flags;return!(null!=e&&e.isOnboarding||null!=e&&e.isCandidate)}),t=(t=[].concat(t.filter(function(e){e=e.flags;return(null==e?void 0:e.isStarted)&&!(null!=e&&e.isEnded)&&!(null!=e&&e.isRecorded)}),t.filter(function(e){e=e.flags;return null==e?void 0:e.isRecorded}),t.filter(function(e){e=e.flags;return!(null!=e&&e.isStarted)}),t.filter(function(e){e=e.flags;return(null==e?void 0:e.isEnded)&&!(null!=e&&e.isRecorded)})),[]);c?t.push({key:'toolkit',label:g('translate')('ch-courses.tabs.teachers-toolkit'),items:s,enable:s,active:!0,onClick:!0}):(t.push({key:'intro',label:function(e){return null!=(e=h.USER.flags)&&e.isTutor?g('translate')('ch-courses.tabs.tutors-induction'):g('translate')('ch-courses.tabs.teachers-induction')}(),items:s,enable:s.length,active:s.length},{key:'training',label:g('translate')('ch-courses.tabs.training'),items:o,enable:o.length,active:!s.length&&o.length}),t.filter(function(e){return e.enable})),y('tutorschool',(f||h._TUTOR_SCHOOL_ONBOARDINGS)&&i.length,i),y('newsletter',l.length&&!p.IS_ENV_BR,l),y('onboardings',!0,null==(c=t.find(function(e){return e.active}))?void 0:c.items,t),b()&&y('scorecard',!0,'iframe'),h.onClickToolkit=function(){window.open('https://drive.google.com/drive/folders/1bBN1pCF_u-uRIsteqV45xack2NY8Vhhs','_blank')};case 17:case'end':return e.stop()}},e)}))).apply(this,arguments)}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.camadas,e.next=3,window.TEACHER_COURSES_INPROGRESS;case 3:if(e.t0=e.sent,e.t0){e.next=8;break}return e.next=7,a.getTeacherCoursesMin({userId:n,v4:1,ts:(new Date).getTs(),all:!0,tag:'inprogress',camadas:JSON.stringify(r)});case 7:e.t0=e.sent;case 8:return h.inProgressCourses=e.t0,e.next=11,window.TEACHER_COURSES_PLANNED;case 11:if(e.t1=e.sent,e.t1){e.next=16;break}return e.next=15,a.getTeacherCoursesMin({userId:n,v4:1,ts:(new Date).getTs(),all:!0,tag:'planned',camadas:JSON.stringify(r)});case 15:e.t1=e.sent;case 16:return h.plannedCourses=e.t1,e.next=19,window.TEACHER_COURSES_FINISHED;case 19:if(e.t2=e.sent,e.t2){e.next=24;break}return e.next=23,a.getTeacherCoursesMin({userId:n,v4:1,ts:(new Date).getTs(),all:!0,tag:'finished',camadas:JSON.stringify(r)});case 23:e.t2=e.sent;case 24:h.finishedCourses=e.t2,m();case 26:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){var e,t=[{key:'in-progress',label:g('translate')('ch-courses.tabs.actives'),items:h.inProgressCourses,enable:!0,active:!!h.inProgressCourses.length},{key:'ended',label:g('translate')('ch-courses.tabs.ended'),items:h.finishedCourses,enable:!0,active:!(h.inProgressCourses.length||!h.finishedCourses.length)},{key:'planned',label:g('translate')('ch-courses.tabs.planned'),items:h.plannedCourses,enable:!0,active:!h.inProgressCourses.length&&!h.finishedCourses.length}].filter(function(e){return e.enable});y('all',!0,null==(e=t.find(function(e){return e.active}))?void 0:e.items,t)}function y(e,t,n,r){for(var a,s,o=3<arguments.length&&void 0!==r?r:[],i=h.tabs,l=[],c=0;c<i.length;c++)l.push((a=i[c],s=void 0,void(a.key===e&&('iframe'==n&&(a.iframe=!0),a.items=n,a.enable=t,(0<(null==(s=a.items)?void 0:s.length)||o)&&(a.loading=!1),o.length&&(a.tags=o),!h.tabActive&&0<(null==(s=a.tags)||null==(s=s.items)?void 0:s.length)||!h.tabActive&&0<(null==(s=a.items)?void 0:s.length))&&(h.tabActive=a))));if(h.tabs.filter(function(e){var t=e.enable,n=e.items,e=e.rows;return t&&((null==n?void 0:n.length)||(null==e?void 0:e.length))}),h.tabs.length){var d=v['open-tab'];if(h.firstTabWithItems<0)if(d)h.tabs.find(function(e){return e.key===d}).active=!0;else{for(var u=h.tabs,m=function(e,t){var n;if(0<(null==(n=e.tags)?void 0:n.length))for(var r=e.tags,a=[],s=0;s<r.length;s++)a.push(void(0<r[s].items.length&&(h.firstTabWithItems=t)));else 0<(null==(n=e.items)?void 0:n.length)&&(h.firstTabWithItems=t)},p=0;p<u.length;p++)m(u[p],p);0<=h.firstTabWithItems&&(h.tabs[h.firstTabWithItems].active=!0,h.showLoader=!1)}}h.tabOptions={items:h.tabs,activeKeyStr:'key',setTabsInternally:!0,activeTab:h.tabs.find(function(e){return 0<(null==(e=e.items)?void 0:e.length)})},h.activeTabItems=(null==(r=h.tabOptions.activeTab)?void 0:r.items)||[]}function k(e){for(var t,n,e=e.filter(function(e){var t=e.flags,e=e.level;return(null==e?void 0:e._id)&&(!t.isOnboardingCertified||h._TUTOR_SCHOOL_ONBOARDINGS)}),r=e,a=0;a<r.length;a++)t=r[a],n=void 0,t.level=t.level||{},t.level.title=null!=(n=null==(n=t.level)?void 0:n.title)&&n.includes(':')?n.split(':')[1].trim():n,n=t.camada.id,t.title=t.level.title,t.description=t.level.description,[3080].includes(n)?(t.flags.isIntro=!0,t.flags.isOnboardingVideos=!0):[3095].includes(n)?t.flags.isIntro=!0:t.flags.isOnboardingCertified&&(t.flags.isTutorSchool=!0);return _.orderBy(e,'endDate','desc')}function S(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,e.next=3,a.getTeacherCandidateCourses({userId:n,v4:1,ts:(new Date).getTs()});case 3:n=e.sent,y('candidates',!0,k(n).filter(function(e){e=e.flags;return null==e?void 0:e.isCandidate}));case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,e.next=3,a.getTeacherOnboardings({userId:n,v4:1,ts:(new Date).getTs()});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function C(){return(C=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,e.next=3,a.getTeacherResources({userId:n,v2:1,ts:(new Date).getTs()});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}o.$watch('vm.tabActive',function(e,t){e&&h.onClickTabTag(null,e,null==e?void 0:e.tag)}),h.onClickTabTag=function(e,t,n){if(null!=e&&e.preventDefault(),null!=n&&null!=(e=n.items)&&e.length){for(var r=t.tags,a=0;a<r.length;a++)r[a].active=!1;n.active=!0,t.items=n.items}h.showLoader=!1,function(e){var t,n=0<arguments.length&&void 0!==e?e:h.activeTabItems;try{h.tabLoaded=!1,h.flickity&&(h.flickity.destroy(),h.flickity=null),3<n.length||h.IS_MOBILE?t=setInterval(function(){var e=document.querySelector('.ch-courses-v6-container .carousel.'.concat(null==(e=h.tabActive)?void 0:e.key));e&&e.childElementCount===n.length&&e.children[0].classList.contains('ch-course-card-container')&&(h.flickity=new Flickity(e,{groupCells:h.IS_MOBILE?1:3,pageDots:!1,prevNextButtons:h.IS_MOBILE?1<(null==n?void 0:n.length):3<(null==n?void 0:n.length),cellAlign:'left'}),clearInterval(t),h.tabLoaded=!0,h.showLoader=!1)},1):h.showLoader=!1,h.tabLoaded=!0}catch(e){console.error(e)}}(t.items)}}]),angular.module('core').directive('chDashboardBanner',[function(){return{restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-dashboard-banner/ch-dashboard-banner.view.html',controllerAs:'vm',controller:['$scope','$element','$timeout','$rootScope',function(t,n,r,a){this.$onInit=function(){var e;r(function(){return t.banner=n.prop('banner')}),t.isMx='mexico'===(null==(e=a.USER)||null==(e=e.profile)||null==(e=e.country)?void 0:e.toLowerCase())||'mx'===(null==(e=a.USER)||null==(e=e.profile)||null==(e=e.country)?void 0:e.toLowerCase())},t.onClickSubmit=function(){t.banner.buttonCallback&&t.banner.buttonCallback()},t.onClickVoteCourses=function(){window.open('https://coderhouse.productroad.com/board/cursos/','_blank')},t.onClickCtaSubmit=function(e){null!=e&&e.preventDefault(),t.banner.ctaCallback&&t.banner.ctaCallback()},t.onClickClose=function(e){null!=e&&e.preventDefault(),t.banner.buttonClose&&t.banner.buttonClose()},t.onClickCloseVoteCourses=function(e){null!=e&&e.preventDefault(),t.banner.buttonCloseVoteCourses()}}]}}]),angular.module('core').directive('chDashboardBanners',[function(){return{scope:{personalGoalCourse:'='},restrict:'E',replace:!0,templateUrl:'modules/platform/courses/directives/ch-dashboard-banners/ch-dashboard-banners.view.html',controllerAs:'vm',controller:['$rootScope','$state','UsersSrv','FEATURES','$timeout','SharesSrv','ReferralsSrv','AmplitudeSrv','$filter',function(i,e,l,a,s,c,t,d,u){var o=this,m=null;function p(e){e.hide=!0,s(function(){return e.remove=!0},300)}function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getFlags({userId:t,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.referralFormBannerViewed,e.next=7,l.getReferralCupon({userId:n,ts:(new Date).getTs()});case 7:return a=e.sent,s='https://www.coderhouse.com/?referral-cpn='.concat(a._id,'&utm_source=upselling&utm_medium=plataforma'),o={isReferralBanner:!0,show:!r,showVoteCourses:!i.IS_ENV_BR,headline:u('translate')('ch-banners.referral.headline'),title:u('translate')('ch-banners.referral.title'),subtitle:u('translate')('ch-banners.referral.subtitle'),legal:u('translate')('ch-banners.referral.legal'),buttonLabel:a.code,ctaLabel:u('translate')('ch-banners.referral.btn-copy'),backgroundImage:'',ranking:{title:u('translate')('banner.ranking.title-mx')},ctaCallback:function(){c.to('copy',s,a.code),d.logEvent('referral',{from:'dashboard',to:'copy',action:'copy'})},buttonCallback:function(e){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.to('copy',s,a.code),d.logEvent('referral',{from:'dashboard',to:'copy',action:'copy'});case 2:case'end':return e.stop()}},e)}))()},buttonClose:function(){p(o)},buttonCloseVoteCourses:function(){this.showVoteCourses=!1},socialMediaItems:[{name:'whatsapp',color:'white',iconColor:'#fff',icon:'social-whatsapp',sendtext:u('translate')('ch-banners.referral.share-whatsapp')},{name:'twitter',color:'white',iconColor:'#fff',icon:'social-twitter',sendtext:u('translate')('ch-banners.referral.share-twitter')},{name:'linkedin',color:'white',iconColor:'#fff',icon:'social-linkedin',sendtext:u('translate')('ch-banners.referral.share-linkedin')},{name:'telegram',color:'white',iconColor:'#fff',icon:'social-telegram',sendtext:u('translate')('ch-banners.referral.share-telegram')},{name:'email',color:'white',iconColor:'#fff',icon:'social-email',sendtext:u('translate')('ch-banners.referral.share-email'),cb:function(){i.$emit('MODAL:REFERRAL_EMAIL_SHARING:OPEN',a)}},{name:'email',color:'white',iconColor:'#fff',icon:'social-download',sendtext:u('translate')('ch-banners.referral.download-code'),cb:function(){i.$emit('MODAL:REFERRAL_CODE_DOWNLOAD:OPEN',a)}}],onClickShare:function(t,n){return _asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),null!=n&&n.cb)return e.abrupt('return',n.cb());e.next=3;break;case 3:return e.next=5,c.referralCodeWithSocial({cpn:a,from:'dashboard',to:n.name});case 5:case'end':return e.stop()}},e)}))()},titleCourses:u('translate')('ch-banners.vote-course.title'),subtitleCourses:u('translate')('ch-banners.vote-course.subTitle'),buttonCoursesLabel:u('translate')('ch-banners.vote-course.button')},e.abrupt('return',o);case 11:case'end':return e.stop()}},e)}))).apply(this,arguments)}o.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(n=i.PERMISSIONS)?void 0:n.student,m=i.USER,o.IS_MOBILE=i.IS_MOBILE,null!=a&&a.B2B||null!=(t=i.PERMISSIONS)&&t.b2b||!n)return e.abrupt('return');e.next=5;break;case 5:return e.next=7,function(){return v.apply(this,arguments)}(m._id);case 7:return t=e.sent,e.next=10,function(){return g.apply(this,arguments)}(t,m._id);case 10:n=e.sent,r=[n],o.banners=null!=r&&r.length?o.IS_MOBILE?r:r.slice(0,2):[],d.logEvent('banners',{from:'dashboard',to:'loaded'}),o.bannersLoaded=!1,s(function(){var e=$('.ch-dashboard-banners-container .banners-carousel');e.flickity&&e.flickity('destroy'),e.flickity({groupCells:1,contain:!0,pageDots:!0,prevNextButtons:!1,cellAlign:'left'}),o.bannersLoaded=!0},1e3);case 15:case'end':return e.stop()}},e)})),o.onClickSubmit=function(e,t){null!=e&&e.preventDefault(),t.buttonCallback&&(t.buttonCallback(),p(t))}}]}}]),angular.module('core').component('chModalCoderaskSupportCody',{templateUrl:'modules/platform/courses/directives/ch-modal-coderask-support-cody/ch-modal-coderask-support-cody.html',controllerAs:'vm',controller:['$rootScope','SessionSrv','$filter',function(e,t,n){function r(){$('#ch-modal-coderask-support-cody-container').modal('hide')}e.$on('SHOW_CODERASK_CODY_SUPPORT',function(){$('.modal.show').length||$('#ch-modal-coderask-support-cody-container').modal('show')}),this.onClickHelpCenter=function(){var e='https://wa.me/send/?phone='.concat(n('translate')('student-success-coderask-contact'),'&text=%C2%A1Hola,+Coderhouse!');window.open(e,'_blank')},this.onClickCodyChat=function(){var e=t.getAuthToken();window.open(''.concat(window.CODY_URL,'/?idtoken=').concat(e,'&accesstoken=').concat(e),'_blank')},$('#ch-modal-coderask-support-cody-container').on('hidden.bs.modal',r),this.onClickClose=function(e){e.preventDefault(),r()}}]}),angular.module('core').component('chModalCoderaskSupport',{templateUrl:'modules/platform/courses/directives/ch-modal-coderask-support/ch-modal-coderask-support.html',controllerAs:'vm',controller:['$rootScope',function(e){var n=this;function t(){$('#ch-modal-coderask-support-container').modal('hide')}e.$on('SHOW_CODERASK_SUPPORT_MODAL',function(e,t){t=t.link;n.coderAskLink=void 0===t?'':t,$('.modal.show').length||$('#ch-modal-coderask-support-container').modal('show')}),$('#ch-modal-coderask-support-container').on('hidden.bs.modal',t),n.onClickClose=function(e){e.preventDefault(),t()},n.onClickCoderAsk=function(e){e.stopPropagation(),window.open(n.coderAskLink,'_blank')}}]}),angular.module('core').component('chModalContactUs',{templateUrl:'modules/platform/courses/directives/ch-modal-contact-us/ch-modal-contact-us.view.html',controllerAs:'vm',controller:['$rootScope','$filter',function(e,t){var n=this;t('translate');e.$on('MODAL:CONTACT_US:OPEN',function(e,t){n.penaltyType=t,$('.modal.show').modal('hide'),$('#ch-modal-contact-us').modal('show')}),n.onClickClose=function(e){e.preventDefault(),$('#ch-modal-contact-us').modal('hide')}}]}),angular.module('core').component('chModalCourseCalendar',{templateUrl:'modules/platform/courses/directives/ch-modal-course-calendar/ch-modal-course-calendar.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','$filter',function(e,o,t){var i=this,l=t('translate');function n(){$('#ch-modal-course-calendar-container').modal('hide')}e.$on('MODAL:COURSE_CALENDAR:OPEN',function(e,t,n,r){var a,s;t&&(i.forTeachers=r,s=function(){i.excludedDays=[0];for(var e=i.courseTmp.calendar,t=[],n=0;n<e.length;n++)t.push(function(e){var t,n,r;return{title:(t=e._flags,n=e.stage,r=void 0===(r=e.title)?'':r,null!=n&&n._id?(r=null==n?void 0:n.name,null!=t&&t.expiration?r=l('ch-modal-course-calendar.delivers-expires-of').replace('%title%',r):null!=t&&t.isComplementary&&(r=l('ch-modal-course-calendar.complementary-class').replace('%title%',r))):null!=t&&t.isHoliday&&(r=l(e.key)),null!=(n=e.googleCalendarLink)&&n.length&&(r+=' '+l('ch-modal-course-calendar.google-calendar')),r),startsAt:e.stage?new Date(e.from):new Date(e.day),endsAt:!!e.stage&&new Date(e.to),color:{primary:e.stage?null!=(t=e._flags)&&t.expiration?'#fff':'#000':'#efefef',secondary:!e.stage||null!=(n=e._flags)&&n.expiration?'#000':'#fff'},draggable:!1,resizable:!1,incrementsBadgeTotal:!1,recursOn:'year',cssClass:e.stage?null!=(r=e._flags)&&r.expiration?'event-expiration':null!=(t=e._flags)&&t.isComplementary?'event-complementary':'event-sche':'event-holiday',allDay:!0,link:e.googleCalendarLink}}(e[n]));i.events=t,(i.courseTmp.hasBot||i.courseTmp.hasTutorCommunity)&&(i.events=i.events.filter(function(e){return!e.cssClass.includes('event-expiration')})),$('.modal.show').length||$('#ch-modal-course-calendar-container').modal('show')},null!=(a=n)&&null!=(t=a.calendar)&&t.length?(i.courseTmp=a,s()):o.getCalendar({courseId:a._id,forTeachers:i.forTeachers?1:0}).then(function(e){e=e.data;a.calendar=e.calendar,a.holidays=e.holidays,i.calendarFile=e.calendarFile,i.courseTmp=a,s()}))}),$('#ch-modal-course-calendar-container').on('hidden.bs.modal',n),i.onClickClose=function(e){e.preventDefault(),n()},i.calendarView='month',i.viewDate=new Date,i.onClickEvent=function(e){null!=e&&e.link&&window.open(e.link,'_blank').focus()}}]}),angular.module('core').component('chModalCourseCertificate',{templateUrl:'modules/platform/courses/directives/ch-modal-course-certificate/ch-modal-course-certificate.view.html',controller:['$rootScope','$filter','NotificationSrv','NormalizeSrv','$scope','AnalyticsSrv',function(e,t,a,o,s,i){function n(){return $('#ch-modal-certificate').modal('hide')}var l=t('translate'),c=Object.freeze({DOWNLOAD:'download',LINKEDIN:'linkedin',WWW:'www'}),d=(e.$on('MODAL:CAREER_CERTIFICATE:OPEN',function(e,t,n){var r=n.certTmp,a=n.flagDownload,n=n.flagLinkedinAdd;t&&(s.openType=d({certTmp:r,flagDownload:a,flagLinkedinAdd:n}),u(),s.$apply())}),function(e){var t=e.certTmp,n=e.flagDownload,e=e.flagLinkedinAdd,r={title:l('ch-course-career-certificate-download-title'),content:l('ch-course-career-certificate-download-content').replace('%career%',t.certificateOfCareer.career.title),careerLink:function(){var e;return m(null==(e=t.certificateOfCareer)?void 0:e.downloadLink,'carrera')},courseLink:function(){return m(t.downloadLink,'curso')},id:c.DOWNLOAD},a={title:l('ch-course-career-certificate-linkedin-title'),content:l('ch-course-career-certificate-linkedin-content').replace('%career%',t.certificateOfCareer.career.title),careerLink:function(){return o.linkedinAddCertificate(t,'career')},courseLink:function(){return o.linkedinAddCertificate(t,'course')},id:c.LINKEDIN},s={title:l('ch-course-career-certificate-external-title'),content:l('ch-course-career-certificate-external-content').replace('%career%',t.certificateOfCareer.career.title),careerLink:null==(s=t.certificateOfCareer)?void 0:s.permanentLink,courseLink:t.permanentLink,id:c.WWW};return n?r:e?a:s}),u=function(){$('.modal.show').length||$('#ch-modal-certificate').modal('show')},m=(s.openCertificate=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<s.length&&void 0!==s[1]?s[1]:'',r=2<s.length?s[2]:void 0,a=3<s.length?s[3]:void 0,t.preventDefault(),t.stopPropagation(),i.pushDataLayer('trackEvent','certificate','cta',''.concat(a,'-').concat(r)),r===c.DOWNLOAD)return e.next=9,n();e.next=10;break;case 9:return e.abrupt('return',e.sent);case 10:if(r===c.LINKEDIN)return e.abrupt('return',window.open(n(),'_blank'));e.next=12;break;case 12:return e.abrupt('return',window.open(n,'_blank'));case 13:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:'',n=1<r.length?r[1]:void 0,s.loading=!0,e.next=5,fetch(t).then(function(e){if(e.ok)return e.blob();throw new Error}).then(function(e){var t=document.createElement('a');t.href=window.URL.createObjectURL(e),t.download='certificado-'.concat(n),t.click(),t.remove()}).catch(function(){a.error({msg:l('ch-course-career-certificate-download-error').replace('%type%',n)})}).finally(function(){s.loading=!1,s.$apply()});case 5:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());s.onClickClose=function(e){e.preventDefault(),s.loading=null,s.openType=null,n()},$('#ch-modal-certificate').on('hidden.bs.modal',n)}]}),angular.module('core').component('chModalCourseComplementarySchedule',{templateUrl:'modules/platform/courses/directives/ch-modal-course-complementary-schedule/ch-modal-course-complementary-schedule.view.html',controllerAs:'vm',controller:['$rootScope','NotificationSrv','CoursesSrv','$filter','FEATURES','$timeout','AFTER_CLASS_CATEGORIES',function(c,d,u,w,m,p,e){var v=this,g=(v.categories=e,w('translate'));function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){var a,s,o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.courseTmp,o=r.userTmp,i=r.scheTmp,e.next=3,function(){return f.apply(this,arguments)}({courseTmp:s});case 3:if(null!=(l=e.sent)&&l.id){e.next=6;break}return e.abrupt('return');case 6:return e.next=8,Promise.all([function(){return b.apply(this,arguments)}(s),function(){return h.apply(this,arguments)}(s),function(){return T.apply(this,arguments)}(s),function(){return y.apply(this,arguments)}(s)]);case 8:s.schedulesTmp=k(s,0,!0),s.calendarTmp=k(s),l=s.flags,c=s.camada,l.hasCoordinator=null==(a=c.coordinatorTeachers)?void 0:a.length,l.isCoordinator=l.hasCoordinator&&c.coordinatorTeachers.includes(null==o?void 0:o._id),l.isTeacher=c.teachers.includes(null==o?void 0:o._id),l.isTutor=c.assistantTeachers.includes(null==o?void 0:o._id),l.canCreateTeachersLevelingMeeting=!l.isStarted&&(l.isTeacher||l.isCoordinator),l.canCreatePrivateMeeting=l.isStarted&&!l.isEnded&&(l.isTeacher||l.isCoordinator),l.canAddCoordinator=l.hasCoordinator&&!l.isCoordinator,l.canAssignTeachers=(l.isTeacher||l.isCoordinator)&&(null==i?void 0:i.teachersLeveling),l.showComplementaryTutorial=l.isTutor,s.flags=l,v.courseTmp=s,v.courseTmp.flags.isStarted,v.userTmp=o,v.range=(n=t=void 0,t=new Date,n=new Date,t.setHours(8,30,0,0),n.setHours(23,30,0,0),{teachersLevelingFrom:w('date')(new Date,'yyyy-MM-dd'),teachersLevelingTo:w('date')(s.startDate,'yyyy-MM-dd'),fromHour:w('date')(t,'HH:mm'),toHour:w('date')(n,'HH:mm')}),v.hourHelper=v.range.fromHour&&v.range.toHour?g('ch-modal-course-complementary-schedule.toast.error').replace('%fromHour%',v.range.fromHour).replace('%toHour%',v.range.toHour):'',i.from=new Date(i.from),i.to=new Date(i.to),i.day=new Date(i.day),i.stage=null!=(a=i.stage)&&a._id?i.stage._id:i.stage,i.coordinator=(null==i||null==(a=i.teachers)?void 0:a.length)&&!(null==(a=c.coordinatorTeachers)||!a.find(function(t){return i.teachers.find(function(e){return e===t})})),v.complementaryTmp=i,m.COMPLEMENTARY_BY_PARTICIPANTS&&v.onChangeAddParticipant(),p(S),v.canCreateStaffCatchUp=v.courseTmp.flags.isCoordinator||v.courseTmp.flags.isTeacher;case 35:case'end':return e.stop()}var t,n},e)}))).apply(this,arguments)}function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,e.prev=1,e.next=4,u.getZoomAccount({courseId:n._id});case 4:if(r=e.sent,null!=(r=r.data)&&r.msg)return d.info({msg:'not-created'===r.msg&&g('ch-modal-course-complementary-schedule.toast.zoom-account-not-created')}),e.abrupt('return',!1);e.next=9;break;case 9:return e.abrupt('return',r);case 12:e.prev=12,e.t0=e.catch(1),d.error({msg:g('ch-modal-course-complementary-schedule.toast.zoom-error')});case 15:return e.abrupt('return',n);case 16:case'end':return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function h(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getCourseComplementarySchedules({userId:c.USER._id,courseId:t._id});case 3:n=e.sent,n=n.data,t.complementarySchedules=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.error({msg:g('ch-modal-course-complementary-schedule.toast.afterclass-error')});case 11:return e.abrupt('return',t);case 12:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function b(){return(b=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getCalendar({courseId:t._id});case 3:n=e.sent,n=n.data,t.calendar=n.calendar,t.holidays=n.holidays,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d.error({msg:g('ch-modal-course-complementary-schedule.toast.calendar-error')});case 12:return e.abrupt('return',t);case 13:case'end':return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getTeachers({teacherId:c.USER._id,courseId:t._id});case 3:n=e.sent,n=n.data,t.allTeachers=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.error({msg:g('ch-modal-course-complementary-schedule.toast.teachers-error')});case 11:return e.abrupt('return',t);case 12:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getStudents({teacherId:c.USER._id,courseId:t._id});case 3:n=e.sent,n=n.data,t.allStudents=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.error({msg:g('ch-modal-course-complementary-schedule.toast.students-error')});case 11:return e.abrupt('return',t);case 12:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function k(e,t,n){for(var r,a=[],s='br'===e.country?[0]:e.flags.hasComplementarySchedulesV2?[0,6].concat(e._days):[],o=e.calendar.filter(function(e){return null==(e=e._flags)?void 0:e.isHoliday}),i=e.calendar.filter(function(e){var t;return!(null!=(t=e._flags)&&t.isHoliday||null!=(t=e._flags)&&t.isExpirationDate)}),l=[],c=0;c<i.length;c++)l.push(((r=i[c]).dayTs=new Date(r.day).getTime(),r));for(var d,u=l.sort(function(e,t){return e.dayTs>t.dayTs?1:-1}),m=new Date(null==(d=u[0])?void 0:d.day);m<=new Date(u.last().day);m.setDate(m.getDate()+1))!function(){var e,t=new Date(m);s.includes(t.getDay())||(e=o.find(function(e){return w('date')(e.day,'dd/MM/yyyy')===w('date')(t,'dd/MM/yyyy')}))&&e.day||a.push({alias:''.concat(w('date')(t,'dd/MM - EEEE'),' - ').concat(w('translate')('ch-modal-course-complementary-schedule.available')),day:t,dayTs:t.getTime(),flags:{enable:!0}})}();for(var p,v,g=e.calendar.filter(function(e){return!(e._flags&&e._flags.isExpirationDate)}),f=[],h=0;h<g.length;h++)f.push((p=g[h],void 0,v=void 0,v=(null==(v=p.stage)?void 0:v.name)||p.name,v=p._flags.isComplementary?'Complementaria - '.concat(v):v,v=p._flags.isAdditional?'Adicional':v,v=p._flags.isExpirationDate?'Expiración - '.concat(v):v,v=p._flags.isHoliday?'Feriado - '.concat(v):v,p.alias=''.concat(w('date')(p.day,'dd/MM - EEEE'),' - ').concat(v),p.dayTs=new Date(p.day).getTime(),p.flags=p.flags||p._flags||{},p.flags.enable=!!p._flags.isHoliday,p));var u=f,b=new Date;return b.setDate(b.getDate()-1),a=n?u:[].concat(a,u).filter(function(e){return e.dayTs>=b.getTime()}),_.orderBy(a,'dayTs','asc')}function S(){$('.modal.show').length||$('#ch-modal-course-complementary-schedule-container').modal('show')}function E(){$('#ch-modal-course-complementary-schedule-container').modal('hide'),v.courseTmp=null,v.userTmp=null}function C(){t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=v.complementaryTmp.liveVideoLink)&&r.length&&!t)e.next=20;else{if(v.complementaryTmp.stage&&v.complementaryTmp.day&&v.complementaryTmp.from&&v.complementaryTmp.to)return e.prev=2,e.next=5,u.setMeeting({courseId:v.courseTmp._id,schedule:v.complementaryTmp});e.next=17}break;case 5:r=e.sent,a=r.data,v.complementaryTmp.liveVideoLink=a.link,d.success({msg:g('ch-modal-course-complementary-schedule.toast.created')}),n&&n(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),d.error({msg:g('ch-modal-course-complementary-schedule.toast.create-error')});case 15:e.next=18;break;case 17:d.error({msg:g('ch-modal-course-complementary-schedule.toast.error').replace('%fromHour%',v.range.fromHour).replace('%toHour%',v.range.toHour)});case 18:e.next=21;break;case 20:n&&n();case 21:case'end':return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}c.$on('MODAL:COURSE_COMPLEMENTARY_SCHEDULE:OPEN',function(e,t,n,r,a){t&&!function(){s.apply(this,arguments)}({courseTmp:n,userTmp:r,scheTmp:_.extend({},a)})}),$('#ch-modal-course-complementary-schedule-container').on('hidden.bs.modal',E),v.onChangeFromHour=function(e){var t,n;v.complementaryTmp.teachersLeveling&&(t=(n=v.complementaryTmp).from,n=n.to,t=new Date(t),(n=new Date(n)).setHours(t.getHours()),n.setMinutes(t.getMinutes()+30),v.complementaryTmp.to=n)},v.onClickClose=function(e){e.preventDefault(),E()},v.onClickRemove=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),confirm(g('ch-modal-course-complementary-schedule.confirm-delete')))return e.prev=2,e.next=5,u.deleteCourseComplementarySchedule({courseId:v.courseTmp._id,complementaryId:v.complementaryTmp._id});e.next=13;break;case 5:c.$emit('PROGRAM:COURSE_COMPLEMENTARY_SCHEDULE:REMOVED',v.complementaryTmp),d.info({msg:g('ch-modal-course-complementary-schedule.toast.removed')}),E(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),d.error({msg:g('ch-modal-course-complementary-schedule.toast.delete-error')});case 13:case'end':return e.stop()}},e,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),v.onClickCreateMeeting=function(e){null!=e&&e.preventDefault(),C(!0)},v.onSubmit=function(e){e.preventDefault();var e=v.courseTmp,t=e.camada,e=e.flags;if(v.complementaryTmp.teachers=v.complementaryTmp.teachers||[],v.complementaryTmp.teachersLeveling){v.complementaryTmp.stage=v.courseTmp.schedulesTmp[0].stage._id;for(var n=v.courseTmp.allTeachers,r=[],a=0;a<n.length;a++)r.push(n[a]._id);v.complementaryTmp.teachers=r,v.complementaryTmp.to=new Date(v.complementaryTmp.from),v.complementaryTmp.to.setMinutes(v.complementaryTmp.to.getMinutes()+30)}e.hasComplementarySchedulesV2&&v.complementaryTmp.teachers.push(v.userTmp._id);var t=t.coordinatorTeachers,s=void 0===t?[]:t;if(v.complementaryTmp.coordinator&&null!=s&&s.length){for(var o=s,i=[],l=0;l<o.length;l++)i.push(o[l]._id);v.complementaryTmp.teachers=[].concat(v.complementaryTmp.teachers,i)}else e.isCoordinator||(v.complementaryTmp.teachers=v.complementaryTmp.teachers.filter(function(e){return!s.includes(e)}));v.complementaryTmp.teachers=null==(t=v.complementaryTmp.teachers)||null==(t=t.uniq())?void 0:t.filter(function(e){return!!e}),null!=(e=v.complementaryTmp.teachers)&&e.length&&C(null,_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.upsertCourseComplementarySchedule({userId:c.USER._id,courseId:v.courseTmp._id,complementaryTmp:v.complementaryTmp});case 3:t=e.sent,t=t.data,c.$emit('PROGRAM:COURSE_COMPLEMENTARY_SCHEDULE:CREATED',t),d.info({msg:v.complementaryTmp._id?g('ch-modal-course-complementary-schedule.toast.updated'):g('ch-modal-course-complementary-schedule.toast.created-2')}),E(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d.error({msg:g('ch-modal-course-complementary-schedule.toast.update-error')});case 13:case'end':return e.stop()}},e,null,[[0,10]])})))},v.onChangeAddParticipant=function(e){null!=e&&e.preventDefault()},v.onClickRemoveParticpant=function(e,t){e.preventDefault(),v.complementaryTmp.students=v.complementaryTmp.students.filter(function(e){return e!==t}),v.onChangeAddParticipant()},v.onChangeTeacherLeveling=function(){var e=v.courseTmp.flags;e.canAssignTeachers=(e.isTeacher||e.isCoordinator)&&v.complementaryTmp.teachersLeveling}}]}),angular.module('core').component('chModalCourseDeliverAlerts',{templateUrl:'modules/platform/courses/directives/ch-modal-course-deliver-alerts/ch-modal-course-deliver-alerts.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','NotificationSrv','CoursesSrv','$filter',function(a,s,o,i,e){var l=this,c=(l.userId=a.USER._id,e('translate'));function d(){$('#ch-modal-course-deliver-alerts-container').modal('hide')}a.$on('MODAL:COURSE_MODULE_DELIVER_ALERTS:OPEN',function(e,t,n,r){t&&(l.courseTmp=r,l.moduleTmp=n,$('.modal.show').length||($('#ch-modal-course-deliver-alerts-container').modal({backdrop:'static',show:!0}),$('#ch-modal-course-deliver-alerts-container').on('hidden.bs.modal',d),s(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})})))}),l.onClickClose=function(e){e.preventDefault(),d()},l.onClickNotify=function(e,t){e.preventDefault(),e.stopPropagation(),t.flags.hasDeliver||(t.flags.notify=!t.flags.notify)},l.onSubmit=function(e){e.preventDefault();for(var t=l.moduleTmp.students.filter(function(e){return e.flags.notify}),n=[],r=0;r<t.length;r++)n.push(t[r]._id);i.sendUndeliverNotification({camadaId:l.courseTmp.camada.id,moduleId:l.moduleTmp._id,fromUser:a.USER._id,toUsers:n}).then(function(e){for(var t,n=l.moduleTmp.students,r=[],a=0;a<n.length;a++)r.push(((t=n[a]).flags.notify=!1,t));l.moduleTmp.students=r,o.success({msg:c('ch-modal-course-deliver-alerts.toast.success')})})}}]}),angular.module('core').component('chModalCourseDeliver',{templateUrl:'modules/platform/courses/directives/ch-modal-course-deliver/ch-modal-course-deliver.view.html',controllerAs:'vm',controller:['$scope','ModulesSrv','ProjectsSrv','UploadsSrv','$rootScope','$timeout','NormalizeSrv','NotificationSrv','CoursesSrv','FEATURES','QuillEditorSrv','$filter','SelfManagementSrv',function(h,o,b,r,w,T,i,l,c,e,a,d,u){var y=this,k=this,_=d('translate'),S=(k.loading=!1,k.IS_MOBILE=w.IS_MOBILE,(h.FEATURES=e).COURSE_DELIVER_V2_STUDENT_REVIEW),E=S?'#ch-modal-course-deliver-v2-container':'#ch-modal-course-deliver-container';function s(e){e&&console.error(e),l.error({msg:_('ch-modal-course-deliver.toasts.upload-error')}),T(function(){k.uploadMsgError=!0,k.uploading=!1})}function t(){k.uploading||k.loading||(h.openModal=!1,k.moduleTmp=null,k.projectTmp=null,k.chatTmp=null,k.uploadMsgError=!1,k.displayPresentationLink=!1,this.QuillConstructor=null,k.chatMsgTmp='',k.fileTmp='',k.files=[],k.chatImageTmp=k.chatFileTmp=k.deliverLink=null)}k.hidingForm=!1,k.hidingFaqs=!0,k.killForm=!1,k.killFaqs=!0,this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:k.displayPresentationLink=!1,k.options=[{key:'select',icon:'<i class="fas fa-folder"></i>',value:_('ch-modal-course-deliver.options.choose-file'),tooltip:_('ch-modal-course-deliver.options.choose-file.tooltip'),callback:function(e){null!=e&&e.preventDefault(),k.onClickUploadFile(e)}},{key:'select',icon:'<i class="fa fa-link"></i>',value:_('ch-modal-course-deliver.options.paste-link'),tooltip:_('ch-modal-course-deliver.options.paste-link.tooltip'),callback:function(e){var t;null!=e&&e.preventDefault(),k.deliverLink=prompt(_('ch-modal-course-deliver.options.paste-link.prompt')),k.deliverLinkAlias=(e=k.deliverLink,e=null!=(t=e)&&t.length?e.split('/').last():e)}}];case 2:case'end':return e.stop()}},e)})),$(E).on('hidden.bs.modal',t),k.onClickClose=function(e){k.uploading||k.loading||(e.preventDefault(),$(E).modal('hide'))},w.$on('MODAL:COURSE_DELIVER:OPEN',function(){var l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r,a,s,o,i,l,c){var d,u,m,p,v,g,f;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k.reEnable=l,k.moduleTmp=null,k.projectTmp=null,k.chatTmp=null,k.uploadMsgError=!1,k.chatImageTmp=k.chatFileTmp=k.deliverLink=null,k.displayPresentationLink=!1,y.QuillConstructor=null,k.quillEditor=null,k.userId=w.USER._id,k.isStudent=w.USER.flags.isStudent,k.reEnableParameters={userId:s._id,courseId:a._id,scheduleId:i._id},r){e.next=14;break}return e.abrupt('return');case 14:return S&&(h.camadaTmp=a.camada,h.stageTmp=i.stage,h.scheduleTmp=i,h.scheduleTmp.timeline=[{key:'open',title:_('ch-modal-course-deliver.timeline.deliver-enabled'),date:h.scheduleTmp.day},{key:'today',title:_('ch-modal-course-deliver.timeline.today'),date:(new Date).getTime()},{key:'expireDate',title:_('ch-modal-course-deliver.timeline.expire-date'),date:h.scheduleTmp.flags.deliverExpirationDate}]),k.userTmp=s||w.USER,k.courseTmp=a,k.scheduleTmp=i,e.next=20,function(){return P.apply(this,arguments)}({courseId:a._id,userId:s._id});case 20:return k.groupTmp=e.sent,e.next=23,function(){return D.apply(this,arguments)}({courseId:a._id,moduleId:o._id});case 23:return d=e.sent,a.flags.isOnline&&(o.flags=o.flags||{},o.flags.isDeliverEnable=!0),e.next=28,function(){return I.apply(this,arguments)}(o);case 28:return k.moduleTmp=e.sent,e.next=31,O(c);case 31:u=k.projectTmp,m=k.moduleTmp,p=(new Date).getTime(),g=new Date(a.startDate),(f=new Date(a.endDate)).setDate(f.getDate()-14),(v=new Date(a.endDate)).setHours(23,59,59,59),g.setDate(g.getDate()-1),v.setDate(v.getDate()+1),a.flags.isOnline&&(v.setFullYear(v.getFullYear()+3),f.setFullYear(v.getFullYear()+3)),g={hasContent:m&&((null==(g=m.text)?void 0:g.length)||(null==(g=m.githubUrl)?void 0:g.length)||(null==(g=m.slideUrl)?void 0:g.length)),isStarted:a.flags.isStarted,hasDeliver:!(null==u||!u._id),endDate:v,isEndNear:a.flags.isStarted&&!a.flags.isEnded&&p>=f.getTime()&&p<=v.getTime(),isEnded:a.flags.isEnded,isTp:o.tp,isPreIntegratorTp:o.preIntegratorTp,isIntegratorTp:o.integratorTp,deliversCanExpire:a.flags.deliversCanExpire,isInGroup:null!=u&&u._id?1<(null==u||null==(m=u.relatedStudents)?void 0:m.length):d.isInGroup,hasCoderAsk:a.flags.hasCoderAsk||a.flags.hasCoderAskActive},k.groupTmp.members=(null==u?void 0:u.relatedStudents)||k.groupTmp.members,k.dates={fromDate:null==u?void 0:u.flags.wasDeliverOn.fromDate,toDate:null==u?void 0:u.flags.wasDeliverOn.toDate},k.steps={wasDelivered:!(null==u||!u._id)},k.steps=_objectSpread(_objectSpread({},k.steps),{},{uploadFiles:g.isStarted&&!g.hasDeliver,chat:g.hasDeliver}),S&&(C(),R(!0)),n=t=void 0,t=new Date(k.scheduleTmp.day),null!==(n=k.scheduleTmp._flags||k.scheduleTmp.flags||{})&&n.deliverExpirationDate?t=new Date(n.deliverExpirationDate):t.setDate(t.getDate()+(o.integratorTp?20:7)),f=t,g.deliverExpirationDate=f,g.deliverExpired=p>f.getTime(),g.showDeliverExpirationWarning=g.deliversCanExpire&&!g.hasDeliver,k.strategy=g,k.steps.chat&&(x(),n=void 0,null!=(n=k.projectTmp))&&null!=(n=n.chat)&&n.length&&b.messageViewed({courseId:k.courseTmp._id,projectId:k.projectTmp._id,teacherId:k.userId,chatId:null==(n=k.projectTmp.chat)?void 0:n.last()._id}).then(function(e){}),$('.modal.show').length||($(E).modal({show:!0}),T(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})})),T(function(){1<$('.ql-toolbar').length&&$('.ql-toolbar')[1].remove()},300);case 55:case'end':return e.stop()}var t,n},e)}));return function(e,t,n,r,a,s,o,i){return l.apply(this,arguments)}}());var C=function(){var e,t;k.stageTmp=h.stageTmp,k.presentationLink=((t=null)!=(e=k.moduleTmp)&&null!=(e=e.slideUrl)&&e.length?t=null==(e=k.moduleTmp)?void 0:e.slideUrl:null!=(e=h.scheduleTmp.presentationLink)&&e.length?t=h.scheduleTmp.presentationLink:null!=(e=k.stageTmp)&&null!=(e=e.theoryLink)&&e.length&&(t=k.stageTmp.theoryLink),i.getGoogleDriveFilePreview(t)),k.displayPresentationLink=!1},R=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.$sleep();case 2:if(w.$tooltip(),t)return e.next=6,a.get();e.next=9;break;case 6:y.QuillConstructor=e.sent,e.next=11;break;case 9:if(k.quillEditor||!y.QuillConstructor)return e.abrupt('return');e.next=11;break;case 11:return e.next=13,$('.quill-editor-deliver-v2');case 13:if(n=e.sent,1<$('.ql-toolbar').length&&$('.ql-toolbar')[1].remove(),n)try{r=y.QuillConstructor.build(n[0],{modules:{toolbar:[['bold','italic','underline','strike'],['code-block'],[{list:'ordered'},{list:'bullet'}],[''.concat(k.IS_MOBILE?'':'clean')]]},placeholder:_('ch-modal-course-deliver.comment.placeholder'),theme:'snow'}),k.quillEditor=r&&r[0]}catch(e){}case 17:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();function x(t){T(function(){var e=document.querySelector('.chat-container .chat-content');null!=e&&e.scrollHeight&&(e.scrollTop=e.scrollHeight),t&&t()},300)}function I(){return(I=_asyncToGenerator(_regeneratorRuntime().mark(function e(a){var s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get({_id:a._id});case 2:return s=e.sent,e.next=5,new Promise(function(t){var n,r,e;null!=(e=s=Array.isArray(s)?s[0]:s)&&e._id&&(null!=(e=s.text)&&e.length&&((e=new SimpleMDE({element:document.getElementById('simplemde-markdown')})).value(s.text),s.html=e.markdown(e.value())),null!=(e=s.slideUrl))&&e.length&&(s.slideUrlPreview=i.getGoogleDriveFilePreview(s.slideUrl)),!s.slideUrlPreview&&null!=(e=k.scheduleTmp)&&null!=(e=e.presentationLink)&&e.length&&(s.slideUrl=k.scheduleTmp.presentationLink,s.slideUrlPreview=i.getGoogleDriveFilePreview(s.slideUrl)),r=function(e,n){i.normalizeContentText(n.text,function(e){n.text=e}),i.normalizeContenSlide(n.slideUrl,function(e,t){n.slideEditUrl=e,n.slideUrl=t}),i.normalizeContenVideo(n.videoUrl,function(e){n.videoUrl=e}),n.project=a.project,n.flags=a.flags,t(n)},null!=(e=(n=s).githubUrl)&&e.includes('github')?(o.getGithubContent({url:n.githubUrl}).then(function(e){T(function(){n.markdownContent=e&&decodeURIComponent(escape(window.atob(e.content))),T(function(){new SimpleMDE({renderingConfig:{codeSyntaxHighlighting:!0},element:document.getElementById('simplemde'),autoDownloadFontAwesome:!1,indentWithTabs:!1,spellChecker:!1,status:!1,toolbarTips:!1,placeholder:'...'}).value(n.markdownContent);var e=document.querySelector('.editor-toolbar');angular.element(e.querySelector('.fa.fa-eye'))[0].click(),angular.element(e)[0].remove()},1e3),r(null,n)})},function(e){n.markdownContentError=!0,r(null,n)}),T(function(){n.markdownContent||(n.markdownContentError=!0)},5e3)):r(null,n)});case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function O(){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o,i,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=k.moduleTmp)&&null!=(r=r.project)&&r._id){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,c.getDeliver({camadaId:(null==t?void 0:t.camadaId)||k.courseTmp.camada.id,deliverId:(null==t?void 0:t.deliverId)||k.moduleTmp.project._id,userId:w.USER._id,ts:Date.now()});case 4:for(r=e.sent,a=r.data,k.projectTmp=a,s=a.chat,o=function(e){var t,n=!e.flags.fromSyncAssistant&&!e.flags.fromUser&&!a.flags.isIntegratorTp&&k.courseTmp.hasBot;return e.text=e.text||'',e.flags.hasText=!(null==(t=e.text)||!t.length),e.flags.hasFile=!!(e.image||e.file||e.link),e.fileLink=e.image||e.file||e.link,e.dateAlias=d('date')(e.date,'dd/MM HH:mm'),e.user_name=n?_('course.classmates.roles.reviewer-assistant'):e.from.profile.first_name,e},i=[],l=0;l<s.length;l++)i.push(o(s[l]));return k.chat=i,e.abrupt('return',a);case 13:case'end':return e.stop()}},e)}))).apply(this,arguments)}function D(){return(D=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.isDeliverInGroup(t);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function P(){return(P=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getGroupMembers(t);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(t){var e,n={student:k.userId,class:k.moduleTmp.class,stage:k.moduleTmp.stage,camadaId:k.courseTmp.camada.id,userId:null!=(n=k.courseTmp.camada.tutoring)&&n.length?null==(n=k.courseTmp.camada.tutoring[0])?void 0:n.teacher:null,module:k.moduleTmp._id,link:(k.chatImageTmp||k.chatFileTmp||k.deliverLink||'').trim()};null!=(e=k.projectTmp)&&e._id?n._id=k.projectTmp._id:n.flagDeliverAfterExpire=k.strategy.deliverExpired,null!=(e=n.link)&&e.length?b.upsertStudentProject({courseId:k.courseTmp._id,studentId:k.userId,project:n}).then(function(e){null!=e&&e.data,k.projectTmp=null==e?void 0:e.data,k.moduleTmp.project=k.projectTmp,w.$broadcast('DELIVER:UPDATED',!0,k.moduleTmp,k.projectTmp),b.unreviewed({courseId:k.courseTmp._id,projectId:k.projectTmp._id}).then(function(e){k.loading=!1,k.onClickSendChatMessage(function(){t&&t()})})},s):n._id?(k.loading=!1,k.onClickSendChatMessage(function(){t&&t()})):t?(k.loading=!1,t()):l.info({msg:_('ch-modal-course-deliver.toasts.link-required')})}k.onClickSendChatMessage=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var t,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k.quillEditor){e.next=3;break}return e.next=3,R(!0);case 3:if(t=(null==(t=k.quillEditor)||null==(t=t.root)?void 0:t.innerHTML)||(null==(t=k.quillEditor)||null==(t=t.root)?void 0:t.innerText),null!=(r=k.chatMsgTmp)&&null!=(r=r.trim())&&r.length||!(t&&'\n'===t||'<p><br></p>'===t||k.loading)){e.next=7;break}return(k.deliverLink||k.chatFileTmp)&&l.info({msg:_('ch-modal-course-deliver.toast.comment')}),e.abrupt('return');case 7:return k.loading=!0,r={from:k.userId,text:k.chatMsgTmp||t,image:k.chatImageTmp,richText:!0},k.chatFileTmp?r.link=r.file=k.chatFileTmp:(k.chatImageTmp||k.deliverLink)&&(r.link=k.chatImageTmp||k.deliverLink),null!=(s=r.text)&&s.length||null==(s=r.link)||!s.length||(r.text=k.projectTmp._id?_('ch-modal-course-deliver.texts.updated'):_('ch-modal-course-deliver.texts.delivered')),e.prev=11,e.next=14,b.sendMessage({courseId:k.courseTmp._id,projectId:k.projectTmp._id,chat:Object.assign(r,{flagIgnoreNotifcation:1})});case 14:s=e.sent,k.chatMsgTmp='',k.quillEditor&&(k.quillEditor.root.innerText=''),k.chatImageTmp='',k.chatFileTmp='',k.deliverLink='',k.files=[],k.projectTmp=null==s?void 0:s.data,k.moduleTmp.project=k.projectTmp,k.chatTmp=null==(a=k.projectTmp.chat)?void 0:a.last(),null!=(a=k.chatTmp)&&a._id&&(k.chatTmp.sended=!0),x(function(){O({}).then(function(){var e,t;l.success({msg:!0===k.reEnable&&k.courseTmp.flags.hasCoderAskActive?_('ch-modal-course-deliver.toasts.deliver-reenable'):_('ch-modal-course-deliver.toasts.deliver-sent')}),w.$emit('NOTIFICATIONS:GET',!0),k.loading=!1,(t={uploadFiles:!(e='chat'),chat:!1})[e]=!0,k.steps=t,k.steps.wasDelivered=k.projectTmp&&!!k.projectTmp._id,R(!0),T(function(){1<$('.ql-toolbar').length&&$('.ql-toolbar')[1].remove()},300),'function'===n&&n(),w.$broadcast('DELIVER:REFRESH')})}),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(11),console.error(e.t0),l.error(),k.loading=!1;case 33:if(!0===k.reEnable&&k.courseTmp.flags.hasCoderAskActive)return e.prev=34,e.next=37,u.requestReenable({userId:k.reEnableParameters.userId,courseId:k.reEnableParameters.courseId,type:'reenable-deliver',scheduleId:k.reEnableParameters.scheduleId});e.next=42;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(34),l.error();case 42:case'end':return e.stop()}},e,null,[[11,28],[34,39]])}));return function(e){return t.apply(this,arguments)}}(),k.onClickSendNewVersion=function(){var e,n,t;k.loading||(k.loading=!0,null!=(e=k.deliverLink)&&e.trim().length?(k.files=[],k.showLinkErrorMsg=!1,k.deliverLink.includes('http')?m(function(){k.deliverLink=null,k.loading=!1,l.success({msg:_('ch-modal-course-deliver.toasts.deliver-sent')}),w.$broadcast('DELIVER:REFRESH')}):(k.loading=!1,k.showLinkErrorMsg=!0,l.info({msg:_('ch-modal-course-deliver.toasts.link-error')}))):null!=(e=k.files)&&e.length&&null!=(e=k.files[0])&&e.size?(k.uploading=!0,e=k.files[0],n=function(e,t){!e&&null!=t&&t.url?(k.chatFileTmp=t.url,m(function(){k.files=null,l.success({msg:_('ch-modal-course-deliver.toasts.deliver-sent')}),R(!0),k.uploading=!1,k.loading=!1,w.$broadcast('DELIVER:REFRESH')})):(s(),k.uploading=!1,k.loading=!1)},e?(l.info({msg:_('ch-modal-course-deliver.toasts.uploading-files')}),t=[k.courseTmp.camada.id,k.moduleTmp.name,null==(t=w.USER.email)?void 0:t.split('@')[0]].join('-'),r.files(e,t).success(function(e){var t=null==e?void 0:e.files[0];null!=t&&t.url?(l.success({msg:_('ch-modal-course-deliver.toasts.file-uploaded')}),T(function(){k.uploading=!1,n(null,t)})):(n(!0),s())}).error(s)):n(!0)):null!=(e=k.chatMsgTmp)&&null!=(e=e.trim())&&e.length?(m(),k.loading=!1):(k.loading=!1,l.info({msg:_('ch-modal-course-deliver.toasts.link-required')})))},k.onClickUploadFile=function(e){e.preventDefault(),document.getElementById('input-file-deliver').click()},h.$watch('vm.fileTmp',function(e){var t;null!=(t=k.fileTmp)&&t.name&&(k.files=[k.fileTmp],S)&&k.steps.wasDelivered&&k.onClickSendNewVersion()}),k.onClickRemoveLink=function(e){e.preventDefault(),k.deliverLink=''},k.onClickRemoveFile=function(e,n){e.preventDefault(),k.chatFileTmp=null,k.files=k.files.filter(function(e,t){return t!==n})},k.onClickDeleteProject=function(e){e.preventDefault(),k.projectTmp.status.approved?l.error({msg:_('ch-modal-course-deliver.toasts.remove-deliver-approved')}):confirm(_('ch-modal-course-deliver.toasts.remove-deliver-approved.confirm'))&&b.deleteStudentProject({courseId:k.courseTmp._id,studentId:k.userId,project:k.projectTmp}).then(function(e){k.moduleTmp.project=null,w.$broadcast('DELIVER:UPDATED',!0,k.moduleTmp,k.projectTmp),l.info({msg:_('ch-modal-course-deliver.toasts.deliver-removed')}),t()},function(e){return l.error()})}}]}),angular.module('core').component('chModalCourseInfoScholarship',{templateUrl:'modules/platform/courses/directives/ch-modal-course-info-scholarship/ch-modal-course-info-scholarship.view.html',controllerAs:'vm',controller:['$rootScope',function(e){function t(){$('#ch-modal-course-info-scholarship-container').modal('hide')}$('#ch-modal-course-info-scholarship-container').on('hidden.bs.modal',t),this.onClickClose=function(e){e.preventDefault(),t()},e.$on('MODAL:INFO_SCHOLARSHIP:OPEN',function(e){$('.modal.show').length||$('#ch-modal-course-info-scholarship-container').modal('show')})}]}),angular.module('core').component('chModalCourseInfo',{templateUrl:'modules/platform/courses/directives/ch-modal-course-info/ch-modal-course-info.view.html',controllerAs:'vm',controller:['$rootScope','$scope','CoursesSrv','DAYS','DAYS_BR','TYPEFORM','$filter','SelfManagementSrv','SelfManagementV2Srv','NotificationSrv','ProductsSrv','FEATURES','CODER_LANDINGS','$state',function(g,a,f,h,b,s,w,r,n,o,e,t,i,l){var T=t.COURSE_INFO_V2,c=t.TRANSFER_COURSE,d=t.REFAUND_COURSE,u=i.ASSISTANT_MANUAL,y=this,k=w('translate');function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.courseTmp,y.TYPEFORM=s,y.PERMISSIONS=g.PERMISSIONS,y.ASSISTANT_MANUAL=u,y.currentTimeZone=null==(n=Intl.DateTimeFormat())||null==(n=n.resolvedOptions())?void 0:n.timeZone,y.tabs={info:1},y.TEXTS={timezoneInfo:k('ch-modal-course-info.timezone')},a.TRANSFER_COURSE=c&&!y.PERMISSIONS.teacher&&!r.flags.isEnded&&!r.flags.isWorkshop,a.REFAUND_COURSE=d&&!y.PERMISSIONS.teacher&&!r.flags.isEnded&&!r.flags.isWorkshop,e.next=11,function(){return p.apply(this,arguments)}({courseTmp:r});case 11:return e.next=13,function(){return v.apply(this,arguments)}({courseTmp:r});case 13:a.isOnqualityPeriod=e.sent,$('.modal.show').length||$('#ch-modal-course-info-container').modal('show');case 15:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){var a,s,o,i,l,c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.courseTmp,e.next=3,f.getUserCourseInfo({userId:g.USER._id,camadaId:(null!=o&&null!=(s=o.camada)&&s.id?o.camada:o).id});case 3:for(s=e.sent,o=s.flags.hasCoderAsk,i=s.camada,l=i.schedules,c=function(e){var t=new Date(e.day),e=new Date(e.from);return t.setHours(e.getHours(),e.getMinutes(),0,0),t.getDay()},d=[],u=0;u<l.length;u++)d.push(c(l[u]));for(s.days=d.sort(),s.days=null==(a=s.days)?void 0:a.uniq().map(function(e){return(g.IS_ENV_BR?b:h)[e]}),s.dayList=s.days.join(' '.concat(k('ch-course.and'),' ')),m=s.holidays,p=function(e){return e.alias=''.concat(w('date')(e.day,'dd/MM/yyyy'),' - ').concat(e.name)},v=0;v<m.length;v++)p(m[v]);s.flags.feedbackFrecuencyAlias=s.flags.hasWeeklyFeedback||s.flags.hasWeeklyFeedbackV2?k('ch-modal-course-info.feedback-weekly'):k('ch-modal-course-info.feedback-daily'),s.flags.showInfoV2=s.flags.isTeacher&&T,s.flags.showStudentInfo=!s.flags.isTeacher&&!window.ENV_PROD,s.flags.canTeacherUnenroll=s.flags.canTeacherUnenroll&&y.PERMISSIONS.teacher&&!window.ENV_PROD,s.flags.enrollmentAlias=(n=t=void 0,t=s.flags,n=k('ch-modal-course-info.enrollment.regular'),t.isFreeStudent?n=k('ch-modal-course-info.enrollment.free'):t.isReenrollStudent?n=k('ch-modal-course-info.enrollment.reenroll'):t.isInactiveStudent&&(n=k('ch-modal-course-info.enrollment.inactive')),(!t.isReenrollStudent||!t.hasCoderBeca)&&t.hasCoderBeca?n+=k('ch-modal-course-info.enrollment.with-beca'):n+=k('ch-modal-course-info.enrollment.without-beca'),n),s.allTeachers=[{label:k('ch-modal-course-info.teachers'),teachers:i.teachers,videoTutorialKey:!1},{label:k(o?'ch-modal-course-info.tutors-ask':'ch-modal-course-info.tutors'),teachers:i.assistantTeachers,videoTutorialKey:!1},{label:k('ch-modal-course-info.substitutes'),teachers:i.substituteTeachers,videoTutorialKey:!1},{label:k(o?'ch-modal-course-info.coordinators-ask':'ch-modal-course-info.coordinators'),teachers:i.coordinatorTeachers,videoTutorialKey:!1},{label:k('ch-modal-course-info.specialists'),teachers:i.specialistTeachers,videoTutorialKey:!1},{label:k(o?'ch-modal-course-info.associates-ask':'ch-modal-course-info.associates'),teachers:i.associateTeachers,videoTutorialKey:!1}].filter(function(e){return null==(e=e.teachers)?void 0:e.length}),y.courseTmp=s;case 24:case'end':return e.stop()}var t,n},e)}))).apply(this,arguments)}function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.isOnQualityPeriod(g.USER._id,t._id);case 3:return e.abrupt('return',e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0.message),e.abrupt('return',!1);case 10:case'end':return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function _(){$('#ch-modal-course-info-container').modal('hide')}g.$on('MODAL:COURSE_INFO:OPEN',function(e,t,n){t&&!function(){m.apply(this,arguments)}({courseTmp:n})}),$('#ch-modal-course-info-container').on('hidden.bs.modal',_),y.onClickClose=function(e){e.preventDefault(),_()},y.onClickTab=function(e,t){e.preventDefault(),'changeDate'===t?(_(),g.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,y.courseTmp,g.USER,!1,!1)):'changeProduct'===t?(_(),g.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,y.courseTmp,g.USER,!1,!0)):'transferCourse'===t?(_(),g.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,y.courseTmp,g.USER,!0,!0)):'unenroll'===t?(_(),g.$broadcast('MODAL:CAMPUS_REQUEST_UNENROLL:OPEN',{isOnQualityPeriod:a.isOnqualityPeriod,course:y.courseTmp})):((e={})[t]=1,y.tabs=e)},y.onSubmitUnenrollRequest=function(e){if(e.preventDefault(),null==(e=y.reportcourse.reason)||null==(e=e.trim())||!e.length)return o.info({msg:k('ch-modal-course-info.toast.unenroll.no-reason')});g.USER.flags.isTeacher?r.unenrollRquest({courseId:y.courseTmp._id,studentId:g.USER._id,subject:k('ch-modal-course-info.unenroll.subject'),reason:y.reportcourse.reason,isFromTeacher:g.USER.flags.isTeacher?1:0}).then(function(e){o.success({msg:k('ch-modal-course-info.unenroll.sent'),delay:5e3}),_()}).catch(o.error):r.requestUnenroll({courseId:y.courseTmp._id,userId:g.USER._id,reason:y.reportcourse.reason}).then(function(e){null!=e&&e.success?(o.success({msg:k('ch-modal-course-info.unenroll.sent.1')}),l.go('dashboard')):o.error(),_()},o.error)},y.onSubmitRefaundRequest=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!=(n=y.reportcourse.reason)&&null!=(n=n.trim())&&n.length){e.next=3;break}return e.abrupt('return',o.info({msg:k('ch-modal-course-info.toast.unenroll.no-reason')}));case 3:return e.prev=3,e.next=6,r.requestRefaund({courseId:y.courseTmp._id,userId:g.USER._id,reason:y.reportcourse.reason});case 6:null!=(n=e.sent)&&n.success?(o.success({msg:k('ch-modal-course-info.unenroll.sent.1')}),l.go('dashboard')):o.error(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o.error(e.t0);case 13:case'end':return e.stop()}},e,null,[[3,10]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalCourseLearnMore',{templateUrl:'modules/platform/courses/directives/ch-modal-course-learn-more/ch-modal-course-learn-more.view.html',controller:['$scope','$filter','$rootScope',function(n,e,t){e('translate');t.$on('MODAL:LEARN_MORE_CONTENT',function(e,t){return n.$onInit(t)}),n.$onInit=function(e){if(n.info=e,null!=(e=n.info)&&e.content)return n.showModal()},n.showModal=function(){$('.modal.show').modal('hide'),$('#ch-learn-more-modal').modal('show')},n.closeModal=function(){$('.modal.show').modal('hide')}}]}),angular.module('core').component('chModalCourseMeetingBackground',{templateUrl:'modules/platform/courses/directives/ch-modal-course-meeting-background/ch-modal-course-meeting-background.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv',function(e,a,t){var s=this;function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.userTmp,s.courseTmp=n,s.userTmp=r,e.next=5,function(){return i.apply(this,arguments)}();case 5:s.images=e.sent,$('.modal.show').length||($('#ch-modal-course-meeting-background-container').modal('show'),a(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}));case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function n(){$('#ch-modal-course-meeting-background-container').modal('hide')}function i(){return(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMeetingBackground({courseId:s.courseTmp._id,userId:s.userTmp._id,v2:1});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}e.$on('MODAL:COURSE_MEETING_BACKGROUND:OPEN',function(e,t,n,r){t&&!function(){o.apply(this,arguments)}({courseTmp:n,userTmp:r})}),$('#ch-modal-course-meeting-background-container').on('hidden.bs.modal',n),s.onClickClose=function(e){e.preventDefault(),n()},s.onSubmit=function(e){e.preventDefault(),t.getMeetingBackground({courseId:s.courseTmp._id,userId:s.userTmp._id})}}]}),angular.module('core').component('chModalCourseModuleDeliver',{templateUrl:'modules/platform/courses/directives/ch-modal-course-module-deliver/ch-modal-course-module-deliver.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','NormalizeSrv','$filter',function(e,o,i,a){var l=this;function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.modTmp,e.next=3,function(){return c.apply(this,arguments)}(n,r);case 3:r={text:l.moduleTmp.text,html:l.moduleTmp.html,slideUrlPreview:l.moduleTmp.slideUrlPreview,slideEditUrl:l.moduleTmp.slideEditUrl,slideUrl:l.moduleTmp.slideUrl},l.strategy=Object.assign(r,{hasContent:!!(r.text||r.html||r.slideUrlPreview||r.slideEditUrl||r.slideUrl)}),l.TEXTS={noContent:a('translate')('ch-modal-course-module-deliver.no-content').replace('%link%',n.sharedFolderLink)},$('.modal.show').length||$('#ch-modal-course-module-deliver-container').modal('show');case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getModuleContent({camadaId:t.camada.id,stageId:n.stage,moduleId:n._id});case 2:return a=e.sent,r=a.data,null!=(a=r.text)&&a.length&&((a=new SimpleMDE({element:document.getElementById('simplemde-markdown')})).value(r.text),r.html=a.markdown(a.value())),null!=(s=r.presentationLink||r.theoryLink)&&s.length&&(i.normalizeContenSlide(s,function(e,t){r.slideUrlPreview=i.getGoogleDriveFilePreview(s),r.slideEditUrl=e,r.slideUrl=t}),i.normalizeContenVideo(r.videoUrl,function(e){return r.videoUrl=e})),e.abrupt('return',l.moduleTmp=Object.assign(n,r));case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function t(){$('#ch-modal-course-module-deliver-container').modal('hide')}e.$on('MODAL:COURSE_MODULE_DELIVER:OPEN',function(e,t,n,r){t&&!function(){s.apply(this,arguments)}({courseTmp:r,modTmp:n})}),$('#ch-modal-course-module-deliver-container').on('hidden.bs.modal',t),l.onClickClose=function(e){e.preventDefault(),t()}}]}),angular.module('core').component('chModalCoursePowerbiAccount',{templateUrl:'modules/platform/courses/directives/ch-modal-course-powerbi-account/ch-modal-course-powerbi-account.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv','NotificationSrv','$filter',function(e,a,s,o,i){var l=this;function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.courseTmp,n=t.userTmp,e.next=3,function(){return d.apply(this,arguments)}({courseTmp:r,userTmp:n});case 3:r=e.sent,l.powerBiTmp=r,$('.modal.show').length||($('#ch-modal-course-powerbi-account-container').modal('show'),a(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}));case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.userTmp,e.next=3,s.getPowerBiAccount({courseId:n._id,userId:r._id}).then(function(e){return e.data}).catch(function(e){e=e.data;return o.info({msg:'not-created'===e.msg&&i('translate')('ch-modal-course-powerbi-account.not-created')}),e});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function t(){$('#ch-modal-course-powerbi-account-container').modal('hide')}e.$on('MODAL:COURSE_POWERBI_ACCOUNT:OPEN',function(e,t,n,r){t&&!function(){c.apply(this,arguments)}({courseTmp:n,userTmp:r})}),$('#ch-modal-course-powerbi-account-container').on('hidden.bs.modal',t),l.onClickClose=function(e){e.preventDefault(),t()},l.onMouseOverShowPass=function(e,t){e.preventDefault(),l.showPass=t}}]}),angular.module('core').component('chModalCourseReenableDeliver',{templateUrl:'modules/platform/courses/directives/ch-modal-course-reenable-deliver/ch-modal-course-reenable-deliver.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv','NormalizeSrv','NotificationSrv','$filter',function(i,t,s,o,l,e){var c=this,d=e('translate');function n(){$('#ch-modal-course-reenable-deliver-container').modal('hide')}function r(){var e;$('.modal.show').length||((e=$('#ch-modal-course-reenable-deliver-container')).modal('show'),e.on('hidden.bs.modal',n),t(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}))}i.$on('MODAL:REENABLE_DELIVER:SHOW',function(e,t,n){t&&(t=n,c.courseId=t,Promise.all([function(e){return s.getSchedule({courseId:e}).then(function(e){return c.schedules=e})}(t),function(e){return s.getClassmates({courseId:e}).then(function(e){var t,e=null==e?void 0:e.data,n=null==e?void 0:e.find(function(e){return e._id===i.USER._id}),r=[];if(null!=n&&n._id&&null!=n&&null!=(t=n.tutorOf)&&t.length)r=null==n?void 0:n.tutorOf;else{for(var a=e,s=[],o=0;o<a.length;o++)s.push(a[o].tutorOf);r=s.flat()}return c.students=r.sort(function(e,t){return e.fullName>t.fullName?1:-1})})}(t)]).then(r))}),c.onClickClose=function(e){e.preventDefault(),n()},c.onClickReEnableLink=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.stuId&&c.scheId){e.next=3;break}return e.abrupt('return',l.info({msg:d('ch-modal-course-reenable-deliver.toast.error')}));case 3:return e.next=5,s.getScheduleReEnableLink({flag:n||'feedback',courseId:c.courseId,scheduleId:c.scheId,studentId:c.stuId,ts:(new Date).getTs()});case 5:r=e.sent,a=d('deliver'===n?'ch-modal-course-reenable-deliver.toast.deliver-link-copied':'ch-modal-course-reenable-deliver.toast.feedback-link-copied'),o.copy(r,a);case 8:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').component('chModalCourseScheduleMeeting',{templateUrl:'modules/platform/courses/directives/ch-modal-course-schedule-meeting/ch-modal-course-schedule-meeting.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','NotificationSrv','NormalizeSrv','$filter',function(e,a,n,r,s){var o=this;function t(){$('#ch-modal-course-schedule-meeting-container').modal('hide'),o.courseTmp=null,o.userTmp=null}$('#ch-modal-course-schedule-meeting-container').on('hidden.bs.modal',function(e){t()}),e.$on('MODAL:COURSE_SCHEDULE_MEETING:OPEN',function(e,t,n,r){t&&a.getScheduleMeeting({courseId:n._id,scheduleId:r._id}).then(function(e){o.meetingmTmp=null==e?void 0:e.data,$('.modal.show').length||$('#ch-modal-course-schedule-meeting-container').modal('show')})}),o.onMouseOverShowId=function(e,t){e.preventDefault(),o.showId=t},o.onMouseOverShowPass=function(e,t){e.preventDefault(),o.showPass=t},o.onClickClose=function(e){e.preventDefault(),t()},o.onClickCopy=function(e,t){r.copy(t),n.info({msg:s('translate')('ch-modal-course-schedule-meeting.toast.copied')})}}]}),angular.module('core').component('chModalCourseSchedulePresentation',{templateUrl:'modules/platform/courses/directives/ch-modal-course-schedule-presentation/ch-modal-course-schedule-presentation.view.html',controllerAs:'vm',controller:['$rootScope','NormalizeSrv','FEATURES','CoursesSrv',function(g,f,e,h){var e=e.REPORT_CONTENT,b=this;function t(){$('#ch-modal-course-schedule-presentation-container').modal('hide')}b.REPORT_CONTENT=e,$('#ch-modal-course-schedule-presentation-container').on('hidden.bs.modal',t),b.onClickOpenForm=function(){b.disableFeedback=!0},g.$on('MODAL:COURSE_SCHEDULE_PRESENTATION:OPEN',function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,i,l){var c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=l.stageTmp,d=l.scheTmp,u=l.moduleTmp,m=l.courseTmp,p=l.isPremium,i){if(b.stageTmp=c,b.courseTmp=m,b.scheTmp=d,b.disableFeedback=null==u||null==(v=u.flags)?void 0:v.feedbackCompleted,b.is_premium=null==p?void 0:p.isPremium,b.is_premium)return e.next=10,h.getFeedbackCompleted({userId:g.USER._id,camadaId:m.camada.id,contentPremiumId:null==u?void 0:u.id});e.next=17}else e.next=21;break;case 10:if(b.feedbackCompleted=e.sent,!b.feedbackCompleted.isFeedbackCompleted&&d)return e.next=14,h.getScheduleFeedbackUrl({courseId:m._id,scheduleId:d._id,userId:g.USER._id,premium:!0,moduleId:u.id});e.next=15;break;case 14:b.premiumValorateLink=e.sent;case 15:e.next=18;break;case 17:b.premiumValorateLink=null;case 18:b.presentationLink=(s=a=r=n=t=void 0,(o=null)!=u&&null!=(t=u.activityUrl)&&t.length?o=u.activityUrl:null!=u&&null!=(n=u.slideUrl)&&n.length?o=u.slideUrl:null!=u&&null!=(r=u.materialUrl)&&r.length?o=u.materialUrl:null!=d&&null!=(a=d.presentationLink)&&a.length?o=d.presentationLink:null!=c&&null!=(s=c.theoryLink)&&s.length&&(o=c.theoryLink),f.getGoogleDriveFilePreview(o)),b.isImg=b.presentationLink.includes('cloudinary'),$('.modal.show').length||$('#ch-modal-course-schedule-presentation-container').modal('show');case 21:case'end':return e.stop()}var t,n,r,a,s,o},e)}));return function(e,t,n){return r.apply(this,arguments)}}()),b.onClickClose=function(e){e.preventDefault(),t()}}]}),angular.module('core').component('chModalCourseScheduleRecording',{templateUrl:'modules/platform/courses/directives/ch-modal-course-schedule-recording/ch-modal-course-schedule-recording.view.html',controllerAs:'vm',controller:['$rootScope','NotificationSrv','CoursesSrv','FEATURES','$filter','$scope',function(e,t,r,n,a,s){var o=this;function i(){$('#ch-modal-course-schedule-recording-container').modal('hide'),$('#recording-video').attr('src',''),o.courseTmp=null,o.userTmp=null,o.recordingVideoLink=null,o.scheduleRecordingTmp=null}o.FEATURES=n,$('#ch-modal-course-schedule-recording-container').on('hidden.bs.modal',i),e.$on('MODAL:COURSE_SCHEDULE_RECORDING:OPEN',function(e,t,n,r,a){t&&(o.courseTmp=n,o.stageTitle=a,d(n,r).then(function(){s.$apply(function(){$('.modal.show').length||$('#ch-modal-course-schedule-recording-container').modal('show')})}))});var l=function(e,t){return r.getScheduleMeetingRecording({courseId:e,scheduleId:t._id}).then(function(e){t.meeting=null==e||null==(e=e.data)?void 0:e.meeting,t.recordingVideoLink&&(t.link=t.recordingVideoLink),o.scheduleRecordingTmp=t})},c=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getRecordingSignedUrl({courseId:t,scheId:n._id});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),d=function(e,t){var n;return(null==t||null==(n=t.recordingVideoLink)?void 0:n.includes('get-signed-url'))?c(null==e?void 0:e._id,t).then(function(e){o.recordingVideoLink=e}):l(null==e?void 0:e._id,t)};o.onClickClose=function(e){e.preventDefault(),i()},o.onSubmit=function(e){e.stopPropagation(),e.preventDefault(),r.setScheduleRecording({courseId:o.courseTmp._id,scheduleId:o.scheduleRecordingTmp._id,link:o.scheduleRecordingTmp.link}).then(function(e){o.scheduleRecordingTmp.recordingVideoLink=null==e?void 0:e.data.link,t.success({msg:a('translate')('ch-modal-course-schedule-recording.toast.success')}),i()})}}]}),angular.module('core').component('chModalCourseScheduleVideo',{templateUrl:'modules/platform/courses/directives/ch-modal-course-schedule-video/ch-modal-course-schedule-video.view.html',controllerAs:'vm',controller:['$rootScope','NormalizeSrv','CoursesSrv','$scope',function(v,g,f,h){var b=this;function w(){$('.modal.show').length&&$('.modal.show').hide(),$('#ch-modal-course-schedule-video-container').modal('show')}function t(){$('#ch-modal-course-schedule-video-container').modal('hide'),$('#recording-video').attr('src',''),b.courseTmp=null,b.userTmp=null,b.recordingVideoPreviewLink=null,b.recordingVideoLink=null}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setAsyncAttendance(t);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}$('#ch-modal-course-schedule-video-container').on('hidden.bs.modal',t),b.onClickOpenForm=function(){b.disableFeedback=!0},v.$on('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',function(){var o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,a,s,o,i,l){var c,d,u,m,p;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt('return');case 2:if(b.stageTmp=s,d=s.schedule,b.disableFeedback=null==o||null==(c=o.flags)?void 0:c.feedbackCompleted,b.is_premium=null==l?void 0:l.isPremium,b.is_premium)return e.next=9,f.getFeedbackCompleted({userId:v.USER._id,camadaId:i.camada.id,contentPremiumId:o.id});e.next=17;break;case 9:if(b.feedbackCompleted=e.sent,!b.feedbackCompleted.isFeedbackCompleted&&s.schedule._id)return e.next=13,f.getScheduleFeedbackUrl({courseId:i._id,scheduleId:s.schedule._id,userId:v.USER._id,premium:!0,moduleId:null==o?void 0:o.id});e.next=16;break;case 13:b.premiumValorateLink=e.sent,e.next=17;break;case 16:b.premiumValorateLink=null;case 17:if(b.recordingVideoLink=(n=t=void 0,(r=null)!=o&&null!=(t=o.videoUrl)&&t.length?r=o.videoUrl:null!=d&&null!=(n=d.recordingVideoLink)&&n.length&&(r=d.recordingVideoLink),r),u=0<(null==(c=s.modules)?void 0:c.length)&&(null==(u=s.modules)?void 0:u.some(function(e){return(null==e?void 0:e._id)===(null==o?void 0:o.id)})),m=(null==(m=s.flags)?void 0:m.isFree)||(null==s?void 0:s.free),!['localhost','coderhouse','amazonaws','drive','zoom','ch-file-uploader-api'].find(function(e){return b.recordingVideoLink.includes(e)})||u||m){e.next=26;break}return e.next=23,f.getRecordingSignedUrl({courseId:null==i?void 0:i._id,scheId:null==d?void 0:d._id});case 23:b.recordingVideoPreviewLink=e.sent,e.next=27;break;case 26:b.recordingVideoPreviewLink=g.getGoogleDriveFilePreview(b.recordingVideoLink);case 27:if(b.isZoomEmbedLink=null==(m=b.recordingVideoLink)?void 0:m.includes('zoom.us'),b.isZoomEmbedLink)return e.abrupt('return',v.$emit('MODAL:RECORDING_NOTAVAILABLE:OPEN',b.recordingVideoLink));e.next=30;break;case 30:null!=i&&i._id&&null!=d&&d._id&&!function(){T.apply(this,arguments)}({courseId:null==i?void 0:i._id,scheduleId:null==d?void 0:d._id,studentId:null==(p=v.USER)?void 0:p._id}),b.is_premium?h.$apply(function(){w()}):w();case 32:case'end':return e.stop()}var t,n,r},e)}));return function(e,t,n,r,a,s){return o.apply(this,arguments)}}()),b.onClickClose=function(e){e.preventDefault(),t()}}]}),angular.module('core').component('chModalCourseStudentDelivers',{templateUrl:'modules/platform/courses/directives/ch-modal-course-student-delivers/ch-modal-course-student-delivers.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv','NotificationSrv','$filter',function(e,t,n,r,a){var s=this;function o(){$('.modal.show').length||($('#ch-modal-course-student-delivers-container').modal({backdrop:'static',show:!0}),$('#ch-modal-course-student-delivers-container').on('hidden.bs.modal',i),t(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}))}function i(){$('#ch-modal-course-student-delivers-container').modal('hide')}function l(t){n.getStudentDelivers({camadaId:s.courseTmp.camada.id,studentId:s.studentTmp._id,ts:Date.now()}).then(function(e){var n=null==e?void 0:e.data;null!=n&&n.length?s.deliversTmp=null==n?void 0:n.map(function(t){return t.flags.isDuplicated=!!n.find(function(e){return e.enable&&e._id!==t._id&&e.module._id===t.module._id}),t.flags.canBeDeleted=t.flags.isDuplicated&&!t.chat.length,t}):s.deliversTmp=[],t&&t()},function(e){t&&t()})}s.onClickClose=function(e){e.preventDefault(),i()},e.$on('MODAL:COURSE_STUDENT_DELIVERS:OPEN',function(e,t,n,r){t&&(s.courseTmp=r,s.studentTmp=n,l(o))}),s.onClickRestore=function(e,t){e.preventDefault(),e.stopPropagation(),n.restoreStudentDeliver({camadaId:s.courseTmp.camada.id,studentId:s.studentTmp._id,deliverId:t._id}).then(function(e){l(),r.success({msg:a('translate')('ch-modal-course-student-delivers.toast.restored')})})},s.onClickDelete=function(e,t){e.preventDefault(),e.stopPropagation(),n.deleteStudentDeliver({camadaId:s.courseTmp.camada.id,studentId:s.studentTmp._id,deliverId:t._id}).then(function(e){l(),r.success({msg:a('translate')('ch-modal-course-student-delivers.toast.removed')})})}}]}),angular.module('core').component('chModalCourseTutor',{templateUrl:'modules/platform/courses/directives/ch-modal-course-tutor/ch-modal-course-tutor.view.html',controllerAs:'vm',controller:['$rootScope','FEATURES','CoursesSrv',function(a,n,s){var o=this;function i(){return(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.showGroup,o.tabs={assistant:!r,group:r},o.courseTmp=n,e.next=5,function(){return l.apply(this,arguments)}({courseId:n._id,userId:a.USER._id});case 5:o.tutorTmp=e.sent,o.showChatBtn=!o.courseTmp.flags.hasCoderAsk&&((null==(r=o.tutorTmp.slack)?void 0:r.length)||(null==(n=o.tutorTmp.tutorChatChannel)?void 0:n.length)),$('.modal.show').length&&$('.modal.show').hide(),$('#ch-modal-course-tutor-container').modal('show');case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseId,r=t.userId,e.next=3,s.getStudentCourseAssistant({courseId:n,userId:r}).then(function(e){return e.data});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function r(){$('#ch-modal-course-tutor-container').modal('hide')}a.$on('MODAL:COURSE_TUTOR:OPEN',function(e,t,n,r,a){t&&!function(){i.apply(this,arguments)}({tutorTmp:n,courseTmp:r,showGroup:a})}),$('#ch-modal-course-tutor-container').on('hidden.bs.modal',r),o.onClickClose=function(e){e.preventDefault(),r()},o.onClickTutor=function(e){e.preventDefault();var e=o.tutorTmp,t=e.tutorChatChannel,t=void 0===t?'':t,e=e.slack,e=void 0===e?'':e;(n.CHAT||o.courseTmp.flags.showChat)&&null!=t&&t.length?a.$emit('COURSE:CHAT_WIDGET:SHOW',{chatChannel:t}):null!=e&&e.length&&window.open(e,'_blank').focus(),r()},o.onClickTab=function(e,t){e.preventDefault();e={};e[t]=1,o.tabs=e}}]}),angular.module('core').component('chModalCourseUnreviewedDelivers',{templateUrl:'modules/platform/courses/directives/ch-modal-course-unreviewed-delivers/ch-modal-course-unreviewed-delivers.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv','$filter',function(a,e,s,o){var i=this;function r(e,t){var n,t=t.reviewedOffTime,t=void 0===t?0:t,e=(i.courseTmp=e,o('translate')('ch-modal-course-unreviewed-delivers.off-time-title')),r=o('translate')('ch-modal-course-unreviewed-delivers.pending-title');i.title=t?e:r,i.unshowMessages=o('translate')('ch-modal-course-unreviewed-delivers.new.messages'),i.withoutMessages=o('translate')('ch-modal-course-unreviewed-delivers.without.messages'),n=(e={reviewedOffTime:t}).reviewedOffTime,s.getDeliversUnreviewed({camadaId:i.courseTmp.camada.id,teacherId:null==(e=a.USER)?void 0:e._id,reviewedOffTime:n,ts:(new Date).getTs()}).then(function(e){var e=e.data,t=n?'-createdAt':'flags.firstReviewEstimatedAt';return i.deliversTmp=o('orderBy')(e,t)}).then(l)}function l(){$('.modal.show').length||($('#ch-modal-course-unreviewed-delivers-container').modal({backdrop:'static',show:!0}),$('#ch-modal-course-unreviewed-delivers-container').on('hidden.bs.modal',t),e(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}))}function t(){$('#ch-modal-course-unreviewed-delivers-container').modal('hide')}a.$on('MODAL:COURSE_UNREVIEWED_DELIVERS:OPEN',function(e,t,n){t&&r(n,{})}),a.$on('MODAL:COURSE_DELIVERS_REVIEWED_OFF_TIME:OPEN',function(e,t,n){t&&r(n,{reviewedOffTime:1})}),i.onClickClose=function(e){e.preventDefault(),t()},i.onClickDeliver=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),window.open(t.link,'_blank').focus()}}]}),angular.module('core').component('chModalCourseZoomAccount',{templateUrl:'modules/platform/courses/directives/ch-modal-course-zoom-account/ch-modal-course-zoom-account.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CoursesSrv','NotificationSrv','$filter',function(e,a,s,o,i){var l=this;function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.courseTmp,n=t.userTmp,e.next=3,function(){return d.apply(this,arguments)}({courseTmp:r,userTmp:n});case 3:(r=e.sent).__password=crypto.subtle.decrypt({name:'AES-CTR',length:64},'secret',r._password),l.zoomTmp=r,$('.modal.show').length||($('#ch-modal-course-zoom-account-container').modal('show'),a(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})}));case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.userTmp,e.next=3,s.getZoomAccount({courseId:n._id,userId:r._id}).then(function(e){return e.data}).catch(function(e){e=e.data;return o.info({msg:'not-created'===e.msg&&i('translate')('ch-modal-course-zoom-account.toast.zoom-not-created')}),e});case 3:return e.abrupt('return',e.sent);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function t(){$('#ch-modal-course-zoom-account-container').modal('hide')}e.$on('MODAL:COURSE_ZOOM_ACCOUNT:OPEN',function(e,t,n,r){t&&!function(){c.apply(this,arguments)}({courseTmp:n,userTmp:r})}),$('#ch-modal-course-zoom-account-container').on('hidden.bs.modal',t),l.onClickClose=function(e){e.preventDefault(),t()},l.onMouseOverShowPass=function(e,t){e.preventDefault(),l.showPass=t}}]}),angular.module('core').component('chModalExternalRecording',{templateUrl:'modules/platform/courses/directives/ch-modal-external-recording/ch-modal-external-recording.html',controllerAs:'vm',controller:['$rootScope','$filter',function(e,t){t('translate');var n=this,r=(e.$on('MODAL:RECORDING_NOTAVAILABLE:OPEN',function(e,t){r('show'),n.externalZoomLink=t}),n.onClickSubmit=function(){window.open(n.externalZoomLink,'_blank'),r('hide')},n.onClickClose=function(){return r('hide')},function(){return'show'===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:'show')?($('.modal.show').modal('hide'),$('#ch-modal-not-recording').modal('show')):$('#ch-modal-not-recording').modal('hide')})}]}),angular.module('core').component('chModalReportUser',{templateUrl:'modules/platform/courses/directives/ch-modal-report-user/ch-modal-report-user.view.html',controllerAs:'vm',controller:['NotificationSrv','$rootScope','SelfManagementSrv','UploadsSrv','CODER_LANDINGS','AmplitudeSrv','$filter',function(o,e,a,i,t,d,n){var t=t.REPORT_USER_PROTOCOL,u=this,m=null,p=null,v=(u.REPORT_USER_PROTOCOL=t,n('translate'));function s(){$('#ch-modal-report-user').modal('hide'),p&&m&&m(null,!1)}function r(e,t){if(null!=e&&e.length){o.info({msg:v('ch-modal-report-user.toasts.uploading-files')});for(var n=e,r=[],a=0;a<n.length;a++)r.push((s=n[a],i.images(s).then(function(e){return null==e||null==(e=e.data)?void 0:e.url})));return Promise.all(r).then(function(e){return t(null,e)},o.error)}var s;t(null)}u.$onInit=function(){e.$on('MODAL:REPORT_USER:OPEN',function(e,t,n,r,a,s,o,i,l,c){t&&(u.from=c,u.isReportingTeacher='teachers-supervision'===u.from?1:0,'forum'===c?(u.studentTmp=a,u.blogPost=o,d.logEvent('forum',{from:'dashboard',cta:'report-post-open'})):(u.reportTmp={},u.courseTmp=n,u.teacherTmp=r,u.studentTmp=a,u.deliverTmp=s,o&&(u.reportTmp.subject=o),p=i),u.subjects=function(e){var t=!(null==(t=u.deliverTmp)||!t._id),t=[{key:'performance',title:v('ch-modal-report-user.subjects.performance'),enable:!1},{key:'response',title:v('ch-modal-report-user.subjects.response'),enable:!1},{key:'empty-deliver',title:v('ch-modal-report-user.subjects.empty-deliver'),enable:t},{key:'lock-deliver',title:v('ch-modal-report-user.subjects.lock-deliver'),enable:t&&'lock-deliver'===u.reportTmp.subject},{key:'comments',title:v('ch-modal-report-user.subjects.comments'),enable:!1},{key:'conflictive',title:v('ch-modal-report-user.subjects.conflictive'),enable:!1},{key:'need-support-with-student',title:v('ch-modal-report-user.subjects.need-support-with-student'),enable:!1},{key:'student-dont-understand-feedback',title:v('ch-modal-report-user.subjects.student-dont-understand-feedback'),enable:t},{key:'student-dont-understand-tutor-scope',title:v('ch-modal-report-user.subjects.student-dont-understand-tutor-scope'),enable:t},{key:'code-of-conduct',title:v('ch-modal-report-user.subjects.code-of-conduct'),enable:!t},{key:'others',title:v('ch-modal-report-user.subjects.others'),enable:!1}].filter(function(e){return e.enable});'forum'===e?t=[{key:'inappropriate-content',title:v('ch-modal-report-user.subjects.inappropriate-content')},{key:'offensive-language',title:v('ch-modal-report-user.subjects.offensive-language')},{key:'empty-post',title:v('ch-modal-report-user.subjects.empty-post')},{key:'inappropriate-comments',title:v('ch-modal-report-user.subjects.inappropriate-comments')},{key:'others',title:v('ch-modal-report-user.subjects.others')}]:'teachers-supervision'===e&&(t=[{key:'not-active-at-class',title:v('ch-modal-report-user.subjects.not-active-at-class')},{key:'not-review-on-time',title:v('ch-modal-report-user.subjects.not-review-on-time')},{key:'not-answer-questions',title:v('ch-modal-report-user.subjects.not-answer-questions')},{key:'not-in-touch-with-teachers-team',title:v('ch-modal-report-user.subjects.not-in-touch-with-teachers-team')},{key:'not-aligned-with-teachers',title:v('ch-modal-report-user.subjects.not-aligned-with-teachers')},{key:'innapropiate-comments',title:v('ch-modal-report-user.subjects.innapropiate-comments')},{key:'others',title:v('ch-modal-report-user.subjects.others')}]);return t}(c),m=l,$('.modal.show').modal('hide'),$('#ch-modal-report-user').modal('show'))})},u.onClickClose=function(e){e.preventDefault(),s()},u.onClickUploadFile=function(e){e.preventDefault(),document.getElementById('input-capture-1').click()},u.onClickRemoveFile=function(e,t){e.preventDefault(),u.files=u.files.filter(function(e){return(null==e?void 0:e.name)!==(null==t?void 0:t.name)}),u.fileTmp=''},u.onChangeFile=function(e){var t;null!=(t=u.fileTmp)&&t.name?u.files=[u.fileTmp]:o.error({msg:v('ch-modal-report-user.toasts.error-uploading-files')})},u.onSubmit=function(e,t){if(e.preventDefault(),null==(e=u.reportTmp.text)||null==(e=e.trim())||!e.length)return o.info({msg:v('ch-modal-report-user.toasts.error-missing-comment')});r(u.files,function(e,t){1===u.subjects.length&&(u.reportTmp.subject=u.subjects[0].key);var n,r=u.subjects.find(function(e){return e.key===u.reportTmp.subject});'forum'===u.from?a.reportBlog({studentId:u.studentTmp._id,blogPost:u.blogPost,subjectKey:r.key,subject:r.title,text:u.reportTmp.text,fileLinks:t}).then(function(){o.success({msg:v('ch-modal-report-user.toasts.forum-success'),delay:5e3}),d.logEvent('forum',{from:'dashboard',cta:'report-post-confirmed'}),u.blogPost.totalReports=u.blogPost.totalReports++,s(),m&&m(null,u.blogPost)},o.error):a.reportUser({courseId:u.courseTmp._id,teacherId:u.teacherTmp._id,studentId:u.studentTmp._id,deliverId:null==(n=u.deliverTmp)?void 0:n._id,subjectKey:r.key,subject:r.title,text:u.reportTmp.text,fileLinks:t,isReportingTeacher:u.isReportingTeacher}).then(function(){o.success({msg:v('ch-modal-report-user.toasts.success'),delay:5e3}),s(),m&&m(null,!0)},o.error)})}}]}),angular.module('core').component('chModalRequestAdditionalSchedule',{templateUrl:'modules/platform/courses/directives/ch-modal-request-additional-schedule/ch-modal-request-additional-schedule.view.html',controllerAs:'vm',controller:['$rootScope','CoursesSrv','NotificationSrv','$filter',function(e,s,o,i){var l=this;function c(){$('#ch-modal-request-additional-schedule').modal('show')}function t(){$('#ch-modal-request-additional-schedule').modal('hide')}e.$on('MODAL:REQUEST_ADDITIONAL_SCHEDULE:OPEN',function(e,t,n,r,a){t&&(t=n,n=a,l.userTmp=r,l.courseTmp=t,l.isReeSchedule=n,function(t){if(l.isReeSchedule)return s.getCalendar({courseId:t._id}).then(function(e){return t.calendar=null==e?void 0:e.data.calendar.filter(function(e){return!e._flags.isHoliday&&!e.flags.isComplementary}).map(function(e){var t;return e.dayTs=new Date(e.day).getTime(),e.alias=''.concat(i('date')(e.dayTs,'dd/MM - EEEE'),' - ').concat((null==(t=e.stage)?void 0:t.name)||''),e}),t},function(){return o.error()});return new Promise(function(e){return e()})}(t).then(c))}),l.onClickClose=function(e){e.preventDefault(),t()},l.onSubmit=function(e){return e.preventDefault(),s.requestAdditionalSchedule({userId:l.userTmp._id,courseId:l.courseTmp._id,schedule:!(null==(e=l.additionalTmp)||!e._id||null==(e=l.courseTmp.calendar)||!e.length)&&l.courseTmp.calendar.find(function(e){return e._id===l.additionalTmp._id}),reason:l.additionalTmp.reason}).then(function(e){o.info({msg:i('translate')('ch-modal-request-additional-schedule.toast.success')}),t()},o.error)}}]}),angular.module('core').component('chModalRequestChangeGroup',{templateUrl:'modules/platform/courses/directives/ch-modal-request-change-group/ch-modal-request-change-group.view.html',controllerAs:'vm',controller:['NotificationSrv','$rootScope','SelfManagementSrv','CoursesSrv','$filter',function(n,v,r,g,e){var f=this,a=e('translate');function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseId,f.params={courseId:n},f.fromTutorGroups=null,f.toTutorGroups=null,f.allTeachers=null,e.next=7,function(){return i.apply(this,arguments)}({courseId:n});case 7:$('.modal.show').modal('hide'),$('#ch-modal-request-change-group').modal('show');case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function o(){$('#ch-modal-request-change-group').modal('hide')}function i(){return(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i,l,c,d,u,m,p;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.courseId,e.next=3,g.getClassmates({courseId:r});case 3:for(r=e.sent,a=r.data,s=null==a?void 0:a.find(function(e){return e._id===v.USER._id}),o=a,i=function(e){return null==e?void 0:e.tutorOf.map(function(e){return[e._id,e]})},l=[],c=0;c<o.length;c++)l.push(i(o[c]));for(d=new Map(l.flat()),u=a,m=function(e){var t;if(null!=(t=e.groups)&&t.length)for(var n=e.groups,r=function(e){var t,n;if(null!=e&&null!=(t=e.members)&&t.length){for(var r=e.members,a=[],s=0;s<r.length;s++)a.push((n=r[s],d.get(n)));e.members=a,e.locked=3<=e.members.length,e._alias=e.locked?''.concat(e.alias,' (bloqueado)'):e.alias}},a=0;a<n.length;a++)r(n[a])},p=0;p<u.length;p++)m(u[p]);return null!=s&&s._id&&null!=s&&null!=(n=s.tutorOf)&&n.length&&(f.fromTutorGroups=s.groups,f.toTutorGroups=s.groups),f.allTeachers=a,e.abrupt('return',a);case 18:case'end':return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.requestChangeGroup(t);case 3:n.success({msg:a('ch-modal-request-change-group.toast.sent'),delay:5e3}),o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.error();case 10:case'end':return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}v.$on('MODAL:REQUEST_CHANGE_STUDENT_GROUP:OPEN',function(e,t,n){n=n.courseId;t&&!function(){s.apply(this,arguments)}({courseId:n})}),f.onChangeTutor=function(){var e;f.toTutorGroups=null==(e=f.allTeachers)||null==(e=e.find(function(e){return e._id===f.toTutorId}))?void 0:e.groups},f.onClickClose=function(e){e.preventDefault(),o()},f.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f.studentId&&f.toTutorId&&(f.wantToBeAlone||f.toGroupId)&&f.reason)return e.next=4,function(){return l.apply(this,arguments)}({courseId:f.params.courseId,userId:f.studentId,fromTutorId:v.USER._id,toTutorId:f.toTutorId,toGroupId:f.wantToBeAlone?null:f.toGroupId,reason:f.reason,finalProjectSubject:f.finalProjectSubject,wantToBeAlone:f.wantToBeAlone?1:0});e.next=6;break;case 4:e.next=7;break;case 6:n.info({msg:a('ch-modal-request-change-group.toast.incomplete-fields')});case 7:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalRequestEnrollCert',{templateUrl:'modules/platform/courses/directives/ch-modal-request-enroll-cert/ch-modal-request-enroll-cert.view.html',controllerAs:'vm',controller:['$rootScope','$filter','UsersSrv','SelfManagementSrv','NotificationSrv',function(e,t,a,n,r){var s=this,o=t('translate');function i(){$('#ch-modal-request-enroll-cert').modal('hide')}s.onClickClose=function(e){e.preventDefault(),i()},e.$on('MODAL:REQUEST_ENROLL_CERT:OPEN',function(e,t,n,r){t&&a.get({_id:r._id}).then(function(e){e=null==e?void 0:e.data;e.profile=e.profile||{},e.profile.dni=parseInt(e.profile.dni||'',10),s.userTmp=e,s.courseTmp=n,$('#ch-modal-request-enroll-cert').modal('show')})}),s.onSubmit=function(e){e.preventDefault(),n.requestEnrollCert({studentId:s.userTmp._id,courseId:s.courseTmp._id,user:s.userTmp}).then(function(e){var t,n,e=new Blob([e.data],{type:'application/pdf'});e=e,t=''.concat(o('ch-student-course.progress.certificate'),' ').concat(s.courseTmp.level.title,'.pdf'),e=window.URL.createObjectURL(e),(n=document.createElement('a')).href=e,n.target='_blank',n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),r.info({msg:o('ch-modal-request-enroll-cert.toast.sent')}),i()}).catch(function(e){return console.log('Error when get cert File: ',e)})}}]}),angular.module('core').component('chModalRequestLeaderboardPerks',{templateUrl:'modules/platform/courses/directives/ch-modal-request-leaderboard-perks/ch-modal-request-leaderboard-perks.view.html',controllerAs:'vm',controller:['$rootScope','SelfManagementSrv','NotificationSrv','$filter',function(m,a,s,e){var p=this,v=e('translate');function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i,l,c,d,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.courseTmp,r=t.userTmp,a=t.perkRequestsTmp,s=[49500,56435,50240,50345,50400,63470,49215,50115,50130,50385,57945,61010,61570,48845,48845,48935,49445,56260,49675,49800,49900,55945,49910,49915,48850,48940,49065,49905,49680,49805,50095,55830,56165,49925,49930,56500,56675,60115,49010,49475,49610,49810,48740,50165,50185,50295,50330,49395,48735,56680,60130,61560,62375,48995,49020,49235,49815,49390,50155,50375,50395,52340,55955,56685,61530,56180,64460,49435,49695,49820,48865,48950,49705,49710,49830,50245,64520,49060,50200,56070,50060,55835,56575,58260,58265,48750,50065,61095,56170,56345,48760,48765,64515,50205,56075,49310,58275,58280,58285,49320,64545,64555,49080,49700,49825,64530,64535,56350,50005,5e4,55650,50010,50015,49150],p.requestModal=s.includes(n.camada.id),p.requestModal?(p.modalTypeform='https://coderhouse.typeform.com/to/g37rrwLG#camada='.concat(n.camada.id,'&stagename=xxxxx&studentemail=xxxxx&teacheremail=xxxxx&schedule=xxxxx&class=xxxxx&stage=xxxxx&teacherid=xxxxx&studentid=xxxxx&tutorid=xxxxx&tutoremail=xxxxx'),e.next=26):e.next=7;break;case 7:return o=(null==(s=m.COUNTRY)?void 0:s.code)||r.profile.country,p.isNotInArg='ar'!==o,p.userTmp=r,p.courseTmp=n,p.leaderboardPerksLocked=p.courseTmp.flags.leaderboardPerksLocked,(null==(i=window.location)?void 0:i.href.includes('flo='.concat(p.courseTmp._id,'-').concat(p.userTmp._id)))&&(p.leaderboardPerksLocked=!1),p.perkRequestsTmp=a||[],p.perksTmp={},e.next=18,function(){return g.apply(this,arguments)}({courseId:n._id,userId:r._id,country:o});case 18:for(i=e.sent,l=i.filter(function(e){return e.type&&m.IS_ENV_BR?'talent-portfolio'!==e.type:e.type}),c=function(e){e.enable=!p.leaderboardPerksLocked&&e.enable,e.disabled=!e.enable||e.claimed,'tutor'===e.type&&e.disabled&&(e.value=''.concat(e.value,' (*)')),e.claimed&&(e.selected=!0);var t=null!=e&&null!=(t=e.type)&&t.includes('-')?null==e||null==(t=e.type)?void 0:t.split('-')[1]:e.type;return e.value=v('ch-modal-request-leaderboard-top10perk-'.concat(t)),'project'===e.type&&(e.value=v('ch-modal-request-leaderboard-top10perk-freelance')),e},d=[],u=0;u<l.length;u++)d.push(c(l[u]));p.perks=d,p.isTutorPerkDisabled=p.perks.find(function(e){return'tutor'===e.type&&e.disabled}),p.allPerksRequested=!p.perks.find(function(e){return e.enable});case 26:$('#ch-modal-request-leaderboard-perks').modal('show');case 27:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getTop10Perks(t);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function i(){$('#ch-modal-request-leaderboard-perks').modal('hide')}m.$on('MODAL:REQUEST_LEADERBOARD_TOP10_PERK:OPEN',function(e,t,n,r,a){t&&!function(){o.apply(this,arguments)}({courseTmp:n,userTmp:r,perkRequestsTmp:a})}),p.onClickClose=function(e){e.preventDefault(),i()},p.onClickPerk=function(e){e.currentTarget.checked&&3<=p.perks.filter(function(e){return e.selected||e.claimed}).length&&null!=e&&e.preventDefault()},p.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=p.perks.filter(function(e){return e.selected&&!e.claimed})).length){e.next=29;break}e.prev=3,n=_createForOfIteratorHelper(n),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return r=r.value,e.next=11,a.requestTopPerks({userId:p.userTmp._id,courseId:p.courseTmp._id,perkType:r.type,serviceId:r.serviceId});case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:s.info({msg:v('ch-modal-request-leaderboard-perks.toast.sent')}),i(),m.$emit('MODAL:REQUEST_LEADERBOARD_TOP10_PERK:REQUESTED'),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(3),s.error();case 29:case'end':return e.stop()}},e,null,[[3,26],[5,15,18,21]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').run(['NotificationSrv','SelfManagementSrv','$filter','SelfManagementV2Srv',function(a,e,s,o){_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s('translate'),n={},null!=(r=location.href)&&null!=(r=r.split('?')[1])&&null!=(r=r.split('&'))&&r.forEach(function(e){e=e.split('='),n[e[0]]=e[1]}),r=n['flag-reactive'],e.prev=4,n.pid&&r){if(parseInt(r))return e.next=9,o.approveReactivePurchase(n);e.next=12}else e.next=16;break;case 9:a.success({msg:t('ch-modal-request-reenroll.toasts.paid')}),e.next=16;break;case 12:return e.next=14,o.failReactivePurchase(n);case 14:throw a.error({msg:t('ch-modal-request-reenroll.toasts.fail')}),'err-reenroll-product-fail';case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),console.error('err-SELF_MANAGEMENT_V2',e.t0);case 21:case'end':return e.stop()}},e,null,[[4,18]])}))()}]).component('chModalRequestReactivation',{templateUrl:'modules/platform/courses/directives/ch-modal-request-reactivation/ch-modal-request-reactivation.view.html',controllerAs:'vm',controller:['$rootScope','NotificationSrv','SelfManagementSrv','SelfManagementV2Srv','$state','$filter',function(s,o,n,r,i,e){var l=this,c=e('translate');function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.courseTmp,a=n.userTmp,l.courseTmp=r,l.userTmp=a,r=!1,e.next=6,function(){return d.apply(this,arguments)}();case 6:return a=e.sent,l.currentFreeChange=r,l.currentRequest=null==a?void 0:a.find(function(e){var t=e.fromCourse,n=e.type,e=e.status;return t.toString()===l.courseTmp._id.toString()&&'reactive'===n&&'process'===e}),e.next=11,function(){return m.apply(this,arguments)}();case 11:l.submitAlias=null!=r&&r._id||null==(t=l.flags)||!t.hasToPay?c('ch-modal-request-reactivation.btn-free-submit'):c('ch-modal-request-reactivation.btn-pay-submit'),$('.modal.show').length||$('#ch-modal-request-reactivation-container').modal('show');case 13:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getRequests({userId:l.userTmp._id,fromCourse:l.courseTmp._id,type:'reactive',ts:(new Date).getTs()});case 2:return t=e.sent,t=t.data,t=void 0===t?[]:t,e.abrupt('return',t);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(){$('#ch-modal-request-reactivation-container').modal('hide'),l.courseTmp=null,l.userTmp=null}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:l.userTmp._id,courseId:l.courseTmp._id,fromCourseId:l.courseTmp._id,toCourseId:l.courseTmp._id,country:null==(t=s.COUNTRY)?void 0:t.code,type:'reactive',ts:(new Date).getTs()},e.next=3,r.get(t);case 3:l.penaltyTmp=e.sent,l.flags=l.penaltyTmp.flags;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.createReactivePurchase(t);case 3:return e.abrupt('return',e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case'end':return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}s.$on('MODAL:REQUEST_REACTIVATION:OPEN',function(e,t,n,r){t&&!function(){a.apply(this,arguments)}({courseTmp:n,userTmp:r})}),$('#ch-modal-request-reactivation-container').on('hidden.bs.modal',u),l.onClickClose=function(e){e.preventDefault(),u()},l.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=!(null!=(n=l.currentFreeChange)&&n._id),n={requestId:null==(r=l.currentRequest)?void 0:r._id,userId:l.userTmp._id,courseId:l.courseTmp._id,flag:'reactive',isSelfPayment:n,country:null==(r=s.COUNTRY)?void 0:r.code,backUrl:location.pathname},e.prev=3,r={},localStorage.setItem('ch-reenroll-request',JSON.stringify(r)),o.info({msg:c('ch-modal-request-reactivation.toast.payment-redirect')}),e.next=9,function(){return p.apply(this,arguments)}(_objectSpread(_objectSpread({},r),n));case 9:a=e.sent,u(),null!=a&&a.success||null!=a&&a.freeChange?(o.success({msg:c('ch-modal-request-reactivation.toast.paid')}),i.go('platform-course',i.params,{notify:!0,reload:!0}),e.next=21):e.next=16;break;case 16:if(null!=a&&a.contactUs)return e.abrupt('return');e.next=20;break;case 20:throw r;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.error('err-createReactivePurchase',e.t0);case 26:case'end':return e.stop()}},e,null,[[3,23]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalRequestReenable',{templateUrl:'modules/platform/courses/directives/ch-modal-request-reenable/ch-modal-request-reenable.view.html',controllerAs:'vm',controller:['$rootScope','SelfManagementSrv','NotificationSrv','$filter',function(t,n,e,r){var l=this,c=r('translate');function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.courseTmp,r=t.userTmp,a=t.type,s=t.schedule,o=t.module,t.canRequest,e.next=3,Promise.all([function(){return d.apply(this,arguments)}({courseId:n._id,userId:r._id,type:a})]);case 3:i=e.sent,i=_slicedToArray(i,1),i=i[0],l.userTmp=r,l.courseTmp=n,l.type=a,l.flags=i,l.schedule=s,l.module=o,l.TEXTS={title:c('reenable-deliver'===a?'ch-modal-request-reenable.deliver-title':'ch-modal-request-reenable.title'),description:'reenable-deliver'===a?c('ch-modal-request-reenable.deliver-text').replace('%amount%','dos'):c('ch-modal-request-reenable.text')},$('.modal.show').modal('hide'),$('#ch-modal-request-reenable').modal('show');case 14:case'end':return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isRequestReenableValid(_objectSpread(_objectSpread({},t),{},{ts:(new Date).getTs()}));case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function s(){$('#ch-modal-request-reenable').modal('hide')}t.$on('MODAL:REQUEST_REENABLE:OPEN',function(e,t,n){t&&!function(){a.apply(this,arguments)}(n)}),l.onClickClose=function(e){e.preventDefault(),s()},l.onSubmit=function(e){e.preventDefault(),t.$broadcast('REQUEST_REENABLE:APPROVED',!0,{userId:l.userTmp._id,scheduleId:l.schedule._id,moduleId:null==(e=l.module)?void 0:e._id}),s()}}]}),angular.module('core').run(['NotificationSrv','SelfManagementSrv','SelfManagementV2Srv','$filter','$timeout','$state',function(l,e,c,d,u,m){_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e,t){l.success({msg:e}),u(function(){m.go(t,{refreshCourses:!0})},10)},t=d('translate'),n={},null!=(r=location.href)&&null!=(r=r.split('?')[1])&&null!=(r=r.split('&'))&&r.forEach(function(e){e=e.split('='),n[e[0]]=e[1]}),r=n['flag-commission-reenroll'],a=n['flag-course-reenroll'],s=n['flag-transfer-commission'],o=n['flag-transfer-course'],e.prev=8,n.pid)if(r){if(parseInt(r))return e.next=14,c.approveReenrollCommissionPurchase(n);e.next=17}else e.next=23;else e.next=60;break;case 14:i(t('ch-modal-request-commission-reenroll.toast.paid'),'dashboard'),e.next=21;break;case 17:return e.next=19,c.failReenrollCommissionPurchase(n);case 19:throw l.error({msg:t('ch-modal-request-commission-reenroll.toast.fail')}),'err-reenroll-product-fail';case 21:e.next=60;break;case 23:if(a){if(parseInt(a))return e.next=27,c.approveReenrollProductPurchase(n);e.next=30}else e.next=36;break;case 27:i(t('ch-modal-request-course-reenroll.toast.paid'),'dashboard'),e.next=34;break;case 30:return e.next=32,c.failReenrollProductPurchase(n);case 32:throw l.error({msg:t('ch-modal-request-course-reenroll.toast.fail')}),'err-reenroll-product-fail';case 34:e.next=60;break;case 36:if(s){if(parseInt(s))return e.next=40,c.approveTransferPurchase(n);e.next=43}else e.next=49;break;case 40:i(t('ch-modal-request-transfer.toast.paid'),'dashboard'),e.next=47;break;case 43:return e.next=45,c.failTransferPurchase(n);case 45:throw l.error({msg:t('ch-modal-request-transfer.toast.fail')}),'err-transfer-fail';case 47:e.next=60;break;case 49:if(o){if(parseInt(o))return e.next=53,c.approveTransferPurchase(n);e.next=56}else e.next=60;break;case 53:i(t('ch-modal-request-transfer.toast.paid'),'dashboard'),e.next=60;break;case 56:return e.next=58,c.failTransferPurchase(n);case 58:throw l.error({msg:t('ch-modal-request-transfer.toast.fail')}),'err-transfer-fail';case 60:e.next=65;break;case 62:e.prev=62,e.t0=e.catch(8),console.error('err-SELF_MANAGEMENT_V2',e.t0);case 65:case'end':return e.stop()}},e,null,[[8,62]])}))()}]).filter('reasonTranslation',['$rootScope',function(r){return function(e){var t={ar:'es_Ar',mx:'es_MX',br:'pt_BR',es:'es_ES'},n=t[r.USER.profile.country];return e.translations[n]||e.translations[t.es]}}]).component('chModalRequestReenroll',{templateUrl:'modules/platform/courses/directives/ch-modal-request-reenroll/ch-modal-request-reenroll.view.html',controllerAs:'vm',controller:['$window','$rootScope','$filter','ProductsSrv','SelfManagementSrv','SelfManagementV2Srv','NotificationSrv','UnenrollmentReasonSrv','FEATURES','$timeout','$state',function(e,m,n,s,r,p,o,u,i,a,l){var v=this,g=n('translate'),f='true'===window.SELF_MANAGEMENT_V2,c='true'===window.IS_IFRAME;function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i,l,c,d;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.courseTmp,n=t.userTmp,r=t.isTransferRequest,a=t.canChangeTheProduct,v.penaltyText=null,v.userTmp=n,v.courseTmp=s,v.toCourseId=null,v.isTransferRequest=r,v.canChangeTheProduct=a,v.selectedUnenrollmentReason='',v.coursesTmp=null,v.requestsTmp=null,v.products=null,v.unenrollmentReason=null,v.productTmp=null,v.isAuthorizedCourseReenroll=!a,e.next=16,Promise.all([function(){return w.apply(this,arguments)}(),function(){return T.apply(this,arguments)}(),u.get(),function(){return h.apply(this,arguments)}(s)]);case 16:return n=e.sent,r=_slicedToArray(n,3),a=r[0],s=r[1],o=r[2],v.requestsTmp=a,v.products=s,v.unenrollmentReason=o,v.toProductId=v.canChangeTheProduct?null==(o=v.products[0])?void 0:o._id:v.courseTmp.level._id,v.isTransferRequest&&(v.toProductId=v.courseTmp.level._id),e.next=28,Promise.all([_(),function(){return y.apply(this,arguments)}()]);case 28:return o=e.sent,l=_slicedToArray(o,2),i=l[0],l=l[1],v.coursesTmp=i,v.productTmp=l,e.next=36,b(null==(i=v.coursesTmp[0])?void 0:i._id);case 36:if(v.toCourseId=null==(l=v.coursesTmp[0])?void 0:l._id,v.submitAlias=null!=(i=v.flags)&&i.hasToPay?g('ch-modal-request-reenroll.btn-pay'):g('ch-modal-request-reenroll.btn-submit'),f&&(v.submitAlias=g('ch-modal-request-reenroll.btn-submit-v2')),null!=(d=v.flags)&&d.hasFreeChangeOrReenrollToProduct)return v.toProductId=v.flags.hasFreeChangeOrReenrollToProduct,e.next=43,_();e.next=46;break;case 43:d=e.sent,v.coursesTmp=d,v.toCourseId=null==(c=v.coursesTmp[0])?void 0:c._id;case 46:return v.steps={reenroll:!0,noDates:!(null!=(c=v.coursesTmp)&&c.length)},v.termsUrl=m.IS_ENV_BR?'https://www.coderhouse.com.br/legal':'https://www.coderhouse.com/legales',e.abrupt('return',($('.modal.show').modal('hide'),void $('#ch-modal-request-reenroll').modal('show')));case 49:case'end':return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.canChangeTheProduct)return e.next=3,p.isAuthorized(m.USER._id,'courseReenroll',t._id).then(function(e){e&&(v.isAuthorizedCourseReenroll=!0)});e.next=3;break;case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function b(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,a,s,o,i,l,c,d,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:v.userTmp._id,courseId:v.courseTmp._id,productId:v.toProductId,fromCourseId:v.courseTmp._id,toCourseId:t,country:null==(n=m.COUNTRY)?void 0:n.code,type:v.isTransferRequest?'transfer':'reenroll',ts:(new Date).getTs()},e.next=3,p.get(n);case 3:v.penaltyTmp=e.sent,(!v.canChangeTheProduct||v.isTransferRequest)&&(!v.isTransferRequest||'transferencia comisión'==v.penaltyTmp.name)?'exception'==v.penaltyTmp.conditionUsed?v.penaltyText=g('ch-modal-request-reenroll.free-change.2'):'quality'==v.penaltyTmp.conditionUsed?v.penaltyText=g('ch-modal-request-reenroll.free-change.3'):'freeDays'==v.penaltyTmp.conditionUsed?v.penaltyText=g('ch-modal-request-reenroll.free-change.4'):0<v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'pending'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.7'):0<v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'inProgress'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.8'):0<v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'completed'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.9'):0<v.penaltyTmp.pricing.price&&'pending'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.4'):0<v.penaltyTmp.pricing.price&&'inProgress'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.5'):0<v.penaltyTmp.pricing.price&&'completed'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.6'):0==v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'pending'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.10'):0==v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'inProgress'==v.penaltyTmp.flags.commissionStatus?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.11'):0==v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed&&'completed'==v.penaltyTmp.flags.commissionStatus&&(v.penaltyText=g('ch-modal-request-reenroll.has-to-pay.text.12')):'exception'==v.penaltyTmp.conditionUsed?v.penaltyText=g('ch-modal-request-reenroll.exception'):0<v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay-and-has-available-balance'):0<v.penaltyTmp.pricing.price?v.penaltyText=g('ch-modal-request-reenroll.has-to-pay'):0==v.penaltyTmp.pricing.price&&0<v.penaltyTmp.pricing.balanceUsed?v.penaltyText=g('ch-modal-request-reenroll.has-available-balance'):0==v.penaltyTmp.pricing.rawPrice?v.penaltyText=g('ch-modal-request-reenroll.has-same-price'):v.penaltyTmp.pricing.rawPrice<0&&!v.penaltyTmp.availableBalanceUsed?v.penaltyText=g('ch-modal-request-reenroll.has-new-available-balance'):v.penaltyTmp.pricing.rawPrice<0&&v.penaltyTmp.availableBalanceUsed&&(v.penaltyText=g('ch-modal-request-reenroll.has-new-available-balance.2')),r=function(e){return e.toLocaleString('es-AR',{minimumFractionDigits:2,maximumFractionDigits:2})},n=function(e,t,n){return''.concat(e,' ').concat(r(t),' ').concat(n)},v.penaltyText&&(s=v.penaltyTmp.pricing,o=s.price,d=s.balanceUsed,a=s.rawPrice,s=s.currency,u=s.symbol,s=s.iso_code,c=v.penaltyTmp,l=c.availableBalanceUsed,c=c.newAvailableBalanceUsed,o=n(u,o,s),i=n(u,a,s),l=n(u,(null==l?void 0:l.price)||0,s),c=n(u,(null==c?void 0:c.price)||0,s),d=n(u,d,s),u=n(u,Math.abs(a),s),v.penaltyText=v.penaltyText.replace('%price%',o),v.penaltyText=v.penaltyText.replace('%rawPrice%',i),v.penaltyText=v.penaltyText.replace('%balanceUsed%',d),v.penaltyText=v.penaltyText.replace('%availableBalance%',l),v.penaltyText=v.penaltyText.replace('%newAvailableBalance%',c),v.penaltyText=v.penaltyText.replace('%surplus%',u)),v.flags=v.penaltyTmp.flags;case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getRequests({userId:v.userTmp._id,fromCourse:v.courseTmp._id,ts:(new Date).getTs()});case 2:return t=e.sent,t=t.data,e.abrupt('return',t);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={nin_id:[v.courseTmp.level._id],courseReenroll:v.canChangeTheProduct,type:'remotes'},v.isTransferRequest&&(t.courseReenroll=!1),e.next=4,s.get(t);case 4:return t=e.sent,e.abrupt('return',null==t?void 0:t.sort(function(e,t){return e.title>t.title?1:-1}));case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',s.get({_id:v.toProductId,ts:(new Date).getTs()}));case 1:case'end':return e.stop()}},e)}))).apply(this,arguments)}function k(e,t){e=e.type;window.parent.postMessage({type:e,payload:t||null},'*')}function _(){return S.apply(this,arguments)}function S(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getCourses({_id:v.toProductId,startDate:(new Date).getTime(),ts:(new Date).getTs(),teachers:!0});case 2:return a=e.sent,a=null==(r=a)?void 0:r.filter(function(e){var t=e._id,n=e.remote,e=e.camada;return n&&t!==v.courseTmp._id&&e}).map(function(e){var t=e.camada,n=t.id,t=t.leadTeacher,r=e.startDate,a=e.endDate,s=e.shortDays,o=e.startHour,i=e.endHour,l=e.startsIn,t=null!=t&&t._id?'Prof. '+t.fullName:'',c=m.USER.profile.country,n=[n,t,''.concat(E(r),' ').concat('br'==c?'a':'al',' ').concat(E(a),' - ').concat(null==s?void 0:s.join('br'==c?' e ':' y '),' ').concat('br'==c?'das':'de',' ').concat(E(o,'HH:mm'),' ').concat('br'==c?'às':'a',' ').concat(E(i,'HH:mm'),' (').concat('br'==c?'Começa em':'Inicia en',' ').concat(l,' ').concat('br'==c?'dias':'días',')')].filter(function(e){return e}).join(' - ');return _objectSpread(_objectSpread({},e),{},{alias:n})}),e.abrupt('return',a);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function E(e,t){t=1<arguments.length&&void 0!==t?t:'dd/MM';return n('date')(e,t)}function C(){$('#ch-modal-request-reenroll').modal('hide')}function R(e,t){o.success({msg:e}),a(function(){l.go(t,{refreshCourses:!0})},300)}function x(){return(x=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.isTransferRequest)return e.abrupt('return',p.createTransferPurchase(t));e.next=5;break;case 5:if(t.canChangeTheProduct)return e.abrupt('return',p.createReenrollProductPurchase(t));e.next=9;break;case 9:return e.abrupt('return',p.createReenrollCommissionPurchase(t));case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case'end':return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}m.$on('MODAL:REQUEST_REENROLL:OPEN',function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r,a){var s,o,i=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=4<i.length&&void 0!==i[4]&&i[4],o=!(5<i.length&&void 0!==i[5])||i[5],n)return v.products=null,v.toProductId=null,e.next=7,function(){return d.apply(this,arguments)}({courseTmp:r,userTmp:a,isTransferRequest:s,canChangeTheProduct:o});e.next=7;break;case 7:case'end':return e.stop()}},e)}));return function(e,t,n,r){return a.apply(this,arguments)}}()),v.onClickClose=function(e){e.preventDefault(),C()},v.onChangeProduct=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.toCourseId='',v.coursesTmp=[],e.next=4,_();case 4:return v.coursesTmp=e.sent,v.toCourseId=null==(n=v.coursesTmp[0])?void 0:n._id,e.next=8,b(v.toCourseId);case 8:v.steps.noDates=!(null!=(n=v.coursesTmp)&&n.length),v.submitAlias=null!=(r=v.flags)&&r.hasToPay?g('ch-modal-request-reenroll.btn-pay'):g('ch-modal-request-reenroll.btn-submit'),null!=(r=v.flags)&&r.hasToPay||(v.submitAlias=g('ch-modal-request-reenroll.btn-submit-v2'));case 11:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),v.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=i.REENROLL_REQUEST_SELF_PAYMENT?1:0,n={requestId:null==(a=v.currentRequest)?void 0:a._id,userId:m.USER._id,fromCourseId:v.courseTmp._id,toCourseId:v.toCourseId,flag:null!=(a=v.flags)&&a.penaltyReenroll?'reenroll':'change',isSelfPayment:n,country:null==(a=m.COUNTRY)?void 0:a.code,toUser:!1,isTransferRequest:!1,canChangeTheProduct:v.canChangeTheProduct,unenrollmentReason:(v.selectedUnenrollmentReason.isAbstract?v.selectedSubUnenrollmentReason:v.selectedUnenrollmentReason).key,unenrollmentComment:v.otherReasonText},v.isTransferRequest&&(n.isTransferRequest=!0,n.toUser=v.transferCourseTmp.toUser,v.transferCourseTmp.toCurrentCourse)&&(n.toCourseId=v.courseTmp._id,n.unenrollmentReason='other',n.unenrollmentComment='transferencia a misma comisión'),null!=(a=v.courseTmp.flags)&&a.isContainer&&(n.unenrollmentReason='other',n.unenrollmentComment='courso contenedor'),n.toCourseId){e.next=7;break}return e.abrupt('return');case 7:if(e.prev=7,null!=(r={})&&r.gateway||f)return c&&k({type:'ch-reenroll-request'},JSON.stringify(r)),localStorage.setItem('ch-reenroll-request',JSON.stringify(r)),null!=(a=v.flags)&&a.hasToPay?o.info({msg:g('ch-modal-request-reenroll.toasts.payment-redirect')}):o.info({msg:g('ch-modal-request-reenroll.toasts.free-change-redirect')}),e.next=15,function(){return x.apply(this,arguments)}(n);e.next=34;break;case 15:if(s=e.sent,C(),null!=s&&s.success){if(c)return e.abrupt('return',k({type:'to-home'}));e.next=20}else e.next=23;break;case 20:R(g('ch-modal-request-reenroll.toasts.paid'),'dashboard'),e.next=34;break;case 23:if(null!=s&&s.freeChange){if(c)return e.abrupt('return',k({type:'to-home'}));e.next=26}else e.next=29;break;case 26:R(g('ch-modal-request-reenroll.toasts.finished-change'),'dashboard'),e.next=34;break;case 29:if(null!=s&&s.contactUs)return e.abrupt('return');e.next=33;break;case 33:throw r;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(7),console.error('err-createReenrollPurchase',e.t0);case 39:case'end':return e.stop()}},e,null,[[7,36]])}));return function(e){return t.apply(this,arguments)}}(),v.onClickDiscartRequest=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.discartRequest({userId:m.USER._id,requestId:v.currentRequest._id});case 3:o.info({msg:g('ch-modal-request-reenroll.toasts.request-descarted')}),C();case 5:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalRequestSubstitute',{templateUrl:'modules/platform/courses/directives/ch-modal-request-substitute/ch-modal-request-substitute.view.html',controllerAs:'vm',controller:['$rootScope','NotificationSrv','UsersSrv','CoursesSrv','$filter',function(a,t,r,o,s){var i=this,l=null,n=s('translate');function c(){$('#course-substitute-modal').modal('show')}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getSchedule({courseId:i.courseTmp._id});case 2:for(t=e.sent,n=t.filter(function(e){return!e.complementary}),r=function(e){return e.flags.isPast=!e.flags.locked,e},a=[],s=0;s<n.length;s++)a.push(r(n[s]));return i.schedules=a,e.abrupt('return',i.schedules);case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAvailability({teacherId:l._id,level:i.courseTmp.level._id,courseId:i.courseTmp._id,date:i.scheDay,ts:(new Date).getTs()});case 2:return n=e.sent,null!=(t=n)&&t.length&&(n=n.filter(function(e){return e._id!==l._id})),null!=(t=n)&&t.length&&(i.teachers=s('orderBy')(n,'fullName')),e.abrupt('return',null==(t=n)?void 0:t.length);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}a.$on('MODAL:REQUEST_SUBSTITUTE:OPEN',function(e,t,n,r){t&&(l=a.USER,n.camada={id:r.id},i.courseTmp=n,i.camadaTmp=r,i.steps={schedules:1},function(){return d.apply(this,arguments)}().then(c))}),i.onClickClose=function(e){e.preventDefault(),$('#course-substitute-modal').modal('hide')},i.onSubmit=function(e){e.preventDefault(),i.currentSchedule=i.schedules.find(function(e){return e.day===i.scheDay}),function(){return u.apply(this,arguments)}().then(function(e){e?i.steps={teachers:1}:t.error({msg:n('ch-modal-request-substitute.toast.no-email-found'),delay:1e4})})}}]}),angular.module('core').component('chModalRequestToPartnerWith',{templateUrl:'modules/platform/courses/directives/ch-modal-request-to-partner-with/ch-modal-request-to-partner-with.view.html',controllerAs:'vm',controller:['NotificationSrv','$rootScope','SelfManagementSrv','CoursesSrv','$filter',function(a,e,s,t,n){var o=this,i=n('translate');function l(){$('.modal.show').modal('hide'),$('#ch-modal-request-to-partner-with').modal('show')}function c(){$('#ch-modal-request-to-partner-with').modal('hide')}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getRequests({userId:o.params.studentId,bePartnerWith:1,type:'to-partner-with',fromCourse:o.params.courseId,ts:(new Date).getTs()});case 2:t=e.sent,null!=(t=t.data)&&t.length&&(o.requestTmp=_.last(t),o.partners=o.requestTmp.toPartnerWith),r();case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function r(){var e;return o.canAddMorePartners=(null==(e=o.partners)?void 0:e.length)<2}e.$on('MODAL:REQUEST_TO_PARTNER_WITH:OPEN',function(e,t,n,r){t&&(o.params={courseId:n,studentId:r},o.partners=[],function(){return d.apply(this,arguments)}().then(l))}),o.onClickClose=function(e){e.preventDefault(),c()},o.onClickAdd=function(e){e.preventDefault();e=null==(e=o.emailTmp)?void 0:e.trim();3<(null==e?void 0:e.length)&&r()&&t.getStudents({courseId:o.params.courseId,byEmail:e}).then(function(e){var e=null==e?void 0:e.data;e.length?(null!=(e=e[0])&&e._id&&o.onClickRemove(null,e),o.partners.push(e),o.emailTmp=''):a.error({msg:i('ch-modal-request-to-partner-with.toast.no-email-found')})},function(){a.error({msg:i('ch-modal-request-to-partner-with.toast.no-email-found')})})},o.onClickRemove=function(e,t){null!=e&&e.preventDefault(),o.partners=o.partners.filter(function(e){return e._id!==t._id}),r()},o.onSubmit=function(e){if(e.preventDefault(),o.partners.length){for(var t=o.partners,n=[],r=0;r<t.length;r++)n.push(t[r]._id);s.requestBePartnerWith({courseId:o.params.courseId,studentId:o.params.studentId,requestId:null==(e=o.requestTmp)?void 0:e._id,partners:n}).then(function(e){a.success({msg:i('ch-modal-request-to-partner-with.toast.sent'),delay:5e3}),c()},a.error)}else a.info({msg:i('ch-modal-request-to-partner-with.toast.min-one-contact')})}}]}),angular.module('core').filter('reasonTranslation',['$rootScope',function(r){return function(e){var t={ar:'es_Ar',mx:'es_MX',br:'pt_BR',es:'es_ES'},n=t[r.USER.profile.country];return e.translations[n]||e.translations[t.es]}}]).component('chModalRequestUnenroll',{templateUrl:'modules/platform/courses/directives/ch-modal-request-unenroll/ch-modal-request-unenroll.view.html',controllerAs:'vm',controller:['$window','$rootScope','$state','$filter','SelfManagementV2Srv','UnenrollmentReasonSrv','PlatformUserBalanceService','NotificationSrv',function(e,n,t,r,a,s,o,i){n.$on('MODAL:REQUEST_UNENROLL:OPEN',function(e,t){return function(){return d.apply(this,arguments)}(t)});var l=this,c=r('translate');function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.showBalanceError=!1,l.user=n.USER,l.course=t.course,l.reason=null,l.subReason=null,l.comment=null,e.next=8,Promise.all([u(),m(t.course._id,n.USER._id)]).catch(function(e){return l.showBalanceError=!0});case 8:$('.modal.show').modal('hide'),$('#ch-modal-request-unenroll').modal('show');case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}l.onSubmit=function(){return v.apply(this,arguments)};var u=function(){return s.get().then(function(e){return l.unenrollReasons=e})},m=function(e,t){return a.simulateUnenrollment(e,t).then(function(e){e.oldBalance?l.userBalanceMessage='En tu caso, el mismo será de '.concat(p(e.newBalance),'. ')+'El mismo se compone por lo abonado por el curso ('.concat(p(e.paid),'), ')+'y tu saldo a favor actual ('.concat(p(e.oldBalance),').'):l.userBalanceMessage='En tu caso, el mismo será de '.concat(p(e.newBalance),', correspondiente a lo abonado por el curso.')})},p=function(e){return e.currency.symbol+e.price+' '+e.currency.iso_code};function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={reason:(l.reason.isAbstract?l.subReason:l.reason).key,comment:l.comment},e.next=3,a.unenrollFromCourse(l.course._id,l.user._id,t).then(b).then(g).then(h).catch(f);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){$('#ch-modal-request-unenroll').modal('hide')}function f(){l.showBalanceError=!0}function h(){top.window.location.href='/'}function b(){i.success({msg:c('ch-modal-unenroll.toast.success')})}}]}),angular.module('core').component('chTabList',{bindings:{options:'=',tabActive:'=',showLoader:'='},templateUrl:'modules/platform/courses/directives/ch-tab-list/ch-tab-list.view.html',controller:['$scope','$location',function(n,e){function r(e,t){for(var n=e,r=0;r<n.length;r++)(0,n[r])(t)}function t(){var e=s.options||{};s.tabs=e.items,s.clickFns=[e.setTabsInternally&&(!e.changeEvent||'click'===e.changeEvent)&&a,'function'==typeof e.clickHandler&&e.clickHandler].filter(function(e){return e}),s.hoverFns=[e.setTabsInternally&&'hover'===e.changeEvent&&a,'function'==typeof e.hoverHandler&&e.hoverHandler].filter(function(e){return e})}var s=this,a=(n.isCourses='/cursos'===e.path(),function(e){for(var t,n=s.tabs,r=[],a=0;a<n.length;a++)r.push(((t=n[a]).active=t.key===e.key,t));return s.tabs=r});s.$onInit=t,s.onClick=function(e){var t;(e.loading||!e.items.length)&&n.isCourses||(s.showLoader=e.key!==(null==(t=s.tabActive)?void 0:t.key),s.tabActive=e,r(s.clickFns,e))},s.onHover=function(e){return r(s.hoverFns,e)},n.$watch('$ctrl.options',t)}]}),angular.module('core').config(['$stateProvider','FEATURES',function(e,t){var n={parent:'platform',component:'platformCourse',data:{requiresLogin:!0},resolve:{camadaTmp:['CoursesSrv','SelfManagementV2Srv','$rootScope','$stateParams',function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r,a){var s,o,i,l,c,d;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s='true'===window.SELF_MANAGEMENT_V2,o=r.PERMISSIONS,i=a.camadaId,l={camadaId:i,userId:null==(l=r.USER)?void 0:l._id},i&&l.userId){if(null!=o&&o.teacher)return e.abrupt('return',t.getTeacherCourse(Object.assign(l,a)).then(function(e){return null==e?void 0:e.data}));e.next=8}else e.next=30;break;case 8:if(null!=o&&o.student){if(l.lean=1,[4720].includes(Number(i)))return e.abrupt('return',t.getStudentPersonalGoalCourse(l).then(function(e){return null==e?void 0:e.data}));e.next=12}else e.next=30;break;case 12:return e.next=14,t.getStudentCourse(l);case 14:if(c=e.sent,c=c.data,s)return e.prev=17,e.next=20,n.isNotCourseReenrollAllowed(l);e.next=29;break;case 20:d=e.sent,d=d.data.isNotCourseReenrollAllowed,c.course.flags.isNotCourseReenrollAllowed=d,e.next=29;break;case 25:e.prev=25,e.t0=e.catch(17),console.error('err-course-reenroll-allowed',e.t0),c.course.flags.isNotCourseReenrollAllowed=!1;case 29:return e.abrupt('return',c);case 30:return e.abrupt('return',!1);case 31:case'end':return e.stop()}},e,null,[[17,25]])}));return function(e,t,n,r){return a.apply(this,arguments)}}()],permissions:['CoursesSrv','$rootScope','$stateParams',function(e,t,n){return e.getCoursePermissions(Object.assign({},n,{userId:null==(e=t.USER)?void 0:e._id})).then(function(e){return null==e?void 0:e.data})}]}},r='/cursos/:camadaId/:courseSlug',a=['open-video','open-deliver','open-feedback','open-calendar','open-reactivation','open-reenroll','force-feedback','ff','fd','ts','stu'].join('&');e.state('platform-course',Object.assign({},n,{url:''.concat(r,'?').concat(a)})).state('platform-course-attendance',Object.assign({},n,{url:''.concat(r,'/asistencia')})).state('platform-course-scorecard',Object.assign({},n,{url:''.concat(r,'/scorecard')})).state('platform-course-rating',Object.assign({},n,{url:''.concat(r,'/valoraciones')})).state('platform-course-classmates',Object.assign({},n,{url:''.concat(r,'/companeros')})).state('platform-course-leaderboard',Object.assign({},n,{url:''.concat(r,'/top10')})).state('platform-course-blog-posts',Object.assign({},n,{url:''.concat(r,'/repositorio')})).state('platform-course-blog-post',Object.assign({},n,{url:''.concat(r,'/repositorio/:slug')})).state('platform-course-supervision',Object.assign({},n,{url:''.concat(r,'/seguimiento')})).state('platform-course-chat',Object.assign({},n,{url:''.concat(r,'/chat?name&full-screen')})).state('platform-course-meeting',Object.assign({},n,{url:''.concat(r,'/clase/:scheduleId')})).state('platform-course-delivers',Object.assign({},n,{url:''.concat(r,'/entregas?').concat(['open','open-deliver','contentId','flagBeca','flagBecaV2','flagHasServices','flagBecaCompleted','flagBecaExpired'].join('&')),params:{activeModuleFilter:null}})).state('platform-course-deliver',Object.assign({},n,{url:''.concat(r,'/entregas/:moduleId?').concat(['open','open-deliver','contentId','flagBeca','flagBecaV2','flagHasServices','flagBecaCompleted','flagBecaExpired','filters'].join('&'))})).state('platform-course-deliver-review',Object.assign({},n,{url:''.concat(r,'/entregas/:moduleId/:deliverId')})).state('platform-course-program-content',Object.assign({},n,{url:''.concat(r,'/:stageSlug/:moduleSlug')})).state('platform-course-2021-program',Object.assign({},n,{url:''.concat(r,'/clases')})).state('platform-course-2021-challeges',Object.assign({},n,{url:''.concat(r,'/desafios')})).state('platform-course-2021-delivers',Object.assign({},n,{url:''.concat(r,'/desafios-entregados?').concat(['open','open-deliver','contentId','flagBeca','flagBecaV2','flagHasServices','flagBecaCompleted','flagBecaExpired'].join('&'))}))}]).component('platformCourse',{bindings:{camadaTmp:'<',permissions:'<'},templateUrl:function(){var s='modules/platform/courses/platform-course.view.html',o='modules/platform/courses/platform-course.v2.view.html',i=[!window.ENV_PROD&&['13000','12305','13290']].flat().filter(function(e){return e}),l=/\?([\w]+)?old-view/.test(window.location.href),c=!l&&/\?([\w]+)?new-view/.test(window.location.href);return function(){var e=angular.element(window.document.body).injector().get,t=e('FEATURES'),n=e('$rootScope'),r=window.parseBool(localStorage.getItem('CH_COURSE_VIEW_V2:DISABLED')),a=!1,a=!(l||null==(n=n.PERMISSIONS)||!n.student)&&(!!c||(n=e('$state').params.camadaId,t._COURSE_VIEW_V2_AVAILABLE=t.STUDENT_COURSE_VIEW_V2&&i.includes(n),t._COURSE_VIEW_V2_AVAILABLE&&!r));return(t._STUDENT_COURSE_VIEW_V2=a)?o:s}}(),controller:['$scope','$rootScope','NotificationSrv','FEATURES','$state','CoursesSrv','$stateParams','$filter','ProjectsSrv','NormalizeSrv','$transitions','UsersSrv','$timeout','BotSrv','$rootScope',function(d,m,p,u,v,g,f,n,r,h,b,a,w,e,c){var t,T=this,y=(d.FEATURES=u,n('translate'));d.onTabChange=function(e){(d.activeTab=e).onClick&&e.onClick(),e.state&&v.go.apply(v,_toConsumableArray(e.state))},d.onClickGoToCert=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(r,a,s){var o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(o=d.certificationTmp)&&o._id){e.next=2;break}return e.abrupt('return',p.error({msg:'Para obtener el certificado es necesario cumplir con los requisitos del curso.'}));case 2:return e.next=4,g.getUserNps({courseId:P._id,userId:m.USER._id});case 4:if(o=e.sent,null!=(i=null==o?void 0:o.data)&&null!=(c=i.nps)&&c._id)return t=d.certificationTmp,n=void 0,n=t.permanentLink,r&&(n=t.downloadLink),a&&(n=t.addToLinkedinLink),s&&(n=h.getCertLinkedinShareUrl(P,{_id:t._id})),window.open(n,'_blank').focus(),e.abrupt('return');e.next=9;break;case 9:if(null!=(l=i.lastSchedule)&&l._id){e.next=12;break}return e.abrupt('return');case 12:return e.next=14,g.getScheduleFeedbackUrl({courseId:P._id,scheduleId:l._id,userId:m.USER._id});case 14:c=e.sent,l.flags=l.flags||{},l.flags.showNpsFeedback=!0,l.feedbackUrl=c.url,m.$broadcast('MODAL:FEEDBACK:OPEN',!0,l,P.camada._id,N);case 19:case'end':return e.stop()}var t,n},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),T.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,r,a,s,o,i,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.$state=v,d.camadaTmp=T.camadaTmp,c.hasCoderU=null!=(r=T.camadaTmp.course.coderU)&&r,e.next=6,g.getPermissionsNewReviews({context:{camada:[d.camadaTmp.id]}});case 6:if(r=e.sent,a=r.variation,c.hasAccessToNewDeliver=a,a=null==(a=m.PERMISSIONS)?void 0:a.student,s=null==(s=m.PERMISSIONS)?void 0:s.teacher,o=a||(null==(o=T.camadaTmp)||null==(o=o.course)||null==(o=o.flags)?void 0:o.isOnboarding),i=v.current.name,d.redirectCampusView=!1,c.$on('CAMPUS:REDIRECT',function(){return d.redirectCampusView=!0}),null!=(l=T.permissions)&&l.hasAccess){e.next=19;break}return p.error({msg:y('not-allowed-section')}),v.go('dashboard'),e.abrupt('return',!1);case 19:if(u._COURSE_2021=u.COURSE_2021||u.COURSE_2021_CAMADAS.includes(T.camadaTmp.id),d.ENABLE_RATINGS_2021=[44565,44610,15930,15555,14290].includes(T.camadaTmp.id),null!=u&&u._COURSE_2021)e.next=28;else{if(['platform-course-2021-program','platform-course-2021-challeges'].includes(i))return e.abrupt('return',v.go('platform-course',f));e.next=26}break;case 26:if(['platform-course-2021-delivers'].includes(i))return e.abrupt('return',v.go('platform-course-delivers',f));e.next=28;break;case 28:l={showMenuForStudent:a&&!['platform-playbooks'].includes(i),showMenuForTeacher:s,showProgramForStudent:(void 0,t=[],null!=u&&u._COURSE_2021||t.push('platform-course'),t.includes(i)&&o),showProgramForTeacher:(void 0,t=[],null!=u&&u._COURSE_2021||t.push('platform-course'),t.includes(i)&&!o),showPlaybookProgramForStudent:['platform-playbooks'].includes(i)&&o,isDelivers:(void 0,t=[],null!=u&&u._COURSE_2021||t.push('platform-course-delivers'),t.includes(i)&&s),isDeliver:['platform-course-deliver'].includes(i)&&s,isDeliverReview:['platform-course-deliver-review'].includes(i),isAttendance:['platform-course-attendance'].includes(i)&&s,isScorecard:['platform-course-scorecard'].includes(i)&&s,isRating:['platform-course-rating'].includes(i)&&s,isSupervision:['platform-course-supervision'].includes(i)&&s,isClassmates:['platform-course-classmates'].includes(i),isLeaderboard:['platform-course-leaderboard'].includes(i),isProgramContent:['platform-course-program-content'].includes(i),isBlogPosts:['platform-course-blog-posts'].includes(i),isBlogPost:['platform-course-blog-post'].includes(i),isChat:['platform-course-chat'].includes(i),isMeeting:['platform-course-meeting'].includes(i),is2021:(void 0,t=['platform-course-2021-program','platform-course-2021-delivers'],null!=u&&u._COURSE_2021&&t.push.apply(t,['platform-course','platform-course-delivers']),t.includes(i)),showChatWidget:!1},T.strategy=l,m.$emit('App:Tracking',{title:null==(n=T.camadaTmp)||null==(n=n.course)||null==(n=n.level)?void 0:n.title}),u._STUDENT_COURSE_VIEW_V2&&B();case 32:case'end':return e.stop()}var t},e)})),T.$onDestroy=function(){e.shutDown()};function k(){for(var e=P.program.stages,t=function(n){if(n.modules&&n.modules.length&&(n.delivers=n.modules.filter(function(e){e=e.flags;return e.isTp||e.isPreIntegratorTp||e.isIntegratorTp}),n.delivers)&&n.delivers.length){D(n.schedule,n);for(var e=n.delivers,t=[],r=0;r<e.length;r++)t.push(function(t){var e;return t.delivers=(P.program.delivers||[]).filter(function(e){e=e.module;return e&&e._id===t._id}),1<t.delivers.length?(e=t.delivers.find(function(e){return e.status&&e.status.approved}),t.deliver=e&&e._id?e:t.delivers[0]):t.deliver=t.delivers[0],t.flags=t.flags||{},t.flags.hasDeliver=!(!t.deliver||!t.deliver._id),t.flags.isDeliverEnable=P.flags.deliversCanBeLocked?t.flags.hasDeliver||n.schedule.flags.deliverTimeLeftToExpire:t.flags.isTp||t.flags.isPreIntegratorTp?!(!t.flags.hasDeliver&&n.schedule.flags.isDeliverExpired)||P.flags.hasDeliversEnable:t.flags.isIntegratorTp?!(!t.flags.hasDeliver&&n.schedule.flags.isDeliverExpired)||P.flags.hasFinalDeliverEnable:void 0,t.schedule=n.schedule,t}(e[r]));n.delivers=t}return n},n=[],r=0;r<e.length;r++)n.push(t(e[r]));P.program.stages=n}var S=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return e.next=5,l();case 5:return e.next=7,s();case 7:return e.next=9,R();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),p.error(e.t0);case 15:case'end':return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,r,t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var t=e%5;return t&&2<t?e-t+5:e-t},e.prev=1,e.next=4,o();case 4:r=e.sent,t=function(e){return 1!==e?'s':''},_.each(r,function(e,t){return r[t].perc=n(r[t].perc)}),r.absents||(r.absents={}),r.absents.flags||(r.absents.flags={}),r.undelivers||(r.undelivers={}),r.undelivers.flags||(r.undelivers.flags={}),r.absents.label=r.absents.flags.warn?'Alcanzaste el máximo de '.concat(r.absents.amount,' ausencias'):r.absents.flags.alert?'Superaste el máximo de '.concat(r.absents.amount,' ausencias'):r.absents.completed?''.concat(r.absents.completed,' ausente').concat(t(r.absents.completed),' de ').concat(r.absents.amount,' permitido').concat(t(r.absents.amount)):'Tus asistencias están al día',r.undelivers.label=r.undelivers.flags.warn?'Alcanzaste el máximo de '.concat(r.undelivers.amount,' entregas no realizadas'):r.undelivers.flags.alert?'Superaste el máximo de '.concat(r.undelivers.amount,' entregas no realizadas'):r.undelivers.completed?''.concat(r.undelivers.completed,' entrega').concat(t(r.undelivers.completed),' no realizada').concat(t(r.undelivers.completed),' de ').concat(r.undelivers.amount,' permitida').concat(t(r.undelivers.amount)):'Tus entregas están al día',r.attendance.percLabel=r.attendance.perc+'%',r.attendance.valueLabel='<span>'.concat(r.attendance.completed,' presente').concat(t(r.attendance.completed),'</span> ').concat(r.absents.completed&&'&nbsp;<span>'.concat(r.absents.completed,' ausente').concat(t(r.absents.completed),'</span>')||''),r.delivers.percLabel=r.delivers.perc+'%',r.delivers.valueLabel='<span>'.concat(r.delivers.completed,' de ').concat(r.delivers.amount,' aprobados</span>'),r.totalPreFinalTps.percLabel=r.totalPreFinalTps.perc+'%',r.totalPreFinalTps.valueLabel='<span>'.concat(r.totalPreFinalTps.completed,' de ').concat(r.totalPreFinalTps.amount,' aprobados</span>'),r.hasBeca=!!m.USER.flags.beca,r.hasBecaLabel='Ver requisitos',r.isAbsent=!P.flags.isPrerecorded&&(r.absents.flags.warn||r.absents.flags.alert),r.isUndeliver=!P.flags.isPrerecorded&&(r.undelivers.flags.warn||r.undelivers.flags.alert),P._progress=r,e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(1),e.t0;case 30:case'end':return e.stop()}},e,null,[[1,27]])}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getUserCourseProgress({userId:N,camadaId:P.camada.id,ts:(new Date).getTs()});case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:e.t0?(e.t2=void 0,e.next=12):e.next=11;break;case 11:e.t2=t.data;case 12:return e.abrupt('return',e.t2);case 15:throw e.prev=15,e.t3=e.catch(0),e.t3;case 18:case'end':return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}(),i=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P.flags.isEnded||P.flags.isPrerecorded){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,a.getCourseCertification({userId:N,camadaId:P.camada._id,ts:(new Date).getTs()});case 4:t=e.sent,d.certificationTmp=null==t?void 0:t.data;case 6:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P.program={},e.next=3,E();case 3:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getUserCourseProgramProgress({userId:N,camadaId:P.camada.id});case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:e.t0?(e.t2=void 0,e.next=11):e.next=10;break;case 10:e.t2=t.data;case 11:P.program.stages=e.t2;case 12:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P.flags.isStarted){e.next=3;break}return e.abrupt('return',!1);case 3:return e.next=5,g.getDeliversProgress({camadaId:f.camadaId,teacherId:null==(n=m.USER)?void 0:n._id,ts:(new Date).getTs()});case 5:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=9;break}e.t0=void 0===t;case 9:e.t0?(e.t2=void 0,e.next=14):e.next=13;break;case 13:e.t2=t.data;case 14:P.userProgress=e.t2,e.next=20;break;case 17:throw e.prev=17,e.t3=e.catch(0),e.t3;case 20:case'end':return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:return e.next=5,C();case 5:if(P.flags.isStarted){e.next=7;break}return e.abrupt('return');case 7:return e.next=9,g.getDelivers({camadaId:f.camadaId,teacherId:null==(t=m.USER)?void 0:t._id,ts:(new Date).getTs(),v5:1});case 9:e.sent,Date.now(),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case'end':return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=P)&&null!=(t=t.flags)&&t.isEnded&&(P.flags.isCertified||P.flags.isPersonalGoal)){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,g.getUserNps({courseId:P._id,userId:m.USER._id});case 4:if(t=e.sent,null!=(n=null==t?void 0:t.data)&&null!=(a=n.nps)&&a._id)return e.abrupt('return');e.next=8;break;case 8:if(null!=(r=n.lastSchedule)&&r._id){e.next=11;break}return e.abrupt('return');case 11:return r.flags=r.flags||{},r.flags.showNpsFeedback=!0,e.next=15,g.getScheduleFeedbackUrl({courseId:P._id,scheduleId:r._id,userId:m.USER._id});case 15:a=e.sent,L.menu.btnNps=!P.flags.isPersonalGoal,r.feedbackUrl=a.url,d.scheTmp=r;case 19:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P.flags.isStarted){e.next=3;break}return e.abrupt('return');case 3:return e.next=5,r.getUserCourseDelivers({studentId:N,courseId:P._id,ts:(new Date).getTs()});case 5:t=e.sent,P.program.delivers=_.orderBy(null==t?void 0:t.data,'createdAt','desc'),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case'end':return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),e=Math.floor(e%86400%3600/60);return''.concat(t?''.concat(t,' días y '):'').concat(n,':').concat(e<10?'0'.concat(e):e,'hs')},D=function(e,t){e&&(e.flags=Object.assign(e.flags||{},e._flags||{}),t&&(e.flags=M(e.flags,e._id,t)),e)&&e.day&&(e.flags.isFeedbackCompleted=t=!(t=e.flags.isFeedbackCompleted)&&e.flags.showNpsFeedback?!!(P.camada.studentsSatisfaction||[]).find(function(e){return e.user===N}):t,e.dayAlias=''.concat(n('date')(e.from,'EEEE'),' ').concat(n('date')(e.from,'dd/MM'),' ').concat(n('date')(e.from,'HH:mm'),'hs'),e.feedbackTimeLeftToExpireAlias='Expira en '.concat(O(e.flags.feedbackTimeLeftToExpire),' luego ya no se podrá valorar.'),e.deliverExpirationDateAlias=''.concat(e.flags.isDeliverExpired?'- Expiró el':'- Expira el',' ').concat(n('date')(e.flags.deliverExpirationDate,'dd/MM/yyyy HH:mm'),'hs'),P.flags.deliversCanBeLocked)&&e.flags.deliverTimeLeftToExpire&&(e.deliverTimeLeftToExpireAlias='Se bloqueará en '.concat(O(e.flags.deliverTimeLeftToExpire),' luego ya no se podrá entregar.'))};function M(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=e.isFeedbackCompleted,a=(!r&&e.showNpsFeedback&&(r=!!(P.camada.studentsSatisfaction||[]).find(function(e){return e.user===N})),f.ff),s=f.fd,o=f.stu,i=o===(null==(i=m.USER)?void 0:i._id),l=(l=new Date(parseInt(f.ts)),i&&'Invalid Date'!==l&&Date.now()>l.getTime()),c=[a,s].includes(t);if(!e.isFeedbackCompleted&&!e.isComplementary&&e.isFeedbackExpired&&a&&(e.isFeedbackExpired=!parseInt(f['force-feedback'])&&a!==t&&e.isFeedbackExpired,o&&!i||l)&&(e.isFeedbackExpired=0),s===t){a=new Date;if(a.setDate(a.getDate()+1),e.deliverTimeLeftToExpire=a.getTime(),(o&&!i||l)&&(e.deliverTimeLeftToExpire=0),null!=n&&null!=(t=n.modules)&&t.length)for(var d=n.modules,u=0;u<d.length;u++)d[u].flags.deliverTimeLeftToExpire=e.deliverTimeLeftToExpire}return c&&(o&&!i?p.error({msg:'Este link fue creado para otro usuario. Es necesario solicitarle a tu tutor un nuevo link.'}):l?p.error({msg:'Este link se encuentra expirado. Es necesario solicitarle a tu tutor un nuevo link.'}):p.success({msg:''.concat(s?'Entrega':'Valoración',' habilitada.')})),Object.assign(e,{isFeedbackCompleted:r})}function F(){for(var e,t,n,r=P.camada.complementarySchedules.filter(function(e){return e.day&&!e.teachersLeveling}),a=[],s=0;s<r.length;s++)a.push((t=r[s],n=s,t.day=new Date(t.day).getTime(),t._flags=t._flags||{},t._flags.isComplementary=!0,0===n&&(t._flags.isNext=Date.now()<t.day),D(t),t));P.camada.complementarySchedules=a||[];for(var o,i=P.camada.complementarySchedules,l=[],c=0;c<i.length;c++)l.push((o=i[c],{_id:'complementary-'+c,enable:!0,complementary:!0,leveling:o.leveling,name:function(e){e=o.title||(null==(e=o.stage)?void 0:e.name)||'';return null!=o&&o.leveling?'Clase Nivelatoria':e.toLowerCase().includes('after')||e.toLowerCase().includes('complementaria')?e:'Clase Complementaria de '.concat(e)}(),schedule:o}));(e=P.program.stages).push.apply(e,_toConsumableArray(l))}var P,A=function(e){return[e,_objectSpread({camadaId:P.camada.id,courseSlug:P.level.url},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})]},B=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var a,s,o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(P=d.courseTmp=_objectSpread(_objectSpread(_objectSpread({},d.camadaTmp.course),d.camadaTmp),{},{_id:d.camadaTmp.course._id,camada:Object.assign({},d.camadaTmp.course.camada,d.camadaTmp,{course:null}),course:null})).level._title=P.level.title.replace('Marketing Digital:',''),window.ENV_PROD||(window.COURSE=P),P.isActiveUser=function(){return u.LIMIT_INACTIVE_STUDENT&&P.flags.isBecaInactive?(m.$broadcast('MODAL:REQUEST_REACTIVATION:OPEN',!0,P,m.USER),!1):!P.flags.isBecaInactive},s=function(e,t){var n=$(e).find(t),r='force-focus-fx';setTimeout(function(){n.trigger('focus'),n.addClass(r),setTimeout(function(){return n.removeClass(r)},3e3)},1e3)},P.focusClass=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e='#class-'.concat(e),m.chScrollTo(e,30),t&&s(e,'.click-receiver')},P.focusClassDelivers=function(e){P.focusClass(e,!1),s('#class-'.concat(e),'.stage-wrapper:not(.delivered) .focus-wrapper')},P.focusDeliver=function(e){var t,n='#deliver-'.concat(e._id);m.chScrollTo(n),null!=(t=e.schedule)&&t._id&&m.$emit('SCHEDULE_'.concat(e.schedule._id,':OPEN_DELIVERS')),s(n,'.focus-wrapper')},d.crumbs=[{label:P.level._title||P.level.title,state:[r='platform-course',A(r)[1]]},function(){switch(v.current.name){case'platform-course-leaderboard':return{label:'Top 10%',state:'platform-course-leaderboard'};case'platform-course-classmates':return{label:'Compañeros',state:'platform-course-classmates'}}return null}()].filter(function(e){return e}),e.next=11,S();case 11:for(k(),F(),!function(){var n,t,e,r;P.flags.isPersonalGoal||P.flags.isOnboarding||P.flags.isOnline||(null!=(t=_objectSpread({},P.program.stages.find(function(e,t){var e=e.schedule;return!!e&&((e=(e=e._flags||e.flags)&&(e.isNow||e.isToday||e.isTomorrow||e.isIncoming||e.isNext))&&(n=P.program.stages[t-1]||null),e)})||{}))&&null!=(e=t.schedule)&&e._id&&(e=P.camada.schedules.find(function(e){return e._id===t.schedule._id}),r=P.camada.complementarySchedules.find(function(e){return e._flags.isNow||e._flags.isToday||e._flags.isTomorrow||e._flags.isIncoming||e._flags.isNext}),(e=e&&e._id||!r||!r._id?e:r)&&e._id&&(t.schedule=Object.assign(t.schedule,e,{flags:e._flags})),P.nextSche=Object.assign({},t.schedule,{stage:t}),r)&&r._id!==t.schedule._id&&(P.nextComplementarySche=r),null!=(e=n)&&e._id&&(P.prevSche=Object.assign({},n.schedule,{stage:n})))}(),P.flags.showDeliversProgress=P.flags.showDeliversProgress&&P._progress.delivers.amount,P.flags.showFinalDeliversProgress=P.flags.showDeliversProgress&&P._progress.delivers.score,P.flags.hasFolder=!!P.sharedFolderLink,P.program.stages=h.stages(P.program.stages).sort(function(e,t){return new Date(null==(e=e.schedule)?void 0:e.day).getTime()>new Date(null==(e=t.schedule)?void 0:e.day).getTime()?1:-1}),o=P.program.stages,i=function(e){null!=(e=e.delivers)&&e.forEach(function(e){var t;e._flags={isDelivered:!(null==(t=e.deliver)||!t._id),isDeliverable:!!e.flags.isDeliverEnable,showDeliverExpirationAlias:P.flags.deliversCanExpire&&!(null!=(t=e.deliver)&&t._id)},e._status=e._flags.isDelivered?null!=(t=e.deliver)&&t.status.approved?{label:'Aprobado',icon:'check',iconColor:'green',flag:'approved'}:null!=(t=e.deliver)&&t.status.disapproved?{label:'Desaprobado',icon:'times',iconColor:'red',flag:'disapproved'}:{label:'Entregado',icon:'refresh',flag:'delivered'}:null!=(t=e.flags)&&t.isDeliverExpired?{label:'Expirado',icon:'padlock',flag:'expired'}:{label:'-'}})},l=0;l<o.length;l++)i(o[l]);return P.program.allDelivers=null==(a=P.program.stages)?void 0:a.map(function(e){return e.delivers}).flat().filter(function(e){return e}),P.program.integratorDelivers=P.program.allDelivers.filter(function(e){return e.preIntegratorTp||e.integratorTp}),e.next=24,x();case 24:n=r=void 0,(null!=(r=P.camada.tutoring)&&r.length||null!=(r=P.camada.assistantTeachers)&&r.length)&&null!=(n=r=null!=(n=r=null==(r=P.camada.tutoring)?void 0:r.find(function(e){return e.students.includes(m.USER._id)}))&&n._id||!P.flags.isPrerecorded||!P.camada.assistantTeachers.length?r:{_id:1,teacher:P.camada.assistantTeachers[0]._id})&&n._id&&null!=(n=(P.camada.tutor=r).groups)&&n.length&&(P.camada.group=r.groups.find(function(e){return e.members.includes(m.USER._id)})),t=n=void 0,t=P.flags,(L={nextSche:!t.isPrerecorded&&!t.isOnline&&!t.isPersonalGoal,headline:''.concat(P.camada.id,' - ').concat(P.modality),isOnline:t.isOnline&&!t.isPersonalGoal,isStarted:t.isStarted,menu:{btnNps:!1,btnForum:u.COURSE_FORUM&&!t.isRemoteRecorded&&((null==(n=P.sharedFolderLink)?void 0:n.length)||!t.isOnline&&!t.isPersonalGoal),btnCourseInfo:!t.isStarted&&t.isRemote&&!t.isPrerecorded&&!t.isOnline&&!t.isPersonalGoal&&!t.isOnboarding,btnRemoteTips:!t.isEnded&&t.isRemote,btnStudentGroup:null==(n=P.camada.group)?void 0:n._id,btnStudentTutor:null==(n=P.camada.tutor)?void 0:n._id,btnLeaderboard:t.isLeaderboardEnable,btnClassmates:t.showClassmates&&!t.isWorkshop,btnSharedFolder:!t.isRemoteRecorded&&((null==(n=P.sharedFolderLink)?void 0:n.length)||!t.isOnline&&!t.isPersonalGoal),btnChat:(null==(n=P.camada.slack)?void 0:n.length)||!t.isPrerecorded&&!t.isRemoteRecorded&&!t.isOnline&&!t.isPersonalGoal}}).submenu=Object.assign({},L.menu,{enable:!t.isPrerecorded||t.isRemoteRecorded||t.isPersonalGoal,btnCourseInfo:t.isStarted&&!t.isPrerecorded&&!t.isOnline&&!t.isPersonalGoal&&!t.isOnboarding,btnOnboardingVideos:!t.isB2B&&!t.isWorkshop&&t.isRemote,btnReenroll:!(t.isEnded||t.isPersonalGoal||t.canChangeDate||!u.STUDENT_REQUEST_REENROLL)&&t.canReenroll,btnChangeDate:t.canChangeDate,btnCourseAttendanceCertificate:!t.isEnded&&!t.isWorkshop&&t.isRemote,btnCalendar:!(t.isEnded||t.isPrerecorded||t.isOnline||t.isPersonalGoal||t.isOnboarding),btnMeetingBackground:!(t.isEnded||t.isPrerecorded||t.isRemoteRecorded||t.isOnline||t.isPersonalGoal||t.isOnboarding),btnInfoScholarship:t.showBecaRequirements,btnCanRequestToBePartnerWith:t.canRequestToBePartnerWith}),!function(){U=[{key:'top10',label:'Top10%',icon:'trophy',active:v.is('platform-course-leaderboard'),get state(){return A('platform-course-leaderboard')}},{key:'mates',label:'Compañeros',icon:'users',active:v.is('platform-course-classmates'),get state(){return A('platform-course-classmates')}},{key:'calendar',label:'Calendario',icon:'calendar',onClick:function(){m.$broadcast('MODAL:COURSE_CALENDAR:OPEN',!0,P)},get state(){return A('calendar')}},{key:'chat',label:'Chat',icon:'message-box',enable:!L.menu.btnNps&&L.menu.btnChat,onClick:function(){var e;P.isActiveUser()&&(u.CHAT&&P.flags.isRemoteRecorded&&null!=(e=P.camada.chatChannel)&&e.length?m.$emit('COURSE:CHAT_WIDGET:SHOW',{chatChannel:P.camada.chatChannel}):null!=(e=P.camada.slack)&&e.length&&window.open(P.camada.slack,'_blank').focus())}}].filter(function(e){return!e.propertyIsEnumerable('enable')||e.enable}),d.tabListOptions={items:d.tabs=U,setTabsInternally:!0,clickHandler:d.onTabChange};var e=v.go,t=[{key:'old-design',label:'Volver al diseño anterior',icon:'arrow-r',cb:function(){localStorage.setItem('CH_COURSE_VIEW_V2:DISABLED',!0),window.location.reload()}},{label:'Certificado',icon:'award',enable:P.flags.showCertificationProgress&&!(L.nextSche&&null!=(t=P.nextSche)&&t._id),cb:d.onClickGoToCert},{label:'Info',enable:L.submenu.btnCourseInfo,icon:'info',cb:function(){m.$emit('MODAL:COURSE_INFO:OPEN',!0,P)}},{label:'Cursar junto a tus amigos',enable:L.submenu.btnCanRequestToBePartnerWith,icon:'users',cb:function(){m.$emit('MODAL:REQUEST_TO_PARTNER_WITH:OPEN',!0,P._id,m.USER._id)}},{label:'Video tutoriales',enable:L.submenu.btnOnboardingVideos,icon:'camera',cb:function(){e('onboarding-videos')}},{label:'Mi Fondo para Zoom',enable:!L.menu.btnNps&&L.submenu.btnMeetingBackground,icon:'monitor',cb:function(){m.$broadcast('MODAL:COURSE_MEETING_BACKGROUND:OPEN',!0,P,m.USER)}},{label:'Cambiar de Fecha',icon:'calendar',enable:L.submenu.btnReenroll||L.submenu.btnChangeDate,cb:function(){m.$broadcast('MODAL:REQUEST_REENROLL:OPEN',!0,P,m.USER,!1,!1)}},{label:'Volver a cursar',enable:!1,icon:'refresh'},{label:'Constancia de cursada',enable:L.submenu.btnCourseAttendanceCertificate,icon:'bookmark',cb:function(){P.isActiveUser()&&m.$broadcast('MODAL:REQUEST_ENROLL_CERT:OPEN',!0,P,m.USER)}},{label:'Encuesta de satisfacción',get enable(){return L.menu.btnNps},cb:function(){d.scheTmp,P.camada._id,m.USER._id,m.$broadcast('MODAL:FEEDBACK:OPEN',!0,d.scheTmp,P.camada._id,m.USER._id,function(){return w(function(){return L.menu.btnNps=!1})})},icon:'edit-form'},{label:'Tips',icon:'list',enable:!L.menu.btnNps&&L.menu.btnRemoteTips,cb:function(){m.$emit('MODAL:ZOOM_TIPS:OPEN',!0)}},{label:'Mi tutor',enable:!L.menu.btnNps&&L.menu.btnStudentTutor,icon:'user',cb:function(){m.$emit('MODAL:COURSE_TUTOR:OPEN',!0,P.camada.tutor,P)}},{label:'Mi Equipo',enable:!L.menu.btnNps&&L.menu.btnStudentGroup,icon:'users',cb:function(){m.$emit('MODAL:COURSE_TUTOR:OPEN',!0,P.camada.tutor,P,!0)}},{label:'Carpeta',icon:'folder',enable:L.menu.btnSharedFolder,cb:function(){var e;P.isActiveUser()&&null!=(e=P.sharedFolderLink)&&e.length&&window.open(P.sharedFolderLink,'_blank').focus()}},{label:'Requisitos CoderBECA',enable:L.submenu.btnInfoScholarship,icon:'user-check',cb:function(){m.$emit('MODAL:INFO_SCHOLARSHIP:OPEN')}}];d.v2DropdownOptions=t.filter(function(e){return!e.propertyIsEnumerable('enable')||e.enable})}(),P.FINISHED_PROCESSING=!0,c=b.onStart({},function(){return P.__UNMOUNTED__=!0,c()});case 30:case'end':return e.stop()}var t,n,r},e)}));return function(){return e.apply(this,arguments)}}(),N=null==(t=m.USER)?void 0:t._id,U=d.tabs=[],L={menu:{}}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('dashboard',Object.assign({},{parent:'platform',component:'platformCourses',data:{requiresLogin:!0},resolve:{}},{url:'/cursos?open&open-tab',params:{refreshCourses:null}}))}]).component('platformCourses',{templateUrl:'modules/platform/courses/platform-courses.view.html',controller:['$rootScope','$state','AmplitudeSrv','$stateParams',function(t,n,r,e){this.$onInit=function(){null!=(e=t.USER)&&e._id||window.COGNITO_LOGIN||n.go('login');var e=null==(e=t.USER)?void 0:e.flags;null!=e&&e.isTutor?r.logEvent('onHome',{user:'tutor',userId:t.USER._id}):null!=e&&e.isStudent?r.logEvent('onHome',{user:'student',userId:t.USER._id}):null!=e&&e.isTeacher&&r.logEvent('onHome',{user:'teacher',userId:t.USER._id})}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('forum-feed',{parent:'platform',url:'/foro?category',component:'chForumFeed'})}]).component('chForumFeed',{bindings:{filters:'='},templateUrl:'modules/platform/forum/components/ch-forum-feed/ch-forum-feed.view.html',controllerAs:'vm',controller:['BlogsSrv','$timeout','$scope','$rootScope','$state','$stateParams','$location','CATEGORIES_TS','AmplitudeSrv','CATEGORIES_BLOG','FEATURES','$filter',function(i,n,o,l,c,d,e,u,m,p,v,t){var g,r,f=this;function h(){var e=localStorage.getItem('sidebarIsFixed');f.moveCategories='true'===e}function b(e,t){l.$emit('LOADING:OPEN',!0),null!=e&&e.preventDefault();for(var n,r=f.tabs,a=0;a<r.length;a++)n=r[a],t.key===n.key?n.active=!0:n.active=!1;switch(m.logEvent('forum',{from:'dashboard',to:t.key,cta:'tab-change'}),t.key){case'general':s(),!function(){A.apply(this,arguments)}();break;case'savedPosts':f.blogs=[],f.pinnedBlogs=[],C();break;case'myPosts':_()}f.category=t.key,f.from=t.key,l.$emit('LOADING:CLOSE',!0)}function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,e.next=3,i.getFeed({category:d.category,userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,isFeed:1,ts:(new Date).getTs()});case 3:return t=e.sent,n=t.data,e.abrupt('return',n);case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function T(){return a.apply(this,arguments)}function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sortBy,r=t.category,a=l.USER,e.next=4,i.get({category:r||f.currentCategory,userId:a._id,isTeacher:a.flags.isTeacher,ignoreDrafts:1,isFeed:1,sortBy:n||f.currentSortBy,ts:(new Date).getTs()});case 4:if(r=e.sent,a=r.data,f.pinnedBlogs=[],f.blogs=a.posts,'all'===n)return e.next=11,s();e.next=11;break;case 11:case'end':return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=l.USER).flags.isStudent)return e.abrupt('return',[]);e.next=3;break;case 3:return e.next=5,i.get({isTeacher:t.flags.isTeacher,isFeed:1,isFromDash:1,isQuickAccess:1,ts:(new Date).getTs()});case 5:for(n=e.sent,n=n.data,r=n.posts,a=function(e){return _objectSpread(_objectSpread({},e),{},{toState:c.href('ch-forum-post',{slug:e.slug,feed:e.feed})})},s=[],o=0;o<r.length;o++)s.push(a(r[o]));return e.abrupt('return',s);case 12:case'end':return e.stop()}},e)}))).apply(this,arguments)}function s(){return k.apply(this,arguments)}function k(){return(k=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,e.next=3,i.getFeed({category:d.category,userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,isFeed:1,isFromDash:1,isPinned:1,ts:(new Date).getTs()});case 3:t=e.sent,n=t.data,f.pinnedBlogs=n.pinnedPosts||[];case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function _(){return S.apply(this,arguments)}function S(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.USER,t=n._id,n=n.flags.isTeacher,t={byAuthor:t,isTeacher:n,isFeed:1,unpublished:1,ts:(new Date).getTs()},e.next=6,i.get(t);case 6:return n=e.sent,r=n.data,e.next=10,i.getUserBlogsStats(t);case 10:a=e.sent,a=a.data,f.pinnedBlogs=[],f.blogs=r.posts,f.stats=a;case 15:case'end':return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.USER,e.next=3,i.get({category:f.activeCategory.key,userId:r._id,isTeacher:r.flags.isTeacher,ignoreDrafts:1,isFeed:1,unpublished:1,searchByTitle:t,ts:(new Date).getTs()});case 3:r=e.sent,a=r.data,f.blogs=a.posts,f.pinnedBlogs=null!=(n=f.searchPost)&&n.length?[]:a.pinnedPosts;case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function C(){R.apply(this,arguments)}function R(){return(R=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.active='savedPosts',t=l.USER,e.next=4,i.get({savedBy:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,unpublished:1,ts:(new Date).getTs()});case 4:t=e.sent,n=t.data,f.blogs=n.posts,f.category='Guardados',l.$emit('GETTING-SAVED-POSTS');case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function x(){return(x=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,f.actualPage++,f.skip=f.skip?f.skip+r:r,e.next=5,i.get({category:d.category,userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,isFeed:1,skip:f.skip,ts:(new Date).getTs()});case 5:t=e.sent,n=t.data,f.hasNextPage=n.hasNextPage,f.blogs=n.posts;case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,f.actualPage--,f.skip=f.skip-r,e.next=5,i.get({category:d.category,userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,isFeed:1,skip:f.skip,ts:Date.now()});case 5:t=e.sent,n=t.data,f.hasNextPage=n.hasNextPage,f.blogs=n.posts;case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function O(){return D.apply(this,arguments)}function D(){return(D=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,e.next=3,i.getFeed(_objectSpread(_objectSpread({},d),{},{userId:t._id,isTeacher:t.flags.isTeacher,isFeed:1,unpublished:1,ts:Date.now()}));case 3:t=e.sent,n=t.data,f.blogs=n;case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function P(){return(P=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,e.next=3,i.getFeed(_objectSpread(_objectSpread({},d),{},{userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,unpublished:1,ts:Date.now()}));case 3:t=e.sent,n=t.data,f.blogs=n.posts;case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.USER,e.next=3,i.getFeed({category:d.category,userId:t._id,isTeacher:t.flags.isTeacher,ignoreDrafts:1,isFeed:1,ts:(new Date).getTs()});case 3:t=e.sent,n=t.data,f.blogs=n.posts;case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function N(){var e=(null==(e=document)||null==(e=e.documentElement)?void 0:e.scrollTop)||(null==(e=document)||null==(e=e.body)?void 0:e.scrollTop);0<e&&(window.requestAnimationFrame(N),window.scrollTo(0,e-e/20))}f.IS_ENV_BR=l.IS_ENV_BR,f.IS_ENV_BR||(g=t('translate'),o.isBannerEnabled=v.BANNER_CODER_WEEK.enable,o.mainLabel=l.IS_MOBILE?'':g('ch-forum-feed.main-label'),r=20,f.skip=0,f.tabs=[{label:g('ch-forum-feed.tabs.forum'),key:'general',active:!0},{label:g('ch-forum-feed.tabs.saved'),key:'savedPosts',active:!1},{label:g('ch-forum-feed.tabs.my-posts'),key:'myPosts',active:!1}],f.sortBy=[{label:g('ch-forum-feed.orders.most-commented'),key:'comments.length'},{label:g('ch-forum-feed.orders.most-recent'),key:'createdAt'},{label:g('ch-forum-feed.orders.most-reactions'),key:'emojiCount'},{label:g('ch-forum-feed.orders.most-viewed'),key:'visits'}],f.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.feed,n=l.USER,r=l.IS_MOBILE,l.IS_ENV_BR,e.next=4,Promise.all([function(){return w.apply(this,arguments)}(),function(){return y.apply(this,arguments)}()]);case 4:s=e.sent,s=_slicedToArray(s,2),a=s[0],s=s[1],f.blogs=a,f.dashBlogs=s,f.actualPage=1,f.totalPages=f.blogs.totalPages,f.hasNextPage=f.blogs.hasNextPage,f.pinnedBlogs=f.blogs.pinnedPosts,f.blogs=f.blogs.posts,f.IS_MOBILE=r,!function(){for(var t=l.USER,n=l.capitalize,r=d.category,a=Object.assign(p,u),e=Object.keys(a).filter(function(e){return null!=a[e]}),s=[],o=0;o<e.length;o++)s.push(function(e){var t;return{key:e,value:null==(t=n(a[e]))?void 0:t.trim(),active:r?r===e:'all'===e}}(e[o]));f.categories=s.filter(function(e){e=e.key;return!['tool','finance','business','cybersecurity'].includes(e)&&(v.BLOG_NEW_CATEGORIES&&t.flags.isTeacher,!0)}),f.category='general'}(),o.user=n,f.user=n,f.from=t,f.activeCategoryString=f.activeCategoryStringValue=d.category||'all',f.TEXTS={title:{desktop:g('ch-forum-feed.mobile.title').replace('%name%',n.profile.first_name),mobile:g('ch-forum-feed.desktop.title').replace('%name%',n.profile.first_name)}},o.$watch('vm.activeCategoryString',function(){var t=f.activeCategoryString;f.activeCategory=f.activeCategoryStringValue=f.categories.find(function(e){return e.key===t}),f.activeCategory.active=!0,f.activeCategoryStringValue=f.activeCategoryStringValue.value,h()}),o.$watch('vm.searchPost',f.onSubmit),o.$watch('vm.skip',function(){return f.hasPrevPage=!!f.skip}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),h(),l.$on('MODAL:FORUM-POST:EDITED',function(){switch(f.category){case'myPosts':_();break;case'Guardados':C();break;default:!function(){P.apply(this,arguments)}()}}),l.$on('FORUM-TAGS-FILTER:RESET',O),l.$on('CH-FORUM-FEED-POST-DELETED:GET',_),l.$on('SIDEBAR_CHANGE',h),o.onTabChange=b,m.logEvent('forum',{from:'dashboard',to:'loaded'});case 33:case'end':return e.stop()}},e)})),f.onSubmit=function(e){if(null!=e&&e.preventDefault&&null!=e&&e.preventDefault(),void 0!==f.searchPost)return m.logEvent('forum',{from:'dashboard',cta:'search'}),function(){return E.apply(this,arguments)}(f.searchPost)},f.showModal=function(e){null!=e&&e.preventDefault(),m.logEvent('forum',{from:'dashboard',cta:'new-post'}),l.$emit('MODAL:FORUM_NEW_POST:OPEN',{},{categories:u})},f.onClickNextPage=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),l.$broadcast('LOADING:OPEN',!0),m.logEvent('forum',{from:'dashboard',cta:'next-page'}),e.next=5,function(){return x.apply(this,arguments)}();case 5:l.$broadcast('LOADING:CLOSE',!0),n(N,350);case 7:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),f.onClickPrevPage=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),l.$broadcast('LOADING:OPEN',!0),m.logEvent('forum',{from:'dashboard',cta:'prev-page'}),e.next=5,function(){return I.apply(this,arguments)}();case 5:l.$broadcast('LOADING:CLOSE',!0),n(N,350);case 7:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),f.onClickSortByDropdown=function(e){null!=e&&e.preventDefault(),m.logEvent('forum',{from:'dashboard',cta:'sort-by-dropdown'}),f.sortByDropdownShow=!f.sortByDropdownShow},f.onClickSortByItem=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),l.$broadcast('LOADING:OPEN',!0),m.logEvent('forum',{from:'dashboard',to:n.key,cta:'sort-by'}),f.sortByDropdownShow=!1,f.currentSortBy=n.key,f.currentSortByLabel=n.label,e.next=8,T({sortBy:n.key});case 8:l.$broadcast('LOADING:CLOSE',!0);case 9:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),f.onClickCategory=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(null!=t&&t.preventDefault(),l.$broadcast('LOADING:OPEN',!0),m.logEvent('forum',{from:'dashboard',to:n.key,cta:'category'}),f.currentCategory=n.key,r=f.categories,a=function(e){return e.active=e.key===n.key},s=0;s<r.length;s++)a(r[s]);return e.next=10,T({category:n.key});case 10:l.$broadcast('LOADING:CLOSE',!0);case 11:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}())}]}),angular.module('core').component('chForumPostComments',{bindings:{contentTmp:'=',from:'<'},templateUrl:'modules/platform/forum/components/ch-forum-post-comments/ch-forum-post-comments.html',controllerAs:'vm',controller:['BlogsSrv','AmplitudeSrv','NotificationSrv','$rootScope','$scope','$filter',function(l,c,d,s,e,t){var u=this,m=(u.USER=s.USER,t('translate'));u.$onInit=function(){},e.expandThread=function(e){null!=e&&e.preventDefault(),e.currentTarget.className.includes(' rotate')?e.currentTarget.className=e.currentTarget.className.replace(' rotate',''):e.currentTarget.className+=' rotate'},u.onClickLike=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),r=n._id,e.next=4,l.upsertCommentLike({_id:u.contentTmp._id,_commentId:r,userId:s.USER._id});case 4:r=e.sent,a=r.data,u.contentTmp=a,n.flags.wasLiked=!n.flags.wasLiked,n.flags.wasLiked&&d.success({msg:m('ch-forum-post.toasts.like-comment')}),c.logEvent('forum-post',{from:'post',cta:n.flags.wasLiked?'like-comment':'unlike-comment'});case 10:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),u.onSubmitChildComment=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),r=n._id,(a=u.childComment).platformUser=s.USER._id,e.next=6,l.upsertCommentWithChild({_id:u.contentTmp._id,_commentId:r,childComment:a,blog:u.contentTmp,from:u.from,userId:s.USER._id});case 6:r=e.sent,a=r.data,u.contentTmp=a,u.childComment.content='',c.logEvent('forum-post',{from:'post',cta:'new-child-comment'});case 11:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),u.onClickChildLike=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,l.upsertChildCommentLike({_id:u.contentTmp._id,_commentId:r,_childCommentId:n._id,userId:s.USER._id});case 3:a=e.sent,a=a.data,u.contentTmp=a,n.flags.wasLiked=!n.flags.wasLiked,d.success({msg:m('ch-forum-post.toasts.like-comment.2')}),c.logEvent('forum-post',{from:'post',cta:n.flags.wasLiked?'like-comment':'unlike-comment'});case 9:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),u.onClickChildDelete=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,a,n){var r,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,l.deleteChildComment({_id:u.contentTmp._id,_commentId:n,_childCommentId:a._id,ts:(new Date).getTs()});case 3:for(r=e.sent,r=r.data,s=u.contentTmp.comments,o=function(e){for(var t,n=e.childComments,r=0;r<n.length;r++)(t=n[r])._id===a._id&&(t.display=!1)},i=0;i<s.length;i++)o(s[i]);u.contentTmp=r,d.success({msg:m('ch-forum-post.toasts.comment-deleted')}),c.logEvent('forum-post',{from:'post',cta:'delete-child-comment'});case 12:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),u.onClickDelete=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,l.deleteComment({_id:u.contentTmp._id,_commentId:n._id,comment:n,ts:(new Date).getTs()});case 3:for(r=e.sent,r=r.data,a=u.contentTmp.comments,s=function(e){e._id===n._id&&(e.display=!1)},o=0;o<a.length;o++)s(a[o]);u.contentTmp=r,d.success({msg:m('ch-forum-post.toasts.comment-deleted')}),c.logEvent('forum-post',{from:'post',cta:'delete-comment'});case 12:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').component('chForumPostLeaveComment',{bindings:{blog:'=',from:'<'},templateUrl:'modules/platform/forum/components/ch-forum-post-leave-comment/ch-forum-post-leave-comment.html',controllerAs:'vm',controller:['BlogsSrv','$scope','NotificationSrv','$rootScope','$state','AmplitudeSrv','$filter',function(a,e,s,o,i,l,t){var c=this,d=t('translate');c.$onInit=function(){e.user=o.USER},c.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!=(n=c.newComment)&&n.commentContent){e.next=3;break}return e.abrupt('return',s.info({msg:d('ch-forum-post.toasts.leave-comment')}));case 3:return c.newComment.commentContent=c.newComment.commentContent||d('ch-forum-post.first-comment-placeholder'),c.newComment.platformUser=o.USER._id,c.newComment.blog=c.blog,c.newComment.from=c.from,e.next=9,a.createComment({_id:c.blog._id,platformUser:o.USER._id,comment:c.newComment,ts:(new Date).getTs()});case 9:n=e.sent,r=n.data,s.success({msg:d('ch-forum-post.comment-sent')}),c.newComment.commentContent='',c.blog=r,l.logEvent('forum-post',{from:'post',cta:'new-comment'});case 15:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),c.reportBlogPost=function(e){null!=e&&e.preventDefault(),l.logEvent('forum-post',{from:'post',cta:'report-post-open'}),o.$broadcast('MODAL:REPORT_USER:OPEN',!0,{},{},c.blog.platformUser,{},c.blog,!1,function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1<=n.totalReports)return e.next=3,a.delete({_id:n._id});e.next=6;break;case 3:r=e.sent,200===r.status&&(l.logEvent('forum-post',{from:'post',cta:'report-post-confirmed'}),i.go('forum-feed',{category:'general'}));case 6:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),'forum')}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('ch-forum-post',{parent:'platform',url:'/foro/:from/:slug',component:'chForumPost',params:{feed:null,from:null},resolve:{blogPost:['BlogsSrv','$stateParams','$rootScope',function(e,t,n){return e.getBySlug(_objectSpread(_objectSpread({},t),{},{isTeacher:n.USER.flags.isTeacher,isFeed:1,userId:n.USER._id,ts:(new Date).getTs()})).then(function(e){return null==e?void 0:e.data})}]}})}]).component('chForumPost',{bindings:{blogPost:'<'},templateUrl:'modules/platform/forum/components/ch-forum-post/ch-forum-post.view.html',controllerAs:'vm',controller:['NotificationSrv','CoursesSrv','$stateParams','$scope','BlogsSrv','$rootScope','$state','CATEGORIES_TS','AmplitudeSrv','$filter',function(r,a,i,e,l,c,s,t,o,n){var d=this,u=n('translate');function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.addVisit({slug:t.slug,userId:null==(n=c.USER)?void 0:n._id});case 2:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.camadaId){e.next=3;break}return e.abrupt('return',!1);case 3:return e.next=5,a.getTeacherCourse({userId:null==(n=c.USER)?void 0:n._id,camadaId:t});case 5:n=e.sent,r=n.data,d.schedules=null==r?void 0:r.schedules;case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],s=t.categories,null!=(r=void 0===s?[]:s)&&r.length)for(a in r)r[a]&&n.push(a);else n='general';return n=Array.isArray(n)?n[Math.floor(2*Math.random())]:n,e.next=6,l.getRelated(_objectSpread(_objectSpread({},i),{},{blogId:t._id,category:n,isTeacher:c.USER.flags.isTeacher,isFeed:1,userId:null==t||null==(s=t.platformUser)?void 0:s._id,limit:5}));case 6:s=e.sent,o=s.data,d.relatedPosts=o.posts;case 9:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=d.emojis.find(function(e){return e.emoji===t}))?(n.wasClickedByUser?n.count--:n.count++,n.wasClickedByUser=!n.wasClickedByUser):d.emojis.unshift({emoji:t,count:1,wasClickedByUser:!0}),e.next=4,l.upsertEmojis({_id:d.blogPost._id,userId:c.USER._id,emoji:t,ts:(new Date).getTs()});case 4:o.logEvent('forum-post',{from:'post',cta:n?'delete-emoji':'add-post'});case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function h(){for(var e=(d.blogPost.emojis||[]).filter(function(e){return null==e?void 0:e.count}),t=e,n=function(e){for(var t,n=e.from,r=0;r<n.length;r++)t=n[r],e.wasClickedByUser=t===c.USER._id},r=0;r<t.length;r++)n(t[r]);d.emojis=e}function b(){return(b=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.delete(t);case 3:r.success({msg:u('ch-forum-post.toasts.removed')}),o.logEvent('forum-post',{from:'post',cta:'delete-post'}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.error(e.t0);case 10:case'end':return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1<=(null==t?void 0:t.totalReports))return e.next=4,l.delete({_id:t._id,userId:c.USER._id});e.next=8;break;case 4:n=e.sent,n=n.status,o.logEvent('forum-post',{from:'post',cta:'report-post-confirmed'}),200===n&&s.go('forum-feed',{category:'general'});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r.error(e.t0);case 13:case'end':return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function T(){return(T=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.upsertLike({_id:t._id,userId:c.USER._id});case 3:t.flags.wasLiked=!t.flags.wasLiked,t.flags.wasLiked?t.likeCount++:t.likeCount--,o.logEvent('forum-post',{from:'post',cta:t.flags.wasLiked?'like-post':'unlike-post'}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.save({_id:t._id,userId:c.USER._id});case 3:t.flags.wasSaved=!t.flags.wasSaved,t.flags.wasSaved&&r.success({msg:u('ch-forum-post.toasts.saved')}),o.logEvent('forum-post',{from:'post',cta:t.flags.wasSaved?'save-post':'unsave-post'}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}d.$onInit=function(){for(var e=d.blogPost,t=e.platformUser,e=e.emojis,n=(d.from=i.from,d.emojis=e,d.blogPost.savedBy),r=0;r<n.length;r++)n[r].from===c.USER._id&&(d.blogPost.flags.wasSaved=!0);t?d.userTmp=t:(d.isCoderhouse=!0,d.userTmp={avatar:'https://res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png',initials:'C.H.',fullName:'Coderhouse'}),function(){m.apply(this,arguments)}(d.blogPost),function(){p.apply(this,arguments)}(),function(){v.apply(this,arguments)}(d.blogPost),h(),o.logEvent('forum-post',{from:'post',cta:'loaded'}),d.showEmojiComponent=!1,$('.emojis-container')&&(d.showEmojiComponent=!0)},d.onClickBack=function(){o.logEvent('forum-post',{from:'post',cta:'back'}),s.go('dashboard')},e.openEditModal=function(e){null!=e&&e.preventDefault(),o.logEvent('forum-post',{from:'post',cta:'edit-post'}),c.$emit('MODAL:FORUM_NEW_POST:OPEN',d.blogPost,{categories:t,schedules:d.schedules})},e.deletePost=function(e){null!=e&&e.preventDefault(),function(){b.apply(this,arguments)}(d.blogPost)},e.onClickSave=function(e){null!=e&&e.preventDefault(),function(){y.apply(this,arguments)}(d.blogPost)},c.$on('MODAL:FORUM-POST:EDITED',function(e,t){null!=e&&e.preventDefault(),d.blogPost=t}),d.goToProfile=function(e){e.preventDefault(),o.logEvent('forum-post',{from:'post',cta:'go-to-user-profile'}),s.go('profile',{editProfile:!1,profileSlug:d.blogPost.platformUser._id,isFromForum:1})},d.reportBlogPost=function(e){null!=e&&e.preventDefault(),o.logEvent('forum-post',{from:'post',cta:'report-post-open'}),c.$broadcast('MODAL:REPORT_USER:OPEN',!0,{},{},d.blogPost.platformUser,{},d.blogPost,!1,function(e,t){return function(){return w.apply(this,arguments)}(t)},'forum')},d.onClickLike=function(e){null!=e&&e.preventDefault(),function(){T.apply(this,arguments)}(d.blogPost)},e.$watch('vm.blogPost.emojis',h),d.onClickEmoji=function(e,t){null!=e&&e.preventDefault(),g(t)},d.onClickEmojiPicker=g}]}),angular.module('core').component('chForumPostsListCard',{bindings:{blogPostTmp:'<',from:'<',category:'<'},templateUrl:'modules/platform/forum/components/ch-forum-posts-list-card/ch-forum-posts-list-card.view.html',controllerAs:'vm',controller:['$state','$scope','$rootScope','BlogsSrv','NotificationSrv','CATEGORIES_TS','AmplitudeSrv','$filter',function(r,n,a,s,o,t,i,e){var l=this,c=(l.isDarkMode=a.DARKMODE_IS_ENABLED,l.isMobile=a.IS_MOBILE,n.emojiLimit=a.IS_MOBILE?5:7,e('translate'));function d(){for(var e=(l.blogPostTmp.emojis||[]).filter(function(e){return null==e?void 0:e.count}),t=e,n=function(e){for(var t,n=e.from,r=0;r<n.length;r++)t=n[r],e.wasClickedByUser=t===a.USER._id},r=0;r<t.length;r++)n(t[r]);l.emojis=e}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1<=(null==t?void 0:t.totalReports))return e.next=4,s.delete({_id:t._id});e.next=7;break;case 4:n=e.sent,200===n.status&&r.go('forum-feed',{category:'general'});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o.error(e.t0);case 12:case'end':return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.upsertEmojis({_id:l.blogPostTmp._id,userId:a.USER._id,emoji:t,ts:(new Date).getTs()});case 3:n=e.sent,n=n.data,l.blogPostTmp.emojis=l.emojis=n.emojis,i.logEvent('forum',{from:'dashboard',cta:'emoji-post'}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o.error(e.t0);case 12:case'end':return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=l.blogPostTmp).flags.isPinned=!t.flags.isPinned,n.isPinned=t.flags.isPinned,e.next=6,s.upsert({blog:t});case 6:l.blogPostTmp.flags.wasSaved=!l.blogPostTmp.flags.wasSaved,l.blogPostTmp.flags.wasSaved&&o.success({msg:c('ch-forum-post.toasts.saved')}),i.logEvent('forum',{from:'dashboard',cta:l.blogPostTmp.flags.wasSaved?'pin-post':'unpin-post'}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o.error(e.t0);case 14:case'end':return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.save({_id:t._id,userId:a.USER._id,ts:(new Date).getTs()});case 3:t.flags.wasSaved=!t.flags.wasSaved,t.flags.wasSaved&&o.success({msg:c('ch-forum-post.toasts.saved')}),i.logEvent('forum',{from:'dashboard',cta:t.flags.wasSaved?'save-post':'unsave-post'}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}l.$onInit=function(){l.isFromProfile='profile'===l.from;var e=l.blogPostTmp.flags,t=e.isPinned,e=e.isSaved;n.isPinned=t,n.isSaved=e,l.IS_MOBILE=a.IS_MOBILE,l.isDarkMode=a.DARKMODE_IS_ENABLED},n.$watch('vm.blogPostTmp',function(){var e;null!=(e=l.blogPostTmp)&&e._id&&(l.blogPostTmp.toState=l.blogPostTmp.toState||r.href('ch-forum-post',{slug:l.blogPostTmp.slug,feed:l.blogPostTmp.feed}),d())}),n.$watch('vm.blogPostTmp.emojis',d),n.deletePost=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),i.logEvent('forum',{from:'dashboard',cta:'delete-post'}),a.$broadcast('MODAL:FORUM_DELETE_POST:OPEN',l.blogPostTmp)},n.openEditModal=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),i.logEvent('forum',{from:'dashboard',cta:'edit-post'}),a.$emit('MODAL:FORUM_NEW_POST:OPEN',l.blogPostTmp,{categories:t,schedules:l.schedules})},n.openReportModal=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),a.$broadcast('MODAL:REPORT_USER:OPEN',!0,{},{},l.blogPostTmp.platformUser,{},l.blogPostTmp,!1,function(e,t){return function(){return u.apply(this,arguments)}(t)},'forum')},l.goToPost=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),i.logEvent('forum',{from:'dashboard',cta:'go-to-post'}),r.go('ch-forum-post',{slug:l.blogPostTmp.slug,from:l.from})},l.goToProfile=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),null!=(e=l.blogPostTmp.platformUser)&&e._id&&(i.logEvent('forum',{from:'dashboard',cta:'go-to-user-profile'}),r.go('profile',{editProfile:!1,profileSlug:l.blogPostTmp.platformUser._id,isFromForum:1}))},l.onClickPin=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),function(){v.apply(this,arguments)}()},l.onClickSave=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),function(){g.apply(this,arguments)}(l.blogPostTmp)},l.onClickEmoji=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),m(t)},l.onClickEmojiPicker=m}]}),angular.module('core').component('chForumPostsList',{bindings:{blogPostsTmp:'<',pinnedBlogs:'<',from:'<',category:'<',filters:'='},templateUrl:'modules/platform/forum/components/ch-forum-posts-list/ch-forum-posts-list.view.html',controllerAs:'vm',controller:['$scope','$state','$rootScope','BlogsSrv','CATEGORIES_TS','$filter',function(e,t,n,r,a,s){var o=this,i=n.USER._id;function l(){c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getBytags({tags:t,unpublished:1,userId:i,ts:(new Date).getTs()});case 2:n=e.sent,n=n.data,o.blogPostsTmp=n;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}o.$onInit=function(){},e.$watch('vm.filters',function(){o.filters&&l(o.filters),o.canCreateNewPost=(o.category,!['all','general','newArrivals','novedades'].includes(o.categories))}),e.$watch('vm.category',function(){'Guardados'===o.category&&o.pinnedBlogs.length&&(o.blogPostsTmp=[].concat(_toConsumableArray(o.blogPostsTmp),[o.pinnedBlogs]))}),o.showModal=function(){t.go('forum-modal'),n.$emit('MODAL:FORUM_NEW_POST:OPEN',{},{categories:a})},n.$on('FORUM-TAG-FILTER:SET',function(e,t){null!=e&&e.preventDefault(),l(t)}),n.$on('GETTING-SAVED-POSTS',function(){return o.pinnedBlogs=''})}]}),angular.module('core').config(['$stateProvider',function(e){e.state('forum-profile',{parent:'platform',url:'/foro/profile/:userId/:slug',component:'chForumProfile',params:{_id:null,from:null},resolve:{blogs:['BlogsSrv','$stateParams',function(e,t){return e.get({byAuthor:t.userId,isFeed:1,unpublished:1,ts:(new Date).getTs()}).then(function(e){return e.data})}],user:['UsersSrv','$stateParams',function(e,t){return e.get(Object.assign({},t,{lean:1})).then(function(e){return e.data})}],icons:['IconSvgSrv',function(e){return e.getMany(['linkedin','github','behance','instagram-filled','twitter','facebook','mail-envelope']).then(function(e){return e})}]}})}]).component('chForumProfile',{bindings:{blogs:'<',user:'<',icons:'<',from:'<'},templateUrl:'modules/platform/forum/components/ch-forum-profile/ch-forum-profile.view.html',controllerAs:'vm',controller:['$stateParams','$window','$scope',function(e,t,n){var r=this;n.goBack=function(){t.history.back()},r.$onInit=function(){r.from=e.from}}]}),angular.module('core').component('chModalForumDeletePost',{templateUrl:'modules/platform/forum/components/ch-modal-forum-delete-post/ch-modal-forum-delete-post.view.html',controllerAs:'vm',controller:['$rootScope','BlogsSrv','NotificationSrv','AmplitudeSrv','$filter',function(r,a,s,o,e){var i=this,l=e('translate');function c(){$('#ch-modal-forum-delete-post-component').modal('hide')}i.$onInit=function(){},$('#ch-modal-forum-delete-post-component').on('hidden.bs.modal',c),r.$on('MODAL:FORUM_DELETE_POST:OPEN',function(e,t){null!=e&&e.preventDefault(),i.blogToDelete=t,$('#ch-modal-forum-delete-post-component').modal('show')}),i.onClickConfirmDelete=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,a.delete({_id:i.blogToDelete._id});case 3:n=e.sent,200===n.status&&(o.logEvent('forum-post',{from:'post',cta:'delete-post-confirmed'}),s.success({msg:l('ch-forum-post.toasts.removed')}),c(),r.$emit('CH-FORUM-FEED-POST-DELETED:GET',i.blogToDelete._id));case 6:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),i.onClickClose=function(e){null!=e&&e.preventDefault(),c()}}]}),angular.module('core').component('chModalForumPost',{templateUrl:'modules/platform/forum/components/ch-modal-forum-post/ch-modal-forum-post.html',controllerAs:'vm',controller:['$rootScope','$state','$scope','StagesSrv','NotificationSrv','CATEGORIES_BLOG','BlogsSrv','UploadsSrv','QuillEditorSrv','CATEGORIES_TS','AmplitudeSrv','$filter',function(c,n,e,a,d,i,u,r,s,l,m,t){var p=this,v=null,g=t('translate');function f(){var e;$('#ch-modal-forum-post-component').modal('hide'),p.blogTmp={},p.showDisclamer=null==(e=c.USER)||null==(e=e.flags)?void 0:e.isStudent}function o(e){for(var t,n=0<arguments.length&&void 0!==e?e:{},r=(c.USER,Object.assign(i,l)),a=Object.keys(r),s=[],o=0;o<a.length;o++)s.push({key:t=a[o],checked:!!Object.keys(n).length&&n[t],value:'#'.concat(r[t])});p.categories=s.filter(function(e){e=e.key;return!['newArrivals','all','tool'].includes(e)})}p.$onInit=function(){var e;p.showDisclamer=null==(e=c.USER)||null==(e=e.flags)?void 0:e.isStudent},$('#ch-modal-forum-post-component').on('hidden.bs.modal',f),c.$on('MODAL:FORUM_NEW_POST:OPEN',function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Promise.all([null==(t=n)||!t._id||t.contentHTML?new Promise(function(e){return e(!0)}):u.getById({_id:t._id}).then(function(e){return p.blogTmp=e.data}),v?new Promise(function(e){return e(!0)}):s.get().then(function(e){v=e,p.quillEditor=v.build('input-post-content',{modules:{toolbar:[['bold','italic','underline','strike'],['code-block'],['image'],['link'],[{list:'ordered'},{list:'bullet'}],['clean']]},placeholder:'...',theme:'snow'})[0]})]).then(function(){var e,t=n||p.blogTmp||{};t.feed=t.feed||r.feed,t.course=t.course||r.course,t.platformUser=t.platformUser||r.platformUser||c.USER._id,o(t.categories),p.blogTmp=t,p.blogTmp.category=(null==(e=p.blogTmp)?void 0:e._id)&&(null==(e=p.categories.find(function(e){return e.checked}))?void 0:e.key)||'',v.setHTML(p.quillEditor,(null==t?void 0:t.contentHTML)||''),r.stages?p.stages=r.stages:(p.stages=[],null!=(e=r.schedules)&&e.forEach(function(e){a.get({stageId:e.stage}).then(function(e){p.stages.push({name:e.data.name,stageId:e.data._id})})})),m.logEvent('forum',{from:null!=t&&t._id?'edit-post-form':'new-post-form',cta:'loaded'}),$('#ch-modal-forum-post-component').modal({show:!0,backdrop:!0,keyboard:!0,handleUpdate:!0})})}),p.onClickClose=function(e){null!=e&&e.preventDefault(),f()},p.onClickUploadHero=function(e){e.preventDefault(),document.getElementById('input-hero').click()},e.catChange=function(e,t){null!=e&&e.preventDefault();for(var n,r=p.categories,a=[],s=0;s<r.length;s++)a.push((n=r[s]).key===t.key?_objectSpread(_objectSpread({},n),{},{checked:!0}):n);p.categories=a},e.disclamer=function(e){null!=e&&e.preventDefault(),p.showDisclamer=!p.showDisclamer},p.onChangeHeroFile=function(e){var t,n;t=p.fileTmp,n=function(e,t){return p.blogTmp.hero=!e&&t},t&&r.images(t).then(function(e){return n(null,null==e||null==(e=e.data)?void 0:e.url)}).catch(function(e){return n(e)})},p.onClickRemoveCover=function(e){e.preventDefault(),delete p.blogTmp.hero},p.onClickDelete=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,u.delete({_id:p.blogTmp._id});case 3:200===e.sent.status&&(d.success({msg:g('ch-forum-post.toasts.removed')}),f(),n.go('forum-feed',{category:'general'}));case 5:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),p.saveDraft=function(e,t){return p.onSubmit(e,t)},p.onSubmit=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o,i,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(null!=t&&t.preventDefault(),e.prev=1,(r=p.blogTmp).content=p.quillEditor.getContents().ops,d.error({msg:g('ch-forum-post.toasts.min-text')}),r.tags=_.isString(r.tags)?null==(i=r.tags)?void 0:i.split(',').map(function(e){return e.trim()}).filter(function(e){return null==e?void 0:e.length}):r.tags,r.flags=r.flags||{},r.flags.isFeed=!r.course||r.flags.isFeed,r.stage=p.blogTmp.stage,r.categories=r.categories||{},a=p.categories,s=function(e){r.categories[e.key]=e.key===r.category},o=0;o<a.length;o++)s(a[o]);return r.tags=[],r.contentHTML=v.retrieveHTML(p.quillEditor),r.hero=r.hero||null,r.flags.isDraft=!!n,e.next=20,u.upsert({blog:r,userId:c.USER._id});case 20:i=e.sent,(l=i.data)._id&&(d.success({msg:null!=r&&r._id?g('ch-forum-post.toasts.updated'):g('ch-forum-post.toasts.created')}),m.logEvent('forum',{from:null!=r&&r._id?'edit-post-form':'new-post-form',cta:null!=r&&r._id?'post-edited':'post-created'}),c.$broadcast('MODAL:FORUM-POST:EDITED',l),f()),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),d.error(e.t0);case 28:case'end':return e.stop()}},e,null,[[1,25]])}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').component('chForumEmojiPicker',{bindings:{onSet:'&'},templateUrl:'modules/platform/forum/components/emoji-picker/ch-forum-emoji-picker.view.html',controllerAs:'vm',controller:['$scope','$rootScope','$element','$timeout',function(t,e,n,r){var a=this;t.IS_DARK=e.DARKMODE_IS_ENABLED,a.$onInit=function(){r(function(){n.find('emoji-picker')[0].addEventListener('emoji-click',function(e){e.preventDefault(),e.stopPropagation();e=e.detail.unicode;a.onSet({emoji:e}),t.showPicker=!t.showPicker})}),t.showPicker=!1},e.$on('THEME_SWITCH',function(){t.IS_DARK=e.DARKMODE_IS_ENABLED}),a.closeEmojiPicker=function(e){e&&e.preventDefault(),t.showPicker=!1},t.togglePicker=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),t.showPicker=!t.showPicker}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('jobs',{url:'/empleos',parent:'platform',component:'jobs2021',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('jobs2021',{bindings:{},templateUrl:'modules/platform/jobs/jobs-2021.view.html',controllerAs:'vm',controller:['$rootScope','$location',function(t,e){e=e.search(),e=e.hideTranslations&&'true'===e.hideTranslations?'?hideTranslations=true':'';this.JOBS_ENV_PATH=''.concat(window.CH_PLATFORM_2021,'/jobs').concat(e),lozad('.lozad-jobs',{load:function(){t.$emit('LOADING:OPEN',!0)},loaded:function(e){t.$emit('LOADING:CLOSE',!0)}}).observe()}]}),angular.module('core').config(['$stateProvider',function(e){e.state('onboarding2021',{url:'/onboarding-2021',parent:'platform',component:'onboarding2021',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('onboarding2021',{bindings:{},templateUrl:'modules/platform/onboarding-2021/onboarding-2021.view.html',controllerAs:'vm',controller:['$stateParams','$location',function(e,t){this.ONBOARDING_2021=''.concat(window.CH_PLATFORM_2021,'/onboarding')}]}),angular.module('core').config(['$stateProvider',function(e){e.state('onboarding',{url:'/onboarding?force&step',parent:'platform',component:'onboarding',data:{requiresLogin:!0},resolve:{wasOnboardingPostLoginCompleted:['UsersSrv','$rootScope',function(e,t){t=null==(t=t.USER)?void 0:t._id;return!!t&&e.wasOnboardingPostLoginCompleted({userId:t,ts:(new Date).getTs()})}]}})}]).component('onboarding',{bindings:{wasOnboardingPostLoginCompleted:'<'},templateUrl:'modules/platform/onboarding/onboarding.view.html',controllerAs:'vm',controller:['UsersSrv','StorageSrv','NormalizeSrv','$timeout','$rootScope','$state','NotificationSrv','PERSONAL_GOALS','CountriesSrv','$stateParams','$transitions','$filter',function(s,o,e,a,i,l,c,t,n,r,d,u){var m=this;function p(e){for(var t,n=m.steps,r=0;r<n.length;r++)t=n[r],e&&t.number===e?t.active=!0:t.active=!1;return m.onSubmit().then(function(){var e;return m.currentStep=m.steps.find(function(e){return e.active}),m.currentStep?(localStorage.setItem('onboarding-step',JSON.stringify(m.currentStep)),m.currentStep):(s.onboardingV2({userId:m.userTmp._id}),localStorage.removeItem('onboarding-step'),(e=m.userTmp.personalGoal||i.USER.personalGoal)?(i.$emit('PERSONAL_GOAL:SET',e),m.forceHideFinalStep=!1,m.showFinalStep=!0,m.showFinalStepAnimation=!0,void a(function(){m.forceHideFinalStep=!0,a(function(){l.go('dashboard'),a(function(){return i.$emit('ONBOARDING:FINISHED',!0)},500)},700)},7500)):l.go('dashboard'))})}function v(r){return new Promise(function(e,t){if(m.transitioning)return t(new Error('Transition in progress'));m.transitioning=!0;var n='left'===r?'right':'left';m.containerAnimation=r+' soft',a(function(){m.containerAnimation=n+' d-none',e(function(){return a(function(){$('html')[0].scrollTop=0,m.containerAnimation=m.containerAnimation.replace('d-none',''),a(function(){return(m.containerAnimation='')+(m.transitioning=!1)},300)})})},350)})}m.showFinalStep=!1,m.containerAnimation='',m.personalGoals=t,m.geoConfig={types:['geocode']},m.$onInit=function(){if(m.wasOnboardingPostLoginCompleted&&!r.force)return l.go('dashboard')},m.onClickPrev=function(e){e.preventDefault(),v('right').then(function(e){p(m.currentStep.number-1).then(e)}).catch(console.error)},m.onClickNext=function(e){e.preventDefault(),v('left').then(function(e){p(m.currentStep.number+1).then(e)}).catch(console.error)},m.onChangeEmail=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.isValidEmail({userId:m.userTmp._id,newEmail:m.emailTmp.value});case 3:t=e.sent,t=t.data,m.emailTmp.isValid=null==t?void 0:t.isValid,m.emailTmp.isValid||c.info({msg:u('translate')('onboarding.email.toast.error')}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c.error(e.t0);case 12:case'end':return e.stop()}},e,null,[[0,9]])})),m.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var t,n;return null!=r&&r.preventDefault(),null!=(t=m.countries)&&t.length&&(n=m.userTmp.profile.country,i.COUNTRY={code:n,countryName:null==(t=m.countries.find(function(e){return e.alpha2Code===n}))?void 0:t.name},o.set('ch-country',i.COUNTRY)),e.prev=2,a=m.userTmp.profile,i.COUNTRY.code=a.country,e.next=7,s.updateOnboardingProfile({user:{_id:m.userTmp._id,profile:{fullName:a.fullName,bio:a.bio,phone:a.phone,gender:a.gender,bday:a.bday,country:a.country,study:a.study,studiesInstitute:a.studiesInstitute,studyLevel:a.studyLevel,whyTakeTheCourse:a.whyTakeTheCourse,courseExpectations:a.courseExpectations,jobTitle:a.jobTitle,jobName:a.jobName,jobCategory:a.jobCategory,jobResponsabilities:a.jobResponsabilities},personalGoal:m.userTmp.personalGoal,flags:{isWorking:m.userTmp.flags.isWorking},jobObjective:{freelance:'freelance'===m.jobObjectiveTmp,partTime:'partTime'===m.jobObjectiveTmp,fullTime:'fullTime'===m.jobObjectiveTmp}}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c.error(e.t0);case 12:case'end':return e.stop()}},e,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').config(['$stateProvider',function(e){e.state('review',{url:'/review/:courseId/:homeworkId/:homeworkPlanId',parent:'platform',component:'review',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('review',{bindings:{},templateUrl:'modules/platform/peer-review/peer-review.view.html',controllerAs:'vm',controller:['$stateParams','$location',function(e,t){t=t.search(),t=t.hideTranslations&&'true'===t.hideTranslations?'&hideTranslations=true':'';this.PEER_REVIEW=''.concat(window.CH_PLATFORM_2021,'/reviews/').concat(e.courseId,'/').concat(e.homeworkId,'/').concat(e.homeworkPlanId).concat(t)}]}),angular.module('core').component('chModalPerk',{templateUrl:'modules/platform/perks/ch-modal-perk/ch-modal-perk.view.html',controllerAs:'vm',controller:['$rootScope','PerksSrv','NotificationSrv','$filter',function(r,e,a,s){var o=this;function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.perk=void 0,r.$emit('LOADING:OPEN',!0),null!=(n=t)&&n._id?(o.perk=n,$('#ch-modal-perk').modal('show')):a.info({msg:s('translate')('perks.modal.graduated')}),r.$emit('LOADING:CLOSE',!0);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}o.$onInit=function(){r.$on('MODAL:PERK:OPEN',function(e,t){return function(){return n.apply(this,arguments)}(t)})},o.onClickClose=function(e){e.preventDefault(),$('#ch-modal-perk').modal('hide')}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('perks',{url:'/beneficios',parent:'platform',component:'perks',data:{isFbLocked:!0}})}]).component('perks',{bindings:{perks:'<'},templateUrl:'modules/platform/perks/perks.view.html',controllerAs:'vm',controller:['CountriesSrv','$rootScope','$location','$filter','PerksSrv','$scope',function(t,T,e,y,o,k){var _=this,S=(_.isIframe='true'===window.IS_IFRAME,_.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var v,g,f,h,b,w;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.loading=!0,e.next=3,S();case 3:return _.perks=e.sent,f=_.perks.permissions,v=f.tutor,g=f.teacher,f=f.student,_.IS_MOBILE=T.IS_MOBILE,f=!v||g||f?!g||v||f?!f||g||v?y('translate')('perks.tooltip.members-rol'):y('translate')('perks.tooltip.student-rol'):y('translate')('perks.tooltip.teacher-rol'):y('translate')('perks.tooltip.assistant-rol'),_.tooltipTitle=y('translate')('perks.tooltip.title').replace('%ROL%',f),e.next=10,function(){return C.apply(this,arguments)}();case 10:for(_.countries=e.sent,h=_.perks.items,b=function(e){return e.id='perk-'.concat(e._id)},w=0;w<h.length;w++)b(h[w]);p=m=u=d=c=l=i=o=s=a=r=n=t=void 0;for(var t,n=[{key:'service',alias:y('translate')('perks.categories.service'),active:!0},{key:'product',alias:y('translate')('perks.categories.product'),active:!0},{key:'training',alias:y('translate')('perks.categories.training'),active:!0},{key:'other',alias:y('translate')('perks.categories.other'),active:!0}],r=function(e){var t;return e.items=(t=e.key,_.perks.items.filter(function(e){return(null==e?void 0:e.type)&&(null==e?void 0:e.type[t])})),e},a=[],s=0;s<n.length;s++)a.push(r(n[s]));for(var o=[{key:'design',alias:y('translate')('perks.categories.design')},{key:'development',alias:y('translate')('perks.categories.development')},{key:'product',alias:y('translate')('perks.categories.product')},{key:'marketing',alias:y('translate')('perks.categories.marketing')},{key:'other',alias:y('translate')('perks.categories.other')}],i=function(e){var t;return e.items=(t=e.key,_.perks.items.filter(function(e){return(null==e?void 0:e.categories)&&(null==e?void 0:e.categories[t])})),e},l=[],c=0;c<o.length;c++)l.push(i(o[c]));for(var d=_.countries.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}),u=function(e){return{key:e._id,alias:e.name,items:(n=e._id,_.perks.items.filter(function(e){var t;return!(null!=e&&null!=(t=e.countries)&&t.length)||(null==(t=e.countries)?void 0:t.includes(n))}))};var n},m=[],p=0;p<d.length;p++)m.push(u(d[p]));_.filters={types:a.filter(function(e){return e.items.length}),type:null,categories:l.filter(function(e){return e.items.length}),category:null,countries:m.filter(function(e){return e.items.length}),country:null==(t=_.countries.find(function(e){return e.code===(T.IS_ENV_BR?'br':null==(e=T.COUNTRY)?void 0:e.code)}))?void 0:t._id},_.perks._items=_.perks.items,$(function(){$('[data-toggle="tooltip"]').tooltip()}),_.showCountries=!_.filters.country,E(),!function(){0<arguments.length&&void 0!==arguments[0]||_.activeTabItems;try{var t;_.flickity=null,_.flickity&&(_.flickity.destroy(),_.flickity=null),_.IS_MOBILE&&(t=setInterval(function(){var e=document.querySelector('.tags-list');e&&(_.flickity=new Flickity(e,{groupCells:2,pageDots:!1,prevNextButtons:!1,cellAlign:'left'}),clearInterval(t))},1))}catch(e){console.error(e)}}(),k.loading=!1;case 22:case'end':return e.stop()}},e)})),function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.USER,n=T.PERMISSIONS,t){e.next=3;break}return e.abrupt('return');case 3:return r=null==t||null==(r=t.flags)?void 0:r.isTutor,a={tutor:r,teacher:!r&&n.teacher,student:!r&&n.student},e.next=7,o.get(a);case 7:return s=e.sent,e.abrupt('return',{items:s,permissions:a});case 9:case'end':return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}());function E(){for(var e,t=_.filters,n=t.types,r=t.country,a=[],s=n,o=0;o<s.length;o++)(e=s[o]).active&&a.push(e.key);_.perks._items=_.perks.items.filter(function(e){var t;return(null==(t=e.countries)?void 0:t.length)&&e.countries.includes(r)&&e.tags.some(function(e){return a.includes(e.key)})})}function C(){return(C=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({lean:1});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}_.onClickPerk=function(e,t){e.preventDefault(),e.stopPropagation(),T.$emit('MODAL:PERK:OPEN',t)},_.onClickFilterByTag=function(e,t){e.preventDefault(),t.active=!t.active,_.filters.types.filter(function(e){return e.active}).length?_.filters.type=t.active?t.key:null:t.active=!0,_.onChangeFilter()},_.onChangeFilter=E}]}),angular.module('core').config(['$stateProvider',function(e){e.state('personal-goal-content',{parent:'platform',url:'/cursos/:camadaId/desarrollo-profesional/:stageSlug/:moduleSlug',component:'personalGoalContent',data:{requiresLogin:!0,isFbLocked:!0},resolve:{courseTmp:['CoursesSrv','$rootScope','$stateParams',function(e,t,n){return e.getStudentPersonalGoalCourse({camadaId:n.camadaId,userId:null==(e=t.USER)?void 0:e._id}).then(function(e){return e.data})}],stageTmp:['StagesSrv','$stateParams',function(e,t){return e.get({slug:t.stageSlug})}],moduleTmp:['ModulesSrv','$stateParams',function(e,t){return e.get({slug:t.moduleSlug})}]}})}]).component('personalGoalContent',{bindings:{courseTmp:'<',stageTmp:'<',moduleTmp:'<',personalGoalTmp:'<'},templateUrl:'modules/platform/personal-goal/personal-goal-content.view.html',controllerAs:'vm',controller:['NormalizeSrv','$rootScope','$state','ServicesSrv',function(o,i,t,l){var c=this;c.TEXTS={approvedText:'¡Felicitaciones tu desafío fue aprobado!'},c.$onInit=function(){c.userTmp=i.USER;for(var e,t=c.stageTmp,n=c.moduleTmp,r=t.modules,a=[],s=0;s<r.length;s++)a.push(((e=r[s]).active=n._id===e._id,e));t.modules=a,t.theoryLink=o.getGoogleDriveFilePreview(t.theoryLink),n.slideUrl=o.getGoogleDriveFilePreview(n.slideUrl),c.courseTmp.camada.schedules.find(function(e){return e.stage.modules.find(function(e){return e._id.toString()===n._id.toString()&&(n.project=e.project,!0)})}),c.stageTmp=t,c.moduleTmp=n,c.scheduleTmp=c.courseTmp.camada.schedules.find(function(e){return e.stage._id===t._id}),l.get({_id:c.scheduleTmp.service}).then(function(e){return c.scheduleTmp.service=e})},c.goTo=function(){t.go('personal-goal',{camadaId:c.courseTmp.camada.id})},c.goToDashboard=function(){t.go('dashboard')},c.onClickAddToCart=function(e){e.preventDefault(),t.go('services',{serviceId:c.stageTmp._id})},c.onClickDeliver=function(e){null!=e&&e.preventDefault(),i.$broadcast('MODAL:COURSE_DELIVER:OPEN',!0,c.courseTmp,c.userTmp,c.moduleTmp,c.scheduleTmp)}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('personal-goal',{parent:'platform',url:'/cursos/:camadaId/desarrollo-profesional',templateUrl:'modules/platform/personal-goal/personal-goal-v3.view.html',controller:'PersonalGoalV3Ctrl',controllerAs:'vm',data:{requiresLogin:!0,isFbLocked:!0},resolve:{Course:['CoursesSrv','$rootScope','$stateParams',function(e,t,n){return e.getStudentPersonalGoalCourse({camadaId:n.camadaId,userId:null==(e=t.USER)?void 0:e._id})}],PersonalGoal:['UsersSrv','$rootScope',function(e,t){return e.getPersonalGoal({userId:null==(e=t.USER)?void 0:e._id,ts:(new Date).getTs()})}]}})}]).controller('PersonalGoalV3Ctrl',['$rootScope','NormalizeSrv','$state','$scope','ServicesSrv','PERSONAL_GOALS','UsersSrv','IconSvgSrv','StagesSrv','$transitions','CoursesSrv','$stateParams','NotificationSrv',function(s,a,o,e,r,t,n,i,l,c,d,u,m){var p=e;function v(){var e,t,n,r;p.TEXTS=(e=s.USER.personalGoal,r=n=t='','career'===e?(t='¡Ya estás avanzando en tu carrera!',r='Carrera',n=a.textsRegionalization({text:{default:'Si querés que te guiemos para seguir avanzando en tu carrera, ¡obtené una mentoría personalizada!',neutral:'Si quieres que te guiemos para seguir avanzando en tu carrera, ¡obtén una mentoría personalizada!'}}).text):'freelancer'===e?(t='¡Ya estás avanzando para ser freelancer!',r='Freelancer',n=a.textsRegionalization({text:{default:'Si querés que te guiemos en tu camino a ser freelancer, ¡obtené una mentoría personalizada!',neutral:'Si quieres que te guiemos en tu camino a ser freelancer, ¡obtén una mentoría personalizada!',colombia:'Si quieres que te guiemos en tu camino a ser freelancer, ¡obtén una mentoría personalizada!'}}).text):'entrepreneur'===e?(t='¡Ya estás avanzando para ser emprendedor!',r='Emprendedor',n=a.textsRegionalization({text:{default:'Si querés que te guiemos en tu camino a ser emprendedor, ¡obtené una mentoría personalizada!',neutral:'Si quieres que te guiemos en tu camino a ser emprendedor, ¡obtén una mentoría personalizada!'}}).text):'professional'===e&&(t='¡Ya estás avanzando en tu crecimiento profesional!',n=a.textsRegionalization({text:{default:'Si querés que te guiemos en tu crecimiento profesional, ¡obtené una mentoría personalizada!',neutral:'Si quieres que te guiemos en tu crecimiento profesional, ¡obtén una mentoría personalizada!',colombia:'Si quieres que te guiemos en tu crecimiento profesional, ¡obtén una mentoría personalizada!'}}).text,r='Profesional'),{title:t,bannerTitle:n,name:r})}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getStudentPersonalGoalCourse({camadaId:u.camadaId,userId:null==(t=s.USER)?void 0:t._id});case 2:return t=e.sent,e.abrupt('return',t);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function f(){!function(){return g.apply(this,arguments)}().then(function(e){p.showGoalSelector=!s.USER.personalGoal&&!1;for(var t,e=null==e?void 0:e.data,n=e.camada.schedules,r=[],a=0;a<n.length;a++)r.push(((t=n[a]).stage.approved&&(t.tooltip='Aprobado'),t.flags.hasChatsUnviewed&&(t.tooltip='Ver comentarios'),t));e.camada.schedules=r,p.courseTmp=e,v()})}p.user=s.USER;function h(e,t){e=(t.listElement||(t.listElement=$(e.currentTarget).parent().next().find('.content-list'))).outerHeight(),t.listHeight=e}function b(){$('#ch-modal-service-container').modal('hide')}p.toggleSchedule=function(e,t){var r;r=t,new Promise(function(t,e){if(r.relatedContent)return t();l.getRelatedContents({_id:r.stage._id}).then(function(e){r.relatedContent=r.relatedContent||[],null!=e&&e.forEach(function(e){var t=e.flags,n=null,n=t.isWebinar?'webinar':t.isPodcast?'podcast':t.isResource?'resource':t.isVideo?'video':(t.isBlogPost,'blog-post');e.slugUrl=o.href(n,e),r.relatedContent.push(e)}),t()}).catch(e)}).then(function(){return((p.showingContentFrom=p.showingContentFrom===t?null:t)&&h(e,t))+s.$tryDigest()})},p.onClickSubmit=function(e){return e.preventDefault(),$('.goal-cards-container').fadeOut('fast',function(){p.showGoalSelector=!1,v()}),n.update({user:{_id:s.USER._id,personalGoal:s.USER.personalGoal.key}}).catch(m.error)},p.serviceInfo=function(e,t){e.preventDefault(),s.$emit('MODAL:INFO_SERVICES:OPEN',!0,s.USER,t)},p.onClickDeliver=function(e,t){null!=e&&e.preventDefault();var n,e=t.stage.modules.find(function(e){return e.tp||e.integratorTp});e.flags=e.flags||{},t.flags.isServiceDeliverEnable?s.$broadcast('MODAL:COURSE_DELIVER:OPEN',!0,p.courseTmp,s.USER,e,t):(e=t.service,n=function(e){t.service=e,p.scheuleTmp=t,$('#ch-modal-service-container').modal('show'),$('#ch-modal-zoom-tips-container').on('hidden.bs.modal',b)},null!=e&&e._id?n(e):r.get({_id:e}).then(n))},p.onClickAddToCart=function(e){e.preventDefault(),b(),o.go('services')},p.goToDashboard=function(){o.go('dashboard')},p.onClickShowAllServices=function(e){e.preventDefault();for(var t,n=p.courseTmp.camada.schedules,r=[],a=0;a<n.length;a++)r.push(((t=n[a]).flags.forceServiceDeliverEnable=!0,t));p.courseTmp.camada.schedules=r,p.courseTmp.flags.hasSomeServices=!0,p.courseTmp.flags.hasAllServices=!0};function w(){if(o.current.name!==y)return $(window).off('resize',w);p.showingContentFrom&&h(null,p.showingContentFrom)}function T(){(o.current.name!==y?k:f)()}var y=o.current.name,k=(p.personalGoals=t,p.iconMap={'5d920c47d3b80800921b88e6':'linkedin','5d77d51c31d1580092bacd68':'briefcase','5d77d51c31d1580092bacd69':'pen','5d77d59eded51c0092c51a65':'web','5d77d5dfded51c0092c51a69':'money','5d77d608ded51c0092c51a6c':'tag','5d77d64131d1580092bacd73':'target','5dbc445b5675dd0092919a75':'star','5eea5fedf9b50c0092039357':'closed-html-tag'},e.$on('PROJECT:UPDATED',function(e,t,n,r){t&&p.courseTmp.camada.schedules.find(function(t){return t.stage.modules.find(function(e){return e._id.toString()===n._id.toString()&&(e.project=r,t.stage.module=e,!0)})})}),i.getMany('zap').then(function(e){return p.icons=e}),$(window).on('resize',w),c.onSuccess({to:'personal-goal'},T),c.onSuccess({from:'personal-goal'},T),s.$on('PERSONAL_GOAL:UPDATED',f));T()}]),angular.module('core').config(['$stateProvider',function(e){e.state('platform',{url:'',data:{requiresLogin:!0},component:'platform'})}]).component('platform',{templateUrl:'modules/platform/platform/platform.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','FEATURES',function(r,a,s){this.$onInit=function(e){var t,n;!(t=(null==(n=r.USER)?void 0:n.flags)||{}).isTutor&&!t.isTeacher||t.teacherOnboardingSlidesViewed||a(function(){return t.isTutor?r.$emit('MODAL:ASSISTANT_ONBOARDING_SLIDES:OPEN',!0):t.isTeacher?r.$emit('MODAL:TEACHER_ONBOARDING_SLIDES:OPEN',!0):void 0},2e3),n=(null==(n=r.USER)?void 0:n.flags)||{},!s.STUDENTS_ONBOARDING_SLIDES||n.isTeacher||n.isTutor||a(function(){return r.$emit('MODAL:STUDENT_ONBOARDING_SLIDES:OPEN',!0)},2e3),r.$emit('THEME:SET'),r.$emit('App:Tracking')}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('postulations-new',{url:'/postulations-new',parent:'platform',component:'postulationsNew',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('postulationsNew',{bindings:{},templateUrl:'modules/platform/postulations-new/postulations.view.html',controllerAs:'vm',controller:['$rootScope','$stateParams','$location',function(t,e,n){this.POSTULATIONS_NEW=''.concat(window.CH_POSTULATIONS_NEW,'/postulations-new'),lozad('.lozad-profile',{load:function(){t.$emit('LOADING:OPEN',!0)},loaded:function(e){t.$emit('LOADING:CLOSE',!0)}}).observe()}]}),angular.module('core').component('chModalCourseCandidacy',{templateUrl:'modules/platform/postulations/ch-modal-course-candidacy/ch-modal-course-candidacy.view.html',controllerAs:'vm',controller:['NotificationSrv','CoursesSrv','$timeout','DAYS','$rootScope','$filter','FEATURES',function(r,a,g,f,e,h,t){var s=t.POSTULATIONS_MIN_DIFF,b=t.COURSE_INFO_V2,w=this;function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a,s,o,i,l,c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.courseTmp,a=n.productTmp,s=n.userTmp,w.userTmp=s,w.productTmp=a,e.next=5,function(){return y.apply(this,arguments)}(r._id,s._id);case 5:if(r=e.sent,s=(a=r).startDate,o=a.endDate,i=a.startHour,l=a.endHour,c=a.days,d=a.camada,null!=c&&c.length){for(u=c,m=function(e){return f[e]},p=[],v=0;v<u.length;v++)p.push(m(u[v]));r.days=p.join(' y ')}r.startDateAlias=h('date')(s,'dd/MM/yyyy'),r.endDateAlias=h('date')(o,'dd/MM/yyyy'),r.startHourAlias=h('date')(i,'HH:mm'),r.endHourAlias=h('date')(l,'HH:mm'),r.modalityAlias=(void 0,t='Presencial',r.remote?t='Online en VIVO':r.remoteRecorded&&(t='Grabado'),t),r.flags.showInfoV2=b,r.camada=d,w.courseTmp=r,w.flags=w.courseTmp.flags,w.programVersion=w.courseTmp.programVersion,T(w.flags),$('.modal.show').length&&$('.modal.show').hide(),$('#ch-modal-course-candidacy').modal('show'),g(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})});case 21:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}function T(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.canBeTeacher,n=e.needSubstitute,r=e.canBeTutor,a=e.canBeSyncTutor,s=e.canBeCoordinator,o=e.canBeReviewerTutor,i=e.canBeAssociateTutor,l=e.isTeacherCandidate,c=e.isSubituteTeacherCandidate,d=e.isTutorCandidate,u=e.isSyncTutorCandidate,m=e.isReviewerTutorCandidate,p=e.isAssociateCandidate,v=e.isCoordinatorCandidate,e=e.hasCoderAsk?'CoderAsk':'';w.canBeRoles=[{key:'teacher',action:'onClickConfirm',label:'Ser Profesor',enable:t&&!l},{key:'teacher',action:'onClickCancel',label:'Cancelar postulación de Profesor',enable:l},{key:'substitute',action:'onClickConfirm',label:'Ser Suplente',enable:n&&!c},{key:'substitute',action:'onClickCancel',label:'Cancelar postulación de Profesor Suplente',enable:c},{key:'tutor',action:'onClickConfirm',label:'Ser Tutor Regular '.concat(e),enable:r&&!d},{key:'tutor',action:'onClickCancel',label:'Cancelar postulación de Tutor Regular '.concat(e),enable:d},{key:'sync-tutor',action:'onClickConfirm',label:'Ser Tutor Sincrónico',enable:a&&!u},{key:'sync-tutor',action:'onClickCancel',label:'Cancelar postulación de Tutor Sincrónico',enable:u},{key:'reviewer-tutor',action:'onClickConfirm',label:'Ser Tutor Corrector',enable:o&&!m},{key:'reviewer-tutor',action:'onClickCancel',label:'Cancelar postulación de Tutor Corrector',enable:m},{key:'associate-tutor',action:'onClickConfirm',label:'Ser Tutor Adjunto '.concat(e),enable:i&&!p},{key:'associate-tutor',action:'onClickCancel',label:'Cancelar postulación de Tutor Adjunto '.concat(e),enable:p},{key:'coordinator',action:'onClickConfirm',label:'Ser Coordinador '.concat(e),enable:s&&!v},{key:'coordinator',action:'onClickCancel',label:'Cancelar postulación de Coordinador '.concat(e),enable:v}].filter(function(e){return e.enable})}function i(){g(function(){e.$emit('DASHBOARD:COURSES:REALOAD',!0),w.finalCb&&w.finalCb(),$('#ch-modal-course-candidacy').modal('hide')},1e3)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCourseWithTeacherCandidateRoles({courseId:t,userId:n,ts:(new Date).getTs(),forCandidates:1});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt('return',!0);case 2:return e.next=4,a.canTeacherBeCandidate({userId:w.userTmp._id,courseId:w.courseTmp._id,role:t});case 4:return n=e.sent,(n=n.success)||r.info({msg:'La diferencia entre el fin de ultimo curso asignado y la del inicio de este curso es inferior a 7 días.'}),e.abrupt('return',n);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.addTeacherCandidate({userId:w.userTmp._id,courseId:w.courseTmp._id,role:t});case 3:w.courseTmp.flags=w.courseTmp.flags||{},w.courseTmp.flags.candidate=!0,T(w.courseTmp.flags),r.updated({msg:'Postulación enviada - '.concat(w.courseTmp.camada.id,' - ').concat(w.courseTmp.level.title)}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0,r.error(e.t0);case 13:case'end':return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:'all',e.prev=1,e.next=4,a.removeTeacherCandidate({userId:w.userTmp._id,courseId:w.courseTmp._id,rol:t});case 4:w.courseTmp.flags=w.courseTmp.flags||{},w.courseTmp.flags.candidate=!1,T(w.courseTmp.flags),r.updated({msg:'Postulación cancelada - '.concat(w.courseTmp.camada.id,' - ').concat(w.courseTmp.level.title)}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.warm(e.t0),r.error(e.t0);case 14:case'end':return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}w.$onInit=function(){e.$on('MODAL:COURSE_CANDIDACY:OPEN',function(e,t,n,r,a,s){t&&(w.finalCb=s,function(){o.apply(this,arguments)}({courseTmp:n,productTmp:r,userTmp:a}))})},w.onClickClose=function(e){e.preventDefault(),i()},w.onClickConfirm=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,function(){return l.apply(this,arguments)}(n);case 3:if(e.sent)return e.next=7,function(){return c.apply(this,arguments)}(n);e.next=7;break;case 7:i();case 8:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),w.onClickCancel=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=t&&t.preventDefault(),e.next=3,function(){return d.apply(this,arguments)}(n);case 3:i();case 4:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').config(['$stateProvider',function(e){e.state('postulations',{url:'/postulaciones?courseId',parent:'platform',component:'postulations',data:{requiresLogin:!0,isFbLocked:!0},resolve:{userTmp:['UsersSrv','$rootScope',function(e,t){t=null==(t=t.USER)?void 0:t._id;return!!t&&e.get({_id:t}).then(function(e){return e.data})}],userCanTeachTmp:['UsersSrv','$rootScope',function(e,t){t=null==(t=t.USER)?void 0:t._id;return!!t&&e.getCanTeach({_id:t,v2:1})}]}})}]).component('postulations',{bindings:{userTmp:'<',userCanTeachTmp:'<'},templateUrl:'modules/platform/postulations/postulations.view.html',controllerAs:'vm',controller:['ProductsSrv','$rootScope','$stateParams','CoursesSrv','NotificationSrv','$timeout','$filter','UsersSrv',function(v,n,r,a,d,s,g,e){var f=this,h=[];function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt('return',f.userTmp.interview.approved);case 1:case'end':return e.stop()}},e)}))).apply(this,arguments)}function i(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=f.userCanTeachTmp,n=function(e){return e.product},r=[],a=0;a<t.length;a++)r.push(n(t[a]));return e.next=6,function(){return m.apply(this,arguments)}(r);case 6:return s=e.sent,e.next=9,function(){return u.apply(this,arguments)}();case 9:return e.next=11,function(){return p.apply(this,arguments)}(s);case 11:for(f.products=e.sent,f.hasNextCourses=f.products.reduce(function(e,t){return e+t.courses.length},0),o=f.products,i=function(e){return null==e?void 0:e.courses},l=[],c=0;c<o.length;c++)l.push(i(o[c]));f.courses=l.flat(),null!=s&&s.length||d.info({msg:g('translate')('postulations.contact-us-to-assign-courses')});case 19:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([function(){return l.apply(this,arguments)}(),function(){return c.apply(this,arguments)}()]);case 2:n=e.sent,n=_slicedToArray(n,2),t=n[0],null!=(n=n[1])&&n.forEach(function(e){e.flags=e.flags||{},e.flags.isAssigned=!0}),h=[].concat(t||[],n||[]).filter(function(e){return null==e?void 0:e._id}).sort(function(e,t){return e.id>t.id?1:-1});case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.uniq(),r=function(e){return v.get({_id:e})},a=[],s=0;s<n.length;s++)a.push(r(n[s]));return e.next=6,Promise.all(a);case 6:return e.abrupt('return',e.sent);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var m,n,p,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return o.apply(this,arguments)}();case 2:m=e.sent,n=_createForOfIteratorHelper(t),e.prev=4,r=_regeneratorRuntime().mark(function e(){var t,n,r,l,c,d,a,s,o,i,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=p.value).title=t.title.replace('Marketing Digital','MKT'),t.alias=''.concat(t.title,' - ').concat(t.remote?'ONLINE':t.prerecorded?g('translate')('postulations.course-recorded'):g('translate')('postulations.course-facetoface'),' - ').concat(g('translate')('postulations.course-program')),e.next=5,v.getCourses({_id:t._id,ts:(new Date).getTs(),forceUnpublish:1,forceUnsoldout:1,forceB2B:1});case 5:for(n=e.sent,r=f.userTmp.flags,l=r.isTeacher,c=r.isTutor,d=r.isCoordinator,a=h,s=function(e){var t;return[null==(t=e.course)?void 0:t._id,e]},o=[],i=0;i<a.length;i++)o.push(s(a[i]));u=new Map(o),t.courses=null==n?void 0:n.map(function(e){e.hours=e.remoteRecorded?'GRABADO':e.hours,e.flags=e.flags||{};var t=u.get(e._id),t=(null!=t&&t._id&&(e.flags=t.flags),e.startDate),n=e.endDate,r=e.startHour,a=e.endHour,s=e.flags,o=s.needSubstitute,i=s.hasPostulationsLocked,s=s.hasTeachersPostulationsLocked;return e.startDateAlias=''.concat(g('date')(t,'dd'),' de ').concat(g('date')(t,'MMMM')),e.endDateAlias=''.concat(g('date')(n,'dd'),' de ').concat(g('date')(n,'MMMM')),e.hoursAlias=''.concat(g('date')(r,'HH:mm'),' a ').concat(g('date')(a,'HH:mm'),'hs'),e.flags.needCoordinator=d,e.flags.needSubstitute=o&&!c,e.flags.postulationsLocked=c?i:!!l&&s,e}).filter(function(e){return!e.flags.postulationsLocked}),m||(t.courses=[]);case 14:case'end':return e.stop()}},e)}),n.s();case 7:if((p=n.n()).done){e.next=11;break}return e.delegateYield(r(),'t0',9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return f.hasCoursesToTeach=f.userCanTeachTmp.length,e.abrupt('return',t);case 21:case'end':return e.stop()}},e,null,[[4,13,16,19]])}))).apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getTeacherCandidateCourses({userId:n.USER._id,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getTeacherCourses({userId:n.USER._id,ts:(new Date).getTs()}).then(function(e){return e.data});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}f.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isTeacher=null==(t=n.USER)||null==(t=t.flags)?void 0:t.isTeacher,f.userCanTeachTmp.length||d.info({msg:g('translate')('postulations.no-courses-enabled')}),e.next=4,i();case 4:s(function(){$('[data-toggle="tooltip"]').tooltip({placement:'top',delay:100})},1e3),f.isLoaded=!0,!function(){var t=r.courseId,e=f.courses.find(function(e){return e._id===t});null!=e&&e._id&&f.onClickCourse(null,e)}();case 7:case'end':return e.stop()}},e)})),f.onClickCourse=function(e,t){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),n.$broadcast('MODAL:COURSE_CANDIDACY:OPEN',!0,t,t.level,f.userTmp,i)},f.onClickProduct=function(e,t){e.preventDefault(),window.open(t.programs.ar,'_blank').focus()}}]}),angular.module('core').component('chModalProduct',{templateUrl:'modules/platform/products/ch-modal-product/ch-modal-product.view.html',controllerAs:'vm',controller:['$rootScope','PerksSrv','NotificationSrv','PurchaseService','PlatformUserBalanceService','ProductsSrv','$filter',function(o,e,r,s,i,a,t){var l=this,c=t('translate');function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==o||null==(t=o.USER)?void 0:t.subscription)||[],n={},t.includes('CoderPlus')&&(n.fromCoderPlus=!0),e.abrupt('return',a.getUpsellingCupon(n));case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.USER,0<t.courses.length)return a={buyer:{_id:a._id,email:a.email,profile:{first_name:a.profile.first_name,last_name:a.profile.last_name}},stu:a._id,country:a.profile.country,products:[t._id],courses:[t.courses[0]._id],cupons:r?[r]:[],userAvailableBalanceId:n?n._id:null},l.purchaseRequest=a,e.next=6,s.getPurchase(a);e.next=7;break;case 6:return e.abrupt('return',e.sent);case 7:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.USER,n={buyer:{_id:n._id,email:n.email,profile:{first_name:n.profile.first_name,last_name:n.profile.last_name}},stu:n._id,country:n.profile.country,products:[t.level._id],courses:[t._id],cupons:l.upsellingCoupon?[l.upsellingCoupon]:[],userAvailableBalanceId:l.userAvailableBalance?l.userAvailableBalance._id:null},e.next=4,s.confirmPurchase(n);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){$('#ch-modal-product').modal('hide')}l.$onInit=function(){o.$on('MODAL:PRODUCT:OPEN',function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.userAvailableBalance=null,l.freePurchaseAlias=null,l.userAvailableBalanceAlias=null,l.upsellingCoupon=null,l.productTmp=n,e.next=7,Promise.all([i.getAvailableUserBalances(o.USER._id),function(){return d.apply(this,arguments)}()]);case 7:if(a=e.sent,a=_slicedToArray(a,2),r=a[0],a=a[1],r)return(l.userAvailableBalance=r).onlyForLevel?l.userAvailableBalanceAlias='':l.userAvailableBalanceAlias=r.currency.symbol+r.price+' '+r.currency.iso_code,l.upsellingCoupon=a,e.next=17,function(){return u.apply(this,arguments)}(n,r,a);e.next=19;break;case 17:(a=e.sent)&&0===a.finalPricing.fullFinalPrice&&(a&&a.finalPricing.userAvailableBalance<r.price&&!r.onlyForLevel?(s=r.price-a.finalPricing.userAvailableBalance,l.freePurchaseAlias=c('products.modal.available-balance-free-course-with-rest')+r.currency.symbol+s+' '+r.currency.iso_code):l.freePurchaseAlias=c('products.modal.available-balance-free-course'));case 19:$('#ch-modal-product').modal('show');case 20:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}())},l.enrolldisabled=!1,l.onClickClose=function(e){e.preventDefault(),p()},l.onSubmit=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),l.freePurchaseAlias){if(confirm(c('products.modal.confirm-enroll-message')))return l.enrolldisabled=!0,e.prev=4,e.next=7,function(){return m.apply(this,arguments)}(n);e.next=15}else e.next=18;break;case 7:r.success({msg:c('products.modal.success-enroll')}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r.error({msg:c('products.modal.fail-enroll')});case 13:e.next=16;break;case 15:return e.abrupt('return');case 16:return p(),e.abrupt('return');case 18:l.userAvailableBalance&&(n.checkoutUrl=''.concat(n.checkoutUrl,'&pab=').concat(l.userAvailableBalance._id)),o.$broadcast('PRODUCT:COURSE:CHECKOUT',n),p();case 21:case'end':return e.stop()}},e,null,[[4,10]])}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').config(['$stateProvider',function(e){var t='checkout&courseId&productId&utm_campaign&utm_medium&utm_source&openIn&cpn',n={parent:'platform',component:'products',data:{requiresLogin:!0,isFbLocked:!0},resolve:{upsellingCupon:['ProductsSrv','$rootScope',function(e,t){var n={};return((null==t||null==(t=t.USER)?void 0:t.subscription)||[]).includes('CoderPlus')&&(n.fromCoderPlus=!0),e.getUpsellingCupon(n)}]}};e.state('products',_objectSpread({url:'/continua-tu-carrera?'.concat(t)},n)).state('products-1',_objectSpread({url:'/catalogo?'.concat(t)},n))}]).component('products',{bindings:{upsellingCupon:'<'},templateUrl:'modules/platform/products/products.view.html',controllerAs:'vm',controller:['$rootScope','FEATURES','CATEGORIES_TS','$stateParams','BotSrv','CoursesSrv','UsersSrv','$scope','$element','ProductsSrv','MONTHS','AmplitudeSrv','$timeout','$filter','ColSystemSrv','$transitions','TYPEFORM','$location','AnalyticsSrv',function(v,e,w,l,c,g,f,T,n,y,d,p,u,k,m,h,b,t,s){var _=this,t=(_.recommendedLevel=[],_.IS_MOBILE=v.IS_MOBILE,t.search());function S(e,t,n){return''.concat(n,' ').concat(e,' ').concat(t)}function E(){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i,l,c,d,u,m,p;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.loadingRecommended=!0,e.prev=1,e.next=4,f.hasActiveCourses({userId:v.USER._id});case 4:if(t=e.sent,t.active){e.next=39;break}return e.prev=7,e.next=10,g.getStudentCamadaIds({userId:v.USER._id});case 10:return t=e.sent,n=t.data.camadaIds,e.next=14,g.getStudentCourse({userId:v.USER._id,camadaId:n[n.length-1]});case 14:return n=e.sent,r=n.data.course,e.next=18,g.getNextRecomendedLevel({userId:v.USER._id,courseId:r._id});case 18:for(r=e.sent,a=r.course,s=r.level,o=_.products,i=function(e){for(var t=e.items,n=function(e){for(var t=s.complementary,n=0;n<t.length;n++)[t[n]._id,a.level._id].includes(e._id)&&_.recommendedLevel.push(e)},r=0;r<t.length;r++)n(t[r])},l=0;l<o.length;l++)i(o[l]);for(c=_.recommendedLevel.filter(function(e,t){var n=JSON.stringify(e);return t===_.recommendedLevel.findIndex(function(e){return JSON.stringify(e)===n})}),_.recommendedLevel=c,d=_.recommendedLevel,u=function(e){return e.recommended=!0,e},m=[],p=0;p<d.length;p++)m.push(u(d[p]));_.recommendedLevel.length&&(_.loadingRecommended=!1),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(7),_.recommendedLevel=[],_.loadingRecommended=!0;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(1),_.loadingRecommended=!0;case 44:case'end':return e.stop()}},e,null,[[1,41],[7,35]])}))).apply(this,arguments)}function C(){T.currentProduct=null,$('#product-details-modal').modal('hide'),v.$emit('BODY:ALLOW_SCROLL')}function R(){return a.apply(this,arguments)}function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s,o,i,l,c,d,u,m,p,v,g,f,h,b=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<b.length&&void 0!==b[1]&&b[1])return _.products=T[t.type].products,_.productsTags=T[t.type].tags,e.abrupt('return',T[t.type]);e.next=5;break;case 5:r=_objectSpread(_objectSpread({},t),{},{cuponId:null==(r=_.upsellingCupon)?void 0:r._id,flagHasNextCourse:!0,v2:1}),n?(e.t0=T[t.type],e.next=13):e.next=10;break;case 10:return e.next=12,y.getAll(r);case 12:e.t0=e.sent;case 13:for(a=e.t0,e.prev=14,a=a.careers||a,s=a,o=function(e){for(var t,n=e.categories||[],r=[],a=0;a<n.length;a++)r.push({key:t=n[a],text:null==(t=w[t]||t)?void 0:t.replace(/^Digital$/g,'').trim()});e.tags=r,e.flags.active=!0;var s=e.pricing,o=s.currency,o=(s.finalPriceAlias=S(s.finalPrice,o.iso_code,o.symbol),s.finalEnrollmentPriceAlias=S(s.finalEnrollmentPrice,o.iso_code,o.symbol),s.enrollmentPriceAlias=S(s.enrollmentPrice,o.iso_code,o.symbol),s.enrollmentDiscountAlias=''.concat(s.enrollmentDiscount,'% OFF'),s.original.enrollmentDiscountAlias=''.concat(s.original.enrollmentDiscount,'% OFF'),s.original.finalEnrollmentPriceAlias=S(s.original.finalEnrollmentPrice,o.iso_code,o.symbol),e.pricing=s,e.nextCourse);null!=o&&o._id?(o.startDateAlias=''.concat(k('date')(o.startDate,'dd/MM'),' | ').concat(k('date')(o.startHour,'HH:mm'),' a ').concat(k('date')(o.endHour,'HH:mm'),'Hs'),o.hoursAlias=''.concat(k('date')(o.startHour,'HH:mm'),' a ').concat(k('date')(o.endHour,'HH:mm'),'Hs')):e.nextCourse={startDateAlias:k('translate')('products.no-dates')}},i=0;i<s.length;i++)o(s[i]);for(l=['design','marketing','development','product','data','finance','business','cybersecurity'],c=a,d=function(e){return e.categories},u=[],m=0;m<c.length;m++)u.push(d(c[m]));for(p=u.flat().uniq(),v=function(e){return{key:e,text:(w[e]||e).trim(),order:l.indexOf(e)}},g=[],f=0;f<p.length;f++)g.push(v(p[f]));return h=g.sort(function(e,t){return e.order-t.order}),a.sort(function(e,t){e=null==(e=e.nextCourse)?void 0:e.startDate,t=null==(t=t.nextCourse)?void 0:t.startDate;return e&&t&&new Date(e).getTime()>new Date(t).getTime()?1:-1}),e.abrupt('return',{products:a,tags:h});case 34:e.prev=34,e.t1=e.catch(14),console.error(e.t1);case 37:case'end':return e.stop()}},e,null,[[14,34]])}))).apply(this,arguments)}function x(){return(x=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get({_id:t,country:null==(r=v.COUNTRY)?void 0:r.code,ts:(new Date).getTs()});case 2:return(r=e.sent).detail.weeksAlias=null!=(n=r.detail)&&n.weeks?''.concat(r.detail.weeks,' Semanas'):'',r.detail.levelsAlias=''.concat(null==(n=r.levels)?void 0:n.length,' Cursos'),r.active=!0,_.productTmp=r,e.abrupt('return',r);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}_.IS_ENV_MX='mx'===(null==(o=v.COUNTRY)?void 0:o.code)||'mx'===t.fc,T.FEATURES=e,_.applyingTags=!1,_.showingCheckout=!1,_.loadingCheckout=!1,_.checkoutUrl=null,_.cart=0,_.paidAmmount=0,_.notPaidAmmount=0,_.coursesLimit=3,_.activeMonth='all',_.showRequirements=!1,_.isIframe='true'===window.IS_IFRAME,_.filters={entity:'levels'},T.currentProduct=null,T.remotes=[],T.careers=[],T.earlybird=[],T.tabs=[{label:k('translate')('products.tabs.courses'),key:'remotes',enable:!0,active:!0},{label:k('translate')('products.tabs.careers'),key:'careers',enable:!0,active:!1},{label:k('translate')('products.tabs.earlybird'),key:'earlybird',enable:!1,active:['preventa'].includes(l.openIn),cb:function(){window.openNewTab('https://www.coderhouse.com/preventa?utm_medium=plataforma')}}].filter(function(e){return e.enable}),_.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T.loading=!0,e.next=3,R({type:'remotes'});case 3:return T.remotes=e.sent,T.remotes.products=T.remotes.products.filter(function(e){return!e.intensive}),_.products=T.remotes.products,_.productsTags=T.remotes.tags,e.next=9,R({type:'careers'});case 9:return T.careers=e.sent,e.next=12,R({type:'earlybird'});case 12:if(T.earlybird=e.sent,t=m.colMd.on(function(e){e=e.matches;return T.COL_MD=e}),n=h.onStart({},function(){return t()+n()}),r=v.USER.personalGoalComputed,r=void 0===r?{colors:{'accent-color':'var(--ch-cyan-coder)'}}:r,_.userPersonalGoalColor=r.colors['accent-color'],_.upsellingCupon||(_.upsellingCupon={}),_.upsellingCupon.enrollmentDiscountAlias=''.concat(_.upsellingCupon.enrollmentDiscount,'% OFF'),_.coderFeedbackNewProducts={href:''.concat(b.NEW_PRODUCTS,'?utm_source=platform&email=').concat(v.USER.email),enable:(new Date).getTime()<new Date(2021,3,18).getTime()},r=l.checkout,a=l.productId,s=l.courseId,a)return e.next=24,function(){return x.apply(this,arguments)}(a);e.next=32;break;case 24:return e.next=26,O(a,s);case 26:if(_.showProductDates=!0,null!=(o=_.products.find(function(e){return e._id===a}))&&o._id)return _.toggleCartItem(o),e.next=32,_.onClickProduct(null,o);e.next=32;break;case 32:return r?_.onSubmit(null,_.courseTmp):p.logEvent('catalog',{from:a?null==(o=_.productTmp)?void 0:o.title:'loaded',to:r?'checkout':a?'product-dates':'products',action:'loaded',version:'marzo',name:a?null==(i=_.productTmp)?void 0:i.title:'',type:a?null!=(i=_.productTmp)&&null!=(i=i.flags)&&i.isCareer?'carrera':'curso':''}),_.productTypeOptions=[{label:k('translate')('products.tabs.courses'),key:'remotes'},{label:k('translate')('products.tabs.careers'),key:'careers'}],_.coursesDatesFilterOptions=function(){for(var e=[{key:'all',label:'Todos'}],t=0,n=Object.entries(d);t<n.length;t++){var r=_slicedToArray(n[t],2),r=(r[0],r[1]);e.push({key:r,label:r})}return e}(),v.$on('PRODUCT:COURSE:CHECKOUT',function(e,t){return _.onSubmit(e,t)}),$('#product-details-modal').on('hidden.bs.modal',C),T.TEXTS={subtitle:k('translate')('products.subtitle').replace('%discount%',_.upsellingCupon.enrollmentDiscount)},e.next=40,E();case 40:u(c.hide,1e3),T.loading=!1;case 42:case'end':return e.stop()}},e)})),T.onTabChange=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(l,c){var d,u,m;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l&&l.preventDefault(),c.active)return e.abrupt('return');e.next=3;break;case 3:for(_.loadingRecommended=!0,d=T.tabs,u=function(e){e.active=c.key===e.key},m=0;m<d.length;m++)u(d[m]);return'earlybird'===c.key&&p.logEvent('catalog',{from:'products',to:'product-dates',action:'click',version:'marzo',type:'preventa'}),e.next=11,_.filterProductsByType(c);case 11:if('remotes'===c.key)return _.recommendedLevel=[],e.next=15,E();e.next=17;break;case 15:e.next=18;break;case 17:var t;if('earlybird'!==c.key)if(i=o=s=a=r=n=t=void 0,null!=(t=_.recommendedLevel)&&t.length){for(var n=_.products,r=[],a=0;a<n.length;a++)r.push(function(e){return e.levels||[]}(n[a]));for(var s=r.flat().filter(function(e){return(null==e?void 0:e._id)===(null==(e=_.recommendedLevel&&_.recommendedLevel[0])?void 0:e._id)}),o=[],i=0;i<s.length;i++)o.push(function(e){return e.recommended=!0,e}(s[i]));_.recommendedLevel=o}case 18:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}();o=void 0===(o=l.utm_campaign)?'products':o,t=void 0===(t=l.utm_medium)?'plataforma':t,e=void 0===(e=l.utm_source)?'upselling':e,i=['stu='.concat(v.USER._id),'utm_campaign='.concat(o),'utm_medium='.concat(t),'utm_source='.concat(e),'fc='.concat(null==(o=v.USER)||null==(o=o.profile)?void 0:o.country)];var o,i,I=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return[].concat(i,[!(null!=(e=_.productTmp)&&e.earlybird)&&'cpn='.concat(_.upsellingCupon._id)],n).filter(function(e){return e}).join('&')};function O(){return D.apply(this,arguments)}function D(){return(D=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.coursesTmp=[],r=null==(r=v.COUNTRY)?void 0:r.code,e.next=4,y.getCourses({_id:t,country:r,startDate:(new Date).getTime(),teachers:!0,ts:(new Date).getTs()});case 4:for(r=e.sent,_.coursesLimit=3,_.coursesTmp=null==r?void 0:r.mapForEach(function(e){e.monthAlias=d[new Date(e.startDate).getMonth()],e.alias=e.alias=''.concat(k('date')(e.startDate,'dd/MM'),' de ').concat(k('date')(e.startHour,'HH:mm'),' a ').concat(k('date')(e.endHour,'HH:mm'),'Hs'),e.startDateAlias=''.concat(k('date')(e.startDate,'dd/MM'),' al ').concat(k('date')(e.endDate,'dd/MM')),e.daysAlias=''.concat(e.days.join(' '.concat(k('translate')('ch-course.and'),' '))),e.hoursAlias=''.concat(k('date')(e.startHour,'HH:mm'),' a ').concat(k('date')(e.endHour,'HH:mm'),'Hs'),e.longAlias=''.concat(e.monthAlias,' ').concat(k('date')(e.startDate,'dd'),' ').concat(e.daysAlias,' de ').concat(e.hours);var t=I('camadas='.concat(e.camada.id));e.checkoutUrl=''.concat(window.CH_WWW,'/online/').concat(null==(e=_.productTmp)?void 0:e.url,'/inscripcion/paso/1?').concat(t)}),a=_.coursesTmp,s=function(e){return{key:e.longAlias,label:e.longAlias,active:!1}},o=[],i=0;i<a.length;i++)o.push(s(a[i]));return _.coursesDatesFilterOptions=[{key:'all',label:'Todos',active:!0}].concat(_toConsumableArray(o)),n&&(_.courseTmp=_.coursesTmp.find(function(e){return e._id===n})),_.showEmptyState=!_.coursesTmp.length,e.abrupt('return',_.coursesTmp);case 15:case'end':return e.stop()}},e)}))).apply(this,arguments)}T.hideProductDates=function(e){null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),T.currentProduct=null,_.showProductDates=!1},T.scrollLeft=function(e,t){t=t.slug;T.$list=n.find('.'.concat(t)),T.$list.animate({scrollLeft:T.$list.scrollLeft()+272},200)},T.scrollRight=function(e,t){t=t.slug;T.$list=n.find('.'.concat(t)),T.$list.animate({scrollLeft:T.$list.scrollLeft()-272},200)},_.filterCoursesByMonth=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('all'===(n=t.key))return e.next=4,O(_.productTmp._id);e.next=4;break;case 4:_.activeMonth=n,_.coursesLimit=999,_.showEmptyState=!_.coursesTmp.length;case 7:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),_.filterProductsByWeeks=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,_.loading=!0,_.weeks=n,e.next=5,R({dedicationLevel:_.dedicationLevel||'',weeks:n||''});case 5:n=e.sent,_.products=n.products,_.productsTags=n.tags,_.loading=!1;case 9:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),_.filterProductsByType=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,_.loading=!0,_.type=n,e.next=5,R({type:n},!0);case 5:n=e.sent,_.products=n.products,_.productsTags=n.tags,_.loading=!1;case 9:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),_.onClickFilterByTag=function(e,t){e.preventDefault(),t.active=!t.active;for(var n=_.productsTags.filter(function(e){return e.active}),r=[],a=0;a<n.length;a++)r.push(n[a].key.toLowerCase());for(var s,o=r,i=_.products,l=0;l<i.length;l++)(s=i[l]).flags.active=!o.length||s.tags.some(function(e){e=e.key;return o.includes(e)})},_.filterProductsByDedication=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.loading=!0,_.dedicationLevel=t.key,e.next=4,R({dedicationLevel:t.key,weeks:_.weeks||''});case 4:n=e.sent,_.products=n.products,_.productsTags=n.tags,_.loading=!1;case 8:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),_.onClickProduct=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.preventDefault(),null!=t&&t.stopPropagation(),r=v.USER._id,a='br'===(null==(a=v.COUNTRY)?void 0:a.code)?'.br':'',n.flags.isEnglishAcademy)return e.abrupt('return',window.openNewTab(''.concat(window.CH_WWW_NOT_LEGACY).concat(a,'/online/english-academy/').concat(n.url,'?stu=').concat(r).concat(null!=(a=_.upsellingCupon)&&a._id?'&cpn='.concat(_.upsellingCupon._id):'')));e.next=6;break;case 6:if(_.productTmp=n,T.currentProduct===n)return e.abrupt('return',v.$emit('MODAL:PRODUCT:OPEN',n));e.next=9;break;case 9:return _.showProductDates=!1,v.$emit('LOADING:OPEN',!0),e.next=13,O(null==n?void 0:n._id);case 13:T.currentProduct=_.productTmp,s.pushDataLayer('trackEvent','cursos_carreras',null==n?void 0:n.title,'ver_detalle'),p.logEvent('catalog',{from:'products',to:'product-dates',action:'click',version:'marzo',recommended:!!n.recommended,name:null==n?void 0:n.title,type:null!=n&&null!=(r=n.flags)&&r.isCareer?'carrera':'curso'}),n.courses=_.coursesTmp,v.$emit('LOADING:CLOSE',!0),v.$emit('MODAL:PRODUCT:OPEN',n);case 19:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),_.onClickFilter=function(e,t){null!=e&&e.preventDefault();for(var n,r,a=_.filters||{},s=(a.entity=t||a.entity,_.filters=a,_.products),o=0;o<s.length;o++)n=s[o],r=void 0,r=n.flags.isCareer,n.flags.active='careers'===a.entity&&r||'levels'===a.entity&&!r;p.logEvent('catalog',{from:'careers'===a.entity?'levels':'careers',to:(a.entity,'careers'),version:'marzo',action:'filter'})},_.onChangeCurrentFilters=function(e){_.currentEntity,_.currentTag;for(var t,n=_.products,r=0;r<n.length;r++)(t=n[r]).flags.active=t.tags.find(function(e){return e.text})},_.toggleCartItem=function(e){e.selected=!e.selected},_.onClickShowDates=function(e){_.coursesLimit=999},_.onSubmit=function(e,t){null!=e&&e.preventDefault(),_.loadingCheckout||_.showingCheckout||('false'===window.EMBED_CHECKOUT?window.openNewTab(t.checkoutUrl):(_.loadingCheckout=!0,_.checkoutUrl=t.checkoutUrl,u(function(){_.loadingCheckout=!1,_.showingCheckout=!0,T.COL_MD||document.body.scrollTo({top:0,behavior:'smooth'})},1500)),e&&(s.pushDataLayer('trackEvent','cursos_carreras',null==(t=_.productTmp)?void 0:t.title,'inscribirme'),p.logEvent('catalog',{from:'product-dates',to:'checkout',action:'click',version:'marzo',name:null==(e=_.productTmp)?void 0:e.title,type:null!=(t=_.productTmp)&&null!=(t=t.flags)&&t.isCareer?'carrera':'curso'})))},_.hideCheckout=function(){_.showingCheckout=!1,v.$emit('BODY:ALLOW_SCROLL')},_.onClickProductRequirements=function(e){e.preventDefault(),_.showRequirements=!_.showRequirements}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('profile2021',{url:'/perfil-2021',parent:'platform',component:'profile2021',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('profile2021',{bindings:{},templateUrl:'modules/platform/profile-2021/profile-2021.view.html',controllerAs:'vm',controller:['$rootScope','$stateParams','$location',function(t,e,n){this.PROFILE_2021=''.concat(window.CH_PLATFORM_2021,'/profile'),lozad('.lozad-profile',{load:function(){t.$emit('LOADING:OPEN',!0)},loaded:function(e){t.$emit('LOADING:CLOSE',!0)}}).observe()}]}),angular.module('core').component('chModalPayouts',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-payouts/ch-modal-payouts.view.html',controllerAs:'vm',controller:['$rootScope','NotificationSrv','PayoutsSrv','UploadsSrv','UsersSrv','$filter',function(o,i,a,s,n,e){var l=this,c=e('translate');function d(){$('.modal.show').length||$('#ch-modal-payouts').modal('show')}function u(){$('#ch-modal-payouts').modal('hide')}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProfileInvoiceInfo({_id:o.USER._id,ts:(new Date).getTs()});case 2:return t=e.sent,e.abrupt('return',l.profileInvoiceInfo=t);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getInvoice({userId:o.USER._id,payoutId:l.payoutTmp._id,invoiceId:l.invoiceTmp._id,ts:(new Date).getTs()});case 2:return(r=e.sent).details=r.details||{},r.details.createdAt=(void 0,t=(t=void 0)===(t=r.details.createdAt)?new Date:t,t=_.isDate(new Date(t))?new Date(t):t),r.details.cuit=(void 0,t=(t=void 0)===(t=r.details.cuit)?l.profileInvoiceInfo.cuit:t,t=_.isString(t)?Number(t):t),r.details.type=(t=void 0)===(t=r.details.type)?l.profileInvoiceInfo.invoiceType:t,r.details.socialReason=(t=void 0)===(t=r.details.socialReason)?l.profileInvoiceInfo.socialReason:t,r.details.amount=_.isString(r.details.amount)?Number(r.details.amount):r.details.amount,l.fileTmp=null!=(n=r.details.fileLink)&&n.length?{name:null==(n=r.details.fileLink)?void 0:n.split('/').last()}:null,l.invoiceTmp=r,e.abrupt('return',r);case 12:case'end':return e.stop()}var t},e)}))).apply(this,arguments)}function v(){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCountryStates();case 2:return t=e.sent,e.abrupt('return',l.countryStates=t);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateInvoice({userId:o.USER._id,payoutId:l.payoutTmp._id,invoiceId:l.invoiceTmp._id,invoice:l.invoiceTmp});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.info({msg:c('ch-modal-payouts-uploading-invoice')}),a=new Date,t=a.getMonth()+1,t=[a.getFullYear(),t<10?'0'.concat(t):t,a.getDate()].join('-'),r=l.invoiceTmp,n=r.camada,r=r.email,t=''.concat(t,'-').concat(n,'-').concat(r,'-').concat(a.getTime()),e.next=9,s.files(l.fileTmp,t,1);case 9:n=e.sent,r=n.data,a=null==r?void 0:r.files[0],l.invoiceTmp.details.fileLink=null==a?void 0:a.url,l.invoiceTmp.details.fileName=null==a?void 0:a.name,i.updated({msg:c('ch-modal-payouts-attached-invoice')}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),i.error(e.t0);case 20:case'end':return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}l.coderInfo={socialReason:c('ch-modal-payouts.business-value'),cuit:c('ch-modal-payouts.cuit-value'),fiscalCondition:c('ch-modal-payouts.registered-responsible')},o.$on('MODAL:PAYOUT_INVOICE:OPEN',function(e,t,n,r){t&&(l.payoutTmp=n,l.invoiceTmp=r,l.isNotFromArg=null==(t=o.USER)||null==(t=t.flags)?void 0:t.isNotFromArg,function(){return m.apply(this,arguments)}().then(p).then(v).then(d))}),l.$onInit=function(){var e;l.notArg=null==(e=o.USER)||null==(e=e.flags)?void 0:e.isNotFromArg},l.onClickUploadFile=function(){return document.getElementById('input-file').click()},l.onChangeFile=function(){var e;null!=(e=l.fileTmp)&&e.size&&!function(){f.apply(this,arguments)}()},l.onClickClose=function(e){e.preventDefault(),u()},l.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=l.invoiceTmp.details,null!=(n=r.fileLink)&&n.length){e.next=4;break}return e.abrupt('return',i.info({msg:c('ch-modal-payouts-invoice-required')}));case 4:if(l.isNotFromArg||null==(n=l.countryStates)||!n.length){e.next=9;break}if(null!=(a=r.type)&&a.length){e.next=7;break}return e.abrupt('return',i.info({msg:c('ch-modal-payouts-fiscal-condition-required')}));case 7:if(null!=(a=r.countryState)&&a.length){e.next=9;break}return e.abrupt('return',i.info({msg:c('ch-modal-payouts-province-required')}));case 9:if(l.invoiceTmp.registered)return e.abrupt('return',i.info({msg:c('ch-modal-payouts-invoice-already-registered')}));e.next=11;break;case 11:return e.prev=11,e.next=14,function(){return g.apply(this,arguments)}();case 14:s=e.sent,i.updated(),o.$broadcast('PAYOUT_INVOICE:UPDATED',l.payoutTmp,s),u(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),i.error();case 23:case'end':return e.stop()}},e,null,[[11,20]])}));return function(e){return t.apply(this,arguments)}}(),l.onClickOpenVideo=function(e){e.preventDefault(),o.$broadcast('MODAL:COURSE_SCHEDULE_VIDEO:OPEN',!0,{name:'Facturacion',schedule:{recordingVideoLink:'https://youtu.be/NFd0QOCp_mM'}})}}]}),angular.module('core').constant('STUDY_LEVELS',[{key:'primary',value:'Primario'},{key:'secondary',value:'Secundario'},{key:'terciary',value:'Terciario'},{key:'degree',value:'Grado'},{key:'specialization',value:'Especialización'},{key:'masters-degree',value:'Maestria'},{key:'doctorate',value:'Doctorado'}]).component('chModalProfileEducation',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-education/ch-modal-profile-education.view.html',controllerAs:'vm',controller:['$scope','$rootScope','UsersSrv','STUDY_LEVELS','$filter',function(e,s,n,t,r){var o=this;o.IS_MOBILE=s.IS_MOBILE,o.userTmp=e.userTmp,o.STUDY_LEVELS=t,s.$on('MODAL:PROFILE_EDUCATION:OPEN',function(e,t,n){t&&null!=n&&n._id&&(n.range.from=n.range.from&&new Date(n.range.from),n.range.to=n.range.to&&new Date(n.range.to)),o.educationTmp=n||{},$('#ch-modal-profile-education').modal('show')}),o.onClickRemoveEducation=function(t){window.confirm(r('translate')('ch-modal-profile-education.form.delete-confirm'))&&n.deleteEducation({userId:o.userTmp._id,education:t}).then(function(){o.userTmp.education=o.userTmp.education.filter(function(e){return e._id!==t._id})})},o.onSubmitEducation=function(e){o.educationTmp.range.currently=$('#customCheck').prop('checked'),e.preventDefault(),n.upsertEducation({userId:o.userTmp._id,education:o.educationTmp}).then(function(e){if(o.educationTmp._id){for(var t=o.userTmp.education,n=[],r=0;r<t.length;r++)n.push((a=t[r])._id===o.educationTmp._id?Object.assign({},o.educationTmp):a);o.userTmp.education=n}else o.userTmp.education=o.userTmp.education||[],o.userTmp.education.push(null==e?void 0:e.data);var a;o.educationTmp={},$('#ch-modal-profile-education').modal('hide'),s.$emit('PROFILE:UPDATED',{education:o.userTmp.education})})}}]}),angular.module('core').component('chModalProfileExp',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-exp/ch-modal-profile-exp.view.html',controllerAs:'vm',controller:['$scope','$rootScope','UsersSrv','$filter',function(e,s,n,r){var o=this;function i(){$('#ch-modal-profile-exp').modal('hide')}o.IS_MOBILE=s.IS_MOBILE,o.userTmp=e.userTmp,o.workTmp={},s.$on('MODAL:PROFILE_WORK:OPEN',function(e,t,n){t&&(n&&n._id&&(n.range.from=n.range.from&&new Date(n.range.from),n.range.to=n.range.to&&new Date(n.range.to)),o.workTmp=n||{}),$('.modal.show').length||$('#ch-modal-profile-exp').modal('show')}),o.onSubmitWorkExperience=function(e){e.preventDefault(),o.workTmp.range.currently=$('#customCheck1').prop('checked'),n.upsertWork({userId:o.userTmp._id,work:o.workTmp}).then(function(e){if(o.workTmp._id){for(var t=o.userTmp.works,n=[],r=0;r<t.length;r++)n.push((a=t[r])._id===o.workTmp._id?Object.assign({},o.workTmp):a);o.userTmp.works=n}else o.userTmp.works=o.userTmp.works||[],o.userTmp.works.push(null==e?void 0:e.data);var a;o.workTmp={},i(),s.$emit('PROFILE:UPDATED',{works:o.userTmp.works})})},o.onClickRemoveWork=function(){var t=o.workTmp;window.confirm(r('translate')('ch-modal-profile-exp.work.remove-confirm'))&&n.deleteWork({userId:o.userTmp._id,work:t}).then(function(){o.userTmp.works=o.userTmp.works.filter(function(e){return e._id!==t._id})}),i()},s.$on('MODAL:PROFILE_EXP:CLOSE',function(e,t){t&&i()})}]}),angular.module('core').component('chModalProfileExpertice',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-expertice/ch-modal-profile-expertice.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','NotificationSrv','TalentSrv',function(r,t,a,n){var s=this,d=this;function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getExperticeAreas();case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserExpertice({userId:r.USER._id,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateUserExpertice({userId:r.USER._id,expertice:d.expertice});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function i(){$('#ch-modal-profile-expertice').modal('hide')}r.$on('MODAL:PROFILE_EXPERTICE:OPEN',function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o,i,l,c;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,Promise.all([function(){return u.apply(this,arguments)}(),function(){return m.apply(this,arguments)}()]);case 4:for(a=e.sent,a=_slicedToArray(a,2),r=a[0],a=a[1],d.expertice=a,s=a,o=function(e){return[e.ref,e.value]},i=[],l=0;l<s.length;l++)i.push(o(s[l]));c=new Map(i),d.EXPERTICE_AREAS=r.filter(function(e){return!c.has(e.key)}),$('.modal.show').length||$('#ch-modal-profile-expertice').modal('show');case 16:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()),d.onClickClose=function(e){e.preventDefault(),i()},d.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d.experienceTmp||d.customExperienceTmp){e.next=3;break}return e.abrupt('return');case 3:return e.prev=3,n={},d.experienceTmp?(n.ref=d.experienceTmp,n.value=d.EXPERTICE_AREAS.find(function(e){return e.key===d.experienceTmp}).value):n.value=d.customExperienceTmp,d.expertice.push(n),e.next=9,function(){return o.apply(this,arguments)}();case 9:a.updated(),s.userTmp.expertice=d.expertice,r.$emit('PROFILE:UPDATED',{expertice:d.expertice}),i(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),a.error(e.t0);case 18:case'end':return e.stop()}},e,null,[[3,15]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalProfileInfo',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-info/ch-modal-profile-info.view.html',controllerAs:'vm',controller:['$scope','StorageSrv','$rootScope','UsersSrv','BDAY_RANGE','NotificationSrv','NormalizeSrv','FEATURES','UploadsSrv','CountriesSrv','$timeout','$filter',function(e,a,s,o,t,i,l,n,r,c,d,u){var m=this,p=(m.geoConfig={types:['geocode']},m.BDAY_RANGE=t,m.PERMISSIONS=s.PERMISSIONS,m.FEATURES=n,m.tabs={personal:1},u('translate'));function v(e){var t;e.profile=e.profile||{},e.profile.bday=new Date(e.profile.bday),e.flags=e.flags||{},e.profile.slug||(e.profile.slug=e._id),null!=(t=e.profile.avatar)&&t.length||null==(t=s.AUTH0_PROFILE)||null==(t=t.picture)||!t.length||(e.profile.avatar=s.AUTH0_PROFILE.picture),e.profile.country=e.profile.country||'ar',m.userTmp=e,m.FEATURES.INVOICE_INFO_FOR_ARG_TEACHER=!e.flags.isNotFromArg}function g(){return(g=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=m.countries)&&t.length)return e.abrupt('return',m.countries);e.next=2;break;case 2:return e.next=4,c.getHispanic();case 4:return e.abrupt('return',m.countries=e.sent);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getCountryStates({countryCode:t});case 2:return e.abrupt('return',m.states=e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function b(){return(b=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get({_id:s.USER._id,lean:1});case 2:return t=e.sent,e.abrupt('return',null==t?void 0:t.data);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getProfile({_id:m.userTmp._id});case 2:return t=e.sent,e.abrupt('return',null==t?void 0:t.data);case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function T(){return y.apply(this,arguments)}function y(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getProfileInvoiceInfo({_id:m.userTmp._id,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function k(){return _.apply(this,arguments)}function _(){return(_=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getProfileAvailableBalance({_id:m.userTmp._id,ts:(new Date).getTs()});case 2:for(t=e.sent,n=t,r=function(e){return e.createdAtAlias=u('date')(e.createdAt,'dd/MM/yyyy'),e.claimedAtAlias=!!e.claimed&&u('date')(e.claimedAt,'dd/MM/yyyy'),e.onlyForLevel?e.validForAlias='Un curso':e.validForAlias=u('currency')(e.price,e.currency.iso_code,!1),e},a=[],s=0;s<n.length;s++)a.push(r(n[s]));return e.abrupt('return',a);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){e&&r.files(e).success(t).error(i.error)}$(document).on('click','.dropdown-menu',function(e){return e.stopPropagation()}),m.$onInit=function(){d(e.$emit('profile_info_mounted'),1e3)},s.$on('MODAL:PROFILE_INFO:OPEN',function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.tabs=r?{invoice:1}:{personal:1},n){e.next=3;break}return e.abrupt('return');case 3:return e.next=5,function(){return b.apply(this,arguments)}();case 5:return a=e.sent,e.next=8,function(){return w.apply(this,arguments)}();case 8:return a.profile=e.sent,e.next=11,k();case 11:if(a.availableBalance=e.sent,r)return e.next=15,T();e.next=16;break;case 15:a.profile.banking=e.sent;case 16:if(a.profile.country)return e.next=19,f(a.profile.country);e.next=19;break;case 19:v(a),!function(){g.apply(this,arguments)}(),$('.modal.show').length||$('#ch-modal-profile-info').modal('show');case 22:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}()),m.onClickUploadFile=function(e){e&&e.preventDefault(),$('#input-avatar').click()},e.$watch('vm.avatarFile',function(){var e,t;e=m.avatarFile,t=function(e){m.userTmp.profile.avatar=e.url},e&&r.images(e).success(t).error(i.error)}),m.onClickClose=function(e){e.preventDefault(),$('#ch-modal-profile-info').modal('hide')},m.onChangeProfileSlug=function(e){m.userTmp.profile.slug=l.slug(m.userTmp.profile.slug),o.isValidateProfileSlug({userId:s.USER._id,slug:m.userTmp.profile.slug}).then(function(e){m.showValidationProfileSlug=!0,m.isValidProfileSlug=null==e||null==(e=e.data)?void 0:e.success},console.debug)},m.onSubmit=function(e,t){var n,r;(m.showValidationProfileSlug&&m.isValidProfileSlug||!m.showValidationProfileSlug)&&(m.userTmp.profile.slug=l.slug(m.userTmp.profile.slug),r=m.userTmp.profile.country,s.COUNTRY={code:r,countryName:null==(n=m.countries.find(function(e){return e.code===r}))?void 0:n.name},a.set('ch-country',s.COUNTRY),o.update({userId:s.USER._id,user:{_id:s.USER._id,profile:(n={first_name:m.userTmp.profile.first_name,last_name:m.userTmp.profile.last_name,bio:m.userTmp.profile.bio,dni:m.userTmp.profile.dni,avatar:m.userTmp.profile.avatar,phone:m.userTmp.profile.phone,bday:m.userTmp.profile.bday,city:m.userTmp.profile.city,country:m.userTmp.profile.country,slug:m.userTmp.profile.slug,cvFileLink:m.userTmp.profile.cvFileLink,canWorkRemotely:m.userTmp.profile.canWorkRemotely,hideTalent:m.userTmp.profile.hideTalent},t&&(n.banking=m.userTmp.profile.banking),n),flagPayments:t}}).then(function(e){v(null==e?void 0:e.data),i.updated(),s.$emit('PROFILE:UPDATED')},console.debug))},m.onClickUploadCvFile=function(e){e.preventDefault(),document.getElementById('input-cv-file').click()},m.onClickUploadAfipFile=function(e){e.preventDefault(),document.getElementById('input-afip-file').click()},e.$watch('vm.cvFile',function(){S(m.cvFile,function(e){m.fileTmp=e.files&&e.files[0],m.fileTmpUrl=null==(e=m.fileTmp)?void 0:e.url,m.userTmp.profile.cvFileLink=m.fileTmpUrl,i.success({msg:p('ch-modal-profile-info.toast.cv-uploaded')})})}),e.$watch('vm.file',function(){S(m.file,function(e){m.fileTmp=e.files&&e.files[0],m.fileTmpUrl=null==(e=m.fileTmp)?void 0:e.url,m.userTmp.profile.banking=m.userTmp.profile.banking||{},m.userTmp.profile.banking.afipConstancy=m.fileTmpUrl,i.success({msg:p('ch-modal-profile-info.toast.afip-uploaded')})})}),m.onClickRemoveFile=function(e){e.preventDefault(),m.fileTmpUrl=null,m.userTmp.profile=m.userTmp.profile||{},m.userTmp.profile.banking=m.userTmp.profile.banking||{},m.userTmp.profile.banking.afipConstancy=null},m.onChangeEmail=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.isValidEmail({userId:m.userTmp._id,newEmail:m.emailTmp.value});case 3:t=e.sent,m.emailTmp.isValid=null==t?void 0:t.isValid,m.emailTmp.isValid?i.success({msg:p('ch-modal-profile-info.toast.valid-email')}):i.info({msg:p('ch-modal-profile-info.toast.not-valid-email')}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[0,8]])})),m.onClickChangePassword=function(e){e.preventDefault(),confirm(p('ch-modal-profile-info.confirm-change-password'))&&o.changePassword({userId:m.userTmp._id,v2:n.CHANGE_PASSWORD?1:0}).then(function(e){i.info({msg:p('ch-modal-profile-info.toast.change-password-requested')})})},m.onClickTab=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(r={})[n]=1,m.tabs=r,'invoice'===n)return e.next=7,T();e.next=8;break;case 7:m.userTmp.profile.banking=e.sent;case 8:if('availableBalance'===n)return e.next=11,k();e.next=12;break;case 11:m.userTmp.availableBalance=e.sent;case 12:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),m.onClickClaimBalance=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),e.prev=1,n.onlyForLevel?(i.info({msg:p('ch-modal-profile-info.toast.claim-balance-only-for-level')}),e.next=11):e.next=6;break;case 6:return e.next=8,o.claimAvailableBalance({userId:m.userTmp._id,balanceId:n._id});case 8:n.claimed=!0,n.claimedAtAlias=u('date')((new Date).getTime(),'dd/MM/yyyy'),i.success({msg:p('ch-modal-profile-info.toast.claim-balance-requested')});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),i.error();case 16:case'end':return e.stop()}},e,null,[[1,13]])}));return function(e,t){return n.apply(this,arguments)}}(),m.isValidField=function(e,t){var n,r=m.userTmp.profile.banking,a=!1;return null!=(n=t)&&n.length?(t=null==(n=t)?void 0:n.split(' ').join('').split('-').join('').split('.').join('').trim(),'cbu'===e?(a=22==t.length,r.cbu=t,r.cbuValid=a):'cuit'===e&&(a=11==t.length,r.cuit=t,r.cuitValid=a)):'cbu'===e?r.cbuValid=a:'cuit'===e&&(r.cuitValid=a),a},m.onChangeCountry=function(){f(m.userTmp.profile.country)}}]}),angular.module('core').component('chModalProfileLanguages',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-languages/ch-modal-profile-languages.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','NotificationSrv','TalentSrv',function(r,t,a,n){var u=this;function m(){return(m=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getLanguages();case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getLanguageLevels();case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserLanguages({userId:r.USER._id,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateUserLanguages({userId:r.USER._id,languages:u.userLanguages});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function o(){$('#ch-modal-profile-languages').modal('hide')}r.$on('MODAL:PROFILE_LANGUAGES:OPEN',function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r,a,s,o,i,l,c,d;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,Promise.all([function(){return m.apply(this,arguments)}(),function(){return p.apply(this,arguments)}(),function(){return v.apply(this,arguments)}()]);case 4:for(s=e.sent,s=_slicedToArray(s,3),r=s[0],a=s[1],s=s[2],u.userLanguages=s,o=s,i=function(e){return[e.ref,e.value]},l=[],c=0;c<o.length;c++)l.push(i(o[c]));d=new Map(l),u.LANGUAGES=r.filter(function(e){return!d.has(e.key)}),u.LANGUAGES_LEVELS=a,$('.modal.show').length||$('#ch-modal-profile-languages').modal('show');case 18:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()),u.onClickClose=function(e){e.preventDefault(),o()},u.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!=(n=u.languageTmp)&&n.ref&&null!=(n=u.languageTmp)&&n.level){e.next=3;break}return e.abrupt('return');case 3:return e.prev=3,n=u.LANGUAGES.find(function(e){return e.key===u.languageTmp.ref}),u.userLanguages.push(n),e.next=8,function(){return s.apply(this,arguments)}();case 8:a.updated(),r.$emit('PROFILE:UPDATED',{languages:u.userLanguages}),o(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),a.error(e.t0);case 16:case'end':return e.stop()}},e,null,[[3,13]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalProfileSocial',{bindings:{userTmp:'='},templateUrl:'modules/platform/profiles/components/ch-modal-profile-social/ch-modal-profile-social.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','NotificationSrv','IconSvgSrv',function(n,t,r,a){var s=this;function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getMany(['linkedin','website','twitter','facebook','github','behance','instagram','dribbble','youtube','vimeo']);case 2:t=e.sent,s.icons=t;case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserSocialNetworks({userId:n.USER._id,ts:(new Date).getTs()});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function i(){return(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateUserSocialNetworks({userId:n.USER._id,socialNetworks:s.socialNetworks});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}s.$onInit=function(){!function(){e.apply(this,arguments)}()},n.$on('MODAL:PROFILE_SOCIAL:OPEN',function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt('return');case 2:return e.next=4,function(){return o.apply(this,arguments)}();case 4:s.socialNetworks=e.sent,$('.modal.show').length||$('#ch-modal-profile-social').modal('show');case 6:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()),s.onClickClose=function(e){e.preventDefault(),$('#ch-modal-profile-social').modal('hide')},s.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,function(){return i.apply(this,arguments)}();case 4:r.updated(),n.$emit('PROFILE:UPDATED',{socialNetworks:s.socialNetworks}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalReferralCupon',{templateUrl:'modules/platform/profiles/components/ch-modal-referral-cupon/ch-modal-referral-cupon.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','SharesSrv','NotificationSrv','NormalizeSrv','AmplitudeSrv','$timeout','$filter','FEATURES','$state',function(h,b,w,T,t,y,n,l,r,s){var k=this,_=l('translate');function e(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!r.REFERRAL_LANDING)return k.flags={from:t,isFromRecomendation:a.isFromRecomendation,isFromInvite:a.isFromInvite,role:h.USER.flags.isTutor?'tutor':h.USER.flags.isTeacher?'teacher':'student',what:a.isFromInvite?'invite':a.isFromRecomendation?'recomendation':'referral'},y.logEvent('referral',S({from:t,action:'opened'})),i().then(o).then(function(){var e,t,n=l('currency')(k.reward.priceFixedEnrollmentDiscount,k.reward.currency.iso_code,0),r=l('currency')(k.reward.careerPriceFixedEnrollmentDiscount,k.reward.currency.iso_code,0);k.TEXTS={title:(t=_('ch-modal-referral-cupon.title'),a.isFromRecomendation?t=_('ch-modal-referral-cupon.recommendation.title'):a.isFromInvite?(t=_('ch-modal-referral-cupon.invite-from-teachers'),'student'===k.flags.role&&(t=_('ch-modal-referral-cupon.invite-from-students'))):null!=(e=h.USER)&&e.flags.isTeacher?t=_('ch-modal-referral-cupon.title-for-teachers'):r&&(t=_('ch-modal-referral-cupon.title-for-careers')),t.replace('%courseTitle%',a.courseTitle).replace('%reward%',n).replace('%careerReward%',r)),description:_('ch-modal-referral-cupon.description').replace('%discount%',k.cuponTmp.enrollmentDiscount),referralUsage:_('ch-modal-referral-cupon.referral-usage').replace('%usage%',null==(e=k.cuponTmp.referralUsage)?void 0:e.length),faqsTitle:_('ch-modal-referral-cupon.faqs-title').replace('%discount%',k.cuponTmp.enrollmentDiscount)},$('.modal.show').length||$('#ch-modal-referral-cupon').modal('show'),document.getElementById('fb-ui')||((t=document.createElement('script')).id='fb-ui',t.src='https://connect.facebook.net/en_US/sdk.js',t.async=1,t.defer=1,t.crossorigin='anonymous',(n=document.getElementsByTagName('script')[0]).parentNode.insertBefore(t,n),window.fbAsyncInit=function(){})});s.go('referrals',{from:t,action:a.isFromRecomendation?'recomendation':a.isFromInvite?'invite':'',courseTitle:a.courseTitle})}function S(e){var t=e.from,e=e.to;return{from:t||k.flags.from,to:e,role:k.flags.role,what:k.flags.what}}function o(){var e=null==(e=h.USER)?void 0:e._id;return e?b.getReferralReward({userId:e,ts:(new Date).getTs()}).then(function(e){for(var t,n,r,a=e.reward,s=e.countries,o=[],i=0;i<s.length;i++)o.push((t=s[i],n=r=n=void 0,n=t.reward,r=l('currency')(n.priceFixedEnrollmentDiscount,n.currency.iso_code,0),n=l('currency')(n.careerPriceFixedEnrollmentDiscount,n.currency.iso_code,0),t.reward.priceAlias=''.concat(t.name,': ').concat(r,' (Curso) - ').concat(n,' (Carrera)'),t));return k.countries=o,k.reward=a,k.reward}):n(o,300)}function i(){var e=null==(e=h.USER)?void 0:e._id;return e?b.getReferralCupon({userId:e,ts:(new Date).getTs()}).then(function(e){var t;e.flags.canEdit=!(!e.flags.influencer||null!=(t=e.referralUsage)&&t.length),k.cuponTmp=e}):n(i,300)}function a(e,t){b.claimReferralCuponReward({userId:h.USER._id,referralUsageId:e._id,cuponId:k.cuponTmp._id,claimedFor:t}).then(function(){i().then(function(){T.success({msg:_('ch-modal-referral-cupon.toast.sent-email-success')})})},T.error)}k.$onInit=function(){n(function(){location.href.includes('open-ref')&&e(null,'from-url')},2500)},h.$on('MODAL:REFERRAL_CUPON:OPEN',e),k.onClickClose=function(e){e.preventDefault(),$('#ch-modal-referral-cupon').modal('hide')},k.onClickShare=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(r,a){var s,o,i,l,c,d,u,m,p,v,g,f;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r.preventDefault(),s=h.USER,o=''.concat(s.profile.first_name,' ').concat(s.profile.last_name).toLowerCase(),n=t=void 0,t=(null==s?void 0:s.flags)||{},n='alumno',t.isInflucencer&&(n='influencer'),t.isTutor&&(n='tutor'),s=n=t.isTeacher?'profesor':n,s='https://www.coderhouse.com/?referral-cpn='.concat(k.cuponTmp._id,'&utm_source=referidos&utm_medium=plataforma&utm_campaign=').concat(s,'&utm_term=').concat(o,'&utm_content=').concat(a),o=_('ch-modal-referral-cupon.share-text').replace('%discount%',k.cuponTmp.enrollmentDiscount),i=[o,'www.coderhouse.com'],l=function(e){return'<li>'.concat(e,'</li>')},c=[],d=0;d<i.length;d++)c.push(l(i[d]));if(u=c.join('\n\n'),u=$('<ul>'.concat(u,'</ul>')).text().trim(),g={to:a},m='email'===a,v=!!k.emailTmp,m&&v&&(g.email=k.emailTmp.trim()),!['copy','download'].includes(a))return e.next=21,t=g,b.updateReferralSharing({medium:t.to,userId:h.USER._id,cuponId:k.cuponTmp._id,email:t.email});e.next=22;break;case 21:p=e.sent;case 22:if(g=(v=p||{}).success,f=v.message,p&&!g)return T.success({msg:f||_('ch-modal-referral-cupon.toast.cannot-share')}),e.abrupt('return');e.next=26;break;case 26:if(m)return e.next=29,w.referralCodeWithEmail({userId:h.USER._id,cuponId:k.cuponTmp._id,email:k.emailTmp});e.next=33;break;case 29:return k.emailTmp=null,T.success({msg:_('ch-modal-referral-cupon.toast.email-sent')}),y.logEvent('referral',S({from:k.flags.from,to:a,action:'shared'})),e.abrupt('return');case 33:if('download'===a)return b.getReferralCuponImage({userId:h.USER._id,cuponId:k.cuponTmp._id}).then(function(e){var t=e.slice(e.lastIndexOf('/')+1),n=document.createElement('a');n.href=e,n.download=t,n.target='_blank',n.click()}),y.logEvent('referral',S({from:k.flags.from,to:a,action:'shared'})),e.abrupt('return');e.next=37;break;case 37:w.to(a,s,['whatsapp','copy'].includes(a)?u:o),y.logEvent('referral',S({from:k.flags.from,to:a,action:'shared'}));case 39:case'end':return e.stop()}var t,n},e)}));return function(e,t){return n.apply(this,arguments)}}(),k.onClickShowFaqs=function(e){return e.preventDefault(),k.showFaqs=!k.showFaqs},k.onClickClaimMoney=function(e,t){e.preventDefault(),a(t,'money')},k.onClickClaimDiscount=function(e,t){e.preventDefault(),a(t,'discount')},k.onClickCopy=function(e){e.preventDefault(),t.copy(k.cuponTmp.code)},k.onClickEdit=function(e){e.preventDefault(),k.cuponTmp.newCode=k.cuponTmp.code,k.isEditing=!0},k.onClickSave=function(e){return e.preventDefault(),k.isEditing=!1,b.updateReferralCuponCode({userId:h.USER._id,cuponId:k.cuponTmp._id,newCode:k.cuponTmp.newCode}).then(function(){k.cuponTmp.code=k.cuponTmp.newCode,T.success({msg:_('ch-modal-referral-cupon.toast.code-updated')})},T.error)}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('profile',{url:'/perfil/:profileSlug',parent:'platform',params:{editProfile:!1,isFromForum:null},component:'profile',data:{requiresLogin:!0},resolve:{userTmp:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return!!t&&e.get({_id:t,lean:1,ts:(new Date).getTs()}).then(function(e){return null==e?void 0:e.data})}],userCoursesTmp:['CoursesSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return!!t&&e.getStudentCourses({userId:t,lean:1,v6:1,ts:(new Date).getTs()}).then(function(e){return null==e?void 0:e.data})}],userCertificationsTmp:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return!!t&&e.getCertifications({userId:t,ts:(new Date).getTs()}).then(function(e){return null==e?void 0:e.data})}],userEducationTmp:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return!!t&&e.getEducation({userId:t,ts:(new Date).getTs()}).then(function(e){return null==e?void 0:e.data})}],userWorkExperienceTmp:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return!!t&&e.getWorks({userId:t,ts:(new Date).getTs()}).then(function(e){return null==e?void 0:e.data})}],userExpertice:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return t?e.getUserExpertice({userId:t,ts:(new Date).getTs()}):[]}],userLanguages:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return t?e.getUserLanguages({userId:t,ts:(new Date).getTs()}):[]}],userSkills:['UsersSrv','$rootScope','$stateParams',function(e,t,n){t=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return t?e.getUserSkills({userId:t,ts:(new Date).getTs()}):[]}],payouts:['PayoutsSrv','$rootScope','$stateParams',function(e,t,n){n=n.isFromForum?n.profileSlug:null==(n=t.USER)?void 0:n._id;return n&&null!=(t=t.PERMISSIONS)&&t.teacher?e.get({userId:n,ts:(new Date).getTs()}):[]}]}})}]).component('profile',{bindings:{userTmp:'<',userCoursesTmp:'<',userCertificationsTmp:'<',userEducationTmp:'<',userWorkExperienceTmp:'<',userExpertice:'<',userLanguages:'<',userSkills:'<',blogs:'<',payouts:'<'},templateUrl:'modules/platform/profiles/profile.view.html',controllerAs:'vm',controller:['UsersSrv','UploadsSrv','$scope','NotificationSrv','IconSvgSrv','$rootScope','FEATURES','$timeout','BlogsSrv','$stateParams','$window','$filter','TalentSrv','$state','PATHS',function(s,n,o,i,l,c,d,r,a,u,e,m,p,v,t){var g=t.CONTRACT,f=this,h=[],b=[],w=m('translate'),T=(f.FEATURES=d,v.go),y=(f.$onInit=function(){f.userTmp.flags.isStudent&&T('profile2021'),b=f.userCertificationsTmp,h=f.userCoursesTmp,f.userTmp=f.userTmp||{},f.userTmp.profile=f.userTmp.profile||{},f.userTmp.education=C(f.userEducationTmp),f.userTmp.works=C(f.userWorkExperienceTmp),f.userTmp.role=parseInt(f.userTmp.role,10),f.userTmp.profile.bday=null!=(e=f.userTmp.profile)&&e.bday?new Date(f.userTmp.profile.bday):f.userTmp.profile.bday,f.isFromForum=!!u.isFromForum,o.IS_SELF=c.USER._id===f.userTmp._id,!f.userTmp.profile.avatar&&null!=(e=c.AUTH0_PROFILE)&&null!=(e=e.picture)&&e.length&&(f.userTmp.profile.avatar=c.AUTH0_PROFILE.picture),f.userTmp.profile.country||(f.userTmp.profile.country='ar'),f.userTmp.profile.first_name&&f.userTmp.profile.last_name&&(f.userTmp.profile.initials=''.concat(f.userTmp.profile.first_name.split('')[0]).concat(f.userTmp.profile.last_name.split('')[0]),f.userTmp.profile.initials=f.userTmp.profile.initials.toUpperCase()),f.CONTRACT_IFRAME=g,function(){_.apply(this,arguments)}(),function(){S.apply(this,arguments)}();var e=[{key:'cursos',label:w('profile.tabs.courses'),enable:!1,items:h},{key:'certificados',label:w('profile.tabs.certificates'),enable:!c.PERMISSIONS.teacher,items:[]},{key:'educacion',label:w('profile.tabs.education'),enable:!d.B2B&&f.userTmp.flags.isStudent,items:[]},{key:'experiencia',label:w('profile.tabs.experience'),enable:!d.B2B&&f.userTmp.flags.isStudent,items:[]},{key:'coder-talent',label:w('profile.tabs.coder-talent'),enable:d.CODER_TALENT,items:[]},{key:'payouts',label:w('profile.tabs.invoices'),enable:d.PAYOUTS&&c.PERMISSIONS.teacher&&o.IS_SELF&&f.payouts.length,items:[]},{key:'blog',label:w('profile.tabs.blog'),enable:!d.B2B&&d.FORUM,items:[]},{key:'contract',label:w('profile.tabs.contract'),enable:d.CONTRACT_AUTOMATION,items:[]}].filter(function(e){return e.enable});f.isFromForum?e[e.length-2].active=!0:e[0].active=!0,f.tabs=e,f.tabOptions={items:e,activeKeyStr:'key',activeTab:f.isFromForum?e[e.length-2]:e[0],clickHandler:k};for(var t=h,n=0;n<t.length;n++)!function(t){var e;null!=(e=b)&&e.length&&(t.cert=b.find(function(e){return e.camada===t.camada._id}))}(t[n]);if(o.assignments=h.filter(function(e){return e.flags.isEnded||(null==(e=e.cert)?void 0:e._id)}),b.length){for(var r=b,a=[],s=0;s<r.length;s++)a.push(function(e){return e.course.cert={_id:e._id,url:e.url},e}(r[s]));o.certs=a}!function(){E.apply(this,arguments)}(),l.getMany(['linkedin','github','behance','instagram-filled','twitter','facebook','mail-envelope']).then(function(e){return f.icons=e})},f.onClickEditInfo=function(e,t){null!=e&&e.preventDefault(),f.userTmp.flags.isStudent?v.go('profile2021'):c.$emit('MODAL:PROFILE_INFO:OPEN',!0,t)},f.onClickEditSocial=function(e){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_SOCIAL:OPEN',!0)},f.onClickEditEducation=function(e,t){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_EDUCATION:OPEN',!0,t)},f.onClickEditWork=function(e,t){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_WORK:OPEN',!0,t)},f.onClickEditExpertice=function(e){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_EXPERTICE:OPEN',!0)},f.onClickEditLanguages=function(e){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_LANGUAGES:OPEN',!0)},f.onClickEditSkills=function(e){null!=e&&e.preventDefault(),c.$emit('MODAL:PROFILE_SKILLS:OPEN',!0)},f.onClickEditInvoice=function(e,t,n){null!=e&&e.preventDefault(),c.$emit('MODAL:PAYOUT_INVOICE:OPEN',!0,t,n)},f.goToCert=function(e){e.cert?window.open(e.cert.url,'_blank'):c.$emit('MODAL:PROFILE_CERTIFICATION:OPEN',!0,e)},f.onClickUploadFile=function(){return document.getElementById('input-file').click()},f.tabController={currentDir:null,transitioning:!1,transitionDuration:250,digest:c.$tryDigest,hide:function(n,e){return new Promise(function(e,t){y.currentDir=n,y.setClass(),f.hideTabs=!0,y.transitioning=!0,y.transitionList().then(function(){e(),f.killTabs=!0,y.digest(),y.show().then(function(){y.transitioning=!1})})})},show:function(){return new Promise(function(e,t){y.currentDir=-y.currentDir,y.setClass(),f.killTabs=!1,y.digest(),r(function(){f.hideTabs=!1,y.digest(),y.transitionList().then(e)})})},transitionList:function(e){return new Promise(function(e,t){r(e,y.transitionDuration)})},setClass:function(){f.hideDirection='to-'+(0<y.currentDir?'right':'left')}}),k=function(e){f.tabOptions.activeTab===e||y.transitioning||(f.tabOptions.activeTab.active=!1,e.active=!0,y.hide(f.tabOptions.items.indexOf(f.tabOptions.activeTab)-f.tabOptions.items.indexOf(e)).then(function(){return f.tabOptions.activeTab=e}))};function _(){return(_=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!=(t=document.getElementById('iframe-contracts'))&&t.id&&window.addEventListener('message',function(e){'contract_signed'==e.data.event?i.success({msg:w('ch-contract-automation.signed')}):'error'==e.data.event&&i.error({msg:w('ch-contract-automation.error')})});case 2:case'end':return e.stop()}},e)}))).apply(this,arguments)}function S(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==c||null==(t=c.USER)?void 0:t._id){e.next=3;break}return e.abrupt('return');case 3:r=0,a=window.setInterval(function(){r++;var e=document.getElementById('iframe-contracts');null!=e&&e.id&&(e.contentWindow.postMessage({userId:n},'*'),window.addEventListener('message',function(e){'user_received'==e.data.event&&window.clearInterval(a)},window.CONTRACT)),5<r&&(i.error({msg:w('ch-contract-automation.error')}),window.clearInterval(a))},1e3);case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get({byAuthor:u.isFromForum?u.profileSlug:c.USER._id,isFeed:1,ignoreDrafts:1,unpublished:1,ts:(new Date).getTs()}).then(function(e){return e.data});case 2:t=e.sent,t=t.posts,f.blogs=t;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function C(e){if(e)for(var t,n,r,a,s=e,o=0;o<s.length;o++)t=s[o],a=r=n=a=r=n=void 0,n=t.range,r=n.from,a=n.to,n=n.currently,r=m('date')(r,'MMMM yyyy'),a=m('date')(a,'MMMM yyyy'),t.rangeAlias=n?'Desde '.concat(r,' - Actualmente'):'Desde '.concat(r,' hasta ').concat(a);return e}f.onClickBack=function(){e.history.back()},f.onClickUploadFile=function(){return document.getElementById('inputfile1').click()},o.$watch('vm.avatarFile1',function(){var e,t;e=f.avatarFile1,t=function(e){f.userTmp.profile.avatar=e.url,s.update({userId:f.userTmp._id,user:{_id:f.userTmp._id,profile:{avatar:f.userTmp.profile.avatar}}}).then(function(e){f.userTmp.avatar=null==e?void 0:e.data,c.$emit('PROFILE:UPDATED')},console.debug)},e&&n.images(e).success(t).error(i.error)}),o.$on('profile_info_mounted',function(){return u.editProfile&&f.onClickEditInfo()}),o.$on('PAYOUT_INVOICE:UPDATED',function(e,s,o){for(var t=f.payouts,n=function(e){if(s._id===e._id)if(e.invoices.find(function(e){return e._id===o._id})){for(var t=e.invoices,n=[],r=0;r<t.length;r++)n.push((a=t[r],o._id===a._id?o:a));e.invoices=n}else e.invoices.push(o);var a;return e},r=[],a=0;a<t.length;a++)r.push(n(t[a]));f.payouts=r}),f.onClickRemoveExpertice=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,f.userExpertice=f.userExpertice.filter(function(e){return e._id!==n._id}),e.next=5,s.updateUserExpertice({userId:c.USER._id,expertice:f.userExpertice});case 5:i.updated(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}(),f.onClickRemoveLanguage=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,f.userLanguages=f.userLanguages.filter(function(e){return e._id!==n._id}),e.next=5,s.updateUserLanguages({userId:c.USER._id,languages:f.languages});case 5:i.updated(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}(),f.searchSkills=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((null==(t=f.skillTmp)?void 0:t.length)<3)return e.abrupt('return');e.next=3;break;case 3:return e.next=5,p.getSkills({value:t});case 5:f.skillsMatched=e.sent;case 6:case'end':return e.stop()}},e)})),f.onClickAddSkill=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&n.preventDefault(),e.prev=1,null!=(r=f.skillsMatched.find(function(e){return e.value===f.skillTmp}))&&r.key){e.next=5;break}return e.abrupt('return');case 5:if('soft'===(null==(t=r)?void 0:t.type)&&3<=f.userSkills.filter(function(e){return'soft'===e.type}).length)return e.abrupt('return',i.info({msg:w('profile.skills.max')}));e.next=7;break;case 7:return e.next=9,s.setUserSkill({userId:c.USER._id,skill:{value:r.value,type:r.type,ref:r.key}});case 9:a=e.sent,i.updated(),f.skillTmp='',f.userSkills.push(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),i.error(e.t0);case 18:case'end':return e.stop()}var t},e,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}(),f.onClickRemoveSkill=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s.deleteUserSkill({userId:c.USER._id,skillId:n._id});case 4:i.updated(),f.userSkills=f.userSkills.filter(function(e){return e._id!==n._id}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i.error(e.t0);case 11:case'end':return e.stop()}},e,null,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}(),c.$on('PROFILE:UPDATED',function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.expertice&&(f.userExpertice=t.expertice),t.languages&&(f.userLanguages=t.languages),t.socialNetworks&&(f.socialNetworks=t.socialNetworks)})}]}),angular.module('core').config(['$stateProvider',function(e){e.state('referrals2021',{url:'/referidos',parent:'platform',component:'referrals2021',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('referrals2021',{bindings:{},templateUrl:'modules/platform/referrals-2021/referrals-2021.view.html',controllerAs:'vm',controller:['$rootScope','$stateParams','$location',function(t,e,n){this.REFERRALS_2021=''.concat(window.CH_REFERRALS_2021,'/referrals'),lozad('.lozad-profile',{load:function(){t.$emit('LOADING:OPEN',!0)},loaded:function(e){t.$emit('LOADING:CLOSE',!0)}}).observe()}]}),angular.module('core').component('chModalBenefits',{templateUrl:'modules/platform/referrals/ch-modal-benefits/ch-modal-benefits.view.html',controllerAs:'vm',controller:['$rootScope',function(e){var n=this;function t(e,t){n.services=t,$('#ch-modal-referral-benefits').modal('show')}n.$onInit=function(){e.$on('MODAL:REFERRAL_BENEFITS:OPEN',t)},n.onClickClose=function(e){e.preventDefault(),$('#ch-modal-referral-benefits').modal('hide')}}]}),angular.module('core').component('chModalCodeDownload',{templateUrl:'modules/platform/referrals/ch-modal-code-download/ch-modal-code-download.view.html',controllerAs:'vm',controller:['$rootScope',function(n){var a=this;function r(e,t,n,r){t=1<arguments.length&&void 0!==t?t:40,n=2<arguments.length?n:void 0,r=3<arguments.length?r:void 0,t='l_text:Arial_'.concat(t,'_bold:CODE'),n=0!==n?',x_'.concat(n):'',r=0!==r?',y_'.concat(r):'';return''.concat('https://res.cloudinary.com/','hdsqazxtw/').concat(t).concat(n).concat(r,'/').concat(e)}function s(e,t){return o.apply(this,arguments)}function o(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.coupon=n,a.types=['normal','pink','green'],a.onChangeTypeImg(0,'square'),$('#ch-modal-referrals-code-download').modal('show');case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}a.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.couponImages=(t=void 0,'br'!==(null==(t=n.COUNTRY)?void 0:t.code)?{square:{normal:r('v1620829876/cupones/Cupones%2015%20grandes/Square_1.jpg',50,0,-260),pink:r('v1620829876/cupones/Cupones%2015%20grandes/Square_2.jpg',40,0,175),green:r('v1620829877/cupones/Cupones%2015%20grandes/Square_3.jpg',50,0,-260)},horizontal:{normal:r('v1620829876/cupones/Cupones%2015%20grandes/Horizontal_1.jpg',40,-185,-50),pink:r('v1620829875/cupones/Cupones%2015%20grandes/Horizontal_2.jpg',40,-160,-80),green:r('v1620829876/cupones/Cupones%2015%20grandes/Horizontal_3.jpg',40,-225,-75)},vertical:{normal:r('v1620829878/cupones/Cupones%2015%20grandes/Vertical_1.jpg',55,0,-460),pink:r('v1620829877/cupones/Cupones%2015%20grandes/Vertical_2.jpg',55,0,190),green:r('v1620829878/cupones/Cupones%2015%20grandes/Vertical_3.jpg',65,0,-520)}}:{square:{normal:r('v1689011822/cupones/Square_1_pt.jpg',50,0,-475)},vertical:{normal:r('v1689011822/cupones/Vertical_1_pt.jpg',55,0,210)}}),n.$on('MODAL:REFERRAL_CODE_DOWNLOAD:OPEN',s);case 2:case'end':return e.stop()}var t},e)})),a.onClickDownloadCode=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=document.createElement('a'),e.next=4,t=a.urlImg,fetch(t).then(function(e){return e.blob()}).then(function(e){return URL.createObjectURL(e)});case 4:r.href=e.sent,r.download=a.coupon.code+a.types[a.index]+a.size+'.jpg',r.target='_blank',document.body.appendChild(r),r.click(),document.body.removeChild(r);case 10:case'end':return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),a.onChangeTypeImg=function(e,t){a.index=3===e?0:-1===e?2:e;e=a.types[a.index];a.size=t,a.urlImg=a.couponImages[t][e].replace('CODE',a.coupon.code)},a.onClickClose=function(e){e.preventDefault(),$('#ch-modal-referrals-code-download').modal('hide')}}]}),angular.module('core').component('chModalDiscountReward',{templateUrl:'modules/platform/referrals/ch-modal-discount-reward/ch-modal-discount-reward.view.html',controllerAs:'vm',controller:['$rootScope','ReferralsSrv','NotificationSrv','$filter',function(s,o,i,a){var l=this;function t(e,t,n){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.reward=n,l.range=r,l.rewardDescription=a('translate')('ch-modal-discount-reward.description').replace(' %description%',n.description.replace('.','')).replace('50% OFF','<b>50%OFF</b>').replace('75% OFF','<b>75%OFF</b>'),$('#ch-modal-discount-reward').modal('show');case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function c(){$('#ch-modal-discount-reward').modal('hide')}l.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.$on('MODAL:REFERRAL_DISCOUNT_REWARD:OPEN',t);case 1:case'end':return e.stop()}},e)})),l.claimReward=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={userId:s.USER._id,claim:{reward:null==l||null==(n=l.reward)?void 0:n.key,points:null==l||null==(n=l.reward)?void 0:n.value,description:null==l||null==(r=l.reward)?void 0:r.description},range:l.range},e.prev=2,e.next=5,o.claimMonthlyReward(r);case 5:a=e.sent,a=a.message,i.info({msg:a}),c(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i.error({msg:(null===e.t0||void 0===e.t0||null==(a=e.t0.data)?void 0:a.message)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)}),c();case 15:case'end':return e.stop()}},e,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),l.onClickClose=function(e){e.preventDefault(),c()}}]}),angular.module('core').component('chModalFreeCourseReward',{templateUrl:'modules/platform/referrals/ch-modal-free-course-reward/ch-modal-free-course-reward.view.html',controllerAs:'vm',controller:['$rootScope','$filter','ProductsSrv','ReferralsSrv','SelfManagementSrv','NotificationSrv',function(o,i,s,l,c,d){var u=this;function t(e,t,n){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.reward=n,u.range=r,u.TEXTS={legal:i('translate')('ch-modal-free-course-reward.legal').replace('%toDate%',i('date')(u.range.to,'dd/MM/yyyy'))},e.next=5,function(){return a.apply(this,arguments)}();case 5:return e.next=7,p(u.currentProductTmp);case 7:$('#ch-modal-free-course-reward').modal('show');case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get({type:'remotes'});case 2:t=e.sent,u.products=null==t?void 0:t.sort(function(e,t){return e.title>t.title?1:-1}),u.currentProductTmp=null==(t=u.products[0])?void 0:t._id;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(e,t){t=1<arguments.length&&void 0!==t?t:'dd/MM';return i('date')(e,t)}function p(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getCourses({_id:t,startDate:(new Date).getTime(),ts:(new Date).getTs()});case 2:return n=e.sent,r=function(e){return e.remote},a=function(e){return e.alias=''.concat(m(e.startDate),' - ').concat(m(e.endDate),' | ').concat(e.shortDays.join(' y '),' de ').concat(m(e.startHour,'HH:mm'),' a ').concat(m(e.endHour,'HH:mm'),'hs'),e},u.coursesTmp=null==n?void 0:n.filter(r).map(a),u.currentCourseTmp=null==(n=u.coursesTmp[0])?void 0:n._id,e.abrupt('return',u.coursesTmp);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function v(){$('#ch-modal-free-course-reward').modal('hide')}u.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.$on('MODAL:REFERRAL_FREE_COURSE_REWARD:OPEN',t);case 1:case'end':return e.stop()}},e)})),u.onClickClose=function(e){e.preventDefault(),v()},u.onChangeProduct=function(e){return u.currentCourseTmp=null,p(u.currentProductTmp)},u.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={userId:o.USER._id,ts:(new Date).getTs()},e.prev=2,e.next=5,l.areTherePendingCourses(r);case 5:if(a=e.sent,a.pendingCourses){e.next=10;break}return e.next=10,t=void 0,t={userId:o.USER._id,claim:{reward:null==u||null==(t=u.reward)?void 0:t.key,points:null==u||null==(t=u.reward)?void 0:t.value,description:null==u||null==(t=u.reward)?void 0:t.description},range:u.range},l.claimMonthlyReward(t);case 10:return r.courseIds=[u.currentCourseTmp],e.next=13,c.registerInCourse(r);case 13:a=e.sent,s=a.data,d.info({msg:'🎉 '.concat((null==s?void 0:s.message)||i('translate')('ch-modal-free-course-reward.toast.enrolled'))}),v(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),d.error({msg:null===e.t0||void 0===e.t0||null==(s=e.t0.data)?void 0:s.message});case 22:case'end':return e.stop()}var t},e,null,[[2,19]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').component('chModalReferralAdvice',{templateUrl:'modules/platform/referrals/ch-modal-referral-advice/ch-modal-referral-advice.view.html',controllerAs:'vm',controller:['$rootScope',function(t){function n(){$('#ch-modal-referral-advice').modal('show')}this.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$on('MODAL:REFERRAL_ADVICE:OPEN',n);case 1:case'end':return e.stop()}},e)})),this.onClickClose=function(e){e.preventDefault(),$('#ch-modal-referral-advice').modal('hide')}}]}),angular.module('core').component('chModalReferralEmailSharing',{templateUrl:'modules/platform/referrals/ch-modal-referral-email-sharing/ch-modal-referral-email-sharing.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','SharesSrv','NotificationSrv','AmplitudeSrv','$filter',function(i,l,c,d,u,m){var p=this;function t(e,t,n){p.coupon=t,p.flags=n,$('#ch-modal-referral-email-sharing').modal('show')}function v(){$('#ch-modal-referral-email-sharing').modal('hide')}p.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.email='',i.$on('MODAL:REFERRAL_EMAIL_SHARING:OPEN',t);case 2:case'end':return e.stop()}},e)})),p.onClickEmailShare=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(a){var s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p.email){e.next=4;break}return d.error({msg:m('translate')('ch-modal-free-course-reward.toast.error-email-required')}),e.abrupt('return');case 4:return e.prev=4,e.next=7,l.updateReferralSharing({medium:'email',userId:i.USER._id,cuponId:p.coupon._id,email:p.email});case 7:if(o=e.sent,s=o.success,o=o.message,s){e.next=13;break}return d.error({msg:o||m('translate')('ch-modal-free-course-reward.toast.error-sharing')}),e.abrupt('return');case 13:return e.next=15,c.referralCodeWithEmail({userId:i.USER._id,cuponId:p.coupon._id,email:p.email});case 15:d.success({msg:m('translate')('ch-modal-free-course-reward.toast.shared')}),u.logEvent('referral',(t={from:p.flags.from,to:'email',action:'shared'},r=n=void 0,n=t.from,r=t.to,t=t.action,{from:n||(null==(n=p.flags)?void 0:n.from),to:r,role:null==(n=p.flags)?void 0:n.role,what:null==(r=p.flags)?void 0:r.what,action:t})),v(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),d.error({msg:m('translate')('ch-modal-free-course-reward.toast.error-shared')});case 23:case'end':return e.stop()}var t,n,r},e,null,[[4,20]])}));return function(e){return t.apply(this,arguments)}}(),p.onClickClose=function(e){e.preventDefault(),v()}}]}),angular.module('core').component('chModalReferralTyc',{templateUrl:'modules/platform/referrals/ch-modal-referral-tyc/ch-modal-referral-tyc.view.html',controllerAs:'vm',controller:['$rootScope',function(t){var r=this;function n(e,t){return a.apply(this,arguments)}function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.countriesHtml=null==n?void 0:n.countriesHtml,r.enrollmentDiscount=null==n?void 0:n.enrollmentDiscount,r.isInfluencer=null==n?void 0:n.isInfluencer,r.isProperStudent=null==n?void 0:n.isProperStudent,r.benefit=null==n?void 0:n.payload,$('#ch-modal-referral-tyc').modal('show');case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}r.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$on('MODAL:REFERRAL_TYC:OPEN',n);case 1:case'end':return e.stop()}},e)})),r.onClickClose=function(e){e.preventDefault(),$('#ch-modal-referral-tyc').modal('hide')}}]}),angular.module('core').component('chModalServiceCareer',{templateUrl:'modules/platform/referrals/ch-modal-service-career/ch-modal-service-career.view.html',controllerAs:'vm',controller:['$rootScope','UsersSrv','NotificationSrv','$filter',function(a,s,o,i){var l=this;function e(e,t,n,r,a){l.services=t,l.couponId=n,l.referralUsage=r,l.reload=a,$('#ch-modal-service-career-reward').modal('show')}function c(){$('#ch-modal-service-career-reward').modal('hide')}l.$onInit=function(){a.$on('MODAL:SERVICE_CAREER_REWARD:OPEN',e)},l.onChangeChose=function(e){for(var t,n=l.services,r=[],a=0;a<n.length;a++)r.push((t=n[a],a!==e?_objectSpread(_objectSpread({},t),{},{chose:!1}):t));l.services=r},l.onClickClaimServiceReward=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=l.services.find(function(e){return e.chose})){e.next=5;break}return o.error({msg:i('translate')('ch-modal-service-career.toast.error-no-selection')}),e.abrupt('return');case 5:if(!window.ENV_PROD||confirm(i('translate')('ch-modal-service-career.toast.confirm'))){e.next=8;break}return e.abrupt('return',c());case 8:return e.prev=8,e.next=11,s.claimReferralCouponRewardServiceCareer({userId:a.USER._id,referralUsageId:null==(r=l.referralUsage)?void 0:r._id,cuponId:l.couponId,serviceId:n._id,claimedFor:'service'});case 11:return e.next=13,l.reload();case 13:o.success({msg:i('translate')('ch-modal-service-career.toast.success')}),c(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),o.error({msg:e.t0.message||i('translate')('ch-modal-service-career.toast.error')});case 20:case'end':return e.stop()}},e,null,[[8,17]])}));return function(e){return t.apply(this,arguments)}}(),l.onClickClose=function(e){e.preventDefault(),c()}}]}),angular.module('core').component('chModalTwoFreeCoursesReward',{templateUrl:'modules/platform/referrals/ch-modal-two-free-courses-reward/ch-modal-two-free-courses-reward.view.html',controllerAs:'vm',controller:['$rootScope','$filter','ProductsSrv','ReferralsSrv','SelfManagementSrv','NotificationSrv',function(o,i,s,l,c,d){var u=this;function t(e,t,n){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.reward=n,u.range=r,u.TEXTS={legal:i('translate')('ch-modal-free-course-reward.legal').replace('%toDate%',i('date')(u.range.to,'dd/MM/yyyy'))},e.next=5,function(){return a.apply(this,arguments)}();case 5:return e.next=7,p(u.firstProduct);case 7:return e.next=9,v(u.secondProduct);case 9:$('#ch-modal-two-free-courses-reward').modal('show');case 10:case'end':return e.stop()}},e)}))).apply(this,arguments)}function a(){return(a=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get({type:'remotes'});case 2:t=e.sent,u.products=null==t?void 0:t.sort(function(e,t){return e.title>t.title?1:-1}),u.firstProduct=null==(t=u.products[0])?void 0:t._id,u.secondProduct=u.firstProduct;case 6:case'end':return e.stop()}},e)}))).apply(this,arguments)}function m(e,t){t=1<arguments.length&&void 0!==t?t:'dd/MM';return i('date')(e,t)}function p(){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getCourses({_id:t,startDate:(new Date).getTime(),ts:(new Date).getTs()});case 2:return n=e.sent,r=function(e){return e.remote},a=function(e){return e.alias=''.concat(m(e.startDate),' - ').concat(m(e.endDate),' | ').concat(e.shortDays.join(' y '),' de ').concat(m(e.startHour,'HH:mm'),' a ').concat(m(e.endHour,'HH:mm'),'hs'),e},u.firstCoursesTmp=null==n?void 0:n.filter(r).map(a),u.firstCourse=null==(n=u.firstCoursesTmp[0])?void 0:n._id,e.abrupt('return',u.coursesTmp);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function v(){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,r,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getCourses({_id:t,startDate:(new Date).getTime(),ts:(new Date).getTs()});case 2:return n=e.sent,r=function(e){return e.remote},a=function(e){return e.alias=''.concat(m(e.startDate),' - ').concat(m(e.endDate),' | ').concat(e.shortDays.join(' y '),' de ').concat(m(e.startHour,'HH:mm'),' a ').concat(m(e.endHour,'HH:mm'),'hs'),e},u.secondCoursesTmp=null==n?void 0:n.filter(r).map(a),u.secondCourse=null==(n=u.secondCoursesTmp[0])?void 0:n._id,e.abrupt('return',u.coursesTmp);case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function g(){$('#ch-modal-two-free-courses-reward').modal('hide')}u.flag={firstStep:!0,lastStep:!1},u.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.$on('MODAL:REFERRAL_TWO_FREE_COURSES_REWARD:OPEN',t);case 1:case'end':return e.stop()}},e)})),u.onClickClose=function(e){e.preventDefault(),g()},u.onChangeFirstProduct=function(e){return u.firstCourse=null,p(u.firstProduct)},u.onChangeSecondProduct=function(e){return u.secondCourse=null,v(u.secondProduct)},u.toLastStep=function(e){e.preventDefault(),u.flag.firstStep=!1,u.flag.lastStep=!0},u.toFirstStep=function(e){e.preventDefault(),u.flag.lastStep=!1,u.flag.firstStep=!0},u.onSubmit=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n){var r,a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={userId:o.USER._id,ts:(new Date).getTs()},e.prev=2,e.next=5,l.areTherePendingCourses(r);case 5:if(a=e.sent,a.pendingCourses){e.next=10;break}return e.next=10,t=void 0,t={userId:o.USER._id,claim:{reward:null==u||null==(t=u.reward)?void 0:t.key,points:null==u||null==(t=u.reward)?void 0:t.value,description:null==u||null==(t=u.reward)?void 0:t.description},range:u.range},l.claimMonthlyReward(t);case 10:return r.courseIds=[u.firstCourse,u.secondCourse],e.next=13,c.registerInCourse(r);case 13:a=e.sent,s=a.data,d.info({msg:'🎉 '.concat((null==s?void 0:s.message)||i('translate')('ch-modal-free-course-reward.toast.enrolled'))}),g(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),d.error({msg:null===e.t0||void 0===e.t0||null==(s=e.t0.data)?void 0:s.message});case 22:case'end':return e.stop()}var t},e,null,[[2,19]])}));return function(e){return t.apply(this,arguments)}}()}]}),angular.module('core').config(['$stateProvider',function(e){e.state('referrals',{url:'/referidos?from&action&courseTitle',parent:'platform',component:'referrals',data:{requiresLogin:!0,isFbLocked:!0},resolve:{cuponTmp:['UsersSrv','$rootScope',function(e,t){return e.getReferralReward({userId:null==(e=t.USER)?void 0:e._id,ts:(new Date).getTs()})}]}})}]).component('referrals',{bindings:{cuponTmp:'<'},templateUrl:'modules/platform/referrals/referrals.view.html',controllerAs:'vm',component:'referrals',controller:['$rootScope','$state','$stateParams','UsersSrv','ReferralsSrv','ServicesSrv','SharesSrv','NotificationSrv','NormalizeSrv','AnalyticsSrv','AmplitudeSrv','$timeout','$filter','TYPEFORM',function(g,t,m,l,a,n,f,h,r,b,w,c,p,v){var e,s,o,T=this,y=(T.showExplain=!0,T.showInPRD=window.ENV_PROD||!1,p('translate')),i=(s=void 0!==(s=window.ENV_PROD)&&s,o=new Date,(s=s?{start:new Date('13/may/2021'),end:new Date('16/may/2021 23:59')}:{start:new Date('9/may/2021'),end:new Date('16/may/2021 23:59')}).enable='ar'===(null==(e=g.COUNTRY)?void 0:e.code)&&o>s.start&&o<s.end,s.enable);function k(){return(k=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:T.USER._id,ts:(new Date).getTs(),country:t},e.next=3,a.getLeaderboard(n);case 3:n=e.sent,T.leaderboard=n;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function S(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:g.USER._id,ts:(new Date).getTs(),country:t},e.next=3,a.getRewards(n);case 3:n=e.sent,T.rewards=n;case 5:case'end':return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:g.USER._id},e.next=3,a.getUserReferralPoints(t);case 3:t=e.sent,r=t.user,n=t.range,r=(r||{}).progress,T.range=n,T.progress=r;case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function C(e){var t=e.from,n=e.to,e=e.action;return{from:t||T.flags.from,to:n,role:T.flags.role,what:T.flags.what,action:e}}function R(){return(R=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null==(t=g.USER)?void 0:t._id){e.next=3;break}return e.abrupt('return',c(r,300));case 3:return e.next=5,l.isFree({userId:t,ts:(new Date).getTs()});case 5:n=e.sent,r=n.isFree,T.isFree=r;case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}function x(){return d.apply(this,arguments)}function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,a,s,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null==(t=g.USER)?void 0:t._id)return e.next=4,l.getReferralReward({userId:t,cuponId:T.cuponTmp._id,ts:(new Date).getTs()});e.next=14;break;case 4:for(t=e.sent,n=t.reward,r=t.countries,a=r,s=function(e){var t=e.reward,t=p('currency')(t.priceFixedEnrollmentDiscount,t.currency.iso_code,0);return e.reward.priceAlias=''.concat(e.name,': ').concat(t),e},o=[],i=0;i<a.length;i++)o.push(s(a[i]));return T.countries=o,T.reward=n,e.abrupt('return',T.reward);case 14:return e.abrupt('return',c(x,300));case 15:case'end':return e.stop()}},e)}))).apply(this,arguments)}function u(e,t){return!e.reward.claimed&&t.reward.claimed?-1:e.reward.claimed&&!t.reward.claimed?1:e.usedAt>t.usedAt?-1:e.usedAt<t.usedAt?1:0}function I(){return(I=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getReferralRewards({ts:(new Date).getTs()});case 2:t=e.sent,T.services=t;case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}function O(){return D.apply(this,arguments)}function D(){return(D=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(n=g.USER)?void 0:n._id)return e.next=4,l.getReferralCupon({userId:n,ts:(new Date).getTs()});e.next=10;break;case 4:return n=e.sent,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20,n=e.length||0;T.referralUsage={items:e,itemCount:n,pageSize:t,lastPage:0===n?0:Math.floor((n-1)/t)},function t(n){var e=T.referralUsage;var r=n*e.pageSize;var a=Math.min(r+e.pageSize,e.itemCount);T.referralUsage=_objectSpread(_objectSpread({},e),{},{isFirstPage:0===n,isLastPage:n===T.referralUsage.lastPage,page:n,firstItem:r,lastItem:a,pageItems:e.items.slice(r,a),previous:function(e){e.preventDefault(),t(n-1)},next:function(e){e.preventDefault(),t(n+1)}})}(0)}((n.referralUsage||[]).sort(u)),T.flags.canEditCouponName=!(!n.flags.influencer||null!=(t=n.referralUsage)&&t.length),T.flags.showNoPendingRewards=!T.isInfluencer&&!(null==(t=n.referralUsage)||!t.length)&&!T.referralUsage.itemCount,e.abrupt('return',T.cuponTmp=n);case 10:return e.abrupt('return',c(O,300));case 11:case'end':return e.stop()}},e)}))).apply(this,arguments)}function P(){return(P=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.updateReferralSharing({medium:t.to,userId:g.USER._id,cuponId:T.cuponTmp._id,email:t.email});case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ENV_PROD||confirm(y('referrals.claim.toast.confirm'))){e.next=3;break}return e.abrupt('return');case 3:return e.next=5,l.claimReferralCuponReward({userId:g.USER._id,referralUsageId:t._id,cuponId:T.cuponTmp._id,claimedFor:n});case 5:return e.next=7,O();case 7:h.success({msg:y('referrals.claim.toast.success')});case 8:case'end':return e.stop()}},e)}))).apply(this,arguments)}T.socialMediaItems=[{name:'whatsapp',color:'white',iconColor:'#fff',icon:'social-whatsapp',sendtext:p('translate')('ch-banners.referral.share-whatsapp')},{name:'twitter',color:'white',iconColor:'#fff',icon:'social-twitter',sendtext:p('translate')('ch-banners.referral.share-twitter')},{name:'linkedin',color:'white',iconColor:'#fff',icon:'social-linkedin',sendtext:p('translate')('ch-banners.referral.share-linkedin')},{name:'telegram',color:'white',iconColor:'#fff',icon:'social-telegram',sendtext:p('translate')('ch-banners.referral.share-telegram')}].filter(g._filterEnabled),T.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var i,l,c,d,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.from,c=m.action,d=m.courseTitle,l='recomendation'===c,c='invite'===c,T.isMx='mexico'===(null==(u=g.USER)||null==(u=u.profile)||null==(u=u.country)?void 0:u.toLowerCase())||'mx'===(null==(u=g.USER)||null==(u=u.profile)||null==(u=u.country)?void 0:u.toLowerCase()),T.isInfluencer=g.USER.flags.isInfluencer,T.isProperStudent=g.USER.flags.isStudent&&!T.isInfluencer,T.flags={from:i,isFromRecomendation:l,isFromInvite:c,courseTitle:d,canEditCouponName:(null==(u=T.cuponTmp)?void 0:u._id)&&!!T.isInfluencer&&!(null!=(d=T.cuponTmp.referralUsage)&&d.length),role:(s=o=t=s=void 0,s=g.USER.flags,t=s.isTutor,o=s.isTeacher,s=s.isInfluencer,t?'tutor':o?'teacher':s?'influencer':'student'),what:l?'recomendation':c?'invite':'referral',fromLanding:!0},T.referralUsageRewards=null,u=g.IS_ENV_BR?'pt':'es',d=moment().toDate().toLocaleString(u,{month:'long'}),T.currentMonth=_.capitalize(d),T.USER=g.USER||{},T.referralFormLink=''.concat(v.REFERRALFORM,'?utm_medium=plataforma&userid=').concat(g.USER._id,'&email=').concat(g.USER.email,'&country=').concat(null==(l=g.COUNTRY)?void 0:l.code),u=null==(c=g.COUNTRY)?void 0:c.code,b.logEvent('referral',C({from:i,action:'landed'})),$('[data-toggle="tooltip"]').tooltip(),e.next=18,O();case 18:return e.next=20,function(){return I.apply(this,arguments)}();case 20:return e.next=22,x();case 22:return e.next=24,function(){return E.apply(this,arguments)}();case 24:return e.next=26,function(){return S.apply(this,arguments)}(u);case 26:return e.next=28,function(){return k.apply(this,arguments)}(u);case 28:return e.next=30,function(){return R.apply(this,arguments)}();case 30:a=r=n=t=void 0;for(var t=u,n=[{title:y('referrals.faqs.1.title'),description:y('referrals.faqs.1.text').replace('%min-points.1%','ar'===t?100:75).replace('%min-points.2%','ar'===t?300:100).replace('%min-points.3%','ar'===t?600:300),showMx:!0},{title:y('referrals.faqs.2.title'),description:y('referrals.faqs.2.text'),showMx:!1},{title:y('referrals.faqs.3.title'),description:y('referrals.faqs.3.text'),showMx:!0},{title:y('referrals.faqs.4.title'),description:y('referrals.faqs.4.text'),showMx:!1},{title:y('referrals.faqs.5.title'),description:y('referrals.faqs.5.text'),showMx:!0},{title:y('referrals.faqs.6.title'),description:y('referrals.faqs.6.text'),showMx:!1},{title:y('referrals.faqs.7.title'),description:y('referrals.faqs.7.text'),showMx:!0}],r=[],a=0;a<n.length;a++)r.push(function(e,t){return e.id='collapse-'.concat(t),e}(n[a],a));T.faqs=r,s=o=void 0,o=p('currency')(T.reward.priceFixedEnrollmentDiscount,T.reward.currency.iso_code,0),s=p('currency')(T.reward.careerPriceFixedEnrollmentDiscount,T.reward.currency.iso_code,0),T.TEXTS={priceReward:s||o,discountAlias:T.isInfluencer?'código de descuento':''.concat(T.cuponTmp.enrollmentDiscount,'% OFF'),title:'¡Nuestro programa de referidos tiene como objetivo seguir democratizando el acceso a la educación y ahora vos también podés ser parte!'},T.productRewards=[{headline:'Si tu amigo se inscribe a un',title:'Curso o Carrera',price:o,discount:''.concat(T.cuponTmp.enrollmentDiscount,'% OFF')}];case 32:case'end':return e.stop()}var s,t,o},e)})),T.onClickToggleReferralExplain=function(e){e.preventDefault(),T.showExplain=!T.showExplain},T.onClickShowBenefitsModal=function(e){e.preventDefault(),g.$emit('MODAL:REFERRAL_BENEFITS:OPEN',T.services)},T.onClickTypeImg=function(e){document.getElementById(e).click()},T.validDateToClaimMoney=function(e){var t=new Date('2021/05/01');return new Date(e)<t},T.onClickOpenAdviceModal=function(e){null!=e&&e.preventDefault(),g.$emit('MODAL:REFERRAL_ADVICE:OPEN')},T.onClickOpenCodeDownloadModal=function(e){null!=e&&e.preventDefault(),w.pushDataLayer('trackEvent','footer','referidos','compartir-email'),g.$emit('MODAL:REFERRAL_CODE_DOWNLOAD:OPEN',T.cuponTmp)},T.onClickOpenEmailSharingModal=function(e){null!=e&&e.preventDefault(),w.pushDataLayer('trackEvent','footer','referidos','compartir-codeDownload'),g.$emit('MODAL:REFERRAL_EMAIL_SHARING:OPEN',T.cuponTmp,T.flags)},T.onClickOpenTyCModal=function(e){e.preventDefault();e={countriesHtml:T.countriesHtml,enrollmentDiscount:T.cuponTmp.enrollmentDiscount,isInfluencer:T.isInfluencer,isProperStudent:T.isProperStudent,benefit:T.isProperStudent?'reembolso':'pago',HOT_SALE_PROMO_STAGE_2:i};g.$emit('MODAL:REFERRAL_TYC:OPEN',e)},T.onClickClaimReward=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=null==n?void 0:n.key){e.next=4;break}return e.abrupt('return');case 4:e.t0=r,e.next='50-off'===e.t0||'75-off'===e.t0?7:'100-off-1-course'===e.t0?9:'100-off-2-courses'===e.t0?11:13;break;case 7:return g.$emit('MODAL:REFERRAL_DISCOUNT_REWARD:OPEN',n,T.range),e.abrupt('break',13);case 9:return g.$emit('MODAL:REFERRAL_FREE_COURSE_REWARD:OPEN',n,T.range),e.abrupt('break',13);case 11:return g.$emit('MODAL:REFERRAL_TWO_FREE_COURSES_REWARD:OPEN',n,T.range),e.abrupt('break',13);case 13:b.logEvent('referral-ranking',C({action:'claim-reward',what:r}));case 14:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),T.onClickShare=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(r,a){var s,o,i,l,c,d,u,m,p,v;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r.preventDefault(),s=g.USER,o=''.concat(s.profile.first_name,' ').concat(s.profile.last_name).toLowerCase(),n=t=void 0,t=(null==s?void 0:s.flags)||{},n='alumno',t.isInfluencer?n='influencer':t.isTutor?n='tutor':t.isTeacher&&(n='profesor'),s=n,s='https://www.coderhouse.com/?referral-cpn='.concat(T.cuponTmp._id,'&utm_source=referidos&utm_medium=plataforma&utm_campaign=').concat(s,'&utm_term=').concat(o,'&utm_content=').concat(a),o=y('referrals.sharing.text').replace('%enrollmentDiscount%',T.cuponTmp.enrollmentDiscount),i=[o,'www.coderhouse.com'],l=function(e){return'<li>'.concat(e,'</li>')},c=[],d=0;d<i.length;d++)c.push(l(i[d]));return u=c.join('\n\n'),u=$('<ul>'.concat(u,'</ul>')).text().trim(),m={to:a},e.next=16,function(){return P.apply(this,arguments)}(m);case 16:if(m=e.sent,p=(v=m||{}).success,v=v.message,m&&!p)return h.success({msg:v||y('referrals.sharing.error')}),e.abrupt('return');e.next=21;break;case 21:w.pushDataLayer('trackEvent','footer','referidos','copy'===a?a:'compartir-'.concat(a)),f.to(a,s,['whatsapp','copy'].includes(a)?u:o),b.logEvent('referral',C({from:T.flags.from,to:a,action:'shared'}));case 24:case'end':return e.stop()}var t,n},e)}));return function(e,t){return n.apply(this,arguments)}}(),T.onChangeClaimReferralUsage=function(e,t){switch(e){case'discount':case'money':!function(){A.apply(this,arguments)}(t,e);break;case'career':g.$emit('MODAL:SERVICE_CAREER_REWARD:OPEN',T.services,null==T||null==(n=T.cuponTmp)?void 0:n._id,t,function(){return O()});break;default:h.info({msg:y('referrals.claim.toast.error')})}var n},T.onClickCopy=function(e){e.preventDefault(),w.pushDataLayer('trackEvent','footer','referidos','copy'),r.copy(T.cuponTmp.code)},T.onClickGoToRanking=function(e){e.preventDefault,document.getElementById('currentRanking').scrollIntoView()},T.onClickToRanking=function(e){return e.preventDefault(),t.go('referral-ranking',{from:'referrals'})}}]}),angular.module('core').config(['$stateProvider',function(e){var t='checkout&serviceId&utm_campaign&utm_medium&utm_source&openIn&cpn',n={parent:'platform',component:'services',data:{requiresLogin:!0,isFbLocked:!0},resolve:{servicesTmp:['ServicesSrv','$rootScope','$stateParams',function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n,r){var a,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={country:(null==(a=n.USER)||null==(a=a.profile)?void 0:a.country)||(null==(a=n.COUNTRY)?void 0:a.code),userId:null==(a=n.USER)?void 0:a._id,cpn:r.cpn,ts:(new Date).getTs()},null!=(s=null==n||null==(s=n.USER)?void 0:s.subscription)&&s.includes('CoderPlus')&&(a.coderPlus=!0),e.next=5,t.get(a);case 5:return e.abrupt('return',e.sent);case 6:case'end':return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}()]}};e.state('services',_objectSpread({url:'/servicios?'.concat(t)},n)).state('services-2',_objectSpread({url:'/desarrollo-profesional?'.concat(t)},n)).state('services-3',_objectSpread({url:'/experiencias-coder-pro?'.concat(t)},n)).state('coder-pro',_objectSpread({url:'/pro?'.concat(t)},n)).state('coder-pro-1',_objectSpread({url:'/experiencias?'.concat(t)},n)).state('coder-pro-2',_objectSpread({url:'/coder-pro?'.concat(t)},n))}]).component('services',{bindings:{servicesTmp:'<'},templateUrl:'modules/platform/services/services.view.html',controllerAs:'vm',controller:['$rootScope','$timeout','CODER_LANDINGS','$stateParams','AmplitudeSrv','BotSrv','ServicesSrv','NotificationSrv','$filter',function(l,c,d,u,m,a,s,o,i){var p=this;function v(e,t,n){return''.concat(n,' ').concat(e,' ').concat(t)}p.IS_MOBILE=l.IS_MOBILE,p.applyingTags=!1,p.showingCheckout=!1,p.loadingCheckout=!1,p.checkoutUrl=null,p.cart={finalPrice:0},p.paidAmmount=0,p.notPaidAmmount=0,p.hasCoderPlus=!1,p.disableServiceStartBtn=!1,p.isIframe='true'===window.IS_IFRAME,p.$onInit=function(){for(var e=null==l||null==(e=l.USER)?void 0:e.subscription,t=(null!=e&&e.includes('CoderPlus')&&(p.hasCoderPlus=!0),p.servicesTmp.filter(function(e){return e.published&&'5e1c8774bb79c1009218323b'!==e._id})),n=[],r=0;r<t.length;r++)n.push(function(n){n.svg='modules/landings/coder-pro/img/service-imgs/icon-'.concat('tickets','.svg'),n.tags=n.tags||[],n.tags.length||(a=n.tags).push.apply(a,['profesional','freelance']),n.tags=n.tags.filter(function(e){return!(null!=e&&e.includes('Eventos'))}),null!=(a=n.tags)&&a.sort().forEach(function(e,t){n.tags[t]=e={text:l.capitalize(e.toLowerCase())}});for(var e=n.tags,t=[],r=0;r<e.length;r++)t.push(e[r].text);n.tagsSet=new Set(t),n.active=!0,n.hasShowMore=190<n.description.length,n.shortDescription=n.hasShowMore?''.concat(n.description.substring(0,190),'...'):'',n.showFullDescription=!n.hasShowMore,n.flags.purchased&&p.paidAmmount++;var a=n.pricing;return a.priceDiscountAlias=!!a.priceDiscount&&''.concat(a.priceDiscount,'%OFF'),a.priceAlias=v(a.price,a.currency.iso_code,a.currency.symbol),a.fullFinalPriceAlias=v(a.fullFinalPrice,a.currency.iso_code,a.currency.symbol),n}(t[r]));p.services=n,p.notPaidAmmount=p.services.length-p.paidAmmount,p.services.sort(function(e,t){return e.flags.purchased?t.flags.purchased?0:-1:t.flags.purchased?1:0}),p.tags=function(){for(var r=[],e=p.services,t=function(e){for(var t=e.tags,n=0;n<t.length;n++)!function(t){r.some(function(e){return e.text===t.text})||r.push(_objectSpread(_objectSpread({},t),{},{active:!0}))}(t[n])},n=0;n<e.length;n++)t(e[n]);return r}(),p.filters={purchased:!0,notPurchased:!0},u.checkout?(p.toggleCartItem(p.services.find(function(e){return e._id===u.serviceId})),p.onSubmit(null,!0)):m.logEvent('services',{from:'loaded',to:u.checkout?'checkout':'services',action:'loaded'}),c(a.hide,1e3)},p.onClickFilterByTag=function(e,t){e.preventDefault(),t.active=!t.active;for(var n=p.tags.filter(function(e){return e.active}),r=[],a=0;a<n.length;a++)r.push(n[a].text);var s,o=r;if(o.length)for(var i=p.services,l=0;l<i.length;l++)(s=i[l]).active=s.tags.some(function(e){e=e.text;return null==o?void 0:o.includes(e)});else t.active=!0},p.toggleCartItem=function(e,t){e.preventDefault(),t.selected=!t.selected,p.cart.finalPrice+=t.pricing.fullFinalPrice*(t.selected?1:-1),p.cart.currency=t.pricing.currency,p.cart.finalPriceAlias=v(p.cart.finalPrice,p.cart.currency.iso_code,p.cart.currency.symbol),m.logEvent('services',{from:'services',to:'service',action:t.selected?'add-to-cart':'remove-from-cart',name:t.title})},p.startService=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p.disableServiceStartBtn=!0,r={userId:null==(r=l.USER)?void 0:r._id,serviceId:n._id,isTop10:!1},e.prev=3,e.next=6,s.startService(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),o.error({msg:i('translate')('services-start-error')});case 11:return e.prev=11,p.disableServiceStartBtn=!1,m.logEvent('services',{from:'services',to:'service',action:'start-coderplus',user:l.USER._id,service:n.title}),e.finish(11);case 15:case'end':return e.stop()}},e,null,[[3,8,11,15]])}));return function(e,t){return n.apply(this,arguments)}}(),p.onSubmit=function(e,t){if(null!=e&&e.preventDefault(),!p.loadingCheckout&&!p.showingCheckout){p.loadingCheckout=!0;for(var e=u.utm_campaign,e=void 0===e?'banner':e,n=u.utm_medium,n=void 0===n?'plataforma':n,r=u.utm_source,r=void 0===r?'upselling':r,a=u.cpn,e=['stu='.concat(l.USER._id),'utm_campaign='.concat(e),'utm_medium='.concat(n),'utm_source='.concat(r),'cpn='.concat(a||'60a65d4a757a210012fcef88')].join('&'),s=p.services.filter(function(e){return e.selected}),o=[],i=0;i<s.length;i++)o.push(function(e){e=e._id;return'srvs='.concat(e)}(s[i]));n=o.join('&'),a=null!=(r=null==l?void 0:l.USER)?r.profile.country:'';p.checkoutUrl=''.concat(d.CHECKOUT_PRO,'&').concat(n,'&').concat(e,'&fc=').concat(a),m.logEvent('services',{from:t?'loaded':'services',to:'checkout',action:t?'loaded':'submit'}),c(function(){p.loadingCheckout=!1,p.showingCheckout=!0,l.$emit('BODY:PREVENT_SCROLL'),p.IS_MOBILE&&document.body.scrollTo({top:0,behavior:'smooth'})},1500)}},p.onClickGoBack=function(e){e.preventDefault(),p.showingCheckout=!1,l.$emit('BODY:ALLOW_SCROLL')}}]}),angular.module('core').config(['$stateProvider',function(e){e.state('training-camps',{url:'/training-camps',parent:'platform',component:'trainingCamps',data:{requiresLogin:!0,isFbLocked:!0}}).state('training-camp',{url:'/training-camp',parent:'platform',component:'trainingCamps',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('trainingCamps',{bindings:{},templateUrl:'modules/platform/training-camps/training-camps.view.html',controllerAs:'vm',controller:['$stateParams','$location','$rootScope','TrainingCampsSrv','NotificationSrv','ProductsSrv','$filter','$state',function(e,t,r,a,s,n,o,i){var l=this,c=o('translate');function d(){return(d=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getCourses({_id:l.trainingCamp._id,training:1,startDate:(new Date).getTime(),ts:(new Date).getTs()});case 3:return e.abrupt('return',e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.trace(e.t0),e.t0;case 10:case'end':return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function u(){return(u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.createPurchase({courseId:t._id,userId:r.USER._id,trainingId:l.trainingCamp._id,redirectTo:''.concat(location.origin,'/cursos/').concat(t.camada.id,'/').concat(t.level.url)});case 2:null!=(n=e.sent)&&n.success?(s.success({msg:c('ch-modal-request-product-modifier.toast.sended')}),i.go('dashboard')):s.error();case 4:case'end':return e.stop()}},e)}))).apply(this,arguments)}l.TRAINING_CAMP=''.concat(window.CH_TRAINING_CAMP,'/training-camp'),l.$onInit=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.hasAccess({userId:r.USER._id});case 2:if((t=e.sent).canSeeTrainingCamp||i.go('dashboard'),l.trainingCampCourse=null==t?void 0:t.course,l.trainingCamp=null==t?void 0:t.trainingCamp,null!=(t=l.trainingCamp)&&t._id)return e.next=9,function(){return d.apply(this,arguments)}();e.next=12;break;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=[];case 13:l.courses=e.t0;case 14:case'end':return e.stop()}},e)})),l.onClickGetCourses=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case'end':return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),l.onClickEnroll=function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,function(){return u.apply(this,arguments)}(n);case 3:case'end':return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()}]}),angular.module('core').config(['$stateProvider',function(e){e.state('videotutorials2021',{url:'/videotutorials-2021',parent:'platform',component:'videotutorials2021',data:{requiresLogin:!0,isFbLocked:!0}})}]).component('videotutorials2021',{bindings:{},templateUrl:'modules/platform/videotutorials-2021/videotutorials-2021.view.html',controllerAs:'vm',controller:['$stateParams','$location',function(e,t){this.VIDEOTUTORIALS_2021=''.concat(window.CH_PLATFORM_2021,'/videotutorials')}]}),angular.module('core').run(['$templateCache',function(e){e.put('modules/ch-components/ch-banner-coder-week/ch-banner-coder-week.view.html','<div class="ch-banner-coder-week-container link-clean" ng-if="vm.BANNER.enable" ng-class="{\n  show: vm.showingBanner,\n  hide: vm.closeBanner,\n  transitioning: vm.transitioning,\n}" ng-style=" {\'--banner-height\': vm.bannerHeight, \'--t-dur\' : vm.transitionDuration + \'ms\' }"> <a class="ch-abs-full" ng-prop-href="vm.link" ng-prop-target="vm.target" ng-if="vm.options.wholeCta"></a> <div class="content ch-no-click" ng-if="!vm.BANNER.bannerCoderWeekHotSale"> <div class="title font-title"> <span ng-bind-html="vm.title" class="ch-w100 ch-dib"></span> </div> <div class="right" ng-if="vm.showRight"> <a class="ch-underline ch-all-click slide" style="color:var(--absolute-color-inverted)" ng-if="vm.options.showCta" ng-prop-href="vm.link" ng-prop-target="vm.target"> <span ng-bind="vm.options.cta.label"></span> </a> <a href="#" class="close-btn clickable-effects soft-fx ch-all-click" ng-if="vm.BANNER.closable" ng-click="vm.onClickClose($event)"> <ch-svg-icon icon="\'times\'" size="\'1em\'"></ch-svg-icon> </a> </div> </div> <div class="content ch-rel-full" ng-if="vm.BANNER.bannerCoderWeekHotSale"> <ch-banner-coder-week-hot-sale class="ch-rel-full" banner="vm.BANNER" countdown="vm.countdown"> </ch-banner-coder-week-hot-sale> </div> </div>'),e.put('modules/ch-components/ch-banner-survey/ch-banner-survey.view.html','<div class="ch-banner-survey-container" ng-show="vm.BANNER.enable"> <div class="content"> <span><a ng-href="#" ng-click="vm.sendSurvey()">{{ \'ch-banners.survey.link-text\' | translate }}</a>&nbsp;{{ \'ch-banners.survey.text\' | translate }}</span> </div> </div>'),e.put('modules/ch-components/ch-banner-talent-week/ch-banner-talent-week.view.html','<div class="ch-banner-talent-week-container link-clean" ng-if="vm.BANNER.enable" ng-class="{show: vm.showingBanner, hide: vm.closeBanner, transitioning: vm.transitioning}" ng-style="{\'--banner-height\': vm.bannerHeight, \'--t-dur\' : vm.transitionDuration + \'ms\' }"> <div class="content"> <div class="content--header"> <div class="right"> <a href="#" class="close-btn clickable-effects soft-fx ch-all-click" ng-click="vm.onClickClose($event)"> <ch-svg-icon icon="\'times\'" size="\'1.5em\'"></ch-svg-icon> </a> </div> <div class="content content--title font-title data-title gradient-font"> <span ng-bind-html="\'ch-banners.talent-week.title\' | translate"></span> </div> </div> <div class="content--info"> <span ng-bind-html="\'ch-banners.talent-week.content-1\' | translate"></span> <span ng-bind-html="\'ch-banners.talent-week.content-2\' | translate"></span> <span> <a class="ch-btn-2021-square" ng-prop-href="vm.link" ng-prop-target="vm.target" ng-bind-html="\'ch-banners.talent-week.signup\' | translate"> </a> </span> </div> </div> </div>'),e.put('modules/ch-components/ch-banner-tutorials/ch-banner-tutorials.view.html','<div> <div class="row ch-banner-tutorials-container" ng-show="vm.showBanner"> <div class="col-sm-12"> <div class="box-container"> <div class="background"> <div class="picture"> <div class="gradient"></div> </div> </div> <div class="row"> <div class="col-sm-8"> <small ng-bind-html="\'ch-banner-tutorials.title\' | translate"></small> <br> <b ng-bind-html="\'ch-banner-tutorials.subtitle\' | translate"></b> <div class="ch-point75-em ch-z0 white-content"> <span ng-bind-html="vm.TEXTS[\'ch-banner-tutorials.subtitle.1\']"></span> </div> </div> <div class="col-sm-4 d-flex justify-content-end align-items-center"> <div class="d-flex justify-content-end align-items-center"> <a href="#" class="ch-btn-2021-square ch-btn-sm mr-2" ng-click="vm.onClickOpenModal($event);"> <span ng-bind-html="\'ch-banner-tutorials.btn-test\' | translate"></span> </a> <a href="#" class="ch-btn btn-sidebar ch-btn-circle ch-btn-sm" ng-click="vm.onClickClose($event)"> <ch-svg-icon class="mb-2" icon="\'close\'"></ch-svg-icon> </a> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-banner-upselling/ch-banner-upselling.view.html','<div> <div class="row ch-banner-upselling-container" ng-show="vm.showBanner"> <div class="col-sm-12"> <div class="box-container"> <div class="background"> <div class="picture"> <div class="gradient"></div> </div> </div> <div class="row"> <div class="col-sm-8 white-content"> <small> <span ng-bind-html="\'ch-banner-upselling.title\' | translate"></span> <b ng-bind-html="vm.cupon.enrollmentDiscountAlias"></b> </small> <br> <b style="display:block" class="mt-2"> {{vm.levelTmp.title}} - Inicia el {{vm.courseTmp.startDateAlias}} </b> <ul class="list-unstyled list-inline d-flex align-center mt-3 classmates-list"> <li class="list-inline-item" ng-if="!vm.classmates.length"> <a ng-prop-href="vm.levelTmp.testimonialsLink" ng-click="vm.onClickTestimonials($event)" target="_blank" style="color:#fff"> <small ng-bind-html="\'ch-banner-upselling.subtitles.0\' | translate"></small> </a> </li> <li class="list-inline-item" ng-if="vm.classmates.length"> <small ng-bind-html="\'ch-banner-upselling.subtitles.1\' | translate"></small> </li> <li class="list-inline-item" ng-if="vm.classmates.length"> <ul class="list-unstyled list-inline d-flex"> <li ng-repeat="stu in vm.classmates | limitTo:5 track by $index" class="list-inline-item"> <div class="round-img" ng-style="{\n                      \'--url\': \'url(\'+(stu.profile.avatar | cloudinary:32:32)+\')\',\n                      \'--size\': \'1.5em\'\n                    }" ng-class="{\n                      \'no-avatar\': !stu.profile.avatar.length\n                    }" data-toggle="tooltip" ng-prop-title="stu.fullName"> <span ng-if="!stu.profile.avatar" class="correct-helv" ng-bind-html="stu.initials"></span> </div> </li> <li> <small ng-bind-html="\'+\' + vm.classmates.length"></small> </li> </ul> </li> </ul> </div> <div class="col-sm-4 text-right btns"> <span class="d-flex justify-content-end align-center w-100"> <div class="d-flex justify-content-end align-center w-100" style="flex-direction:column"> <div class="d-flex justify-content-end align-center w-100"> <a ng-prop-href="vm.levelTmp.programs.ar" class="ch-btn-2021-square ch-btn-sm outline mr-2" ng-click="vm.onClickDownload($event);" target="_blank"> <span ng-bind-html="\'ch-banner-upselling.btn-download\' | translate"></span> </a> <a ng-prop-href="vm.courseTmp.checkoutLink" class="ch-btn-2021-square ch-btn-sm primary" ng-click="vm.onClickEnroll($event);" target="_blank"> <span ng-bind-html="\'ch-banner-upselling.btn-enroll\' | translate"></span> </a> </div> <div class="d-flex justify-content-end align-center w-100 pt-2"> <a class="ch-btn-2021-link" ng-prop-href="vm.levelTmp.fullLink" ng-click="vm.onClickSeeOtherDates($event);" target="_blank"> <small ng-bind-html="\'ch-banner-upselling.btn-dates\' | translate"></small> </a> </div> </div> </span> </div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-banner-workshop/ch-banner-workshop.view.html','<div class="ch-banner-workshop-container link-clean" ng-if="vm.banner.enabled" ng-class="{show: vm.showingBanner, hide: vm.closeBanner, transitioning: vm.transitioning}" ng-style="{\'--banner-height\': vm.bannerHeight, \'--t-dur\' : vm.transitionDuration + \'ms\' }"> <div class="right"> <a href="#" class="close-btn clickable-effects soft-fx ch-all-click" ng-click="vm.onClickClose($event)"> <ch-svg-icon icon="\'close\'" size="\'1em\'" color="\'#27282D\'"></ch-svg-icon> </a> </div> <div class="content"> <div class="content--image" ng-if="vm.banner.image" ng-style="{\'background-image\':\'url({{vm.banner.image}})\'}"></div> <div class="content--description"> <span ng-bind-html="vm.banner.content"></span> </div> <div class="content--action" ng-if="vm.banner.cta.url"> <span> <a ng-href="{{vm.banner.cta.url}}" ng-click="vm.onClickCta(vm.banner.cta.url)" target="_blank">{{vm.banner.cta.text}} <ch-svg-icon icon="\'arrow-r-v2\'" size="\'1em\'" color="\'#000\'"></ch-svg-icon> </a> </span> </div> </div> </div>'),e.put('modules/ch-components/ch-btn-arrow/ch-btn-arrow.view.html','<div class="ch-btn-arrow-container {{vm.direction}}"> <button ng-prop-type="vm.type || \'submit\'" class="button-clean dyn-link" ng-click="vm.atClick && vm.atClick($event)"> <span class="label" ng-bind="vm.label"></span> <div class="icon"> <span ng-bind-html="vm.icons[\'arrow-2-r\']"> </span> </div> </button> </div>'),e.put('modules/ch-components/ch-btn-notifications/ch-btn-notifications.view.html','<div class="ch-btn-notifications-container" id="ch-btn-notifications"> <div class="content"> <div class="bell-box" ng-click="vm.toggle()"> <ch-svg-icon icon="\'bell-bordered\'" class="icon-bell"></ch-svg-icon> <i class="fas fa-circle" ng-show="vm.flagHasUnread"></i> </div> <ch-popup-container show="vm.show" position="\'right\'" translation="\'top\'" on-click-outside="vm.onClickOutside" click-outside-selector="\'#ch-btn-notifications\'"> <div class="notifications-list-container"> <div class="close-btn hide-on-desktop"> <div class="btn-outline btn-round solid-bg" ng-click="vm.close()"> <span ng-bind-html="\'ch-btn-notifications-close\' | translate"></span> <ch-svg-icon icon="\'close\'" class="ml-2"></ch-svg-icon> </div> </div> <div class="popup-card notifications-list" ng-if="vm.notifications.length"> <div class="notification" ng-repeat="item in vm.notifications track by $index" ng-class="{\n            \'flag-readed\': item.flags.wasReaded,\n            \'flag-has-popup\': item.link || item.image || item.video\n          }" ng-click="vm.onClickOpenNotification($event, item)"> <div class="content"> <div class="date" ng-bind="item.titleAlias"></div> <div class="text"> <p ng-bind-html="item.shortDescription"></p> </div> </div> </div> </div> <div class="popup-card notifications-list notifications-list-empty" ng-if="!vm.notifications.length" ng-bind="\'ch-btn-notifications.no-notifications\' | translate"></div> </div> </ch-popup-container> </div> </div>'),e.put('modules/ch-components/ch-campus-modal/ch-campus-modal.view.html','<div class="modal fade ch-campus-modal-container" id="ch-campus-modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="step-container"> <div class="modal-header"> <h5 class="modal-title"> <b ng-bind="\'ch-modal-request-unenroll.title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-switch="showBalanceError"> <div ng-switch-when="true"> {{ \'ch-campus-modal.body.request-balance.error\' | translate }} </div> <div ng-switch-when="false"> <div ng-switch="isOnQualityPeriod"> <p ng-switch-when="true" ng-bind-html="\'ch-campus-modal.body.qualityperiod.text.1\' | translate"></p> <p ng-switch-when="false" ng-bind-html="\'ch-campus-modal.body.not-qualityperiod.text.1\' | translate"></p> </div> <ul style="list-style:none"> <li> <i class="fa fa-hand-o-right" aria-hidden="true"></i> <strong><a href="#" ng-click="vm.onCommissionChange()">{{ \'ch-campus-modal.body.change-commission.link-text\' | translate }}</a>: </strong> {{ \'ch-campus-modal.body.change-commission.link-description\' | translate }} </li> <br> <li> <i class="fa fa-hand-o-right" aria-hidden="true"></i> <strong><a href="#" ng-click="vm.onCourseChange()">{{ \'ch-campus-modal.body.change-course.link-text\' | translate }}</a>: </strong> {{ \'ch-campus-modal.body.change-course.link-description\' | translate }} </li> <br> <li> <i class="fa fa-hand-o-right" aria-hidden="true"></i> <strong><a href="#" ng-click="vm.onTransferCourse()">{{ \'ch-campus-modal.body.transfer-course.link-text\' | translate }}</a>: </strong> {{ \'ch-campus-modal.body.transfer-course.link-description\' | translate }} </li> <br> <li ng-show="showRequestBalance"> <i class="fa fa-hand-o-right" aria-hidden="true"></i> <strong><a href="#" ng-click="vm.onRequestBalance()">{{ \'ch-campus-modal.body.request-balance.link-text\' | translate }}</a>: </strong> {{ \'ch-campus-modal.body.request-balance.link-description\' | translate }} </li> </ul> <div ng-switch="isOnQualityPeriod"> <p ng-switch-when="true">{{ \'ch-campus-modal.body.qualityperiod.text.2\' | translate }}</p> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-chat/ch-chat.view.html','<div class="ch-chat-container" ng-cloak> <ch-loader></ch-loader> <iframe id="iframe-chat" ng-prop-src="vm.URL" class="iframe-platform-2021 lozad-chat" allowfullscreen></iframe> </div>'),e.put('modules/ch-components/ch-loader/ch-loader.view.html','<div class="ch-loader-container"> <div id="ch-loader-spinner" class="ch-loader-spinner" ng-class="{show: show === true}"> <div class="bg"></div> <div class="img"> <div class="spinner"></div> </div> </div> </div>'),e.put('modules/ch-components/ch-logo/ch-logo.view.html','<div> <div class="ch-logo-container"> <ch-svg-icon icon="\'coder-logo-2021\'" alt="Coderhouse" color="color || \'var(--absolute-color-inverted)\'" width="\'100%\'" height="\'50px\'"> </ch-svg-icon> </div> </div>'),e.put('modules/ch-components/ch-modal-feedback/ch-modal-feedback.view.html','<div class="modal fade ch-modal-feedback-container" id="ch-modal-feedback" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <span ng-if="!vm.currentSchedule.flags.showNpsFeedback" ng-bind-html="\'ch-modal-feedback.title.daily\' | translate"></span> <span ng-if="vm.currentSchedule.flags.showNpsFeedback" ng-bind-html="\'ch-modal-feedback.title.nps\' | translate"></span> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body m-0 p-0"> <div style="border:0;display:block" id="typeform-feedback" width="100%" height="500px" frameborder="0"></div> </div> <div class="modal-footer justify-content-between"> <p> <small ng-bind-html="\'ch-modal-feedback.subtitle\' | translate"></small> </p> <button type="button" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onSubmit($event)"> <span ng-bind="!vm.showBtnClose ? vm.TEXTS[\'ch-modal-feedback.btn.close\'] : vm.TEXTS[\'ch-modal-feedback.btn.pospose\']"></span> </button> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-info-services/ch-modal-info-services.view.html','<div class="modal fade ch-modal-info-services" id="ch-modal-info-services" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <div class="modal-content"> <div> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-header d-flex flex-column text-center"> <h5 class="modal-title" ng-bind-html="\'ch-modal-info-services.title\' | translate"></h5> <div class="pt-2 d-flex align-items-center justify-content-center w-100"> <div class="avatar" style="background-image:url(/modules/core/img/Cami.jpeg)"></div> <div class="avatar" style="background-image:url(/modules/core/img/Juani.png)"></div> <div class="avatar" style="background-image:url(/modules/core/img/Palo.jpeg)"></div> </div> <p class="pt-4" ng-bind="vm.service.description"> </p> </div> <div class="modal-body"> <div class="row"> <div style="border-bottom:1px dashed var(--light-gray)"> <h4 class="sub-title" ng-bind="vm.service.title"></h4> <p class="content" ng-bind="vm.service.longDescription"></p> </div> <div class="d-flex w-100 justify-content-between pt-4"> <div class="d-flex flex-column money"> <span ng-bind-html="\'ch-modal-info-services.label\' | translate"></span> <span class="pt-2" ng-bind="vm.service.pricing.finalPrice | currency:vm.service.pricing.currency.iso_code:false"></span> </div> <div class="d-flex justify-content-between align-self-center"> <button class="btn-outline" ng-click="vm.onClickAddToCart($event)"> <ch-svg-icon icon="\'communications\'" width="\'14px\'" height="\'14px\'"></ch-svg-icon> &nbsp;&nbsp; <span ng-bind-html="\'ch-modal-info-services.btn-enroll\' | translate"></span> </button> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-onboarding-slides-v2/ch-modal-onboarding-slides-v2.view.html','<div class="modal fade ch-modal-onboarding-slides-v2-container modal-{{vm.slides.key}}" id="ch-modal-onboarding-slides-v2" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog modal-md animated" role="document"> <div class="modal-content"> <div class="modal-body"> <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel"> <div class="carousel-inner"> <div ng-repeat="slide in vm.slides.items track by $index" ng-class="{active: slide.active}" class="carousel-item"> <div class="carousel-item-content"> <div class="carousel-caption d-md-block"> <h2 ng-bind-html="slide.title"></h2> <p ng-bind-html="slide.text"></p> <p ng-if="slide.image.length"> <img ng-prop-src="slide.image" alt="slide.title" ng-style="{\'transform\': slide.addImageClass ? \'scale(1.2)\' : \'\'}"> </p> <div class="ch-w100 ch-df ch-global-center" ng-if="slide.btn.isNext"> <ch-btn-arrow at-click="slide.btn.onClick || vm.onClickSlide" direction="\'right\'" label="slide.btn.label || \'Próximo\'"> </ch-btn-arrow> </div> <div class="ch-w100 ch-df ch-global-center"> <a href="#" ng-if="!slide.btn.isNext && slide.btn.label" class="ch-btn-2021-square bordered" ng-click="slide.btn.onClick($event)"> <span class="correct-helv" ng-bind="slide.btn.label"></span> </a> </div> </div> </div> </div> </div> <a ng-if="!vm.slides.hideArrows" ng-click="vm.onClickSlide($event, -1)" class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev"> <span class="carousel-control-prev-icon" aria-hidden="true"> <i class="fas fa-chevron-left"></i> </span> </a> <a ng-if="!vm.slides.hideArrows" ng-click="vm.onClickSlide($event)" class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next"> <span class="carousel-control-next-icon" aria-hidden="true"> <i class="fas fa-chevron-right"></i> </span> </a> <ol class="carousel-indicators"> <li ng-repeat="slide in vm.slides.items track by $index" href="#carouselExampleCaptions" ng-class="{active: slide.active}" data-slide-to="{{$index}}"> </li> </ol> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-referrals/ch-modal-referrals.view.html','<div class="modal fade ch-modal-referrals-container" id="ch-modal-referrals" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <div class="modal-content"> <div class="modal-header"> <button ng-click="vm.onClickClose($event)" type="button" class="close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body mb-3"> <div class="row title"> <h1 ng-bind="\'ch-modal-referral.title\' | translate"></h1> </div> <div class="row code"> <span ng-bind="vm.cupon.code"></span> <div class="copy-icon" ng-bind-html="vm.copyIcon" ng-click="vm.copyCode()"></div> </div> <div class="row subtitle-discount"> <span ng-bind="\'ch-modal-referral.subtitle\' | translate"></span> </div> <div class="row description"> <span ng-bind="\'ch-modal-referral.description\' | translate"></span> </div> <div class="row subtitle-perks"> <span ng-bind="\'ch-modal-referral.subtitle-perks\' | translate"></span> </div> <div class="row perks"> <div> <div class="perk"> <span class="text-strong" ng-bind="\'ch-modal-referral.two-inscriptions\' | translate"></span> <span class="perk-description" ng-bind="\'ch-modal-referral.two-inscriptions-discount\' | translate"></span> </div> <div class="perk"> <span class="text-strong" ng-bind="\'ch-modal-referral.five-inscriptions\' | translate"></span> <span class="perk-description" ng-bind="\'ch-modal-referral.five-inscriptions-discount\' | translate"></span> </div> <div class="perk"> <span class="text-strong" ng-bind="\'ch-modal-referral.ten-inscriptions\' | translate"></span> <span class="perk-description" ng-bind="\'ch-modal-referral.ten-inscriptions-discount\' | translate"></span> </div> </div> </div> <div class="row button-referrals"> <a class="ch-btn-v7 btn-referrals" href="#" ng-click="vm.goToReferrals()"> <span class="ch-btn-v7-label ng-binding" ng-bind="\'ch-modal-referral.button\' | translate"></span> </a> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-share/ch-modal-share.view.html','<div class="modal ch-modal-share-container" id="ch-modal-share" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 ng-bind-html="vm.TEXTS.title"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <p ng-if="vm.TEXTS.description" ng-bind-html="vm.TEXTS.description"></p> <div class="row code-container"> <div class="col-sm-12"> </div> </div> </div> <div class="col-sm-12 share-items-container"> <span><a href="https://www.linkedin.com/feed/hashtag/coderhouse/" target="_blank">#coderhouse</a> <a href="https://www.linkedin.com/feed/hashtag/democratizandolaeducación/" target="_blank" ng-bind-html="\'ch-modal-share.link-linkedin\' | translate"></a> </span> <br> <br> <ul class="list-unstyled list-inline" style="margin:0"> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'linkedin\')"> <i class="fab fa-linkedin"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'facebook\')"> <i class="fab fa-facebook-f"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'twitter\')"> <i class="fab fa-twitter"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'whatsapp\')"> <i class="fa fa-whatsapp"></i> </a> </li> </ul> <textarea id="copy-area" style="opacity:0;margin:0;padding:0;height:0"></textarea> </div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-social-sharing/ch-modal-social-sharing.view.html',' <div id="ch-modal-social-sharing"> <div> <p class="toast-title" ng-bind="vm.title"> {{ vm.title }} </p> <p> {{ vm.description }}</p> </div> <div class="social-sharing-btn"> <a ng-click="vm.onClickLinks($event)" class="social-sharing-icons"> <i class="fab fa-linkedin"></i> </a> <a ng-click="vm.onClickClose($event)" class="social-sharing-icons cursor-pointer"> <p class="social-sharing-omit" ng-bind="\'home-social-sharing.omitir\' | translate"></p> </a> </div> </div>'),e.put('modules/ch-components/ch-modal-support/ch-modal-support.view.html','<div class="modal fade ch-modal-support-container" id="ch-modal-support" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 style="margin:0" ng-bind-html="\'ch-modal-support.title-help\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body mb-3" ng-show="vm.flags.index"> <section class="row"> <div class="support-item col-5 col-md-4 d-flex pt-3 pb-2 align-items-center justify-content-space-between text-center flex-column" ng-click="vm.onClickFaqs($event)"> <svg width="28" height="23" viewBox="0 0 17 15" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.5 13.5V12.5C8.5 11.9696 8.28929 11.4609 7.91421 11.0858C7.53914 10.7107 7.03043 10.5 6.5 10.5H2.5C1.96957 10.5 1.46086 10.7107 1.08579 11.0858C0.710714 11.4609 0.5 11.9696 0.5 12.5V13.5" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.5 8.5C5.60457 8.5 6.5 7.60457 6.5 6.5C6.5 5.39543 5.60457 4.5 4.5 4.5C3.39543 4.5 2.5 5.39543 2.5 6.5C2.5 7.60457 3.39543 8.5 4.5 8.5Z" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11.5 13.4999V12.4999C11.4997 12.0568 11.3522 11.6263 11.0807 11.2761C10.8092 10.9259 10.4291 10.6757 10 10.5649" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M8 4.56494C8.43021 4.67509 8.81152 4.92529 9.08382 5.2761C9.35612 5.6269 9.50392 6.05836 9.50392 6.50244C9.50392 6.94653 9.35612 7.37798 9.08382 7.72879C8.81152 8.07959 8.43021 8.32979 8 8.43994" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11.74 4.692L11.716 3.702H11.992C12.196 3.702 12.382 3.684 12.55 3.648C12.718 3.612 12.852 3.542 12.952 3.438C13.052 3.334 13.102 3.182 13.102 2.982C13.102 2.79 13.044 2.64 12.928 2.532C12.812 2.42 12.658 2.364 12.466 2.364C12.266 2.364 12.11 2.42 11.998 2.532C11.886 2.64 11.83 2.788 11.83 2.976H11.104C11.1 2.736 11.152 2.522 11.26 2.334C11.368 2.146 11.524 1.998 11.728 1.89C11.936 1.782 12.184 1.728 12.472 1.728C12.74 1.728 12.976 1.778 13.18 1.878C13.388 1.978 13.55 2.122 13.666 2.31C13.786 2.494 13.846 2.72 13.846 2.988C13.846 3.264 13.784 3.492 13.66 3.672C13.54 3.852 13.374 3.986 13.162 4.074C12.954 4.162 12.712 4.208 12.436 4.212L12.418 4.692H11.74ZM12.082 6.042C11.942 6.042 11.826 5.998 11.734 5.91C11.646 5.822 11.602 5.716 11.602 5.592C11.602 5.464 11.646 5.356 11.734 5.268C11.826 5.18 11.942 5.136 12.082 5.136C12.222 5.136 12.336 5.18 12.424 5.268C12.512 5.356 12.556 5.464 12.556 5.592C12.556 5.716 12.512 5.822 12.424 5.91C12.336 5.998 12.222 6.042 12.082 6.042Z" fill="var(--icon-color)"/> </svg> <span class="mt-3 mb-2" ng-bind-html="\'ch-modal-support.btn-faqs\' | translate"></span> </div> <div class="support-item col-5 col-md-4 d-flex pt-3 pb-2 align-items-center justify-content-space-between text-center flex-column" ng-if="vm.flags.showAssistantResource" ng-click="vm.onClickAssistantResource($event)"> <svg width="28" height="23" viewBox="0 0 17 15" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.5 13.5V12.5C8.5 11.9696 8.28929 11.4609 7.91421 11.0858C7.53914 10.7107 7.03043 10.5 6.5 10.5H2.5C1.96957 10.5 1.46086 10.7107 1.08579 11.0858C0.710714 11.4609 0.5 11.9696 0.5 12.5V13.5" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.5 8.5C5.60457 8.5 6.5 7.60457 6.5 6.5C6.5 5.39543 5.60457 4.5 4.5 4.5C3.39543 4.5 2.5 5.39543 2.5 6.5C2.5 7.60457 3.39543 8.5 4.5 8.5Z" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11.5 13.4999V12.4999C11.4997 12.0568 11.3522 11.6263 11.0807 11.2761C10.8092 10.9259 10.4291 10.6757 10 10.5649" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M8 4.56494C8.43021 4.67509 8.81152 4.92529 9.08382 5.2761C9.35612 5.6269 9.50392 6.05836 9.50392 6.50244C9.50392 6.94653 9.35612 7.37798 9.08382 7.72879C8.81152 8.07959 8.43021 8.32979 8 8.43994" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11.74 4.692L11.716 3.702H11.992C12.196 3.702 12.382 3.684 12.55 3.648C12.718 3.612 12.852 3.542 12.952 3.438C13.052 3.334 13.102 3.182 13.102 2.982C13.102 2.79 13.044 2.64 12.928 2.532C12.812 2.42 12.658 2.364 12.466 2.364C12.266 2.364 12.11 2.42 11.998 2.532C11.886 2.64 11.83 2.788 11.83 2.976H11.104C11.1 2.736 11.152 2.522 11.26 2.334C11.368 2.146 11.524 1.998 11.728 1.89C11.936 1.782 12.184 1.728 12.472 1.728C12.74 1.728 12.976 1.778 13.18 1.878C13.388 1.978 13.55 2.122 13.666 2.31C13.786 2.494 13.846 2.72 13.846 2.988C13.846 3.264 13.784 3.492 13.66 3.672C13.54 3.852 13.374 3.986 13.162 4.074C12.954 4.162 12.712 4.208 12.436 4.212L12.418 4.692H11.74ZM12.082 6.042C11.942 6.042 11.826 5.998 11.734 5.91C11.646 5.822 11.602 5.716 11.602 5.592C11.602 5.464 11.646 5.356 11.734 5.268C11.826 5.18 11.942 5.136 12.082 5.136C12.222 5.136 12.336 5.18 12.424 5.268C12.512 5.356 12.556 5.464 12.556 5.592C12.556 5.716 12.512 5.822 12.424 5.91C12.336 5.998 12.222 6.042 12.082 6.042Z" fill="var(--icon-color)"/> </svg> <span class="mt-3 mb-2" ng-bind-html="\'ch-modal-support.btn-what-to-do-when\' | translate"></span> </div> <div class="support-item col-5 col-md-4 d-flex pt-3 pb-2 align-items-center justify-content-space-between text-center flex-column" ng-if="vm.flags.showAssistantResource" ng-click="vm.onClickPedagogicalAssistance($event)"> <div class="item-icon" ng-bind-html="vm.iconRaisedHand"></div> <span class="mt-3 mb-2" ng-bind-html="\'ch-modal-support.btn-request-help\' | translate"></span> </div> <div class="support-item col-5 col-md-4 d-flex pt-3 pb-2 align-items-center justify-content-space-between text-center flex-column" ng-click="vm.onClickChat($event)"> <svg width="28" height="23" viewBox="0 0 18 13" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.5 6.75001C7.49828 7.40995 7.65247 8.06096 7.95 8.65001C8.30278 9.35589 8.84512 9.9496 9.51628 10.3647C10.1874 10.7797 10.9609 10.9997 11.75 11C12.4099 11.0017 13.0609 10.8475 13.65 10.55L16.5 11.5L15.55 8.65001C15.8475 8.06096 16.0017 7.40995 16 6.75001C15.9997 5.96089 15.7797 5.18744 15.3646 4.51629C14.9496 3.84514 14.3559 3.3028 13.65 2.95001C13.0609 2.65248 12.4099 2.49829 11.75 2.50001H11.5C10.4578 2.55751 9.47348 2.99739 8.73543 3.73544C7.99738 4.47349 7.5575 5.45784 7.5 6.50001V6.75001Z" fill="none" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M10 5.25001C10.0017 5.90995 9.84753 6.56096 9.55 7.15001C9.19722 7.85589 8.65488 8.4496 7.98372 8.86465C7.31257 9.27971 6.53912 9.49971 5.75 9.50001C5.09007 9.50173 4.43906 9.34755 3.85 9.05001L1 10L1.95 7.15001C1.65247 6.56096 1.49828 5.90995 1.5 5.25001C1.50031 4.46089 1.72031 3.68744 2.13536 3.01629C2.55041 2.34514 3.14413 1.8028 3.85 1.45001C4.43906 1.15248 5.09007 0.998294 5.75 1.00001H6C7.04217 1.05751 8.02652 1.49739 8.76457 2.23544C9.50262 2.97349 9.9425 3.95784 10 5.00001V5.25001Z" fill="var(--icon-color)" stroke="var(--icon-color)" stroke-linecap="round" stroke-linejoin="round"/> </svg> <span class="mt-3 mb-2" ng-bind-html="\'ch-modal-support.btn-support\' | translate"></span> </div> </section> </div> <form ng-show="vm.flags.support" ng-submit="vm.onSubmitSupportForm($event)"> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <label ng-bind-html="\'ch-modal-support.form-title\' | translate"></label> <div class="form-group"> <textarea class="form-control" minlength="50" ng-model="vm.message" required></textarea> </div> </div> </div> </div> <div class="modal-footer justify-content-end"> <button class="ch-btn-2021-square ch-btn-sm" type="submit"> <span ng-bind-html="\'ch-modal-support.form-btn\' | translate"></span> </button> </div> </form> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-tutorials-test/ch-modal-tutorials-test.view.html','<div> <div class="modal ch-modal-tutorials-test-container" id="ch-modal-tutorials-test-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-tutorials-test.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div style="border:0;display:block" id="typeform-test" width="100%" height="auto" frameborder="0"></div> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-modal-zoom-tips/ch-modal-zoom-tips.view.html','<div> <div class="modal fade ch-modal-zoom-tips-container" id="ch-modal-zoom-tips-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-zoom-tips.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-md-12"> <p ng-bind-html="\'ch-modal-zoom-tips.description\' | translate" class="m-0"></p> </div> </div> </div> <div class="modal-footer justify-content-center"> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-click="vm.onClickSubmit($event)" ng-bind-html="\'ch-modal-zoom-tips.close\' | translate"> </button> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-paid-content-premium/ch-paid-content-modal.html','<div class="modal fade ch-paid-content-modal-container" id="ch-paid-content-modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="closeModal()"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body d-flex align-items-center justify-content-space-between p-4 premium-container"> <div class="modal-left"> <h2 class="premium-title" ng-bind="\'ch-premium-modal-title\' | translate"></h2> <p class="text-white premium-paragraph" ng-bind="\'ch-premium-modal-paragraph\' | translate"></p> <p class="premium-subparagraph" ng-bind-html="\'ch-premium-modal-subparagraph\' | translate"></p> <p ng-bind="\'ch-premium-modal-subparagraph-2\' | translate"></p> <span class="text-white premium-price"> <b ng-bind="productParse"></b> </span> <small class="d-block pt-4 pb-2" class="premium-disclaimer" ng-bind="\'ch-premium-modal-disclaimer\' | translate"></small> <div class="d-flex align-items-center btn-premium-container"> <button class="ch-btn-2021-square ch-btn-sm ch-btn-premium premium-button" ng-bind="\'ch-premium-modal-buy-btn\' | translate" ng-click="onSubmit()"></button> <span ng-if="vm.programUrl" class="ch-btn-2021-link ml-4" ng-click="AnalyticsSrv.pushDataLayer(\'trackEvent\',\'coder_premium\',\'promocional\',\'ver_programa\')"> <a ng-href="{{vm.programUrl}}" target="_blank" rel="noopener noreferrer" ng-bind="\'ch-premium-modal-show-program\' | translate"></a> </span> </div> <div style="margin-top:10px" class="d-flex align-items-center btn-premium-container"> <span ng-bind-html="\'ch-premium-modal-tyc\' | translate"></span> </div> </div> <div class="modal-right p-2" ng-if="contentPreview"> <iframe class="premium-video" ng-prop-src="contentPreview" id="premium-iframe" frameborder="0" allowfullscreen></iframe> </div> </div> </div> </div> </div>'),e.put('modules/ch-components/ch-premium-badge/ch-premium-badge.html','<div class="ch-premium-badge"> <small class="badge-container ml-2"> <span class="badge-content"> <span class="badge-text" ng-bind="\'ch-course-student-menu.premium\' | translate"></span> </span> </small> </div> '),e.put('modules/ch-components/ch-schedule-changes/ch-schedule-changes.view.html','<div class="ch-schedule-changes-container"> <div class="content"> <span class="content-icon"></span> <span class="content-info" ng-bind-html="\'ch-schedule.changes.info\' | translate"></span> </div> </div>'),e.put('modules/ch-components/ch-upselling-mini-banner/ch-upselling-mini-banner.view.html','<div class="ch-upselling-mini-banner-container p-2 ch-df ch-aliic ch-juce ch-rel global-hide-hard" ng-class="{hide: vm.hideBanner}"> <p class="m-0 ch-df ch-aliic py-1"> <span ng-bind-html="activePerk.title"></span> </p> <div class="ch-abs clickable-effects soft-fx no-hover-fx mb-2" ng-click="closeBanner($event)" style="right:1em"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </div> </div>'),e.put('modules/ch-components/ch-widget-progress/ch-widget-progress.view.html','<div class="ch-widget-progress-container" ng-show="vm.loaded"> <div class="ch-widget-content"> <div class="ch-widget-content-left"> <div> <b class="headline" ng-bind="vm.progress.headline"></b> </div> <div> <small class="details" ng-bind="vm.progress.details"></small> </div> </div> <div class="number-container"> <b class="number" ng-bind="vm.progress.number"></b> </div> <div class="flag" ng-class="{\n      \'flag-alert\': vm.progress.flags.alert,\n      \'flag-warning\': vm.progress.flags.warning\n    }"> <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.5 13.75C10.9518 13.75 13.75 10.9518 13.75 7.5C13.75 4.04822 10.9518 1.25 7.5 1.25C4.04822 1.25 1.25 4.04822 1.25 7.5C1.25 10.9518 4.04822 13.75 7.5 13.75Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M7.5 5V7.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M7.5 10H7.50625" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </div> </div> <div class="ch-widget-content-progress" ng-class="{\n    \'flag-alert\': vm.progress.flags.alert,\n    \'flag-warning\': vm.progress.flags.warning\n  }" ng-if="vm.progress.perc"> <div class="progress-bar" ng-style="{\n        \'width\': vm.progress.init && vm.progress.perc\n      }"> </div> </div> </div>'),e.put('modules/ch-directives/ch-header/ch-header-dropdown-menu.view.html','<div class="ch-header-dropdown-menu-container"> <div class="dropdown"> <ul class="dropdown-menu mt-3" ng-class="{\n      hide: !vm.expand,\n      show: vm.expand\n    }" aria-labelledby="order-by-dropdown"> <li ng-repeat="item in vm.items track by $index"> <a class="dropdown-item d-flex justify-content-space-between align-items-center p-2 pl-3 pr-3" ng-click="item.cb($event, item)"> <ch-svg-icon icon="item.icon" classes="{{iconClasses}}" class="mr-3"></ch-svg-icon> <span class="correct-helv pt-1" ng-bind-html="item.label"></span> </a> </li> </ul> </div> </div>'),e.put('modules/ch-directives/ch-header/ch-header.view.html','<div class="w-100 window-drag"> <nav ng-hide="collapseHeader" id="ch-header-container" class="header-container" ng-class="{\'flag-hide\': flags.hide}"> <div ng-if="!USER._id" class="not-loged navbar"> <div> <a style="visibility:hidden" class="ch-link" href="#" ng-click="onClickOpenSupport($event)" ng-class="{active: sections.support}"> <i class="fas fa-question" ng-if="IS_MOBILE"></i> <span ng-if="!IS_MOBILE" class="label" ng-bind-html="\'ch-header.btn-help\' | translate"></span> </a> </div> <div ng-if="!IS_MOBILE"> <ul class="list-unstyled list-inline"> <li class="list-inline-item"> <a class="navbar-brand align-middle" ui-sref="dashboard"> <div class="logo"> <ch-logo></ch-logo> </div> </a> </li> </ul> </div> <div ng-if="IS_MOBILE" class="header-logo-container"> <a ui-sref="dashboard"> <div class="logo"> <ch-logo></ch-logo> </div> </a> </div> <div> <a ng-if="!IS_MOBILE" ng-click="goToLogin($event)" style="cursor:pointer" ng-class="{\n                  active: sections.support ,\n                  \'ch-link\': !IS_MOBILE,\n                  \'ch-btn ch-btn-outline ch-btn-sm ch-btn-icon\': IS_MOBILE\n                }"> <span ng-if="!IS_MOBILE" class="label" ng-bind-html="\'ch-header.btn-log-in\' | translate"></span> </a> </div> </div> <div ng-if="USER._id" class="loged navbar"> <div ng-if="!IS_MOBILE"> <ul class="list-unstyled list-inline" style="margin:0"> <li class="list-inline-item"> <a class="navbar-brand align-middle clickable-effects no-hover-fx soft-fx" ui-sref="dashboard"> <div class="logo"> <ch-logo></ch-logo> </div> </a> </li> </ul> </div> <div ng-if="IS_MOBILE" class="btn-sidebars-container"> <button ng-click="onClickToggleFiltersSidebar($event)" ng-style="{\'visibility\': \'hidden\'}" class="btn btn-sidebar-toggle" type="button"> <i class="fas fa-filter"></i> </button> </div> <div ng-if="IS_MOBILE" class="header-logo-container invert-on-darkmode loged"> <a ui-sref="dashboard"> <img ng-if="!FEATURES.B2B.logo" ng-style="{\'visibility\': \'\'}" src="//res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png" class="logo iso-logo d-inline-block align-middle" alt="Plataforma de Coder"> <img ng-if="FEATURES.B2B.logo" ng-style="{\'visibility\': \'\'}" ng-prop-src="FEATURES.B2B.logo" class="logo iso-logo d-inline-block align-middle" ng-prop-alt="FEATURES.B2B.name" style="margin:0;width:95px"> </a> </div> <div class="header-nav-v2-container"> <ul class="header-menu-list list-unstyled list-inline"> <li class="list-inline-item" ng-if="strategy.support"> <a class="ch-link" href="#" ng-click="onClickOpenSupport($event)"> <i class="far fa-question-circle" style="font-size:16px" aria-hidden="true"></i> </a> </li> <li class="list-inline-item"> <div class="referrals-box" ng-click="openReferralsModal()" ng-if="!IS_MOBILE"> <ch-svg-icon icon="\'referrals\'" size="\'1.25em\'" color="\'#FFF\'"></ch-svg-icon> </div> </li> <li class="list-inline-item" style="width:26px;height:26px" ng-if="FEATURES._NOTIFICATIONS_BUTTON && !IS_MOBILE"> <ch-btn-notifications></ch-btn-notifications> </li> <li class="list-inline-item nav-item dropdown" click-outside="handlePictureClick()"> <a class="dropdown-toggle" href="#" id="navbarDropdown" ng-click="handlePictureClick()"> <div class="profile-avatar round-img ch-rel"> <div ng-if="USER.flags.hasMembership" class="ch-abs-full background-cycle-animation ch-circle pro-flare-container" style="--offset:-.15em"> </div> <div class="image ch-abs-full ch-hero-image ch-circle" ng-style="{\'--url\': \'url(\'+(currentPicture | cloudinary:32:32)+\')\'}"></div> <div ng-if="USER.flags.hasMembership" class="pro-label"> <span class="font-title ch-bold text"> PRO </span> </div> <i class="fas fa-circle" style="color:red;position:absolute;right:-.2em;top:-.2em" ng-show="flagHasUnread"></i> <div class="arrow" ng-if="!USER.flags.hasMembership"> <i class="fas fa-chevron-down" style="font-size:8px"></i> </div> </div> </a> <ch-header-dropdown-menu class="hide-on-mobile" expand="openAvatarMenu" strategy="strategy" sections="sections"> </ch-header-dropdown-menu> </li> </ul> </div> </div> <div class="blog-progress-bar ng-scope"> <div class="blog-progress-actual-bar"></div> </div> </nav> </div>'),e.put('modules/ch-directives/ch-login-slides/ch-login-slides.view.html','<div class="ch-login-slides-container window-drag"> <div class="gradient ch-abs-full"></div> <div class="content ch-rel-full" ng-if="!vm.IS_B2B"> <div class="background-title ch-abs-full ch-df ch-global-center"> <span> nerds<br>4ever </span> </div> <div class="slide-list ch-rel-full" ng-style="{\'--current-slide\': vm.currentSlide, \'--transition-dur\': vm.transitionDur}"> <div class="actual-content login-slide" ng-repeat="item in vm.loginSlides track by $index"> <div class="tag" ng-class="item.tagClass"><span ng-bind="item.hashtag"></span></div> <div class="ch-title"> <span> <span ng-bind-html="item.title"></span> </span> </div> <span class="dots" ng-class="item.colorClass"> <span>.</span><span>.</span><span>.</span> </span> </div> </div> </div> </div>'),e.put('modules/ch-directives/ch-popup-container/ch-popup-container.view.html','<div ng-prop-id="containerId" class="ch-popup-container-container {{position + \' \' + \'translation-\'+(translation || \'none\')}}" ng-class="{show: show}"> <ng-transclude></ng-transclude> </div>'),e.put('modules/ch-directives/ch-sidebar/ch-sidebar.view.html','<div class="ch-sidebar-container" ng-class="{\'d-none\': !vm.isEnabled, fixed: vm.fixed, compress: vm.compress}" ng-mouseleave="vm.collapseBar()" ng-mouseover="vm.expandBar()"> <div class="bar-container"> <div class="actual-bar" ng-class="{expanded: vm.expanded || vm.fixed}" ng-mouseleave="vm.collapseBar()"> <div class="close-button"> <a href="#" class="close-btn clickable-effects soft-fx ch-all-click" ng-click="vm.toggleBar()"> <ch-svg-icon icon="\'times\'" size="\'1.8em\'"></ch-svg-icon> </a> </div> <div class="panel-top"> <div class="d-flex align-items-center position-relative ch-lh1"> <div class="bar-visibility-button ch-df" ng-mouseover="vm.expandBar()" ng-mousedown="vm.compress = true" ng-mouseup="vm.compress = false" ng-click="vm.toggleFixBar()" ng-bind-html="vm.iconMenuHTML"></div> <i class="fas fa-chevron-right std-transition-props ch-aliic" style="font-size:1em;color:#fff;position:absolute;right:-.9em;top:0;bottom:0;pointer-events:none;display:flex" ng-style="{transform: vm.fixed ? \'rotate(180deg)\' : \'\', opacity: vm.expanded || vm.fixed ? 1 : 0 }"></i> </div> <div class="expanded-info-centered"> <div class="coder-logo" ng-click="vm.coderLogoAction()"> <div class="item-icon" ng-bind-html="vm.iconCoderLogoHTML"></div> </div> </div> </div> <div class="separator"></div> <div class="ch-df ch-fldc ch-jucb ch-h100 bar-item-container"> <div ng-class="{\'extra-h\': $last}" ng-repeat="list in vm.barItems track by $index" ng-init="isLast = $index === vm.barItems.length - 1"> <div class="bar-item-list"> <div class="{{\'bar-item \' + (item.additionalClasses || \'\')}} ch-rel" ng-repeat="item in list track by $index" ng-class="{active: vm.activeItem === item.id, hover: vm.hoverItem.id === item.id, \'separator\': item.separator, \'is-new\': item.isNew, last: $last}" ng-click="item.callback()" ng-mouseover="vm.hoverItem = item" ng-mouseleave="vm.hoverItem = null"> <div class="item-active-background-indicator ch-abs-full"></div> <div class="item-icon" ng-class="item.icon" ng-bind-html="item.iconHTML"></div> <span class="chats-unread-badge ch-circle ch-abs ch-df ch-global-center" ng-show="vm.unreadChatMessages && item.name === \'Chat\'" ng-bind="vm.unreadChatMessages"></span> <div class="expanded-info" is-new="{{\'ch-sidebar.btn-new\' | translate}}"> <span class="item-name" ng-bind-html="item.name"></span> </div> </div> <div class="referrals-menu-container" ng-style="{padding: (vm.expanded || vm.fixed) ? 0 : \'var(--item-padding-y) 0\'}"> <div ng-style="{display: (vm.expanded || vm.fixed) ? \'none\' : \'block\'}"> <ch-svg-icon icon="\'referrals\'" size="\'1.5em\'" color="\'#EAFF6A\'"></ch-svg-icon> </div> <div ng-if="(vm.expanded || vm.fixed) && $index === 0" class="referrals-container"> <div class="referrals-container--icon"> <ch-svg-icon icon="\'referrals\'" size="\'1.5em\'" color="\'#EAFF6A\'"></ch-svg-icon> </div> <a class="ch-btn-v7 btn-referrals" href="#" ng-click="vm.openReferralsModal()"> <span class="ch-btn-v7-label ng-binding" ng-bind="\'ch-sidebar.btn-referrals\' | translate"></span> </a> </div> </div> <div class="stripes-container"> <div class="bar-item stripe" ng-repeat="item in list track by $index" ng-class="{active: vm.activeItem === item.id, hover: vm.hoverItem.id === item.id, \'item-separator\': item.separator}"> </div> </div> </div> </div> </div> </div> <div class="tooltip-container" ng-class="{show: false && !vm.fixed && !vm.expanded && vm.hoverItem}"> <span ng-bind="vm.hoverItem.name"></span> </div> </div> </div>'),e.put('modules/landings/candidates/candidates.view.html','<div class="candidates-container" ng-cloak> <div class="container-fluid"> <div class="row"> <div class="col-sm-6 offset-sm-3"> <br><br> <div class="ch-card-container"> <div class="ch-card-content" style="align-items:center;justify-content:center;display:flex"> <div class="row"> <div class="col-sm-10 offset-sm-1 ch-container"> <div class="row"> <div class="col-sm-10 offset-sm-1 text-center" ng-if="!vm.flags.forSubstitutes"> <br><br> <h3 class="ch-article-title" ng-if="vm.flags.wasAlreadyTaken" ng-bind-html="vm.TEXTS[\'landings.candidates.rejected.title\']"></h3> <h3 class="ch-article-title" ng-if="!vm.flags.wasAlreadyTaken" ng-bind-html="vm.TEXTS[\'landings.candidates.confirmed.title\']"></h3> <br> <p ng-bind-html="vm.TEXTS[\'landings.candidates.description\']"></p> <p ng-bind-html="vm.TEXTS[\'landings.candidates.addtionalMessage\']"></p> <p ng-bind-html="vm.TEXTS[\'landings.candidates.contact\']"></p> <br> </div> <div class="col-sm-10 offset-sm-1 text-center" ng-if="vm.flags.forSubstitutes"> <br><br> <h3 class="ch-article-title" ng-if="vm.flags.wasAlreadyTaken" ng-bind-html="vm.TEXTS[\'landings.substitutes.rejected.title\']"></h3> <h3 class="ch-article-title" ng-if="!vm.flags.wasAlreadyTaken" ng-bind-html="vm.TEXTS[\'landings.substitutes.confirmed.title\']"></h3> <br> <p ng-bind-html="vm.TEXTS[\'landings.candidates.contact\']"></p> <br> </div> <div class="col-sm-12 text-center btns-container"> <a href="#" rel="nofollow" class="ch-btn ch-btn-submit" ui-sref="home"> <span ng-bind="vm.TEXTS[\'landings.candidates.btn\']"></span> </a> </div> <br><br><br><br> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/landings/change-password/change-password.view.html','<div class="change-password-container" ng-cloak> <div class="container-fluid"> <div class="row"> <div class="col-sm-4 offset-sm-4"> <br><br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="row"> <div class="col-sm-10 offset-sm-1 ch-container"> <div class="row" ng-if="vm.steps.form"> <form class="col-sm-10 offset-sm-1" ng-submit="vm.onSubmit($event)" name="form"> <br> <br> <br> <h3 class="ch-article-title text-center" ng-bind="vm.TEXTS[\'landings.changePassword.title\']"></h3> <br> <div class="form-group"> <label ng-bind="vm.TEXTS[\'landings.changePassword.newPassLabel\']"></label> <input class="form-control form-group" ng-model="vm.pass1.value" required ng-prop-title="vm.title" ng-change="vm.onChange($event, vm.pass1)" ng-class="{\n                          \'is-valid\': vm.pass1.isValid,\n                          \'is-invalid\': vm.pass1.value && !vm.pass1.isValid\n                        }"> </div> <div class="form-group"> <label ng-bind="vm.TEXTS[\'landings.changePassword.confirmPassLabel\']"></label> <input class="form-control form-group" ng-model="vm.pass2.value" required ng-prop-title="vm.title" ng-change="vm.onChange($event, vm.pass2)" ng-class="{\n                          \'is-valid\': vm.pass2.isValid,\n                          \'is-invalid\': vm.pass2.value && !vm.pass2.isValid\n                        }"> </div> <small ng-bind="vm.TEXTS[\'landings.changePassword.popupOver\']"></small> <br> <br> <div class="d-flex align-item-center justify-content-center"> <button class="ch-btn-2021-square" type="submit" ng-bind="vm.TEXTS[\'landings.changePassword.btnSubmit\']"></button> </div> <br> <br> <br> </form> </div> </div> </div> </div> </div> </div> </div> </div> </div> '),e.put('modules/landings/changes/changes.view.html','<div class="changes-container" ng-cloak> <div class="container-fluid"> <div class="row"> <div class="col-sm-6 offset-sm-3"> <br><br> <div class="ch-card-container"> <div class="ch-card-content" style="align-items:center;justify-content:center;display:flex"> <div class="row"> <div class="col-sm-10 offset-sm-1 ch-container"> <div class="row" ng-if="vm.flags.confirmed"> <div class="col-sm-10 offset-sm-1 text-center"> <h3 class="ch-article-title" ng-bind="vm.TEXTS[\'landings.changes.title\']"></h3> <br> <p ng-bind-html="vm.TEXTS[\'landings.changes.confirmed.description\']"></p> </div> <br> </div> <div class="row" ng-if="!vm.flags.confirmed"> <div class="col-sm-10 offset-sm-1 text-center"> <h3 class="ch-article-title" ng-bind="vm.TEXTS[\'landings.changes.title\']"></h3> <br> <p ng-bind-html="vm.TEXTS[\'landings.changes.rejected.description\']"></p> </div> <br> </div> <br><br> <div class="col-sm-12 text-center btns-container"> <a href="#" rel="nofollow" class="ch-btn ch-btn-submit" ui-sref="home"> <span ng-bind="vm.TEXTS[\'landings.changes.btn\']"></span> </a> </div> <br><br> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/landings/debtor/debtor.view.html','<div class="debtor-container" ng-cloak> <div class="container-fluid"> <div class="row"> <div class="col-sm-6 offset-sm-3"> <br><br> <div class="ch-card-container"> <div class="ch-card-content" style="align-items:center;justify-content:center;display:flex"> <div class="row"> <div class="col-sm-10 offset-sm-1 ch-container"> <div class="row"> <div class="col-sm-10 offset-sm-1 text-center"> <br> <br> <h3 class="ch-article-title" ng-bind-html="\'debtor.title\' | translate"></h3> <br> <div class="text-left" ng-if="!vm.isBlocked"> <span ng-bind-html="\'debtor.description\' | translate"></span> <span ng-bind-html="\'debtor.missing-email-situation\' | translate"></span> <span ng-bind-html="\'debtor.payment-not-uploaded-situation\' | translate"></span> <span ng-bind-html="\'debtor.already-paid-situation\' | translate"></span> </div> <div class="text-left" ng-if="vm.isBlocked"> <p ng-bind-html="\'debtor.blocked\' | translate"></p> </div> </div> <br> </div> <br><br> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/landings/download/download.view.html','<div class="download-container"> <br> <div class="container-fluid download-content" ng-class="{\'flag-loaded\': vm.strategy.isLoaded}"> <div class="row"> <div class="col-sm-6 offset-sm-3 text-center"> <br> <br> <h1 class="ch-font-title-v2" ng-bind="\'download.download\' | translate"></h1> <br> <p ng-bind="\'download.responsive\' | translate"></p> <br><br><br> </div> </div> <div class="row"> <div class="col-sm-8 offset-sm-2"> <div class="row"> <div class="col-sm-4" ng-repeat="item in vm.softwares track by $index"> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <h3 class="ch-font-title-v2" ng-bind="item.os"></h3> <p ng-bind="item.description"></p> <a href="#" ng-click="vm.onClick($event, item)" class="ch-btn-2021-square ch-btn-sm" ng-bind="item.btnLabel || \'Descargar\'"></a> </div> </div> </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-8 offset-sm-2"> <br> <hr> <br> </div> </div> <div class="row"> <div class="col-sm-8 offset-sm-2"> <div class="row"> <div class="col-sm-12"> <br> <h5 class="ch-font-title-v2" ng-bind="\'download.error\' | translate"></h5> <br> <p ng-bind="\'download.chat\' | translate"> </p> </div> </div> </div> </div> </div> </div>'),e.put('modules/landings/errors/errors.view.html','<div class="errors-container container-fluid"> <div class="row"> <div class="col-sm-6 offset-sm-3 text-center"> <br> <br> <h1 class="ch-font-title-v2" ng-bind="vm.TEXTS[\'landings.errors.title\']">404</h1> <br> <p ng-bind="vm.TEXTS[\'landings.errors.description\']"></p> <br><br><br> </div> </div> </div>'),e.put('modules/landings/errors/offline.view.html','<div class="error-container" ng-cloak> <div class="container-fluid"> <div class="row split-layout-container"> <div class="col-5 left-side bg-gradient"></div> <div class="col-7 right-side"> <br> <br> <h3 ng-bind="vm.TEXTS[\'landings.errors.offline.title\']"></h3> <br> <p ng-bind="vm.TEXTS[\'landings.errors.offline.description\']"></p> </div> </div> </div> </div>'),e.put('modules/landings/faqs/faqs.view.html','<div class="section-container"> <div class="faqs-v2-container"> <div class="container-fluid"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <h1 class="section-title" ng-bind="\'faqs.faqs\' | translate"></h1> <div class="faqs-header"></div> </div> </div> <div class="row"> <div class="col-sm-3 offset-sm-1"> <div class="categories-container"> <ul class="list-unstyled"> <li class="clickable-label" ng-repeat="cat in vm.faqsCategories[vm.activeTab] track by $index"> <a href="#" ng-click="vm.onClickCategory($event, cat)" ng-bind="cat.label" ng-class="{active: cat.active}"></a> </li> </ul> </div> </div> <div class="col-sm-8"> <div class="row"> <div class="col-sm-10"> <div class="detail"> FAQs / <span ng-bind="vm.activeTab === \'student\' ? \'Estudiantes\' : \'Profesores\'"></span> / <span ng-bind="vm.activeCategory.label"></span> </div> </div> </div> <div class="row"> <div class="col-sm-10"> <div class="accordion" id="accordionExample"> <div class="faq-item-container" ng-repeat="item in vm.activeCategory.items track by $index"> <a ng-click="vm.onClickToogleCollapse($event, $index)" class="row faq-item-title" data-toggle="collapse" ng-prop-href="\'#collapse-\' + $index" role="button" ng-prop-aria-expanded="item.expanded || false" ng-prop-aria-controls="\'collapse-\' + $index"> <div class="col-10"> <span ng-bind="item.title"></span> </div> <div class="col-2 text-right collpase-icons-container"> <i ng-show="!item.expanded" class="fas fa-plus gem"></i> <i ng-show="item.expanded" class="fas fa-minus gem"></i> </div> </a> <div class="row" ng-class="{collapse: !item.expanded}" ng-prop-id="\'collapse-\' + $index"> <div class="col-sm-12"> <p class="description" ng-bind-html="item.text"></p> <iframe ng-if="item.videoUrl" class="video-firame" width="100%" ng-prop-src="item.videoUrl" frameborder="0" allowfullscreen></iframe> <br><br> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="col-sm-12 text-center"> <p> <small> {{\'faqs.leyend\' | translate}}<a href="#" ng-click="vm.onClickSupport($event)" class="ch-btn-2021-link" ng-bind="\'faqs.leyend.btn\' | translate"></a> </small> </p> </div> </div> </div>'),e.put('modules/landings/faqs/faqs.view.mobile.html','<div class="faqs-v2-container"> <div ng-class="{show: vm.activeCategory === null}" class="container-fluid home-view"> <div class="row"> <div class="col-sm-10 offset-sm-1 text-center"> <h1 class="faqs-header" ng-bind-html="\'faqs.title\' | translate"></h1> </div> <div class="row"> <div class="col-sm-3 offset-sm-1"> <div class="categories-container"> <div class="d-flex flex-column"> <a href="#" class="button-std categories" ng-click="vm.onClickCategory($event, cat)" ng-repeat="cat in vm.faqsCategories[vm.activeTab] track by $index"> <span class="w-100" ng-bind="cat.label"></span> <i class="fas fa-chevron-right"></i> </a> </div> </div> </div> </div> </div> </div> <div ng-class="{\'show\': vm.activeCategory !== null}" class="category-view"> <div class="d-flex align-items-center justify-content-between px-3 py-2"> <div ng-click="vm.goBack()" class="go-back-btn"> <i class="fas fa-chevron-left mr-2"></i> <span ng-bind-html="\'faqs.btn-back\' | translate"></span> </div> <div class="detail big"> FAQs / <span ng-bind="vm.activeTab === \'student\' ? \'Estudiantes\' : \'Profesores\'"></span> / <span ng-bind="vm.activeCategory.label"></span> </div> <div class="accordion container-fluid" id="accordionExample"> <a ng-click="vm.onClickToogleCollapse($event, $index)" class="button-std faq" ng-repeat="item in vm.activeCategory.items track by $index" data-toggle="collapse" ng-prop-href="\'#collapse-\' + $index" role="button" ng-prop-aria-expanded="item.expanded" ng-prop-aria-controls="\'collapse-\' + $index"> <div class="content w-100"> <div class="d-flex align-items-center justify-content-between w-100 my-2"> <span class="semi-bold faq-title" ng-bind="item.title"></span> <div class="collpase-icons-container pl-2"> <i ng-show="!item.expanded" class="fas fa-plus gem"></i> <i ng-show="item.expanded" class="fas fa-minus gem"></i> </div> </div> <div class="row" ng-class="{collapse: !item.expanded}" ng-prop-id="\'collapse-\' + $index" data-parent="#accordionExample"> <div class="col-sm-12"> <p class="description" ng-bind-html="item.text"></p> <iframe ng-if="item.videoUrl" class="video-firame" width="100%" ng-prop-src="item.videoUrl" frameborder="0" allowfullscreen></iframe> </div> </div> </div> </a> </div> <div class="text-center"> <p><small> {{\'faqs.leyend\' | translate}} <a href="#" ng-click="vm.onClickSupport($event)" class="ch-btn-2021-link" ng-bind="\'faqs.leyend.btn\' | translate"></a> </small></p> </div> </div> </div> </div>'),e.put('modules/landings/legals/legals.view.html','<div class="legals-container"> <div class="container-fluid ch-subnav" ng-if="!vm.isStudent"> <div class="row"> <div class="col-12"> <ul class="list-unstyled list-inline"> <li class="list-inline-item"> <a class="ch-link" ng-click="vm.onClickSectionTab($event, \'teachers\')" href="#" ng-class="{\'active\': vm.activeTab === \'teachers\'}" ng-bind-html="\'legals.for-teachers\' | translate"></a> </li> <li class="list-inline-item"> <a class="ch-link" ng-click="vm.onClickSectionTab($event, \'students\')" href="#" ng-class="{\'active\': vm.activeTab === \'students\'}" ng-bind-html="\'legals.for-students\' | translate"></a> </li> </ul> </div> </div> </div> <div ng-class="{\'with-sub-nav\': !vm.isStudent}"> <div class="container-fluid"> <div class="row"> <div class="col-12" ng-show="vm.activeTab === \'teachers\' || vm.activeTab === \'students\'"> <div class="row"> <div class="col-sm-8 offset-sm-2 ch-card-container"> <br> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br><br> <p ng-bind-html="vm.term.text"></p> <br><br> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/landings/onboarding-videos/onboarding-videos.view.html','<videotutorials-2021></videotutorials-2021> '),e.put('modules/landings/suscriptions/suscriptions.view.html','<div class="suscriptions-container" ng-cloak> <div class="container-fluid"> <div class="row"> <div class="col-sm-6 offset-sm-3"> <br><br> <div class="ch-card-container"> <div class="ch-card-content" style="align-items:center;justify-content:center;display:flex"> <div class="row"> <div class="col-sm-10 offset-sm-1 ch-container"> <div class="row"> <div class="col-sm-10 offset-sm-1 text-center"> <br><br> <h3 class="ch-article-title" ng-if="vm.forNextCourses" ng-bind="vm.TEXTS[\'landings.suscriptions.next-courses-unsuscribed.title\']"></h3> <h3 class="ch-article-title" ng-if="vm.forNextCoursesB2B" ng-bind="vm.TEXTS[\'landings.suscriptions.next-courses-b2b-unsuscribed.title\']"></h3> <h3 class="ch-article-title" ng-if="vm.forJobs" ng-bind="vm.TEXTS[\'landings.suscriptions.jobs-unsuscribed.title\']"></h3> <h3 class="ch-article-title" ng-if="vm.forUnsuscribed" ng-bind="vm.TEXTS[\'landings.suscriptions.unsuscribed.title\']"></h3> <br> <p ng-bind="vm.TEXTS[\'landings.suscriptions.description\']"></p> <br> </div> <div class="col-sm-12 text-center btns-container"> <a href="#" rel="nofollow" class="ch-btn ch-btn-submit" ui-sref="home"> <span ng-bind="vm.TEXTS[\'landings.suscriptions.btn\']"></span> </a> </div> <br><br><br><br> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/chat/chat.view.html','<div id="chat-container" ng-cloak> <ch-chat></ch-chat> </div> '),e.put('modules/platform/contents/components/blog-posts/blog-post.view.html','<div class="contents-container content-container blog-post-container"> <div class="fixed-bg" style="background-color:var(--body-color-2)"></div> <div class="content"> <div class="ch-container row section-card"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12"> <a ui-sref="contents/:type({type:\'blog\'})" class="dyn-link breadcrumb-link"> <div class="ch-df ch-aliic"> <ch-svg-icon icon="\'arrow-r\'" reflect="true" size="\'.9em\'"></ch-svg-icon> &nbsp;&nbsp; <span class="correct-helv">Volver a Contenidos</span> </div> </a> </div> </div> </div> <div class="content-view-container col-lg-7"> <div class="row"> <div class="col-sm-12"> <h3 class="content-title" ng-bind="vm.contentTmp.title"></h3> <p class="content-description" ng-bind-html="::vm.contentTmp.description"></p> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="author-container" ng-if="vm.contentTmp.user.name"> <div class="left-image round-img" ng-style="{ \'--url\': \'url(\' + (vm.contentTmp.user.avatar | cloudinary:32:32) + \')\' }"> </div> <div class="author-name"> por <span class="author-name" ng-bind="vm.contentTmp.user.name"></span> <span class="author-job" ng-bind="vm.contentTmp.user.jobName"></span> · <span style="text-transform:capitalize" ng-bind="vm.contentTmp.createdAtAlias"></span>{{blogDurationAlias}} </div> </div> </div> </div> <br> <div class="row"> <div class="col-sm-12"> <div class="content-preview" ng-style="{\n              \'background-image\': \'url(\'+((vm.contentTmp.hero || vm.contentTmp.thumb) | cloudinary:695)+\')\'\n            }"> </div> </div> </div> <div class="row"> <div class="col-sm-12 quill-blog-post-container"> <div class="blog-start-marker"></div> <div ng-bind-html="vm.contentTmp.contentHTML"></div> </div> </div> <div class="blog-end-marker"></div> <div class="row text-center" ng-if="vm.contentTmp.user.name"> <div class="col-sm-12"> <div class="d-flex justify-content-center align-items-center"> <div class="left-image round-img author-avatar" ng-style="{ \'--url\': \'url(\' + (vm.contentTmp.user.avatar | cloudinary:32:32) + \')\' }"> </div> </div> </div> <div class="col-sm-12"> <br> <div> por <span class="author-name" ng-bind="vm.contentTmp.user.name"></span> <span class="author-job" ng-bind="vm.contentTmp.user.job"></span> </div> </div> <br> </div> <div class="row text-center"> <div class="col-sm-12 text-center"> <div class="heart-container"> <a href="#" ng-click="vm.onClickLike($event)" ng-class="{\n                \'flag-liked\': vm.contentTmp.flags.wasLiked\n              }"> <ch-svg-icon icon="\'heart\'" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> </a> </div> </div> </div> <div class="row btns-container"> <div class="col-sm-6"> <a href="#" ui-sref="blog-post(vm.relatedContent[0])" class="dyn-link"> <ch-svg-icon icon="\'arrow-r\'" reflect="true"></ch-svg-icon> <span class="btn-label">Artículo anterior</span> </a> </div> <div class="col-sm-6 text-right"> <a href="#" ui-sref="blog-post(vm.relatedContent[1])" class="dyn-link"> <span class="btn-label btn-right">Proxímo artículo</span> <ch-svg-icon icon="\'arrow-r\'"></ch-svg-icon> </a> </div> </div> <hr class="content-divider"> </div> <div class="related-list-outside-container col-lg-5"> <ch-related-list items="vm.relatedContent" to-state="\'podcast\'" content-type="vm.contentTmp.contentType"></ch-related-list> </div> </div> </div> </div> '),e.put('modules/platform/contents/components/blog-posts/blog-posts.view.html','<div id="blog-posts-container" class="contents-container"> <div class="row"> <div class="col-12"> <div class="row"> <div class="col-lg-12"> <b>Últimos posts</b> <br> <br> </div> </div> <div class="row"> <ch-content-card ng-repeat="item in vm.blogPosts track by $index" ng-style="{\'--index\': vm.resources.length - $index}" raw-item="item" card-title="item.title" card-description="item.description" card-flags="item.flags" card-thumb="item.hero || item.thumb" card-link="\'blog/\' + item.slug" list-view="1" cta-label="\'Leer\'" card-author="item.user" card-date="item.date || item.createdAt"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-content-card/ch-content-card.view.html','<div class="ch-content-card-container {{\'type-\' + vm.contentType}}" ng-class="{\n  \'flag-list-view\': vm.listView == 1,\n}"> <div class="card-wrapper within manual-active-state ch-rel-full" ng-mouseover="openTail()" ng-mouseleave="closeTail()" ng-class="{active: mouseIsDown}"> <a class="card-content" ng-prop-href="vm.cardLink" ng-mousedown="pressCard()" ng-mouseup="releaseCard()"> <div class="main-image ch-hero-image" ng-style="{\n        \'background-image\': \'url(\' + (vm.cardThumb | cloudinary:305) + \')\'\n      }"> <span class="badge-pro" ng-if="vm.cardFlags.isPro"> <ch-svg-icon icon="\'zap\'"></ch-svg-icon> PRO </span> <span class="badge-updated" ng-if="vm.cardFlags.isResource"> Actualizado de por vida </span> </div> <div class="card-data"> <div class="title ch-mb-2"> <span class="title" ng-bind="vm.cardTitle"></span> </div> <div class="bottom ch-w100 ch-df ch-jucb ch-aliic"> <div class="author-container"> <div class="left-image round-img" ng-style="{ \'--url\': \'url(\' + (vm.cardAuthor.avatar | cloudinary:32:32) + \')\' }"> <ch-svg-icon ng-if="vm.leftImageIcon" icon="vm.leftImageIcon"></ch-svg-icon> </div> <div class="author-name" ng-if="vm.cardAuthor.name.length"> por <span class="author-name" ng-bind="vm.cardAuthor.name"></span> <span class="author-job" ng-bind="vm.cardAuthor.job"></span> · <span style="text-transform:capitalize" ng-bind="vm.cardDate"></span> </div> </div> <div class="cta-container"> <div ng-if="showTopCta"> <div class="dyn-link"> <div class="title"> <span ng-bind="vm.ctaLabel"></span> </div> </div> </div> <div ng-if="!showTopCta"> <div class="title"> <span> {{pricing.fullFinalPrice | currency:pricing.currency.symbol:false:\'pre\'}} {{pricing.currency.iso_code}} </span> </div> </div> </div> </div> </div> </a> <div class="card-tail ch-abs card-shadow-hover" ng-mouseenter="releaseCard()" tabindex="-1"> <div class="content"> <div class="title card-description" ng-if="vm.cardDescription"> <span ng-bind-html="vm.cardDescription"></span> </div> <div class="cta-container ch-df ch-aliic ch-jucb ch-pt-2" ng-if="!showTopCta"> <div> &nbsp; </div> <a class="dyn-link" ng-prop-href="vm.cardLink"> <div class="title"> <span ng-bind="vm.ctaLabel"></span> </div> </a> </div> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-content-player/ch-content-player.view.html','<div class="player-container"> <div class="row"> <div class="col-sm-12"> <div id="player" ng-class="{\n        \'audio-player\': vm.isAudio\n      }"></div> </div> </div> <div class="row" ng-if="vm.isAudio"> <div class="col-sm-12"> <div class="current-track row"> <div class="col-sm-1 text-center"> <a href="#" ng-click="vm.onClickPlay($event)" class="ch-dib clickable-effects no-hover-fx"> <ch-svg-icon style="margin-left:-8px" icon="vm.flags.isPlaying ? \'pause-outline\' : \'play-outline\'"></ch-svg-icon> </a> </div> <div class="col-sm-8"> <div class="row"> <div class="col-sm-2"> <span ng-bind="vm.flags.currentProgressAlias"></span> </div> <div class="col-sm-8"> <div class="current-track progress bar"> <input type="range" min="0" max="100" step="any" ng-model="vm.flags.playerProgressBar" ng-change="vm.onChangeProgressBar($event)" ng-style="{\n                  \'background-image\': vm.flags.playerProgressBarBg\n                }"> </div> </div> <div class="col-sm-2"> <span ng-bind="vm.flags.durationAlias"></span> </div> </div> </div> <div class="col-sm-3"> <div class="row"> <div class="col-sm-3 text-center"> <a href="#" ng-click="vm.onClickMute($event)" class="clickable-effects no-hover-fx ch-dib"> <ch-svg-icon ng-show="vm.flags.playerVolumeBar <= 0" icon="\'volume-min\'"></ch-svg-icon> <ch-svg-icon ng-show="vm.flags.playerVolumeBar > 0 && vm.flags.playerVolumeBar < 75" icon="\'volume-mid\'"></ch-svg-icon> <ch-svg-icon ng-show="vm.flags.playerVolumeBar >= 75" icon="\'volume-max\'"></ch-svg-icon> </a> </div> <div class="col-sm-9"> <div class="current-track progress bar"> <input type="range" min="0" max="100" step="any" ng-model="vm.flags.playerVolumeBar" ng-change="vm.onChangeVolumeBar($event)"> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-content-pricing/ch-content-pricing.view.html','<div class="row ch-content-pricing-container"> <div class="col-sm-6"> <div class="content-author" ng-if="vm.item.user.name.length"> <div class="left-image round-img author-avatar" ng-style="{ \'--url\': \'url(\' + ((vm.item.user.avatar || \'https://picsum.photos/200\') | cloudinary:32:32) + \')\' }"> </div> <div> <b class="author-name" ng-bind="vm.item.user.name"></b> <br> <small class="author-job" ng-bind="vm.item.user.job"></small> </div> </div> </div> <div class="col-sm-6"> <div class="ch-df ch-jucend ch-aliic"> <div class="labels text-right"> <div class="top-label"> <span ng-bind="topLabel"></span> </div> <div class="bottom-label"> <span ng-bind="bottomLabel"></span> </div> </div> <a href="#" ng-click="handleClick($event)" class="btn-outline solid-bg btn-bordered ch-ml-2 btn-semiround" ng-if="showCta"> <span class="correct-helv" ng-bind="ctaLabel"></span> </a> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-contents-list/ch-contents-list.view.html','<div class="contents-container"> <div class="row"> <div class="col-12"> <div class="row" ng-style="{\'--length\': vm.items.length}"> <div class="col-12 no-results-container ch-mt-4" ng-if="$parent.activeTab.loaded && !vm.items.length"> <ch-svg-icon icon="\'book-settings\'" size="\'3em\'"></ch-svg-icon> <div class="font-title ch-1point5-em ch-mt-2 ch-bold"> <span> Todavía estamos desarrollando contenido para esta categoría. <br> Quizás te guste: </span> </div> <div class="row ch-mt-4"> <ch-content-card ng-repeat="item in vm.relatedItems track by $index" ng-style="{\'--index\': vm.relatedItems.length - $index}" card-link="options.urlPrefix + item.slug" list-view="options.listView" cta-label="options.ctaLabel" cta-icon="options.ctaIcon" raw-item="item" card-title="item.title" card-description="item.description" card-flags="item.flags" card-thumb="item.hero || item.thumb" content-type="vm.contentType" cta-icon-size="options.ctaIconSize" card-author="item.user" card-date="item.date || item.createdAt"> </ch-content-card> </div> </div> <ch-content-card ng-repeat="item in vm.items track by $index" ng-style="{\'--index\': vm.items.length - $index}" card-link="options.urlPrefix + item.slug" list-view="options.listView" cta-label="options.ctaLabel" cta-icon="options.ctaIcon" raw-item="item" card-title="item.title" card-description="item.description" card-flags="item.flags" card-thumb="item.hero || item.thumb" content-type="vm.contentType" cta-icon-size="options.ctaIconSize" card-author="item.user" card-date="item.date || item.createdAt"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-membership-banner/ch-membership-banner.view.html','<div id="ch-membership-banner-container" ng-show="!vm.hasMembership"> <div class="row"> <div class="col-sm-8"> <p>¿Aún no eres PRO? ¡Suscríbete ahora y obtén acceso a contenidos personalizados y exclusivos!</p> </div> <div class="col-sm-4 text-right"> <a ui-sref="membership" class="btn-outline btn-semiround"> <span class="correct-helv"> Suscribite </span> </a> </div> </div> </div>'),e.put('modules/platform/contents/components/ch-related-list/ch-related-list.view.html','<div id="ch-related-list-container" class="{{\'type-\' + vm.contentType}}"> <div class="row"> <div class="col-12"> <h6 class="headline">{{ "webinars.maybe-you-like-it" | translate }}</h6> <ul class="list-unstyled"> <li ng-repeat="item in vm.items track by $index"> <a class="item-container" href="#" ui-sref="{{item.toState}}(item)"> <div class="ch-hero-image tight" ng-style="{\n              \'--url\': \'url(\'+((item.thumb || item.hero) | cloudinary:200)+\')\'\n            }"></div> <div class="description"> <h6 class="title ellipsis-text" ng-bind="item.title"></h6> <div ng-if="item.flags.isNew || item.flags.isPro" class="ch-my-1"> <div class="badge badge-new" ng-if="item.flags.isNew">{{ "webinars.new" | translate }}</div> <div class="badge badge-pro" ng-if="item.flags.isPro">{{ "webinars.pro" | translate }}</div> </div> </div> </a> </li> </ul> </div> </div> </div>'),e.put('modules/platform/contents/components/podcasts/podcast.view.html','<div class="contents-container content-container podcast-container"> <div class="fixed-bg" style="background-color:var(--body-color-2)"></div> <div class="content"> <div class="ch-container row section-card"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12"> <a ui-sref="contents/:type({type:\'podcasts\'})" class="dyn-link breadcrumb-link"> <div class="ch-df ch-aliic"> <ch-svg-icon icon="\'arrow-r\'" reflect="true" size="\'.9em\'"></ch-svg-icon> &nbsp;&nbsp; <span class="correct-helv">Volver a Contenidos</span> </div> </a> </div> </div> </div> <div class="content-view-container col-lg-7"> <div class="row"> <div class="col-sm-12"> <h2 class="content-section-title">Podcast</h2> <div class="content-preview" ng-style="{\n              \'background-image\': \'url(\'+((vm.contentTmp.hero || vm.contentTmp.thumb) | cloudinary:695)+\')\'\n            }"> <div class="content-duration-label" ng-if="vm.contentTmp.duration" ng-bind="vm.contentTmp.duration"></div> <ch-content-player ng-if="vm.contentTmp.flags.isFree || vm.contentTmp.flags.wasPurchased" url="vm.contentTmp.audioUrl" is-audio="1"></ch-content-player> </div> </div> </div> <br> <div class="row"> <div class="col-sm-12"> <h3 class="content-title" ng-bind="vm.contentTmp.title"></h3> <p class="content-description" ng-bind-html="vm.contentTmp.description"></p> </div> </div> <ch-content-pricing item="vm.contentTmp"></ch-content-pricing> <hr class="content-divider"> </div> <div class="related-list-outside-container col-lg-5"> <ch-related-list items="vm.relatedContent" to-state="\'podcast\'" content-type="vm.contentTmp.contentType"></ch-related-list> </div> </div> </div> </div> '),e.put('modules/platform/contents/components/podcasts/podcasts.view.html','<div id="podcasts-container" class="contents-container"> <div class="row"> <div class="col-12"> <div class="row"> <div class="col-lg-12"> <b>Últimos podcasts</b> <br> <br> </div> </div> <div class="row" ng-style="{\'--length\': vm.items.length}"> <ch-content-card ng-repeat="item in vm.items track by $index" ng-style="{\'--index\': vm.items.length - $index}" raw-item="item" card-title="item.title" card-description="item.description" card-flags="item.flags" card-thumb="item.hero || item.thumb" card-link="\'contenidos/podcasts/\' + item.slug" card-author="item.user" cta-label="\'Escuchar\'"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/resources/resource.view.html','<div class="contents-container content-container resource-container"> <div class="fixed-bg" style="background-color:var(--body-color-2)"></div> <div class="content"> <div class="ch-container row section-card"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12"> <a ui-sref="contents/:type({type:\'recursos\'})" class="dyn-link breadcrumb-link"> <div class="ch-df ch-aliic"> <ch-svg-icon icon="\'arrow-r\'" reflect="true" size="\'.9em\'"></ch-svg-icon> &nbsp;&nbsp; <span class="correct-helv">Volver a Contenidos</span> </div> </a> </div> </div> </div> <div class="content-view-container col-lg-7"> <div class="row"> <div class="col-sm-12"> <h2 class="content-section-title">Recurso</h2> <div class="content-preview" ng-style="{\n              \'background-image\': \'url(\'+((vm.contentTmp.hero || vm.contentTmp.thumb) | cloudinary:695)+\')\'\n            }"> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <h3 class="content-title" ng-bind="vm.contentTmp.title"></h3> <p class="content-description" ng-bind-html="vm.contentTmp.description"></p> </div> </div> <ch-content-pricing item="vm.contentTmp"></ch-content-pricing> <hr class="content-divider"> </div> <div class="related-list-outside-container col-lg-5"> <ch-related-list items="vm.relatedContent" to-state="\'podcast\'"></ch-related-list> </div> </div> </div> </div> '),e.put('modules/platform/contents/components/resources/resources.view.html','<div id="resources-container" class="contents-container"> <div class="row"> <div class="col-12"> <div class="row"> <div class="col-lg-12"> <b>Últimos recursos</b> <br> <br> </div> </div> <div class="row"> <ch-content-card ng-repeat="item in vm.resources track by $index" ng-style="{\'--index\': vm.resources.length - $index}" raw-item="item" card-title="item.title" card-description="item.description" card-flags="item.flags" card-thumb="item.hero || item.thumb" card-link="\'recursos/\' + item.slug" card-author="item.user" cta-label="\'Descargar\'"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/videos/video.view.html','<div class="contents-container content-container video-container"> <div class="fixed-bg" style="background-color:var(--body-color-2)"></div> <div class="content"> <div class="ch-container row section-card"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12"> <a ui-sref="contents/:type({type:\'videos\'})" class="dyn-link breadcrumb-link"> <div class="ch-df ch-aliic"> <ch-svg-icon icon="\'arrow-r\'" reflect="true" size="\'.9em\'"></ch-svg-icon> &nbsp;&nbsp; <span class="correct-helv">Volver a Contenidos</span> </div> </a> </div> </div> </div> <div class="content-view-container col-lg-7"> <div class="row"> <div class="col-sm-12"> <h2 class="content-section-title">Video</h2> <div class="content-preview" ng-style="{\n              \'background-image\': \'url(\'+((vm.contentTmp.hero || vm.contentTmp.thumb) | cloudinary:695)+\')\'\n            }"> <div class="content-duration-label" ng-if="vm.contentTmp.duration" ng-bind="vm.contentTmp.duration"></div> <ch-content-player ng-if="vm.contentTmp.flags.isFree || vm.contentTmp.flags.wasPurchased" url="vm.contentTmp.videoUrl"></ch-content-player> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <h3 class="content-title" ng-bind="vm.contentTmp.title"></h3> <p class="content-description" ng-bind-html="vm.contentTmp.description"></p> </div> </div> <ch-content-pricing item="vm.contentTmp"></ch-content-pricing> <hr class="content-divider"> </div> <div class="related-list-outside-container col-lg-5"> <ch-related-list items="vm.relatedContent" to-state="\'video\'" content-type="vm.contentTmp.contentType"></ch-related-list> </div> </div> </div> </div> '),e.put('modules/platform/contents/components/videos/videos.view.html','<div id="videos-container" class="contents-container"> <div class="row"> <div class="col-12"> <div class="row"> <div class="col-lg-12"> <b>Últimos videos</b> <br> <br> </div> </div> <div class="row"> <ch-content-card ng-repeat="item in vm.videos track by $index" ng-style="{\'--index\': vm.videos.length - $index}" raw-item="item" card-description="item.description" card-title="item.title" card-flags="item.flags" card-thumb="item.hero || item.thumb" card-link="\'videos/\' + item.slug" card-author="item.user"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/webinars/webinar.view.html','<div class="contents-container content-container webinar-container"> <div class="fixed-bg" style="background-color:var(--body-color-2)"></div> <div class="content"> <div class="ch-container row section-card"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12"> <a ui-sref="contents/:type({type:\'webinars\'})" class="dyn-link breadcrumb-link"> <div class="ch-df ch-aliic"> <ch-svg-icon icon="\'arrow-r\'" reflect="true" size="\'.9em\'"></ch-svg-icon> &nbsp;&nbsp; <span class="correct-helv">{{ "webinars.back-to-contents" | translate }}</span> </div> </a> </div> </div> </div> <div class="content-view-container col-lg-7"> <div class="row"> <div class="col-sm-12"> <h2 class="content-section-title">{{ "webinars.webinar" | translate }}</h2> <div class="content-preview" ng-style="{\n              \'background-image\': \'url(\'+((vm.contentTmp.hero || vm.contentTmp.thumb) | cloudinary:695)+\')\'\n            }"> <div class="content-duration-label" ng-if="!vm.contentTmp.flags.isIncomming && vm.contentTmp.duration" ng-bind="vm.contentTmp.duration"></div> <div class="content-duration-label" ng-if="vm.contentTmp.flags.isIncomming" ng-bind="vm.contentTmp.startDateAlias"></div> <ch-content-player ng-if="!vm.contentTmp.flags.isIncomming && (vm.contentTmp.flags.isFree || vm.contentTmp.flags.wasPurchased) && !vm.contentTmp.flags.hasInscriptionForm" url="vm.contentTmp.videoUrl" reload="vm.reloadPlayer"> </ch-content-player> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <h3 class="content-title"> <span ng-bind="vm.contentTmp.title"></span> </h3> <h3 class="content-title" ng-if="vm.contentTmp.flags.isIncomming"> <span ng-bind="vm.contentTmp.startDateAlias"></span> </h3> <p class="content-description" ng-bind-html="vm.contentTmp.description"></p> </div> </div> <ch-content-pricing item="vm.contentTmp"></ch-content-pricing> <hr class="content-divider"> </div> <div class="related-list-outside-container col-lg-5"> <ch-related-list items="vm.relatedContent" to-state="\'webinar\'" content-type="vm.contentTmp.contentType"> </ch-related-list> </div> </div> </div> </div>'),e.put('modules/platform/contents/components/webinars/webinars.view.html','<div id="webinars-container" class="contents-container"> <div class="row"> <div class="col-12"> <div class="row"> <ch-content-card ng-repeat="item in vm.items track by $index" ng-style="{\'--index\': vm.items.length - $index}" raw-item="item" card-title="item.title" card-flags="item.flags" card-thumb="item.hero || item.thumb" card-link="\'webinars/\' + item.slug" card-description="item.description" card-author="item.user"> </ch-content-card> </div> </div> </div> </div>'),e.put('modules/platform/contents/contents.view.html','<div class="contents-container"> <div class="content"> <div class="ch-container row section-card"> <div class="col-12"> <div ng-if="!vm.isIframe" class="row ch-my-2"> <div ng-if="tabs.length" class="ch-my-1 content-tabs-container col-md-12"> <ch-tab-list options="tabListOptions"></ch-tab-list> </div> </div> <div class="row"> <div class="col-sm-12 lists-container" ng-if="tabs.length" ng-class="{hide: hidden, marginNewHome: vm.isIframe}" ng-style="{\'--t-duration\': transitionDuration + \'ms\'}"> <ch-contents-list content-type="\'webinars\'" ng-show="activeTab.key === \'webinars\'"></ch-contents-list> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-2021/ch-course-2021.view.html','<div id="ch-course-2021-container" ng-cloak> <iframe class="iframe-full iframe-platform-2021" ng-if="vm.iframePath.length" ng-prop-src="vm.iframePath" allow="clipboard-read; clipboard-write" id="iframe-2021"></iframe> </div>'),e.put('modules/platform/courses/directives/ch-course-attendance/ch-course-attendance.view.html','<div class="ch-course-attendance-container"> <div class="container-fluid" ng-if="vm.strategy.isLoaded"> <div class="row" ng-if="!vm.strategy.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'course.attendance.title\' | translate"></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> <div class="aa" ng-if="vm.strategy.isStarted && vm.showAutomaticAttendanceCard && vm.flags.zoomRegistrant"> <div class="aa-card"> <div class="aa-card-content"> <div> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <g id="Icon/Outline/Info"> <path id="Vector" d="M12 22C6.486 22 2 17.514 2 12C2 6.486 6.486 2 12 2C17.514 2 22 6.486 22 12C22 17.514 17.514 22 12 22ZM12 4C7.589 4 4 7.589 4 12C4 16.411 7.589 20 12 20C16.411 20 20 16.411 20 12C20 7.589 16.411 4 12 4ZM13 16V11C13 10.448 12.552 10 12 10C11.448 10 11 10.448 11 11V16C11 16.552 11.448 17 12 17C12.552 17 13 16.552 13 16ZM13 8C13 7.448 12.552 7 12 7C11.448 7 11 7.448 11 8C11 8.552 11.448 9 12 9C12.552 9 13 8.552 13 8Z" fill="white"/> </g> </svg> </div> <div class="aa-card-message" ng-bind-html="\'course.attendance.automatic.card.message\' | translate"></div> <div> <div ng-click="vm.closeAutomaticAttendanceCard()" style="cursor:pointer"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"> <path d="M12.8619 13.8047C13.1223 14.0651 13.5444 14.0651 13.8047 13.8047C14.0651 13.5444 14.0651 13.1223 13.8047 12.8619L8.94281 8L13.8047 3.13807C14.0651 2.87772 14.0651 2.45561 13.8047 2.19526C13.5444 1.93491 13.1223 1.93491 12.8619 2.19526L8 7.05719L3.13807 2.19526C2.87772 1.93491 2.45561 1.93491 2.19526 2.19526C1.93491 2.45561 1.93491 2.87772 2.19526 3.13807L7.05719 8L2.19526 12.8619C1.93491 13.1223 1.93491 13.5444 2.19526 13.8047C2.45561 14.0651 2.87772 14.0651 3.13807 13.8047L8 8.94281L12.8619 13.8047Z" fill="white"/> </svg> </div> </div> </div> </div> </div> <div class="row" ng-if="vm.strategy.isStarted"> <div class="col-12 p-0"> <div class="table-responsive tableFixHead"> <table class="table table-hover table-sm table-list table-bordered"> <thead ng-if="::vm.flags.isTeacher"> <tr class="head-row"> <th class="align-middle position-relative"> <small ng-bind="\'course.attendance.cols.assistants\' | translate"></small> </th> <th ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"> <small ng-bind="\'course.attendance.cols.assistant\' | translate"></small> </th> <th class="text-center" ng-repeat="sche in ::vm.schedules track by $index" ng-class="{\n                  \'flag-is-complementary\': sche._flags.isComplementary,\n                  \'saturday-extension\': sche._flags.sameScheduleFrom\n                  }"> <small ng-bind="::sche.day | date:\'dd/MM\'" data-toggle="tooltip" ng-prop-title="::sche.alias"></small> </th> </tr> </thead> <tbody class="table-attendance" ng-if="::vm.flags.isTeacher"> <tr ng-repeat="stu in vm.allTutors track by $index"> <td class="student-name"> <span ng-bind="::stu.profile.fullName"></span> </td> <td ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"> <small ng-bind="::stu.tutor"></small> </td> <td class="align-middle text-center" ng-repeat="sche in stu.schedules track by $index" ng-class="{ \n                  \'flag-is-complementary\': sche._flags.isComplementary \n                }"> <div class="btn-attendance-container" ng-if="((!stu.flags.unenrollStudent && !stu.flags.inactiveStudent) || sche.attendend) && !sche._flags.isNext"> <div ng-if="!sche._flags.sameScheduleFrom"> <i class="btn-attendance" ng-class="{\n                        \'fas fa-check-circle \': sche.attendend,\n                        \'far fa-circle\': !sche.attendend }" ng-click="vm.onClickToogleAttendance($event, stu, sche, stu.schedules[$index+1])"> </i> </div> <div class="saturday-extension" ng-if="sche._flags.sameScheduleFrom" data-toggle="tooltip" title="Extensión de Sabado"> <i class="btn-attendance" ng-class="{\n                        \'fas fa-check-circle \': sche.attendend,\n                        \'far fa-circle\': !sche.attendend\n                      }"> </i> </div> </div> </td> </tr> </tbody> <thead> <tr class="head-row"> <th class="align-middle position-relative"> <small ng-bind="\'course.attendance.cols.students\' | translate"></small> </th> <th ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"> <small ng-bind="\'course.attendance.cols.assistant\' | translate"></small> </th> <th class="text-center" ng-repeat="sche in ::vm.schedules track by $index" ng-class="{\n                  \'flag-is-complementary\': sche._flags.isComplementary,\n                  \'saturday-extension\': sche._flags.sameScheduleFrom\n                }"> <small ng-bind="::sche.day | date:\'dd/MM\'" data-toggle="tooltip" ng-prop-title="::sche.alias"></small> </th> </tr> <tr class="head-row" ng-if="vm.strategy.attendanceByMeeting"> <th class="align-middle position-relative"> <small ng-bind="\'course.attendance.cols.btn-attendance\' | translate"></small> </th> <th ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"> &nbsp; </th> <th class="text-center" ng-repeat="sche in ::vm.schedules track by $index"> <button ng-if="sche._flags.isPast || sche._flags.isToday  && (sche._flags.isPast || sche._flags.isNow)" class="btn-reset-styles" ng-class="{\'saturday-extension\': sche._flags.sameScheduleFrom}" ng-click="vm.onClickAttedanceByMeetingParticipants($event, sche)"> <small class="ch-btn-2021-square ch-btn-icon" data-toggle="tooltip" title="{{vm.tooltips.coderAskAttendance}}"> <i class="fa fa-users"></i> </small> </button> </th> </tr> <tr class="head-row"> <th class="align-middle position-relative"> <small ng-bind="\'course.attendance.cols.btn-attendees\' | translate"></small> </th> <th ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"></th> <th class="text-center align-middle" ng-repeat="sche in vm.schedules | orderBy: \'day\' track by $index" ng-attr-data-toggle="{{(sche._flags.isNow || sche._flags.isPast) ? \'tooltip\' : \'\'}}" title="{{sche.amounts.attended}} Presentes de {{sche.amounts.students}} Estudiantes"> <small ng-bind="sche.amounts.attended" ng-if="(sche._flags.isPast || sche._flags.isNow)"></small> </th> </tr> </thead> <tbody class="table-attendance"> <tr ng-repeat="stu in vm.allStudents | orderBy: [\'-flags.unenrollStudent\', \'-flags.inactiveStudent\', \'profile.fullName\'] track by $index"> <td class="student-name"> <span ng-bind="::stu.profile.fullName"></span> <small ng-if="::stu.flags.beca" class="badge badge-beca" ng-bind="\'course.attendance.badge-beca\' | translate"></small> <small ng-if="::stu.flags.inactiveStudent" class="badge badge-warning" ng-bind="\'course.attendance.badge-inactive\' | translate"></small> <small ng-if="::stu.flags.unenrollStudent" class="badge badge-secondary" ng-bind="\'course.attendance.badge-unenroll\' | translate"></small> </td> <td ng-if="vm.flags.isTeacher || vm.flags.isCoordinator"> <small ng-bind="::stu.tutor"></small> </td> <td class="align-middle text-center" ng-repeat="sche in stu.schedules track by $index" ng-class="{\n                          \'flag-is-complementary\': sche._flags.isComplementary,\n                        }"> <div class="btn-attendance-container" ng-if="((!stu.flags.unenrollStudent && !stu.flags.inactiveStudent) || sche.attendend) && !sche._flags.isNext"> <div ng-if="!sche._flags.sameScheduleFrom && !sche._flags.isComplementary && (sche._flags.isPast || sche._flags.isNow)"> <i class="btn-attendance" ng-class="{\n                        \'fas fa-check-circle \': sche.attendend,\n                        \'far fa-circle\': !sche.attendend\n                      }" ng-click="vm.onClickToogleAttendance($event, stu, sche, stu.schedules[$index+1])"></i> </div> <div class="saturday-extension" ng-if="sche._flags.sameScheduleFrom || sche._flags.isComplementary" data-toggle="tooltip" ng-prop-title="sche._flags.isComplementary ? \'Asistencia no requerida\' : \'Extensión de Sabado\'"> <i class="btn-attendance" ng-class="{\n                        \'fas fa-check-circle \': sche.attendend,\n                        \'far fa-circle\': !sche.attendend\n                      }"></i> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-campus-delivers/ch-course-campus-delivers.html','<div class="ch-course-campus-delivers-container"> <div ng-if="vm.hasNewChallengesActive && !vm.loading" class="ch-new-challenges" id="new-challenges-view"> <iframe src="{{newChallengesUrl}}" frameborder="0" allowfullscreen style="width:100%;height:calc(100vh - var(--header-height))" class="iframe-platform-2021"></iframe> </div> <div ng-if="!vm.hasNewChallengesActive && !vm.loading" class="container-fluid"> <div class="row" ng-if="!vm.courseTmp.flags.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <p ng-bind="\'ch-course-delivers.deliveries-list\' | translate"></p> </div> </div> </div> </div> </div> </div> </div> <div class="row mt-3" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-md-12" ng-class="{\n        \'flag-expert-mode-view\': vm.filters.expertMode\n      }"> <div class="row"> <div class="col-md-12"> <div class="row"> <div class="col-sm-4"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.reviewed,\n                  details: vm.progress.details.reviewed,\n                  perc: vm.progress.total.reviewedPerc,\n                  flags: vm.progress.flags.reviewed\n                }"></ch-widget-progress> </div> <div class="col-sm-4" ng-click="vm.onClickShowUnreviwed($event)" style="cursor:pointer"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.unreviewed,\n                  details: vm.progress.details.unreviewed,\n                  number: vm.progress.total.unreviewed,\n                  perc: vm.progress.total.unreviewedPerc,\n                  flags: vm.progress.flags.unreviewed\n                }"> </ch-widget-progress> </div> <div class="col-sm-4" ng-click="vm.onClickDeliversReviewedOffTime($event)" style="cursor:pointer"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.reviewedOffTime,\n                  details: vm.progress.details.reviewedOffTime,\n                  number: vm.progress.total.reviewedOffTime,\n                  flags: vm.progress.flags.unreviewed\n                }"> </ch-widget-progress> </div> </div> </div> <div class="col-md-12"> <ch-loader active="loading"></ch-loader> <div class="row challenge-in-progress" ng-repeat="row in setUIRows track by $index"> <div class="col-md-8 mt-3 mb-3"> <b class="title" ng-bind="row.label"></b> <span>({{row.modules.length}})</span> </div> <div class="col-md-4 d-flex align-items-center justify-content-end" ng-class="{\'mb-4\': IS_MOBILE}" ng-if="!$index"> <select ng-model="vm.currentStage" class="form-control"> <option value="" selected ng-bind="\'ch-course-delivers.options-class\' | translate"></option> <optgroup ng-repeat="stage in vm.teacherModules track by $index" ng-if="stage.modules.length" ng-prop-label="stage.name"> <option ng-repeat="mod in stage.modules track by $index" ng-value="stage.name" ng-bind="mod.name"> </option> </optgroup> </select> </div> <div class="col-md-12 product-card-list-container"> <div class="row product-card-list"> <div class="col-sm-3 product-card" ng-repeat="module in row.modules | filter:vm.currentStage"> <a href="#" ui-sref="platform-course-deliver({\n                        camadaId: vm.courseTmp.camada.id,\n                        courseSlug: vm.courseTmp.level.url,\n                        moduleId: module._id\n                      })"> <div class="product-content" ng-class="{\n                          \'flag-tp\': module.type === \'Tp\',\n                          \'flag-complementary-tp\': module.type === \'ComplementaryTp\',\n                          \'flag-pre-itegrator-tp\': module.type === \'PreIntegratorTp\',\n                          \'flag-integrator-tp\':  module.type === \'FinalTp\',\n                      }"> <div class="top"> <div class="header-card"> <div class="mb-2 d-flex justify-content-between align-items-center"> <b class="product-title d-block" ng-bind="module.name"></b> <div class="ml-2 d-flex justify-content-end align-items-center"> <small class="info-tooltip" data-toggle="tooltip"> <div ng-bind-html="icons[\'challenge-pen\']"></div> </small> </div> </div> <small class="expiration-date d-block mb-2">{{\'ch-course-delivers.data.class\' | translate}}: {{module.stage}} </small> <small class="expiration-date d-block"> {{\'ch-course-teacher-deliver-review.enabled-at\' | translate}} {{module.deliveryHabilitationDate | date:"EEEE d/M" }} - {{\'ch-course-deliver.time-line.expiration-date\' | translate}} {{module.deliveryExpirationDate | date:"EEEE d/M"}}</small> <hr> <div class="d-flex flex-wrap justify-content-between"> <span class="d-flex flex-column"> <small class="mb-2" ng-bind="\'ch-course-delivers.deliveries-checked\' | translate"></small> <h4 class="text-lg">{{module.reviewedPercentage.toFixed(0)}}%</h4> </span> <span class="d-flex flex-column"> <small class="mb-2" ng-bind="\'ch-course-delivers.new-messages\' | translate"></small> <h4 class="text-lg">{{module.unviewedMessages}}</h4> </span> </div> <span class="d-flex justify-content-between align-items-center mt-2"> <small ng-bind="\'ch-course-deliver.approved\' | translate"></small> <span> <small>{{module.approvedDeliveries}} de</small> <small>{{module.totalDeliveries}}</small> </span> </span> <hr> <span class="d-flex justify-content-between align-items-center mt-2"> <small ng-bind="\'ch-course-delivers.refund\' | translate"></small> <span> <small>{{module.reviewedDeliveries}} de</small> <small>{{module.totalDeliveries}}</small> </span> </span> <hr> </div> <span class="ch-btn-2021-square secondary w-100 mt-3" ng-bind="\'ch-course-delivers.expand-deliveries\' | translate"></span> </div> </div> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> <ch-modal-course-unreviewed-delivers></ch-modal-course-unreviewed-delivers> </div>'),e.put('modules/platform/courses/directives/ch-course-card/ch-course-card.view.html','<div class="ch-course-card-container col-md-4 col-sm-6 col-xs-12" ng-class="{disabled: vm.item.isDisabled, ended: vm.item.flags.isEnded, \'cert-viewer\': vm.item.showCertificateIframe, \'carousel-cell\': tab.items.length > 3}"> <div class="content p-3" ng-click="vm.onClickCourse($event)" ng-if="vm.item"> <div class="tag-container" ng-if="vm.item.tag.show"> <div ng-class="{\n        \'tag-disabled\': vm.item.flags.isPlanned || vm.item.flags.isEnded}" class="tag"> <span ng-bind="vm.item.tag.label"></span> </div> </div> <div class="top"> <div ng-if="vm.item.showCertificateIframe && vm.certificationHtml" class="cert-iframe ch-abs-full ch-no-click"> <div class="ch-h100" ng-bind-html="vm.certificationHtml"></div> </div> <div> <div class="course-name mb-3"> <span ng-bind="vm.item.title"></span> <small ng-if="vm.item.camada" class="camada-label mt-1 d-block" ng-bind="vm.item.camada"></small> </div> <div class="course-professor"> <div class="description-item" ng-if="vm.item.description.length"> <small ng-bind="vm.item.description"></small> </div> </div> </div> <div ng-if="!vm.item.flags.isEnded && !vm.item.flags.isOnboarding && !vm.item.flags.isPlaybook && !vm.item.flags.isTrainingCamp"> <div class="ch-df flex-column ch-w100" ng-if="!vm.item.flags.isPrerecorded && vm.item.days"> <div class="d-flex justify-content-start flex-row ch-w100 bottom-content mb-1"> <div class="ch-df ch-aliic days" ng-show="vm.item.days"> <div class="ch-svg-icon mr-2" ng-bind-html="vm.item.icons.fecha"></div> <span ng-bind="vm.item.days"></span> </div> <div class="ch-df ch-aliic days ml-3" ng-if="!vm.item.flags.isEnded && vm.item.nextSche.label"> <div class="ch-svg-icon mr-2" ng-bind-html="vm.item.icons[\'calendar-1\']"></div> <span ng-bind="vm.item.nextSche.label"></span> </div> </div> <div class="d-flex justify-content-between flex-row ch-w100 bottom-content" ng-if="!vm.item.flags.isRemoteRecorded && vm.item.hours"> <div class="ch-df ch-aliic days"> <div class="ch-svg-icon mr-2" ng-bind-html="vm.item.icons.horario"></div> <span ng-bind="vm.item.hours"></span> </div> </div> </div> </div> </div> <div class="course-link ch-w100 ch-z1 pt-3" ng-class="{\n      \'flag-share\': vm.item.flags.showBtnShare,\n      \'invert-btns\': vm.item.flags.isEnded\n    }"> <span class="ch-btn-2021-square ch-btn-sm" ng-class="{\n        \'w-100\': !vm.item.flags.showBtnShare && !vm.showZoomBtn(),\n        \'w-50\': vm.item.flags.showBtnShare || vm.showZoomBtn()\n      }" ng-bind="vm.item.btnLabel"></span> <span class="ch-btn-2021-square bordered w-50 ml-2" ng-if="vm.item.flags.showBtnShare" ng-click="vm.onClickShare($event)" ng-bind="vm.item.btnShareLabel"></span> <span class="ch-btn-2021-square primary w-50 ml-2" ng-if="vm.showZoomBtn()" ng-click="vm.onClickGoToZoom($event)" ng-bind="vm.item.btnZoomLabel"></span> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-chat/ch-course-chat.view.html','<div class="ch-course-chat-container" ng-class="{\n  \'flag-full-screen\': vm.fullScreen\n}"> <ch-chat></ch-chat> </div>'),e.put('modules/platform/courses/directives/ch-course-classmates-v2/ch-course-classmates-v2.view.html','<div class="ch-course-classmates-v2-container"> <div class="whole-container ch-container row" id="classmates-container"> <div class="contents-container col-sm-8"> <div class="container-fluid section-card mt-3" ng-class="{\'flag-loaded\': vm.strategy.loaded}"> <div class="ch-card-header d-flex justify-content-end align-items-center"> <div class="d-flex justify-content-between align-items-center"> <label class="expand-search btn-search mt-1"> <input id="searchbox" class="focus-effects" ng-model="searchInput" placeholder="Buscar" name="search"> <i class="fa fa-search icon-filter clickable-effects soft-fx"></i> </label> </div> </div> <div> <h4 class="ch-article-title mt-5 ml-4 pl-1 mb-4" ng-bind="\'course.classmates.subtitle\' | translate"></h4> <div class="ch-card-container col-sm-12"> <div class="container-fluid pr-2"> <div class="row"> <ul ng-repeat="teacher in vm.allTeachers | filter:searchInput track by $index" ng-click="vm.onClickUser($event, teacher._id)" style="cursor:pointer" ng-show="teacher._id" class="student-container col-sm-4 clickable-effects soft-fx list-unstyled"> <li class="student-profile" style="float:left"> <div class="round-img ch-mr-2" ng-style="{\'--url\': \'url(\'+(teacher.profile.avatar | cloudinary:32:32)+\')\'}"> <span ng-if="!teacher.profile.avatar" class="correct-helv" ng-bind="teacher.initials"></span> </div> </li> <li class="student-profile"> <small class="name" ng-bind="teacher.profile.fullName"></small> <small class="teacher-rol row" ng-bind="teacher.rolAlias"></small> </li> </ul> </div> </div> </div> </div> <h4 class="ch-article-title mt-5 ml-4 pl-1 mb-4" ng-bind="vm.TEXTS.studentsSubtitle"> </h4> <div class="ch-card-container"> <div class="container-fluid"> <div class="row"> <ul class="list-unstyled col-sm-12 pr-1" ng-if="teacher.tutorOf.length" ng-repeat="teacher in vm.allTeachers | orderBy:\'-flags.isCurrentUserTutor\' track by $index" ng-show="teacher.flags.show"> <h6 class="ch-article-subtitle ch-pb-2 ch-pl-2" ng-bind="teacher._id && teacher.fullName ? (\'course.classmates.tutor-of\' | translate) + \' \' + teacher.fullName : (\'course.classmates.without-tutor\' | translate)"></h6> <div class="container-fluid"> <div class="row"> <ul class="student-container col-sm-4 clickable-effects soft-fx list-unstyled" ng-click="vm.onClickUser($event, stu._id)" style="cursor:pointer" ng-repeat="stu in teacher.tutorOf | filter:searchInput track by $index" ng-show="stu.flags.show"> <li class="student-profile" style="float:left"> <div class="round-img ch-mr-2" ng-style="{\'--url\': \'url(\'+(stu.profile.avatar | cloudinary:32:32)+\')\'}"> <span ng-if="!stu.profile.avatar" class="correct-helv" ng-bind="stu.initials"></span> </div> </li> <li class="student-profile"> <small class="name" ng-bind="stu.profile.fullName"></small> <small class="personalGoal"> <span ng-if="vm.strategy.isTeacher && stu.group._id" class="badge flag-same-group" ng-bind="stu.group.alias"></span> <span ng-if="stu.flags.isInSameGroup" class="badge flag-same-group" ng-bind="\'course.classmates.same-group\' | translate"></span> </small> </li> </ul> </div> </div> </ul> </div> </div> </div> </div> </div> <div class="contents-container col-sm-4 mt-3"> <div class="profile-wrapper"> <div class="fixed-wrapper ch-abs-full"> <div class="fixed-container ch-df ch-aliend" ng-class="{\'correct-top\': pageAtTop}"> <div class="container-fluid ch-h100 section-card-profile"> <div class="ch-card-header"> <h5 class="ch-article-title" ng-bind="vm.userTmp.flags.isCurrent ? (\'editProfile.breadCrumb.title1\' | translate) : \'\'"></h5> <a ng-click="vm.onClickUser($event, vm.USER._id)" ng-show="!vm.userTmp.flags.isCurrent"> <small class="back-to-my-profile"> <i class="fa fa-arrow-left" aria-hidden="true"></i> <span ng-if="!vm.userTmp.flags.isCurrent" ng-bind="\'course.classmates.btn-back-to-profile\' | translate"></span> </small> </a> <a class="settings clickable-effects soft-fx no-hover-fx ch-df ch-ml-1" ng-if="vm.userTmp.flags.isCurrent" ng-click="vm.onClickMyProfile($event)"> <i class="ch-icon-profile-settings settings-custom-size"></i> </a> </div> <div class="ch-card-container"> <div class="container text-center mt-3"> <div class="col-xs-1"> <div class="d-flex justify-content-center ch-mb-2"> <div class="avatar-profile round-img" ng-style="{\'--url\': \'url(\'+(vm.userTmp.avatar | cloudinary:80:80)+\')\'}"> <span ng-if="!vm.userTmp.profile.avatar" class="correct-helv" ng-bind="vm.userTmp.initials"></span> </div> </div> <div class="ch-mb-2 ch-df ch-global-center ch-w100 ch-flww"> <small class="name-profile" ng-bind="vm.userTmp.fullName"></small> </div> <div> <small class="bio" ng-bind="vm.userTmp.profile.bio"></small> </div> <div ng-if="vm.userTmp.certifications.length"> <br> <b><small><u ng-bind="\'course.classmates.profile-certifications\' | translate"></u></small></b> <ul class="list-unstyled list-inline"> <li ng-repeat="item in vm.userTmp.certifications track by $index"> <small class="bio" ng-bind="item"></small> </li> </ul> </div> <div class="row mt-3 justify-content-center"> <div class="form-group col-xs-4"> <a ng-if="vm.userTmp.profile.linkedin" ng-prop-href="vm.userTmp.profile.linkedin" target="_blank" rel="noopener noreferrer"> <ch-svg-icon icon="\'linkedin\'" classes="ch-mx-1"></ch-svg-icon> </a> </div> <div class="form-group col-xs-4"> <a ng-if="vm.userTmp.profile.github" ng-prop-href="vm.userTmp.profile.github" target="_blank" rel="noopener noreferrer"> <ch-svg-icon icon="\'github\'" classes="ch-mx-1"></ch-svg-icon> </a> </div> <div class="form-group col-xs-4"> <a ng-prop-href="\'mailto:\' + vm.userTmp.email" ng-if="vm.userTmp.email"> <ch-svg-icon icon="\'mail-envelope\'" classes="ch-mx-1"></ch-svg-icon> </a> </div> </div> <div> <a ng-show="vm.userTmp.flags.isCurrent" role="button" class="ch-btn-2021-square justify-content-center global-hide" data-toggle="tooltip" style="letter-spacing:1px" ng-click="vm.handleProfile($event)"> <span class="ch-btn-label profile" ng-bind="\'course.classmates.btn-profile\' | translate"></span> </a> <a ng-class="{hide: vm.userTmp.flags.isCurrent}" role="button" class="ch-btn-2021-square justify-content-center global-hide" data-toggle="tooltip" style="letter-spacing:1px" ng-click="vm.onClickChatting(vm.userTmp.slackLink)" target="_blank" rel="noopener noreferrer"> <span class="ch-btn-label profile" ng-bind="\'course.classmates.btn-chat\' | translate"></span> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-deliver-review/ch-course-teacher-deliver-review.view.html','<div class="ch-course-deliver-review-container ch-course-teacher-deliver-review-container"> <div class="container-fluid container-all ch-container"> <div class="row mt-3 mb-3"> <div class="col-md-12"> <a href="#" ng-click="vm.onClickBack($event)" style="color:var(--text-color)"> <small> <i class="fa fa-chevron-left mr-2"></i> <span ng-bind="\'ch-course-teacher-deliver-review.list-deliveries\' | translate"></span> </small> </a> </div> </div> <div class="row product-card-list-container" ng-if="vm.deliverTmp"> <div class="col-sm-12"> <div class="row product-card-list"> <div class="col-sm-8"> <div class="row"> <div class="col-md-12 product-card timeline-container" ng-if="vm.FEATURES.COURSE_DELIVER_V2_REVIEW_TIMELIINE"> <div class="product-content w-100"> <div class="top w-100"> <b class="ch-font-title-v2 mb-3 d-block" ng-bind="vm.deliverTmp.alias + \': \' + vm.deliverTmp.module.name"></b> <div class="checkpoints-container"> <ul class="list-unstyled m-0"> <li class="list-inline-item text-center" ng-repeat="item in vm.deliverTmp.timeline track by $index" ng-class="{\n                              \'flag-completed\': item.completed,\n                              \'flag-today\': item.key === \'today\'\n                            }"> <span class="timeline-item-circle mb-2"> <i ng-if="item.key===\'reviewed\' || item.key === \'delivered\'" class="fas fa-check-circle"></i> <i ng-if="item.key === \'today\'" ng-class="{\n                                  \'far fa-dot-circle\': !item.completed,\n                                }"></i> <i ng-if="item.key === \'review-expected\'" ng-class="{\n                                  \'fas fa-exclamation-circle\': item.completed,\n                                  \'far fa-circle\': !item.completed,\n                                }"></i> </span> <div> <small><b ng-bind="item.name"></b></small><br> <small class="date-label" ng-bind="item.key !== \'today\' ? (item.date | date: \'dd/MM HH:mm\') : (item.date | date: \'dd/MM\')"></small> </div> <hr class="timeline"> </li> </ul> </div> </div> </div> </div> <div class="col-sm-12 product-card"> <div class="product-content w-100"> <div class="top w-100"> <div class="row"> <div class="col-sm-12"> <ul class="list-unstyled tabs-container ch-font-title-v2"> <li class="list-inline-item" ng-if="vm.moduleTmp.flags.hasEvaluationCriteria" ng-click="vm.onClickTab($event, \'criteria\')" ng-class="{\n                              active: vm.tabs.criteria\n                            }" ng-bind="\'ch-course-teacher-deliver-review.criteria\' | translate"></li> <li class="list-inline-item" ng-if="vm.moduleTmp.flags.hasEvaluationCriteria" ng-click="vm.onClickTab($event, \'questions\')" ng-class="{\n                              active: vm.tabs.questions\n                            }" ng-bind="\'ch-course-teacher-deliver-review.evaluate\' | translate"></li> <li class="list-inline-item" ng-click="vm.onClickTab($event, \'chat\')" ng-class="{\n                              active: vm.tabs.chat\n                            }" ng-bind="\'ch-course-teacher-deliver-review.conversation\' | translate"></li> </ul> </div> </div> <div class="row" ng-show="vm.tabs.criteria"> <div class="col-sm-12"> <iframe ng-if="vm.moduleTmp.slideUrlPreview.length" class="video-firame" width="100%" ng-prop-src="vm.moduleTmp.slideUrlPreview" frameborder="0" allowfullscreen style="padding:0;width:100%;min-height:320px!important"></iframe> </div> </div> <div class="row" ng-show="vm.tabs.questions"> <div class="col-sm-12"> <ul> <li ng-repeat="criteria in vm.moduleTmp.hasEvaluationCriteria track by $index" ng-bind="criteria"> </li> </ul> </div> </div> <div class="row" ng-show="vm.tabs.chat"> <div class="col-sm-12"> <div class="chat-container"> <div class="chat-content"> <ul class="list-unstyled"> <li ng-show="!vm.deliverTmp.chat.length && !vm.deliverTmp.link.length" class="empty-chat-container"> <div ng-bind-html="\'ch-course-teacher-deliver-error-review\' | translate"> </div> </li> <li ng-show="!vm.deliverTmp.chat.length && vm.deliverTmp.link.length"> <div class="row chat-row"> <div class="col-md-12"> <div class="chat-bubble"> <div class="chat-bubble-content"> <span class="chat-bubble-arrow"></span> <a ng-prop-href="vm.deliverTmp.link" target="_blank"> <small style="display:block"> <small><i class="fas fa-file-archive"></i></small>&nbsp;&nbsp;<span ng-bind="\'ch-course-teacher-deliver-review.attachment-link\' | translate"></span> </small> </a> </div> </div> </div> </div> <div class="row chat-row"> <div class="col-md-12"> <div class="chat-bubble"> <div class="chat-bubble-content"> <span class="chat-bubble-arrow"></span> <a href="#" ng-click="vm.onClickStudentDelivers($event, vm.deliverTmp.student)"> <small style="display:block"> <small><i class="fa fa-warning"></i></small>&nbsp;&nbsp;<span ng-bind="\'ch-course-teacher-deliver-review.review-all-delivers\' | translate"></span> </small> </a> </div> </div> </div> </div> </li> <li ng-repeat="chat in vm.deliverTmp.chat | orderBy:\'date\' track by $index"> <div class="row chat-row" ng-class="{\n                                    \'current-user-chat\': chat.flags.fromUser\n                                  }"> <div class="col-md-12"> <div class="chat-bubble" ng-if="chat.image || chat.file || chat.link"> <div class="chat-bubble-content"> <span class="chat-bubble-arrow"></span> <small class="chat-user-name"> <b ng-bind="chat.from.fullName"></b> </small> <a ng-prop-href="chat.image || chat.file || chat.link" target="_blank" style="color:#000"> <img ng-if="chat.image" style="max-height:100px" ng-prop-src="chat.image"> <small ng-if="chat.file || chat.link" style="display:block;color:var(--text-color)"> <small><i class="fas fa-file-archive"></i></small>&nbsp;&nbsp;<span ng-bind="\'ch-course-teacher-deliver-review.attached\' | translate"></span> </small> </a> <small class="chat-date-label" ng-if="!chat.flags.isNextFromSameUser"> <span ng-if="!chat.flags.fromUser" ng-bind="chat.fromAlias + \' | \'"></span> <span ng-bind="(chat.date | date: \'dd/MM HH:mm\') + \'hs\'"></span> </small> </div> </div> <div class="chat-bubble" ng-if="chat.text"> <div class="chat-bubble-content"> <span class="chat-bubble-arrow"></span> <small class="chat-user-name"> <b ng-bind="chat.from.fullName"></b> </small> <pre ng-if="!chat.richText" ng-bind-html="chat.text" style="color:var(--text-color)"></pre> <pre ng-if="chat.richText" ng-bind-html="chat.text" style="color:var(--text-color)"></pre> <small class="chat-date-label" ng-if="!chat.flags.isNextFromSameUser"> <span ng-if="!chat.flags.fromUser" ng-bind="chat.fromAlias + \' | \'"></span><span ng-bind="chat.date | date: \'dd/MM HH:mm\'"></span> </small> </div> </div> </div> </div> </li> </ul> </div> </div> </div> <div class="col-md-12" ng-if="vm.FEATURES.CAN_TUTOR_MAKE_REVIEWS"> <form ng-submit="vm.onClickSendMessage($event)"> <div class="mt-3"> <div class="chat-input-container"> <div class="quill-editor" id="input-chat"></div> <input ng-hide="true" id="input-file" type="file" ngf-select="" ng-model="vm.projectFile" name="file"> </div> </div> <div class="message-shortcuts-container mt-3"> <div class="row"> <div class="col-sm-6"> <b class="ch-font-title-v2" ng-bind="\'ch-course-teacher-deliver-review.fast-messages\' | translate"></b> </div> <div class="col-sm-6 text-right"> <a ng-prop-href="vm.ASSISTANT_CODER_VALIJA" target="_blank" style="color:var(--text-color)" ng-prop-title="\'ch-course-teacher-deliver-review.coder-agilize.title\' | translate" data-toggle="tooltip" ng-click="vm.onClickCoderValija($event)"><small><i class="fa fa-info-circle mr-2"></i><span ng-bind="\'ch-course-teacher-deliver-review.coder-agilize\' | translate"></span></small> </a> </div> <div class="col-sm-12"> <ul class="list-unstyled"> <li class="btn ch-btn-2021-square bordered ch-btn-sm list-inline-item" ng-repeat="item in vm.messageShortcuts track by $index" ng-click="vm.onClickAddShortcutMessage($event, item)" ng-show="!item.directApproval || (item.directApproval && !vm.deliverTmp.status.approved)"> <span ng-bind="item.value"></span> </li> </ul> </div> </div> </div> <div ng-if="vm.files.length" ng-show="!vm.chatImageTmp" class="mt-3"> <ul class="list-unstyled list-inline"> <li class="list-inline-item" ng-if="file.name" ng-repeat="file in vm.files track by $index"> <label role="button" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickRemoveFile($event, $index)"> <small><i class="fa fa-times mr-2" aria-hidden="true"></i></small> <span ng-bind="file.name"> </span> </label> </li> </ul> </div> <div class="d-block text-right mt-3"> <a href="#" ng-if="vm.FEATURES.DELIVER_SOFT_REVIEW" ng-click="vm.onClickSoftReviewModal($event)" style="color:var(--text-color)" ng-prop-title="\'ch-course-teacher-deliver-review.soft-review-link\' | translate" data-toggle="tooltip"> <small><i class="fa fa-info-circle mr-2"></i> <span ng-bind="\'ch-course-teacher-deliver-review.soft-review-link\' | translate"></span></small> </a> <a href="#" ng-if="vm.FEATURES.DELIVER_WITH_ONE_REVIEW" style="color:var(--text-color)" ng-prop-title="\'ch-course-teacher-deliver-review.one-review.title\' | translate" data-toggle="tooltip"> <small><i class="fa fa-info-circle mr-2"></i> <span ng-bind="\'ch-course-teacher-deliver-review.one-review\' | translate"></span></small> </a> <a href="#" ng-if="vm.moduleTmp.flags.isIntegratorTp && !vm.deliverTmp.locked" style="color:var(--text-color)" ng-prop-title="\'ch-course-teacher-deliver-review.one-review.title\' | translate" data-toggle="tooltip"> <small><i class="fa fa-info-circle mr-2"></i> <span ng-bind="\'ch-course-teacher-deliver-review.final-note-reminder\' | translate"></span></small> </a> </div> <hr> <div class="btns-container mt-3"> <div ng-if="!vm.deliverTmp.enable"> <span ng-bind="\'ch-course-teacher-deliver-review.fast-delivery-deleted\' | translate"></span> </div> <div ng-if="vm.deliverTmp.enable"> <button type="button" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickUnviewed($event)" ng-bind="\'ch-course-teacher-deliver-review.unseen\' | translate"> </button> <button ng-if="vm.deliverTmp.status.approved && !vm.FEATURES.DELIVER_SOFT_REVIEW" type="button" class="ch-btn-2021-square ch-btn-sm mt-2" ng-click="vm.onClickDisapprove($event)" ng-bind="\'ch-course-teacher-deliver-review.revert\' | translate"> </button> <button ng-if="vm.deliverTmp.locked" type="button" class="ch-btn-2021-square ch-btn-sm mt-2" ng-click="vm.onClickUnlockDeliver($event)" ng-bind="\'ch-course-teacher-deliver-review.unlock-delivery\' | translate"> </button> </div> <div ng-if="!vm.FEATURES.DELIVER_SOFT_REVIEW && !vm.moduleTmp.flags.isIntegratorTp" class="d-flex justify-content-between"> <button ng-if="!vm.deliverTmp.status.approved && !vm.deliverTmp.locked" type="button" class="ch-btn-2021-square ch-btn-sm mr-2" ng-click="vm.onClickApprove($event)" ng-bind="\'ch-course-teacher-deliver-review.approve\' | translate"> </button> <a ng-if="!vm.deliverTmp.locked" class="ch-btn-2021-square ch-btn-sm mr-2" href="#" ng-click="vm.onClickUploadFile($event)" ng-bind="\'ch-course-teacher-deliver-review.attach\' | translate"> </a> <button type="submit" class="ch-btn-2021-square ch-btn-sm ch-btn-sm" ng-bind="\'ch-course-teacher-deliver-review.send-message\' | translate"> </button> </div> <div class="d-flex" ng-if="vm.FEATURES.DELIVER_SOFT_REVIEW && !vm.deliverTmp.locked"> <button class="ch-btn-2021-square ch-btn-sm mr-2" href="#" ng-click="vm.onClickUploadFile($event)" ng-bind="\'ch-course-teacher-deliver-review.attach\' | translate"> </button> <div class="d-flex justify-content-between align-items-center"> <select class="form-control" ng-model="vm.currentSoftScore" required> <option value="" ng-bind="\'ch-course-teacher-deliver-review.qualification\' | translate"></option> <option ng-repeat="item in vm.softScores track by $index" ng-value="item.key" ng-bind="item.value"></option> </select> </div> &nbsp; <button type="submit" class="ch-btn-2021-square ch-btn-sm ch-btn-sm" ng-click="vm.onClickSubmitSoftScore($event)" ng-bind="\'ch-course-teacher-deliver-review.send\' | translate"> </button> </div> <div class="d-flex" ng-if="vm.moduleTmp.flags.isIntegratorTp && !vm.deliverTmp.locked"> <select class="form-control" ng-model="vm.currentFinalScore"> <option value="" ng-bind="\'ch-course-teacher-deliver-review.final-note\' | translate"> </option> <option value="10">10</option> <option value="9">9</option> <option value="8">8</option> <option value="7">7</option> <option value="6">6</option> <option value="5">5</option> <option value="4">4</option> <option value="3">3</option> <option value="2">2</option> <option value="1">1</option> </select> &nbsp; <button type="submit" class="ch-btn-2021-square ch-btn-sm ch-btn-sm" ng-click="vm.onClickSubmitFinalScore($event)" ng-bind="\'ch-course-teacher-deliver-review.send\' | translate"> </button> </div> </div> </form> </div> </div> </div> </div> </div> </div> </div> <div class="col-sm-4 product-card deliver-details-container"> <div class="product-card-list"> <div class="product-content"> <div class="top"> <ul class="list-unstyled"> <li class="ch-font-title-v2"><small><b ng-bind="vm.deliverTmp.schedule.day | date:\'dd/MM\'"></b></small> - <small><b ng-bind="vm.deliverTmp.stage.name"></b></small></li> <li class="ch-font-title-v2"><small><b ng-bind="vm.deliverTmp.alias"></b></small>: <small><b ng-bind="vm.deliverTmp.module.name"></b></small></li> <li style="margin-top:10px" class="d-flex align-items-center" ng-if="vm.deliverTmp.relatedStudents.length <= 1"> <div class="avatar has-picture" ng-class="{\'mr-2\': !vm.IS_MOBILE}" ng-style="{\'background-image\': \'url(\'+(vm.deliverTmp.student.profile.avatar | cloudinary:24:24)+\')\', \'background-color\': !vm.deliverTmp.student.profile.avatar ? \'var(--ch-btn-bg-color-2021)\': \'\' }"> <span ng-if="!vm.deliverTmp.student.profile.avatar" ng-bind="vm.deliverTmp.student.initials"></span> </div> <div class="d-flex align-items-center" style="gap:.5rem"> <small ng-bind="vm.deliverTmp.student.fullName"></small> <ch-premium-badge-component ng-if="vm.deliverTmp.student.premiumTier"></ch-premium-badge-component> </div> </li> <li style="margin-top:10px" class="d-flex align-items-center" ng-if="vm.deliverTmp.flags.isInGroup"> <small><b ng-bind="\'ch-modal-course-info.teachers-team | translate"></b></small> </li> <li style="margin-top:10px" class="d-flex align-items-center" ng-if="vm.deliverTmp.flags.isInGroup" ng-repeat="stu in vm.deliverTmp.relatedStudents track by $index"> <div class="avatar has-picture" ng-class="{\'mr-2\': !vm.IS_MOBILE}" ng-style="{\'background-image\': \'url(\'+(stu.profile.avatar | cloudinary:24:24)+\')\', \'background-color\': !stu.profile.avatar ? \'#EFEFEF\': \'\' }"> <span ng-if="!stu.profile.avatar" ng-bind="stu.initials"></span> </div> <small ng-bind="stu.fullName"></small> </li> <li ng-show="vm.deliverTmp.status.approved"> <small ng-bind="\'ch-course-teacher-deliver-review.delivery-approved\' | translate"></small> </li> </ul> <ul class="list-unstyled"> <li> <small ng-bind="\'ch-course-teacher-deliver-review.enabled-at\' | translate"></small> <small>{{vm.deliverTmp.schedule.day | date:\'dd/MM HH:mm\'}} hs</small> </li> <li> <small ng-bind="\'ch-course-teacher-deliver-review.expire-at\' | translate"></small> <small>{{vm.deliverTmp.schedule.flags.deliverExpirationDate | date:\'dd/MM HH:mm\'}} hs</small> </li> <li> <small> <span ng-bind="\'ch-course-teacher-deliver-review.delivered-at\' | translate"></span> <span ng-bind="vm.deliverTmp.createdAt | date:\'dd/MM HH:mm\'"></span> hs </small> <small ng-bind="\'ch-course-teacher-deliver-review.delivered-at.time\' | translate" ng-show="vm.deliverTmp.flags.wasDeliverOnTime"></small> <small ng-bind="\'ch-course-teacher-deliver-review.delivered-at.out-of-time\' | translate" ng-show="!vm.deliverTmp.flags.wasDeliverOnTime"></small> </li> <li ng-if="vm.deliverTmp.locked"> <small ng-bind="\'ch-course-teacher-deliver-review.redelivery-locked\' | translate"></small> </li> </ul> <ul class="list-unstyled m-0"> <li class="mb-2"> <a ng-prop-href="vm.deliverTmp.link" class="ch-btn-2021-square ch-btn-sm" target="_blank" ng-bind="\'ch-course-teacher-deliver-review.attached\' | translate"></a> </li> <li class="mb-2" ng-if="vm.deliverTmp.downloadLink"> <a ng-prop-href="vm.deliverTmp.downloadLink" class="ch-btn-2021-square ch-btn-sm" target="_blank" ng-bind="\'ch-course-teacher-deliver-review.download-attached\' | translate"></a> </li> <li class="mb-2"> <a href="#" ng-click="vm.onClickStudentDelivers($event, vm.deliverTmp.student)" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-course-teacher-deliver-review.previous-deliveries\' | translate"> <i ng-if="!vm.deliverTmp.chat.length && vm.deliverTmp.link.length" class="fa fa-warning" style="color:red;margin-left:5px"></i> </a> </li> <li class="mb-2" ng-if="vm.deliverTmp.locked"> <a href="#" ng-click="vm.onClickUnlockDeliver($event)" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-course-teacher-deliver-review.delivery-unlock\' | translate"> </a> </li> <li ng-if="!vm.deliverTmp.status.approved && !vm.deliverTmp.locked"> <a href="#" ng-click="vm.onClickReportStudent($event, vm.deliverTmp, true)" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-course-teacher-deliver-review.notify-delivery\' | translate"> </a> </li> </ul> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-deliver/ch-course-deliver.view.html','<div> <div ng-if="vm.FEATURES.PEER_REVIEW" id="review-container" ng-cloak> <iframe id="iframe-review" ng-prop-src="vm.PEER_REVIEW" class="iframe-full iframe-platform-2021 iframe-full-extension"></iframe> </div> <div ng-if="!vm.FEATURES.PEER_REVIEW" class="ch-course-deliver-container"> <div class="container-fluid"> <div class="row" ng-if="!vm.courseTmp.flags.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'ch-course-deliver.challenges-list\' | translate"></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> </div> <div class="row" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-sm-8 container-challenge-student"> <div class="progress-widget-container"> <div class="row"> <div class="col-sm-12 d-flex align-items-center justify-content-between"> <a href="#" ng-click="vm.onClickBack($event)" style="color:var(--text-color)"> <small> <i class="fa fa-chevron-left mr-2"></i> <span ng-bind="\'ch-course-deliver.back-list\' | translate"></span> </small> </a> <div ng-if="vm.studentTmpFilter.hasReviewedWaring" style="cursor:pointer;font-size:12px;text-align:center" ng-click="vm.filterTable(\'readyCheck\')"> <span ng-bind-html="icons[\'circle-red\']"></span> {{\'ch-course-deliver.review-urgent\' | translate}} </div> </div> </div> <div class="row pt-3 align-items-center"> <div class="col-sm-4"> {{\'ch-course-deliver.all-delivers\' | translate}} <span ng-bind="\'(\'+ vm.moduleTmp.progress.total.delivered + \' de \' + vm.moduleTmp.progress.total.expected + \')\'"></span> </div> <div class="col-sm-4"> <div class="search"> <input class="form-control" ng-prop-placeholder="\'ch-course-deliver.search-student\' | translate" ng-model="vm.search"> </div> </div> <div class="col-sm-2"> <select ng-model="vm.currentFilter" ng-change="vm.onChangeFilters()" class="form-control"> <option value="" selected ng-bind="\'ch-course-deliver.filter-by\' | translate"></option> <option ng-repeat="item in vm.options track by $index" ng-value="item.filter" ng-bind="item.name"> </option> </select> </div> <div class="col-sm-2"> <select ng-model="vm.currentOrder" ng-change="vm.onChangeFilters()" class="form-control"> <option value="" selected ng-bind="\'ch-course-deliver.order-by\' | translate"></option> <option ng-repeat="item in vm.optionsOrder track by $index" ng-value="item.order" ng-bind="item.name"> </option> </select> </div> </div> <div class="row pt-3"> <div class="col-sm-12"> <div class="table-responsive"> <table class="table table-hover table-condensed table-sm"> <thead> <tr> <th ng-bind="\'ch-course-deliver.student\' | translate"></th> <th class="col-reviews" ng-bind="\'ch-course-deliver.student-deliveries\' | translate"></th> <th class="col-reviews" ng-bind="\'ch-course-deliver.student-delivered\' | translate"></th> <th ng-bind="\'ch-course-deliver.student-state\' | translate"></th> <th></th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="stu in vm.studentTmpFilter | filter: vm.search track by $index"> <td> <div class="d-flex align-items-center h-100"> <div class="d-flex align-items-center" style="gap:.5rem"> <span ng-bind="stu.fullName"></span> <ch-premium-badge-component ng-if="stu.premiumTier"></ch-premium-badge-component> </div> <div ng-if="vm.courseTmp.flags.isPro"> <span ng-if="stu.flags.beca && !stu.flags.hasServices" class="badge badge-coder-beca" ng-bind="\'ch-course-deliver.student-scholarship\' | translate"></span> <span data-toggle="tooltip" title="Servicio Desarrollo Profesional" ng-if="stu.flags.hasService || stu.flags.hasServices" class="badge badge-coder-pro" ng-bind="\'ch-course-deliver.student-regular\' | translate"></span> <span data-toggle="tooltip" title="Beneficio de TOP10 de talento" ng-if="stu.flags.hasTalentPerk" class="badge badge-top" ng-bind="\'ch-course-deliver.student-top\' | translate"></span> </div> <span data-toggle="tooltip" ng-prop-title="stu.group.alias" class="badge flag-same-group" ng-if="stu.flags.isInGroup" ng-bind="stu.group.alias"></span> </div> </td> <td class="col-reviews"> <a href="#" ng-click="vm.onClickStudentDelivers($event, stu);" class="ch-btn-2021-link"> <div class="label"> <span style="position:relative" data-toggle="tooltip" ng-prop-title="stu.deliver.flags.isDuplicated ? \'Gestionar entregas duplicadas\' : \'\'"> {{\'ch-course-deliver.btn-show-all\' | translate}} <i class="fas fa-circle" ng-if="stu.deliver.flags.isDuplicated"></i> </span> </div> </a> </td> <td> <span ng-if="stu.deliver.createdAt" ng-bind="(stu.deliver.createdAt | date:\'dd/MM HH\') + \'hs\'"></span> </td> <td> <span ng-if="stu.deliver.status.approved" ng-bind="\'ch-course-deliver.student-passed\' | translate"></span> <span ng-if="stu.deliver._id && !stu.deliver.status.approved && stu.deliver.flags.wasReviewed" data-toggle="tooltip" ng-prop-title="stu.deliver.flags.reviewsCount ? \'Diste \' + stu.deliver.flags.reviewsCount + \' devoluciones\' : \'\'"> {{\'ch-course-deliver.reviewed-label\' | translate}} ({{stu.deliver.flags.reviewsCount}})</span> <span ng-if="stu.deliver._id && !stu.deliver.status.approved && !stu.deliver.flags.wasReviewed && !stu.deliver.flags.notReviewedWarning && !stu.deliver.flags.notReviewedExpired"> <span ng-if="stu.deliver.flags.wasDeliverOnTime"> {{stu.deliver.flags.hoursLeftToReview}}hs {{\'ch-course-deliver.hours-to-review\' | translate}} </span> <span ng-if="!stu.deliver.flags.wasDeliverOnTime" ng-bind="\'ch-course-deliver.delivery-out\' | translate"></span> </span> <span ng-if="stu.deliver.flags.notReviewedWarning"> <i ng-bind-html="icons[\'circle-red\']"></i> {{\'ch-course-deliver.need-urgent-review\' | translate}} </span> <span ng-if="stu.deliver.flags.notReviewedExpired"> <i ng-bind-html="icons[\'circle-red\']"></i> {{\'ch-course-deliver.review-expired\' | translate}} </span> <span ng-if="!stu.deliver._id" ng-bind="\'ch-course-deliver.delivery-not\' | translate"></span> </td> <td class="col-comments"> <span ng-if="stu.deliver._id" style="position:relative" ng-class="{\n                          \'fa fa-comments\': stu.deliver.flags.chatsUnviewed,\n                          \'fa fa-comments-o\': !stu.deliver.flags.chatsUnviewed\n                        }" data-toggle="tooltip" ng-prop-title="stu.deliver.flags.chatsUnviewed ? stu.deliver.flags.chatsUnviewed + \' \' + vm.unshowMessages : vm.withoutMessages"> <i class="fas fa-circle" ng-if="stu.deliver.flags.chatsUnviewed"></i> </span> </td> <td class="text-right"> <a ng-if="stu.deliver._id" href="#" ui-sref="platform-course-deliver-review({\n                          camadaId: vm.courseTmp.camada.id,\n                          courseSlug: vm.courseTmp.level.url,\n                          moduleId: vm.moduleTmp._id,\n                          deliverId: stu.deliver._id\n                        })" class="ch-btn-2021-link"> <div class="label" ng-class="{\'disabled\': !stu.deliver._id, \'enable\': stu.deliver._id}"> <span ng-bind="\'ch-course-deliver.delivery\' | translate"></span> </div> </a> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="col-sm-4"> <div class="progress-widget-container" style="position:sticky;top:75px"> <div> <div class="card-title"> <b ng-bind="vm.moduleTmp.stageName"></b><br> <b ng-bind="vm.moduleTmp.name"></b> </div> <ul class="list-unstyled header d-flex justify-content-center flex-column"> <li class="d-flex flex-column"> {{\'ch-course-deliver.review-time\' | translate}} <span class="pt-2" ng-bind="vm.moduleTmp.flags.enabledFromDateAlias"></span> <span class="pt-2" ng-bind="vm.moduleTmp.flags.enabledToDateAlias"></span> </li> </ul> <hr class="mt-4"> </div> <div class="body"> <p ng-bind="(\'ch-course-deliver.progress\' | translate) + \': \' + vm.moduleTmp.progress.total.reviewedPerc + \'%\' "></p> <br> <ul class="list-unstyled pb-4"> <li class="d-flex justify-content-between"> <span ng-bind="\'ch-course-deliver.reviewed\' | translate"></span> <span ng-bind="vm.moduleTmp.progress.total.reviewed"></span> </li> <li class="d-flex justify-content-between"> <span ng-bind="\'ch-course-deliver.expected\' | translate"></span> <span ng-bind="vm.moduleTmp.progress.total.expected"></span> </li> <li class="d-flex justify-content-between"> <span ng-bind="\'ch-course-deliver.deliveries\' | translate"></span> <span ng-bind="vm.moduleTmp.progress.total.delivered"></span> </li> <li class="d-flex justify-content-between"> <span ng-bind="\'ch-course-deliver.approved\' | translate"></span> <span ng-bind="vm.moduleTmp.progress.total.approved"></span> </li> </ul> <div class="d-flex justify-content-between"> <a href="#" ng-click="vm.onClickModule($event)" class="ch-btn-2021-square ch-btn-sm mr-2" ng-bind="\'ch-course-deliver.details\' | translate"> </a> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-delivers/ch-course-delivers-v5.view.html','<div class="ch-course-delivers-v5-container"> <div class="container-fluid"> <div class="row" ng-if="!vm.courseTmp.flags.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'ch-course-delivers.deliveries-list\' | translate"></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> <div class="row mt-3" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-md-12" ng-class="{\n        \'flag-expert-mode-view\': vm.filters.expertMode\n      }"> <div class="row"> <div class="col-md-12"> <div class="row" ng-if="!vm.loading"> <div class="col-sm-4"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.reviewed,\n                  details: vm.progress.details.reviewed,\n                  perc: vm.progress.total.reviewedPerc,\n                  flags: vm.progress.flags.reviewed\n                }"></ch-widget-progress> </div> <div class="col-sm-4" ng-click="vm.onClickShowUnreviwed($event)" style="cursor:pointer"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.unreviewed,\n                  details: vm.progress.details.unreviewed,\n                  number: vm.progress.total.unreviewed,\n                  perc: vm.progress.total.unreviewedPerc,\n                  flags: vm.progress.flags.unreviewed\n                }"> </ch-widget-progress> </div> <div class="col-sm-4" ng-click="vm.onClickDeliversReviewedOffTime($event)" style="cursor:pointer"> <ch-widget-progress params="{\n                  headline: vm.progress.headline.reviewedOffTime,\n                  details: vm.progress.details.reviewedOffTime,\n                  number: vm.progress.total.reviewedOffTime,\n                  flags: vm.progress.flags.unreviewed\n                }"> </ch-widget-progress> </div> </div> </div> <div class="col-md-12"> <div style="height:500px" class="d-flex w-100 align-items-center justify-content-center" ng-if="vm.rowsFiltered.empty" ng-bind="\'ch-course-delivers.no-deliveries\' | translate"> </div> <ch-loader active="vm.loading"></ch-loader> <div class="row challenge-in-progress" ng-repeat="row in vm.rowsFiltered track by $index"> <div class="col-md-8 mt-3 mb-3"> <b class="title" ng-bind="row.label"></b> <span>({{row.modules.length}})</span> </div> <div class="col-md-4 d-flex align-items-center justify-content-end" ng-if="!$index"> <select ng-model="vm.currentStage" ng-change="vm.onChangeStage(vm.currentStage)" class="form-control"> <option value="" selected ng-bind="\'ch-course-delivers.options-class\' | translate"></option> <optgroup ng-repeat="stage in vm.stages track by $index" ng-prop-label="stage.name"> <option ng-repeat="mod in stage.modules track by $index" ng-value="stage._id" ng-bind="mod.name"> </option> </optgroup> </select> </div> <div class="col-md-12 product-card-list-container" ng-if="row.modules.length"> <div class="row product-card-list"> <div class="col-sm-3 product-card" ng-repeat="mod in row.modules track by $index" ng-show="!mod.hide"> <a href="#" ui-sref="platform-course-deliver({\n                      camadaId: vm.courseTmp.camada.id,\n                      courseSlug: vm.courseTmp.level.url,\n                      moduleId: mod._id\n                    })"> <div class="product-content" ng-class="{\n                        \'flag-tp\': mod.flags.isTp && !mod.flags.isComplementaryTp && !mod.flags.isPreIntegratorTp && !mod.flags.isIntegratorTp,\n                        \'flag-complementary-tp\': mod.flags.isComplementaryTp,\n                        \'flag-pre-itegrator-tp\': mod.flags.isPreIntegratorTp,\n                        \'flag-integrator-tp\':  mod.flags.isIntegratorTp\n                    }"> <div class="top"> <div class="header-card"> <div class="mb-2 d-flex justify-content-between align-items-center"> <b class="product-title d-block" ng-bind="mod.name"></b> <div class="ml-2 d-flex justify-content-end align-items-center"> <small class="info-tooltip" data-toggle="tooltip" ng-prop-title="mod.headline"> <div ng-bind-html="icons[\'challenge-pen\']"></div> </small> </div> </div> <small class="expiration-date d-block" ng-bind="mod.schedule.stage.alias"></small> <small class="expiration-date d-block" ng-bind="mod.schedule.expirationAlias"></small> </div> <hr class="card-divider" ng-if="!mod.schedule.flags.isNext"> <div class="product-subtitle" ng-if="!mod.schedule.flags.isNext"> <div class="body-card d-flex flex-row"> <div class="w-50"> <b ng-bind="\'ch-course-delivers.deliveries-checked\' | translate"></b> <br> <span ng-bind="mod.progress.total.reviewedPerc + \'%\'"></span> </div> <div class="w-50 text-right" ng-if="mod.progress.total.chatsUnviewed"> <b ng-bind="\'ch-course-delivers.new-messages\' | translate"></b> <br> <span ng-bind="mod.progress.total.chatsUnviewed"></span> </div> </div> <div class="footer-card"> <ul class="list-unstyled"> <li> <span ng-bind="\'ch-course-delivers.refund\' | translate"></span> <span class="numbers float-right"> {{mod.progress.total.reviewed}} de {{mod.progress.total.delivered}} </span> </li> <hr> <li> <span ng-bind="\'ch-course-delivers.deliveries-approved\' | translate"></span> <span class="numbers float-right"> {{mod.progress.total.approved}} de {{mod.progress.total.delivered}} </span> </li> </ul> </div> </div> <span class="ch-btn-2021-square secondary w-100 mt-3" ng-bind="\'ch-course-delivers.expand-deliveries\' | translate"></span> </div> </div> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> <ch-modal-course-unreviewed-delivers></ch-modal-course-unreviewed-delivers> </div>'),e.put('modules/platform/courses/directives/ch-course-leaderboard-v2/ch-course-leaderboard-v2.view.html','<div class="ch-course-leaderboard-container-v2 section-container"> <iframe ng-if="vm.t10DateEnabled" ng-src="{{vm.top10url}}" frameborder="0" style="height:calc(100vh - 5rem)" id="iframe-top-10"></iframe> <div ng-if="!vm.t10DateEnabled" class="order-first row" ng-show="vm.courseTmp.flags.loaded"> <div ng-if="!vm.courseTmp.flags.isStarted" class="profile-top-container contents-container col-sm-12"> <div class="container-fluid"> <div class="row mt-3 mb-3"> <div class="col-sm-8"> <b class="section-title" ng-bind="\'ch-course-student-menu.top10\' | translate"></b> </div> </div> </div> </div> <div ng-if="vm.userTmp._id && vm.courseTmp.flags.isStarted" class="profile-top-container contents-container col-sm-12"> <div class="container-fluid"> <div class="row mt-3 mb-3"> <div class="col-sm-8"> <b class="section-title" ng-bind="\'ch-course-student-menu.top10\' | translate"></b> </div> <div class="col-sm-4 text-right d-flex justify-content-end align-items-center ng-scope" ng-if="vm.FEATURES._COURSE_LEADERBOARD_REQUEST_PERKS"> <div> <a href="#" ng-click="vm.onClickRequestTopPerks($event)" class="ch-btn-2021-square ch-btn-sm"> <span ng-if="vm.perkRequestTmp._id" ng-bind="\'ch-course-leaderboard-v2.btn-perks-requested\' | translate"></span> <span ng-if="!vm.perkRequestTmp._id" ng-bind="\'ch-course-leaderboard-v2.btn-request-perks\' | translate"></span> </a> </div> </div> </div> </div> <div class="container-fluid" id="first-sibling"> <div class="section-card"> <div class="mb-3 row"> <div class="col-sm-6" ng-if="!vm.userTmp.flags.isInTop && vm.userTmp"> <small ng-if="!vm.courseTmp.flags.isTeacher && !vm.userTmp.flags.isInTop"> {{(\'ch-course-leaderboard-v2.far-for-top-leyend\' | translate).replace(\'%farForTopScore%\', vm.userTmp.farForTopScore)}} </small> </div> <div class="col-sm-6" ng-if="vm.userTmp.flags.isInTop && !vm.courseTmp.flags.isEnded"> <small class="bold" ng-if="vm.userTmp.flags.isInTop && !vm.courseTmp.flags.isEnded" ng-bind="\'ch-course-leaderboard-v2.included-top10\' | translate"></small> <small class="bold" ng-if="vm.userTmp.flags.isInTop && vm.courseTmp.flags.isEnded" ng-bind="\'ch-course-leaderboard-v2.being-top10\' | translate"></small> </div> <div class="col-sm-12" ng-if="vm.courseTmp.flags.isEnded && !vm.courseTmp.flags.isLeaderboardEnded && !vm.courseTmp.flags.isUserLeaderboardClosed"> <div class="row"> <div class="col-sm-6"> <small class="bold" ng-if="vm.userTmp.flags.isInTop"> {{(\'ch-course-leaderboard-v2.final-score-leyend\' | translate).replace(\'%score%\', vm.userTmp.progress.leaderboard.completed)}} </small> <small class="bold" ng-if="!vm.userTmp.flags.isInTop"> {{(\'ch-course-leaderboard-v2.score-leyend\' | translate).replace(\'%score%\', vm.userTmp.progress.leaderboard.completed)}} </small> </div> <div class="col-sm-6 text-right"> <small class="bold"> {{(\'ch-course-leaderboard-v2.end-date\' | translate).replace(\'%enddate%\', vm.courseTmp.flags.leaderboardEndDateAlias)}} </small> </div> </div> </div> <div class="col-sm-12" ng-if="vm.courseTmp.flags.isUserLeaderboardClosed"> <div class="row"> <div class="col-sm-6"> <small class="bold" ng-if="vm.userTmp.flags.isInTop"> {{(\'ch-course-leaderboard-v2.final-score-leyend\' | translate).replace(\'%score%\', vm.userTmp.progress.leaderboard.completed)}} <a href="#" class="ch-btn-2021-link ml-2" ng-click="vm.onClickShare($event)"> <i class="fa fa-share mr-2"></i> <span ng-bind="\'ch-course-leaderboard-v2.share\' | translate"></span> </a> </small> <small class="bold" ng-if="!vm.userTmp.flags.isInTop"> {{(\'ch-course-leaderboard-v2.score-leyend\' | translate).replace(\'%score%\', vm.userTmp.progress.leaderboard.completed)}} </small> </div> <div class="col-sm-6 text-right ignore"> <small class="bold">{{(\'ch-course-leaderboard-v2.end-date\' | translate).replace(\'%enddate%\', vm.courseTmp.flags.leaderboardEndDateAlias)}}</small> </div> </div> </div> </div> <div class="row d-flex justify-content-between align-items-center w-100 text-center"> <div class="col avatar-mobile"> <div class="avatar-profile round-img" ng-style="{\'--url\': \'url(\'+(vm.userTmp.avatar | cloudinary:100:100)+\')\'}"> <span ng-if="!vm.userTmp.profile.avatar" class="correct-helv" ng-bind="vm.userTmp.initials"></span> </div> <div class="fullname"> <small class="name bold" ng-bind="vm.userTmp.fullName"></small> </div> </div> <div class="col"> <b class="points" ng-bind="vm.userTmp.progress.attendance.completed"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.assists\' | translate"></small> </div> <div class="col"> <b class="points" ng-bind="vm.userTmp.progress.absents.completed ? \'-\' + vm.userTmp.progress.absents.completed : vm.userTmp.progress.absents.completed"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.absences\' | translate"></small> </div> <div class="col"> <b class="points ml-2" ng-bind="vm.userTmp.progress.feedbacks.completed"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.ratings\' | translate"></small> </div> <div class="col"> <b class="points" ng-bind="vm.userTmp.progress.delivers.completed"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.challenges\' | translate"></small> </div> <div class="col" ng-if="vm.FEATURES._DELIVERS_SOFT_REVIEW"> <b class="points" ng-bind="vm.userTmp.progress.delivers.softScore"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.predeliveries\' | translate"></small> </div> <div class="col"> <b class="points" ng-bind="vm.userTmp.progress.delivers.score"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.final-project\' | translate"></small> </div> <div class="col total-points"> <b class="big points" ng-bind="vm.userTmp.progress.leaderboard.completed"></b> <br> <small ng-bind="\'ch-course-leaderboard-v2.points\' | translate"></small> </div> </div> </div> </div> </div> <div class="contents-container leaderboard-table-container col-sm-12 mt-3"> <div class="container-fluid" ng-prop-id="vm.userTmp._id ? \'\' : \'first-sibling\'"> <div class="row mb-3"> <div class="col-sm-12 text-right"> <a class="ch-btn-2021-link ch-btn-sm mr-2" href="#" ng-click="vm.onClickShowAll($event)"> <small class="ch-btn-label" ng-bind="vm.showAll ? \'Ver menos\' : \'Ver todos\'"></small> </a> </div> </div> <div class="section-card"> <div class="table-responsive mt-3"> <table class="table table-sm table-list ml-n3 ch-ovfh w-100"> <tbody> <tr> <th class="col-delivers pl-4 pb-4" colspan="2"><small class="course-title pl-2" ng-bind="vm.courseTmp.level.title"></small> </th> <th class="col-attendance text-center pb-4"><small ng-bind="\'ch-course-leaderboard-v2.assists\' | translate"></small></th> <th class="col-absents text-center pb-4" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V2"> <small ng-bind="\'ch-course-leaderboard-v2.absences\' | translate"></small> </th> <th class="col-absents text-center pb-4" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V3"> <small ng-bind="\'ch-course-leaderboard-v2.ratings\' | translate"></small> </th> <th class="col-delivers text-center pb-4"><small ng-bind="\'ch-course-leaderboard-v2.challenges\' | translate"></small></th> <th class="col-delivers text-center pb-4" ng-if="vm.FEATURES._DELIVERS_SOFT_REVIEW"> <small ng-bind="\'ch-course-leaderboard-v2.predeliveries\' | translate"></small> </th> <th class="col-delivers text-center pb-4"><small ng-bind="\'ch-course-leaderboard-v2.final-project\' | translate"></small></th> <th class="col-score text-center pb-4"><small ng-bind="\'ch-course-leaderboard-v2.points\' | translate"></small></th> </tr> </tbody> <tbody class="leaderboard"> <tr ng-repeat="stu in vm.leaderboard | limitTo:vm.leadboardLimit track by $index" ng-if="!stu.flags.current || stu.flags.isInTop" ng-class="{\'shadow\' : stu.flags.current}"> <td class="align-middle text-center" width="5%"> <div ng-class="{\'coder-background\': vm.USER.personalGoalComputed.isUnsetGoal}" ng-if="stu.flags.current" class="rectangle"></div> <i class="fa fa-trophy"></i> </td> <td class="text-center align-middle" width="10%"> <div style="display:flex;width:100%;align-items:center;padding:10px 0"> <div class="avatar round-img" ng-style="{\'--url\': \'url(\'+(stu.profile.avatar | cloudinary:40:40)+\')\'}"> <span ng-if="!stu.profile.avatar" class="correct-helv" ng-bind="stu.initials"></span> </div> <div style="padding-left:15px"> <small class="bold" ng-bind="(stu.profile.fullName ? stu.profile.first_name.split(\' \')[0] : \'Coder\')"></small> </div> </div> </td> <td class="align-middle text-center col-attendance" width="10%"> <b ng-bind="stu.progress.attendance.completed"></b> </td> <td class="align-middle text-center col-absents" width="10%" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V2"> <b ng-bind="stu.progress.absents.completed ? \'-\' + stu.progress.absents.completed : stu.progress.absents.completed"></b> </td> <td class="align-middle text-center col-absents" width="10%" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V3"> <b ng-bind="stu.progress.feedbacks.completed"></b> </td> <td class="align-middle text-center col-delivers" width="10%"> <b ng-bind="stu.progress.delivers.completed"></b> </td> <td class="align-middle text-center col-delivers" width="10%" ng-if="vm.FEATURES._DELIVERS_SOFT_REVIEW"> <b ng-bind="stu.progress.delivers.softScore"></b> </td> <td class="align-middle text-center col-delivers" width="10%"> <b ng-bind="stu.progress.delivers.score"></b> </td> <td class="align-middle text-center col-score" width="10%"> <b ng-bind="stu.progress.leaderboard.completed"></b> </td> </tr> </tbody> <tbody class="leaderboard" ng-if="vm.userTmp._id && !vm.userTmp.flags.isInTop" class="ch-mt-4"> <tr> <th colspan="6"> <br> <small class="ch-ml-4"> {{(\'ch-course-leaderboard-v2.far-for-top-leyend\' | translate).replace(\'%farForTopScore%\', vm.userTmp.farForTopScore)}} </small> <br><br> </th> </tr> <tr> <td class="align-middle text-center" width="5%"> <div class="rectangle"></div> <i class="fa fa-trophy"></i> </td> <td class="student-profile text-center align-middle" width="10%"> <div style="display:flex;width:100%;align-items:center;padding:10px 0"> <div class="avatar round-img" ng-style="{\'--url\': \'url(\'+(vm.userTmp.profile.avatar | cloudinary:40:40)+\')\'}"> <span ng-if="!vm.userTmp.profile.avatar" class="correct-helv" ng-bind="vm.userTmp.initials"></span> </div> <div style="padding-left:15px"> <small ng-bind="(vm.userTmp.profile.fullName ? vm.userTmp.profile.first_name.split(\' \')[0] : \'Coder\')"></small> </div> </div> </td> <td class="align-middle text-center col-attendance" width="10%"> <b ng-bind="vm.userTmp.progress.attendance.completed"></b> </td> <td class="align-middle text-center col-absents" width="10%" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V2"> <b ng-bind="vm.userTmp.progress.absents.completed ? \'-\' + vm.userTmp.progress.absents.completed : vm.userTmp.progress.absents.completed"></b> </td> <td class="align-middle text-center col-absents" width="10%" ng-if="vm.FEATURES._STUDENTS_LEADERBOARD_V3"> <b ng-bind="vm.userTmp.progress.feedbacks.completed"></b> </td> <td class="align-middle text-center col-delivers" width="10%"> <b ng-bind="vm.userTmp.progress.delivers.completed"></b> </td> <td class="align-middle text-center col-delivers" width="10%" ng-if="vm.FEATURES._DELIVERS_SOFT_REVIEW"> <b ng-bind="vm.userTmp.progress.delivers.softScore"></b> </td> <td class="align-middle text-center col-delivers" width="10%"> <b ng-bind="vm.userTmp.progress.delivers.score"></b> </td> <td class="align-middle text-center col-score" width="10%"> <b ng-bind="vm.userTmp.progress.leaderboard.completed"></b> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <ch-modal-request-leaderboard-perks></ch-modal-request-leaderboard-perks> </div>'),e.put('modules/platform/courses/directives/ch-course-meeting/ch-course-meeting.view.html','<div class="ch-course-meeting-container"> <div class="row"> <div class="col-sm-12"> <iframe id="iframe-zoom" class="embed-frame" ng-if="vm.IFRAME_URL.length" ng-prop-src="vm.IFRAME_URL" sandbox="allow-popups allow-forms allow-scripts allow-same-origin" ng-prop-allow="microphone; camera; allow-popups" style="border:0"></iframe> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-program-content/ch-course-program-content.view.html','<div class="ch-course-program-content-container" ng-cloak> <div class="ch-course-program-content-student-container" ng-cloak> <div ng-if="vm.moduleTmp.flags.canBeEmbed"> <iframe style="height:calc(100vh - 138px);width:calc(100vw - 66px)!important;overflow-x:hidden!important" ng-prop-src="vm.moduleTmp.presentationLink" frameborder="0"></iframe> </div> <div ng-class="{\'scroll-container\': vm.IS_MOBILE}" ng-if="!vm.moduleTmp.flags.canBeEmbed"> <div ng-class="{\'scroll-content\': vm.IS_MOBILE}"> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 sidebar-stages-container" ng-hide="vm.sidebarStages" ng-class="{\'order-3\': vm.IS_MOBILE}" style="padding-left:0;padding-right:0"> <div class="with-sub-nav"> <ul class="list-unstyled stages-list-container"> <li ng-repeat="stage in vm.stages track by $index" class="stage-item-container" ng-class="{\n                      active: stage.active,\n                      enable: stage.flags.enable,\n                      completed: stage.flags.completed,\n                      \'last-completed\': stage.flags.lastCompleted\n                    }"> <div class="row no-gutters stage-item-title" ng-click="vm.onClickStage($event, stage)"> <div class="col-2 text-center"> <div class="progress-horizontal-bar" ng-show="stage.order"> <div class="progress-completed"></div> </div> </div> <div class="col-9 d-flex col-title"> <small class="stage-title align-self-center">{{stage.order ? stage.order + \'.\' : \'\'}} {{stage.name}}</small> </div> <div class="col-1 text-center col-dropdown"> <i ng-if="stage.modules.length > 1 && !stage.schedule.sharedFolderLink" class="fa" ng-class="{\'fa-angle-up\': stage.active,\'fa-angle-down\': !stage.active}"></i> </div> </div> <ul class="list-unstyled stage-item-content" ng-if="stage.modules.length > 1 && !stage.schedule.sharedFolderLink"> <li class="row no-gutters mod-item-container" ng-repeat="mod in stage.modules track by $index" ng-click="vm.onClickModule($event, stage, mod)" ng-class="{active: mod.active}"> <div class="col-2 text-center"> <small><i class="fa fa-circle"></i></small> </div> <div class="col-10 d-flex"> <small class="stage-title align-self-center" ng-bind="mod.name"></small> </div> </li> </ul> </li> </ul> </div> </div> <div class="ch-course-program-content-content-container" ng-class="{\'order-1\': vm.IS_MOBILE, \'col-sm-9\': !vm.sidebarStages, \'col-sm-12\': vm.sidebarStages}"> <div ng-class="{\'scroll-container\': !vm.IS_MOBILE}"> <div ng-class="{\'scroll-content\': !vm.IS_MOBILE}"> <div class="row"> <div class="col-sm-12"> <div class="ch-card-container"> <div class="ch-card-content"> <div class="shared-folder-preview-container" ng-if="vm.embedSharedFolderLink.length"> <div class="bg-loading" style="padding-bottom:0;background:var(--body-color-3)!important"> <iframe class="video-firame" width="100%" ng-prop-src="vm.embedSharedFolderLink" frameborder="0" allowfullscreen></iframe> </div> <br><br> </div> <div ng-if="vm.moduleTmp.slideUrl.length" class="bg-loading" style="padding-bottom:0"> <iframe class="video-firame" width="100%" ng-prop-src="vm.moduleTmp.slideUrl" frameborder="0" allowfullscreen></iframe> </div> <div ng-if="vm.moduleTmp.videoUrl.length" class="bg-loading" style="padding-bottom:0"> <iframe class="video-firame" width="100%" ng-prop-src="vm.moduleTmp.videoUrl" frameborder="0" allowfullscreen></iframe> </div> <div ng-if="vm.moduleTmp.githubUrl.length" class="bg-loading" style="padding-bottom:0"> <textarea ng-show="vm.markdownContent" width="100%" rows="12" id="simplemde-markdown" style="min-height:100%;padding:0;width:100%"></textarea> <div ng-if="!vm.markdownContent" style="background:#fff;padding:15px"> <p ng-show="!vm.markdownContentError" class="text-center" ng-bind="\'ch-course-program-content.load-repo\' | translate"> </p> <p ng-if="vm.markdownContentError"> Hubo un inconveniente al cargar la preview del repositorio, intenta mas tarde o accede directamente mediante este <a ng-prop-href="vm.moduleTmp.githubUrl" target="_blank">link</a>. <br> Si el problema persiste escribinos mediante el chat de soporte asi lo verificamos. Perdón por las molestias. </p> </div> </div> <div ng-if="vm.moduleTmp.text" class="bg-loading" style="padding-bottom:0"> <textarea width="100%" rows="12" id="simplemde" style="min-height:100%;padding:0"></textarea> </div> <div ng-if="!vm.moduleTmp.text && !vm.moduleTmp.videoUrl && !vm.moduleTmp.slideUrl && !vm.moduleTmp.githubUrl" style="background:var(--body-color);padding:15px"> <p ng-bind="\'ch-course-program-content.empty\' | translate"> </p> </div> </div> </div> </div> </div> <div class="row free-navigation-container"> <div class="col-sm-12 free-navigation-content"> <div class="row"> <div class="col-sm-6 offset-sm-6 text-right"> <ul class="list-unstyled list-inline"> <li class="list-inline-item" ng-if="vm.hasPrevStage"> <a class="ch-btn ch-btn-outline ch-btn-prev ch-btn-sm" href="#" ng-click="vm.onClickPrevModule($event)"> <span><i class="fa fa-angle-left"></i>&nbsp;Anterior</span> </a> </li> <li class="list-inline-item" ng-if="vm.hasNextStage"> <a class="ch-btn ch-btn-outline ch-btn-sm" href="#" ng-click="vm.onClickNextModule($event)"> <span>Siguiente&nbsp;<i class="fa fa-angle-right"></i></span> </a> </li> <li class="list-inline-item" ng-if="!vm.hasNextStage"> <a class="ch-btn ch-btn-outline ch-btn-sm" ui-sref="dashboard"> <span ng-bind="\'ch-course-program-content.courses\' | translate"></span> </a> </li> </ul> </div> </div> </div> <br> <br> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-rating-v2/ch-course-rating-v2.view.html','<div id="ratings-v2-container" ng-cloak> <iframe id="iframe-ratings" ng-prop-src="vm.RATING" class="iframe-full iframe-platform-2021"></iframe> </div>'),e.put('modules/platform/courses/directives/ch-course-rating/ch-course-rating.view.html','<div class="ch-course-rating-container"> <div class="container-fluid" ng-if="vm.flags.loaded" style="background-color:var(--body-color-2)"> <div class="row" ng-if="!vm.flags.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'ch-course-rating.not-started-title\' | translate"></p> <p><i ng-bind="\'ch-course-rating.not-started-subtitle\' | translate"></i></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> <div class="row" ng-if="vm.flags.isStarted && !vm.progress.teacherRating"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'ch-course-rating.not-rating-title\' | translate"></p> <p><i ng-bind="\'ch-course-rating.not-rating-subtitle\' | translate"></i></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> <div class="row charts-container" ng-if="vm.progress.teacherRating"> <div class="col-sm-6"> <br class="ignore"> <div class="row"> <div class="col-sm-4 d-flex align-items-center"> <span class="status-headline" ng-bind="\'ch-course-rating.teacher.title\' | translate"></span> </div> <div class="col-sm-8 text-right"> <div class="row"> <div class="col-sm-4" ng-if="vm.flags.isCoordinatorTeacher"> <select ng-model="vm.currentRole" ng-change="vm.onChangeRoleFeedbacks()" class="form-control ch-input-full"> <option value="students" ng-bind="\'ch-course-rating.dropdown.from-students\' | translate"></option> <option value="teachers" ng-bind="\'ch-course-rating.dropdown.from-teachers\' | translate"></option> </select> </div> <div ng-class="{\n                \'col-sm-4\': vm.flags.isCoordinatorTeacher,\n                \'col-sm-6\': !vm.flags.isCoordinatorTeacher\n              }"> <select ng-model="vm.currentSchedule" ng-change="vm.onChangeScheduleFeedbacks()" class="form-control ch-input-full"> <option value="" selected ng-bind="\'ch-course-rating.dropdown.clases\' | translate"></option> <option ng-repeat="sche in vm.progress.schedules track by $index" ng-value="sche._id" ng-disabled="!sche.flags.isPast || !sche.flags.isAssigned || !sche.flags.isFeedbackEnable" ng-bind="sche.alias"> </option> </select> </div> <div ng-class="{\n                \'col-sm-4\': vm.flags.isCoordinatorTeacher,\n                \'col-sm-6\': !vm.flags.isCoordinatorTeacher\n              }"> <select ng-model="vm.currentComplementarySchedule" ng-change="vm.onChangeComplementaryScheduleFeedbacks()" class="form-control ch-input-full"> <option value="" selected ng-bind="\'ch-course-rating.dropdown.complementaries\' | translate"></option> <option ng-repeat="sche in vm.progress.complementarySchedules track by $index" ng-value="sche._id" ng-disabled="!sche.flags.isPast || !sche.flags.isAssigned" ng-bind="sche.alias"> </option> </select> </div> </div> </div> </div> <br class="ignore"> <div class="row status-container"> <div class="col-sm-12 ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <ul class="list-unstyled status-list"> <li class="status-item status-positive-item"> <div class="row"> <div class="col-6 col-sm-5"> <div class="status-label-container"> <span class="status-icon hide-xs"> <i class="far fa-laugh-beam"></i> </span> <div class="status-label text-center"> <span class="status-title"> <small ng-bind="\'ch-course-rating.labels.positive\' | translate"></small> <br> <b ng-bind="vm.progress.barChart.positivesPerc + \'%\'"></b> </span> </div> </div> </div> <div class="col-6 col-sm-7"> <div class="status-progress"> <span class="status-text-overlay" ng-show="!vm.progress.barChart.positivesPerc" ng-bind="\'ch-course-rating.labels.no-feedbacks\' | translate"></span> <span class="status-overlay" ng-style="{width: vm.progress.barChart.positivesPerc + \'%\'}"></span> <span class="status-bg" ng-class="{\'no-bg\': !vm.progress.barChart.positivesPerc}"></span> </div> </div> </div> </li> <li class="status-item status-neutral-item"> <div class="row"> <div class="col-6 col-sm-5"> <div class="status-label-container"> <span class="status-icon hide-xs"> <i class="far fa-meh"></i> </span> <div class="status-label text-center"> <span class="status-title"> <small ng-bind="\'ch-course-rating.labels.neutral\' | translate"></small> <br> <b ng-bind="vm.progress.barChart.neutralsPerc + \'%\'"></b> </span> </div> </div> </div> <div class="col-6 col-sm-7"> <div class="status-progress"> <span class="status-text-overlay" ng-show="!vm.progress.barChart.neutralsPerc" ng-bind="\'ch-course-rating.labels.neutral.no-feedbacks\' | translate"> </span> <span class="status-overlay" ng-style="{width: vm.progress.barChart.neutralsPerc + \'%\'}"></span> <span class="status-bg" ng-class="{\'no-bg\': !vm.progress.barChart.neutralsPerc}"></span> </div> </div> </div> </li> <li class="status-item status-negative-item"> <div class="row"> <div class="col-6 col-sm-5"> <div class="status-label-container"> <span class="status-icon hide-xs"> <i class="far fa-frown"></i> </span> <div class="status-label text-center"> <span class="status-title"> <small ng-bind="\'ch-course-rating.labels.negative\' | translate"></small> <br> <b ng-bind="vm.progress.barChart.negativesPerc + \'%\'"></b> </span> </div> </div> </div> <div class="col-6 col-sm-7"> <div class="status-progress"> <span class="status-text-overlay" ng-show="vm.progress.barChart.negativesPerc == 0" ng-bind-html="\'ch-course-rating.labels.negative.no-feedbacks\' | translate"></span> <span class="status-overlay" ng-style="{width: vm.progress.barChart.negativesPerc + \'%\'}"></span> <span class="status-bg" ng-class="{\'no-bg\': !vm.progress.barChart.negativesPerc}"></span> </div> </div> </div> </li> </ul> </div> </div> </div> </div> <br class="ignore"> <div class="row ignore"> <div class="col-7"> <span class="status-headline" ng-bind="\'ch-course-rating.labels.feedbacks\' | translate"></span> </div> <div class="col-5 text-right" ng-if="vm.progress.suggestions.length"> <span> {{vm.progress.suggestions.length}} {{\'ch-course-rating.labels.suggestions\' | translate}} </span> </div> </div> <br class="ignore"> <div class="row ignore"> <div class="col-12"> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header tags-container"> <ul class="list-unstyled tags-list" ng-if="vm.progress.tags.length"> <li class="tag-item" ng-repeat="tag in vm.progress.tags track by $index" ng-class="{\n                  \'tag-positive-item\': tag.flags.positive,\n                  \'tag-neutral-item\': tag.flags.neutral,\n                  \'tag-negative-item\': tag.flags.negative\n                }"> <div class="tag-label"> <small> <i class="far fa-frown" ng-class="{\n                        \'fa-laugh-beam\': tag.flags.positive,\n                        \'fa-meh\': tag.flags.neutral,\n                        \'fa-frown\': tag.flags.negative,\n                      }"></i>&nbsp; </small> <span ng-bind="tag.value"></span> </div> <span class="tag-perc" ng-bind="tag.perc + \'%\'"></span> <span class="tag-bg" ng-style="{width: tag.perc + \'%\'}"></span> </li> </ul> <div class="col-sm-12 text-center" ng-if="!vm.progress.tags.length"> <span ng-bind-html="\'ch-course-rating.labels.no-tags\' | translate"></span> </div> </div> </div> </div> </div> </div> <br class="ignore"> <div class="ch-card-container" ng-if="vm.progress.suggestions.length"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row suggestions-container"> <div class="col-sm-12" ng-if="vm.progress.suggestions.length"> <ul class="list-unstyled suggestions-list"> <li class="suggestion-item" ng-repeat="suggestion in vm.progress.suggestions | limitTo: vm.currentSuggestionsLimit track by $index" ng-prop-id="suggestion._id"> <div class="d-flex justify-content-between align-items-center"> <div> <i class="far" ng-class="{\n                            \'fa-laugh-beam\': suggestion.flags.positive,\n                            \'fa-meh\': suggestion.flags.neutral,\n                            \'fa-frown\': suggestion.flags.negative,\n                          }"></i> &nbsp; <small ng-bind="suggestion.alias"></small> </div> </div> <p class="suggestion-label" ng-bind="suggestion.comment" style="margin:0"></p> </li> </ul> </div> <div class="col-sm-12 text-center" ng-if="!vm.progress.suggestions.length"> <span ng-bind-html="\'ch-course-rating.labels.no-suggestions\' | translate"></span> </div> <div class="col-sm-12 text-center" ng-if="vm.progress.suggestions.length > vm.currentSuggestionsLimit"> <span>y otras {{vm.suggestionsLength}} sugerencias más.</span> </div> <div class="col-sm-12 text-center" ng-if="vm.progress.suggestions.length"> <a ng-click="vm.onClickShowAllSuggestions($event)" href="#" class="ch-btn-2021-link"> <span ng-show="vm.progress.suggestions.length > vm.currentSuggestionsLimit"> {{\'ch-course-rating.btn-show-more-suggestions\' | translate}} &nbsp;<i class="fa fa-angle-down"></i> </span> </a> </div> </div> </div> </div> </div> <br> </div> <div class="col-sm-6"> <br> <div class="row chart-rating-container"> <div class="col-sm-12 ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label positives-label" style="display:inline-block"> <i class="star-icon fa fa-star" style="color:#ffeb3b"></i>&nbsp; {{\'ch-course-rating.labels.my-rating\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.teacherRating"></span> </div> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label positives-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.positive\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.positivesPerc + \'%\'"></span> </div> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label neutrals-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.neutral\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.neutralsPerc + \'%\'"></span> </div> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label negatives-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.negative\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.negativesPerc + \'%\'"></span> </div> </div> <hr> <div class="row"> <div class="col-sm-12"> <canvas id="line" class="chart chart-line attendance-and-rate-chart" chart-data="vm.charts.progress.data" chart-labels="vm.charts.progress.labels" chart-series="vm.charts.progress.series" chart-options="vm.charts.progress.options" chart-dataset-override="vm.charts.progress.datasetOverride" chart-click="vm.charts.progress.onClick" chart-hover="vm.charts.progress.onClick" chart-colors="vm.charts.progress.colors"> </canvas> </div> </div> </div> </div> </div> </div> <br> <div class="row chart-rating-container"> <div class="col-sm-12 ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label attendance-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.attendance\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.attendancePerc + \'%\'"></span> </div> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label feedbacks-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.feedbacks\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.responsePerc + \'%\'"></span> </div> </div> <hr> <div class="row"> <div class="col-sm-12"> <canvas id="line" class="chart chart-line attendance-and-rate-chart" chart-data="vm.charts.attendance.data" chart-labels="vm.charts.attendance.labels" chart-series="vm.charts.attendance.series" chart-options="vm.charts.attendance.options" chart-dataset-override="vm.charts.attendance.datasetOverride" chart-click="vm.charts.attendance.onClick" chart-hover="vm.charts.attendance.onClick" chart-colors="vm.charts.attendance.colors"> </canvas> </div> </div> </div> </div> </div> </div> <br> <div class="row chart-rating-container"> <div class="col-sm-12 ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-4 col-sm-2 text-right btn-helth"> <small class="chart-label positives-label" style="display:inline-block"> <i class="fa fa-circle"></i>&nbsp; {{\'ch-course-rating.labels.accumalative\' | translate}} </small><br> <span style="display:inline-block;font-size:18px" class="rating-value" ng-bind="vm.progress.teacherRating"></span> </div> </div> <hr> <div class="row"> <div class="col-sm-12"> <canvas id="line" class="chart chart-line attendance-and-rate-chart" chart-data="vm.charts.rating.data" chart-labels="vm.charts.rating.labels" chart-series="vm.charts.rating.series" chart-options="vm.charts.rating.options" chart-dataset-override="vm.charts.rating.datasetOverride" chart-click="vm.charts.rating.onClick" chart-hover="vm.charts.rating.onClick" chart-colors="vm.charts.rating.colors"> </canvas> </div> </div> </div> </div> </div> </div> </div> </div> <br> <div class="row" ng-if="vm.progress.teacherRating"> <div class="col-sm-12 d-flex justify-content-end"> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickToggleDetails($event)"> <span ng-show="vm.flags.showDetails" ng-bind="\'ch-course-rating.btn-hide-details\' |\n          translate"></span> <span ng-show="!vm.flags.showDetails" ng-bind="\'ch-course-rating.btn-show-details\' |\n          translate"></span> </a> </div> </div> <br> <div class="row" ng-show="vm.flags.showDetails"> <div class="col-12"> <div class="table-responsive"> <table class="table table-hover table-sm"> <thead> <tr class="head-row"> <th class="text-left"><small ng-bind="\'ch-course-rating.details-table.date\' |\n                  translate"></small></th> <th class="text-left"><small ng-bind="\'ch-course-rating.details-table.classes\' |\n                  translate"></small></th> <th class="text-center"><small ng-bind="\'ch-course-rating.details-table.assigned\' |\n                  translate"></small></th> <th class="text-center"><small ng-bind="\'ch-course-rating.details-table.attendance\' |\n                  translate"></small></th> <th class="text-center"><small ng-bind="\'ch-course-rating.details-table.delivers\' |\n                  translate"></small></th> <th class="text-center"><small ng-bind="\'ch-course-rating.details-table.feedbacks\' |\n                  translate"></small></th> <th class="text-center"><small ng-bind="\'ch-course-rating.details-table.rating\' |\n                  translate"></small></th> </tr> </thead> <tbody> <tr ng-repeat="sche in vm.progress.schedules | orderBy: \'day\' track by $index"> <td> <small ng-bind="sche.day | date:\'dd/MM\'"></small> </td> <td> <small ng-bind="($index+1) + \' - \' + (!sche.additional ? sche.stage.name : \'Clase adicional\')"></small> </td> <td class="text-center"> <small><i class="assigned-icon fa" ng-class="{\n                    \'fa-circle\': !sche.flags.isAssigned, \n                    \'fa-check-circle\': sche.flags.isAssigned\n                  }"></i></small> </td> <td class="text-center"> <small ng-if="sche.stats.attended" ng-bind="sche.stats.attended +\' / \'+ sche.stats.amountOfStudents"></small> </td> <td class="text-center"> <small ng-if="sche.stats.amountOfProjects" ng-bind="sche.stats.amountOfProjects +\' / \'+ sche.stats.delivers"></small> </td> <td class="text-center"> <small ng-if="sche.stats.amountOfFeedbacks" ng-bind="sche.stats.amountOfFeedbacks +\' / \'+ sche.stats.attended"></small> </td> <td class="text-center"> <small ng-class="{\n                  \'feed-good\': sche.flags.good, \n                  \'feed-warning\': sche.flags.warning, \n                  \'feed-alert\': sche.flags.alert\n                }" ng-if="sche.stats.rating" ng-bind="sche.stats.rating"></small> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-scorecard/ch-course-scorecard.view.html','<div class="ch-course-scorecard-container"> <iframe ng-src="{{vm.scoreCardUrl}}" id="iframe-scorecard-course" frameborder="0"></iframe> </div> '),e.put('modules/platform/courses/directives/ch-course-student-menu/ch-course-student-menu.view.html','<div class="ch-course-student-menu-v4-container"> <div class="container-fluid"> <div class="row sub-header-container ch-rel ch-z2" ng-class="{\n      \'flag-collapsed\': vm.isCollpased,\n      \'flag-collapsed-overlay\': vm.showCollapsedOverlay\n    }" ng-mouseover="vm.onMouseOverMiniSubHeader($event)" ng-mouseleave="vm.onMouseLeaveMiniSubHeader($event)"> <div class="col-sm-12"> <div class="d-flex justify-content-between align-items-center"> <div> <a href="#" class="course-title-container" ui-sref="platform-course({camadaId: vm.courseTmp.camada.id, courseSlug: vm.courseTmp.level.url})"> <small class="course-headline" ng-bind="vm.strategy.headline"></small> <br> <h4 class="course-title" ng-bind="vm.courseTmp.level.title"></h4> </a> </div> <div class="text-right btns-container justify-content-end"> <ul class="list-inline list-unstyled m-0 d-flex align-items-center buttons-wrapper"> <li class="list-inline-item" ng-if="!vm.IS_MOBILE && vm.strategy.menu.hasPremiumContentLocked"> <a class="ch-btn-campus" href="#" ng-click="vm.onClickPremium($event)" data-toggle="tooltip"> <ch-svg-icon icon="\'premium-ico\'" size="\'-1rem\'" class="ch-btn-campus-icon"></ch-svg-icon> <span class="ch-btn-campus-label ch-btn-premium-link" ng-bind="\'ch-course-student-menu.premium\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.IS_MOBILE && vm.strategy.menu.btnCoderAsk"> <a class="ch-btn-campus" href="#" ng-click="vm.onClickCoderAsk($event)" data-toggle="tooltip" ng-prop-title="vm.strategy.menu.btnCoderAskTooltip"> <i class="fa fa-whatsapp ch-btn-campus-icon" ng-if="!vm.FEATURES.HAS_CODY_BOT"></i> <ch-svg-icon icon="\'cody\'" size="\'-1rem\'" class="ch-btn-campus-icon" ng-if="vm.FEATURES.HAS_CODY_BOT"></ch-svg-icon> <span class="ch-btn-campus-label" ng-bind="vm.strategy.menu.btnCoderAskLabel"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.IS_MOBILE && !vm.strategy.menu.btnNps && vm.strategy.menu.btnLeaderboard"> <a class="dyn-link" ui-sref="platform-course-leaderboard({camadaId: vm.courseTmp.camada.id, courseSlug: vm.courseTmp.level.url})"> <i class="fa fa-trophy mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.top\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.IS_MOBILE && !vm.strategy.menu.btnNps && vm.strategy.menu.btnChat"> <a class="dyn-link" href="#" ng-click="vm.onClickChat($event)"> <i class="fas fa-comments mr-2"></i> <i id="course-chat-notification" class="fas fa-circle" ng-show="vm.flagHasUnread"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.chat\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.submenu.enable"> <div class="ch-rel"> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon" href="#" ng-click="vm.onClickMenuDropdown($event)"> <i class="fa fa-ellipsis-v"></i> </a> <ch-popup-container show="vm.isMenuDropdownActive" position="\'top right\'" translation="\'top\'" on-click-outside="vm.closeMenuDropdown"> <ul class="menu-dropdown-container list-unstyled active" id="course-popup-menu"> <li class="list-inline-item" ng-if="vm.strategy.menu.btnNps"> <a class="ch-link" ng-click="vm.onClickNps($event)" target="_blank"> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.survey\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnShare"> <a class="ch-link" ng-click="vm.onClickShare($event)" href="#"> <i class="fa fa-share mr-2"></i> <span class="ch-btn-label" ng-bind-html="vm.strategy.menu.btnShareLabel" ng-bind="\'ch-course-student-menu.share\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnReferral"> <a class="ch-link" ng-click="vm.onClickReferral($event)" href="#"> <i class="fa fa-star mr-2"></i> <span class="ch-btn-label" ng-bind="vm.strategy.menu.btnReferralLabel"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnProgram"> <a class="ch-link" ng-click="vm.onClickGoToProgram($event)" href="#"> <i class="fa fa-home mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.classes\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnDelivers"> <a class="ch-link" ng-click="vm.onClickGoToDelivers($event)" href="#"> <i class="fa fa-list-ul mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.deliveries\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnStudentGroup"> <a class="ch-link" href="#" ng-click="vm.onClickGroup($event)"> <i class="fa fa-users mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.team\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnMiTutor"> <a class="ch-link" href="#" ng-click="vm.onClickTutor($event)"> <i class="fa fa-user-circle mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.see-tutor\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.submenu.btnCanRequestToBePartnerWith"> <a href="#" class="ch-link" ng-click="vm.onClickRequestBePartnerWith($event)"> <i class="fa fa-user-friends"></i> <span ng-bind="\'ch-course-student-menu.request-partner\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnNps && vm.strategy.menu.btnLeaderboard"> <a ui-sref="platform-course-leaderboard({camadaId: vm.courseTmp.camada.id, courseSlug: vm.courseTmp.level.url})" class="ch-link"> <i class="fa fa-trophy mr-2"></i> <span ng-bind="\'ch-course-student-menu.top10\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnForum"> <a class="ch-link" ng-class="{\'ch-btn-disabled\': !vm.strategy.menu.btnForum}" ng-click="vm.onClickForum($event)" data-toggle="tooltip"> <i class="fa fa-list-ul"></i> <span ng-bind="\'ch-course-student-menu.repository\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnClassmates"> <a ui-sref="platform-course-classmates({camadaId: vm.courseTmp.camada.id, courseSlug: vm.courseTmp.level.url})" class="ch-link"> <i class="fa fa-users mr-2"></i> <span ng-bind="\'ch-course-student-menu.classmates\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="(!vm.strategy.menu.btnNps && vm.strategy.menu.btnCourseInfo) || vm.strategy.submenu.btnCourseInfo"> <a ng-click="vm.onClickInfo($event)" href="#" class="ch-link"> <i class="fa fa-info-circle"></i> <span ng-bind="\'ch-course-student-menu.info\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.menu.btnRemoteTips"> <a class="ch-link" href="#" ng-click="vm.onClickZoomRecomendations($event)"> <i class="fas fa-video mr-2"></i> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.tips\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnNps && vm.strategy.menu.btnChat"> <a href="#" ng-click="vm.onClickChat($event)" class="ch-link"> <i class="fa fa-comments"></i> <i class="fas fa-circle" ng-show="vm.flagHasUnread"></i> <span ng-bind="\'ch-course-student-menu.chat\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="!vm.strategy.menu.btnNps && vm.strategy.submenu.btnMeetingBackground && !vm.courseTmp.coderU"> <a ng-click="vm.onClickDownloadMeetingBackground($event)" href="#" class="ch-link"> <i class="fa fas fa-images"></i> <span ng-bind="\'ch-course-student-menu.zoom-background\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="(vm.strategy.submenu.btnReenroll || vm.strategy.submenu.btnChangeDate) && !vm.hasCertificationAvailable && !vm.courseTmp.coderU"> <a ng-click="vm.onClickRequestReenroll($event, false)" href="#" class="ch-link"> <i class="fa fa-redo-alt"></i> <span ng-bind-html="vm.strategy.menu.btnChangeDateAlias"></span> </a> </li> <li class="list-inline-item" ng-if="((vm.strategy.submenu.btnReenroll || vm.strategy.submenu.btnChangeProduct) || ( !vm.strategy.menu.btnNps && (vm.strategy.menu.btnReenroll || vm.strategy.menu.btnChangeProduct))) && !vm.hasCertificationAvailable && !vm.flags.isEnded && !vm.flags.isNotCourseReenrollAllowed && !vm.courseTmp.coderU"> <a ng-click="vm.onClickRequestReenroll($event, true)" href="#" class="ch-link"> <i class="fa fa-redo-alt"></i> <span ng-bind-html="vm.strategy.menu.btnChangeProductAlias"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.submenu.btnCourseAttendanceCertificate"> <a ng-click="vm.onClickRequestEnrollCert($event)" href="#" class="ch-link"> <i class="fa fa-address-card"></i> <span ng-bind="\'ch-course-student-menu.attendance-certificate\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.submenu.btnCalendar"> <a ng-click="vm.onClickCalendar($event)" href="#" class="ch-link"> <i class="fa fa-calendar"></i> <span ng-bind="\'ch-course-student-menu.calendar\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.submenu.btnInfoScholarship"> <a href="#" class="ch-link" ng-click="vm.onClickInfoScholarship($event)"> <i class="fa fa-glasses"></i> <span ng-bind="\'ch-course-student-menu.beca-requirements\' | translate"></span> </a> </li> </ul> </ch-popup-container> </div> </li> </ul> </div> </div> </div> </div> </div> <div class="ch-rel ch-z2 mini-sub-header-container" ng-show="vm.isCollpased"> <div class="row"> <div class="col"> <div class="headline-container"> <small class="course-headline"> <span ng-bind="vm.courseTmp.camada.id"></span> - <span ng-bind="vm.courseTmp.level.title"></span> - <a ng-if="vm.courseTmp.currentSchedule.liveVideoLink.includes(\'zoom\')" ng-prop-href="vm.courseTmp.currentSchedule.liveVideoLink" style="color:#fff"> <i class="fas fa-info-circle mr-1"></i> <span ng-bind="\'ch-course-student-menu.open-zoom\' | translate"></span> </a> </small> </div> </div> <div class="col text-right" ng-mouseenter="vm.onMouseOverMiniSubHeader($event)"> <small class="btn-dropdown"> <i class="fa fa-chevron-down"></i> </small> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-student-program/ch-course-student-program.view.html','<div class="ch-course-student-program-v4-container"> <div class="container-fluid" ng-if="vm.courseTmp.flags.showBanners" ng-class="{\'p-0\': vm.courseTmp.flags.showUpsellignProgressBarBanner}"> <ch-upselling-mini-banner ng-if="vm.courseTmp.flags.showUpsellignProgressBarBanner" params="{courseId: vm.courseTmp._id}"> </ch-upselling-mini-banner> <div class="row"> <div class="col-sm-10 offset-sm-1"> <ch-banner-tutorials ng-if="vm.courseTmp.flags.showTutorialsBanner" params="{camadaId: vm.courseTmp.camada.id}"> </ch-banner-tutorials> <ch-banner-upselling ng-if="vm.courseTmp.flags.showUpsellignBanner && !vm.courseTmp.flags.showUpsellignProgressBarBanner && !vm.courseTmp.coderU" params="{courseId: vm.courseTmp._id}"> </ch-banner-upselling> </div> </div> </div> <div class="container-fluid"> <div class="row progress-widget" ng-class="{\'flag-loaded\': vm.program.loaded, \'flag-isTraining\': vm.courseTmp.flags.isTraining}"> <div class="col-sm-10 offset-sm-1"> <div class="row"> <div class="col-sm-6" ng-if="!vm.courseTmp.level.freeBr && vm.courseTmp.widgetNextClassTmp._id"> <div class="progress-widget-container d-flex justify-content-between" ng-class="{\'flag-complementary\': vm.courseTmp.widgetNextClassTmp.flags.isComplementary}"> <div> <ul class="list-unstyled list-campus"> <li> <small ng-bind="vm.courseTmp.widgetNextClassTmp.flags.isTodayAlias"></small> <small class="info-tooltip" data-toggle="tooltip" ng-prop-title="vm.courseTmp.widgetNextClassTmp.flags.isTodayTzAlias"> <i class="fas fa-info-circle"></i> </small> </li> <li> <b class="title" ng-bind="vm.courseTmp.widgetNextClassTmp.flags.isComplementary?vm.courseTmp.widgetNextClassTmp.title:vm.courseTmp.widgetNextClassTmp.stage.name"></b> </li> </ul> </div> <div> <ul class="list-unstyled" ng-class="{\'widget-list\': vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow && !vm.courseTmp.widgetNextClassTmp.flags.isFeedbackEnable}"> <li ng-if="vm.IS_MOBILE"> &nbsp;</li> <li> <ul class="list-inline list-unstyled btns-2-container" style="margin:0"> <li class="list-inline-item" ng-if="!vm.courseTmp.flags.isRemote"> <a class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickModule($event, vm.courseTmp.widgetNextClassTmp.stage)"> <small class="mr-2"><i ng-class="{\n                            \'fa fa-arrow-right\': !vm.courseTmp.flags.hasFolder,\n                            \'far fa-folder-open\': vm.courseTmp.flags.hasFolder\n                          }"></i></small> <span class="ch-btn-label" ng-bind="\'ch-student-course.btn-folder\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.courseTmp.flags.isRemote && !vm.courseTmp.widgetNextClassTmp.stage.flags.isStarter && !vm.courseTmp.widgetNextClassTmp.stage.flags.isFree"> <a ng-if="!vm.courseTmp.widgetNextClassTmp.flags.isToday" class="ch-btn-2021-square ch-btn-sm disabled p-0" href="#"> <small class="mr-2"> <i class="fas fa-circle" ng-class="{\n                              \'ch-animation-pulse\': vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow\n                              }"></i> </small> <span class="ch-btn-label ch-btn-campus-label" ng-bind="vm.courseTmp.widgetNextClassTmp.flags.isTomorrowAlias"></span> </a> <a ng-if="vm.courseTmp.widgetNextClassTmp.flags.isToday && !vm.courseTmp.widgetNextClassTmp.flags.isComplementary" class="ch-btn-2021-square ch-btn-sm ch-btn-live-video mt-1" href="#" ng-click="vm.onClickVideo($event, vm.courseTmp.widgetNextClassTmp.stage.schedule)" ng-class="{\n                            \'disabled\': !vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow && !vm.courseTmp.widgetNextClassTmp.stage.schedule.liveVideoLink.length,\n                            \'ch-btn-submit\': !vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow && vm.courseTmp.widgetNextClassTmp.stage.schedule.liveVideoLink.length,\n                            \'active\': vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow\n                        }"> <small class="mr-2"> <i class="fas fa-circle" ng-class="{\n                              \'ch-animation-pulse\': vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow\n                                }"></i> </small> <span id="btn-live-now" class="ch-btn-label" ng-if="vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow" ng-bind="\'ch-student-course.btn-live-video-now\' | translate"></span> <span class="ch-btn-label" ng-if="!vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow && !vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isIncoming"> {{\'ch-student-course.btn-live-video-today\' | translate}} {{(vm.courseTmp.widgetNextClassTmp.stage.schedule.from | date:\'HH:mm\')}} </span> </a> <a ng-if="vm.courseTmp.widgetNextClassTmp.flags.isToday && vm.courseTmp.widgetNextClassTmp.flags.isComplementary" class="ch-btn-2021-square ch-btn-sm ch-btn-live-video mt-1" href="#" ng-click="vm.onClickVideo($event, vm.courseTmp.nextComplementarySche)" ng-class="{\n                            \'disabled\': !vm.courseTmp.nextComplementarySche.flags.isNow && !vm.courseTmp.nextComplementarySche.liveVideoLink.length,\n                            \'ch-btn-submit\': !vm.courseTmp.nextComplementarySche.flags.isNow && vm.courseTmp.nextComplementarySche.liveVideoLink.length,\n                            \'active\': vm.courseTmp.nextComplementarySche.flags.isNow\n                        }"> <small class="mr-2"> <i class="fas fa-circle" ng-class="{\n                              \'ch-animation-pulse\': vm.courseTmp.nextComplementarySche.flags.isNow\n                            }"></i> </small> <span id="btn-live-now" class="ch-btn-label" ng-if="vm.courseTmp.nextComplementarySche.flags.isNow" ng-bind="\'ch-student-course.btn-live-video-now\' | translate"> </span> <span class="ch-btn-label" ng-if="!vm.courseTmp.nextComplementarySche.flags.isNow && vm.courseTmp.nextComplementarySche.flags.isIncoming"> {{\'ch-student-course.btn-live-video-incoming\' | translate}} {{(vm.countdown | date:\'HH:mm\')}} </span> <span class="ch-btn-label" ng-if="!vm.courseTmp.nextComplementarySche.flags.isNow && !vm.courseTmp.nextComplementarySche.flags.isIncoming"> {{\'ch-student-course.btn-live-video-today\' | translate}} {{(vm.courseTmp.nextComplementarySche.from | date:\'HH:mm\')}} </span> </a> </li> <li class="list-inline-item" ng-show="vm.courseTmp.flags.isRemote && (vm.courseTmp.widgetNextClassTmp.flags.isNow || vm.courseTmp.widgetNextClassTmp.flags.isPast) && vm.courseTmp.widgetNextClassTmp.flags.isFeedbackEnable && !vm.courseTmp.training"> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickFeedback($event, vm.courseTmp.widgetNextClassTmp.stage, vm.courseTmp.widgetNextClassTmp)" ng-class="{\n                            \'ch-btn-icon\': vm.courseTmp.zoomMeetingPass.length,\n                            \'disabled\': !vm.courseTmp.widgetNextClassTmp.flags.isToday,\n                            \'bordered\': vm.courseTmp.widgetNextClassTmp.flags.isToday || vm.courseTmp.widgetNextClassTmp.flags.isNow\n                          }" data-toggle="tooltip" ng-prop-title="\'ch-student-course.btn-feedback-tooltip\' | translate"> <small class="mr-2"> <i class="far fa-thumbs-up"></i> </small> <span class="ch-btn-label" ng-if="!vm.courseTmp.zoomMeetingPass.length" ng-bind="\'ch-student-course.btn-feedback\' | translate"></span> </a> </li> </ul> </li> <span ng-if="vm.courseTmp.widgetNextClassTmp.stage.schedule.flags.isNow && !vm.courseTmp.widgetNextClassTmp.flags.isFeedbackEnable" class="zoom-warning"> <small class="zoom-warning-text" ng-bind-html="\'ch-student-course.warning-zoom\' | translate"></small> </span> </ul> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showAttendanceProgress"> <div class="progress-widget-container" ng-class="{\n              \'hasBeca\': vm.progress.isAbsent && vm.progress.hasBeca}" ng-click="vm.onClickInfoScholarship($event, vm.progress.isAbsent)"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="\'ch-student-course.progress.attendance\' | translate"></small> <small ng-if="vm.progress.isAbsent" class="info-tooltip" data-toggle="tooltip" ng-prop-title="vm.progress.absents.label + \' - \' + vm.progress.hasBecaLabel" ng-class="{\n                      \'flag-progress-warn\': vm.progress.absents.flags.warn,\n                      \'flag-progress-alert\': vm.progress.absents.flags.alert,\n                    }"> <i class="fas fa-info-circle"></i> </small> </li> <li> <b class="perc-value" ng-bind="vm.progress.attendance.perc + \'%\'"></b> </li> </ul> </div> <div> <ul class="list-unstyled"> <li> <small style="font-size:10px;color:#aaa"> <span>{{vm.progress.attendance.completed}} {{\'ch-student-course.progress.assistance\' | translate}}</span> &nbsp; <span ng-if="vm.progress.absents.completed">{{vm.progress.absents.completed}} {{\'ch-student-course.progress.absents\' | translate}}</span> </small> </li> </ul> <div class="progress-bar-h"> <div class="progress-bar-perc" ng-style="{\n                    \'width\': vm.program.loaded ? vm.progress.attendance.perc + \'%\' : 0\n                  }"> </div> </div> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showDeliversProgress"> <div class="progress-widget-container" ng-class="{\n              \'hasBeca\': vm.progress.isUndeliver && vm.progress.hasBeca}" ng-click="vm.onClickInfoScholarship($event, vm.progress.isUndeliver)"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="\'ch-student-course.progress.delivers\' | translate"></small> <small ng-if="vm.progress.isUndeliver" class="info-tooltip" data-toggle="tooltip" ng-prop-title="vm.progress.undelivers.label + \' - \' + vm.progress.hasBecaLabel" ng-class="{\n                      \'flag-progress-warn\': vm.progress.undelivers.flags.warn,\n                      \'flag-progress-alert\': vm.progress.undelivers.flags.alert,\n                    }"> <i class="fas fa-info-circle"></i> </small> </li> <li> <b class="perc-value" ng-bind="vm.progress.delivers.perc + \'%\'"></b> </li> </ul> </div> <div> <ul class="list-unstyled"> <li> <small style="font-size:10px;color:#aaa"> <span>{{vm.progress.delivers.completed}} / {{vm.progress.delivers.amount}} {{\'ch-student-course.progress.delivers.approved\' | translate}}</span> </small> </li> </ul> <div class="progress-bar-h"> <div class="progress-bar-perc" ng-style="{\n                    \'width\': vm.program.loaded ? vm.progress.delivers.perc + \'%\' : 0\n                  }"> </div> </div> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showTrainingWeeks"> <div class="progress-widget-container" ng-class="{\n              \'hasBeca\': vm.progress.isUndeliver && vm.progress.hasBeca}" ng-click="vm.onClickInfoScholarship($event, vm.progress.isUndeliver)"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="\'ch-student-course-progress-weeks\' | translate"></small> </li> <li> <b class="perc-value" ng-bind="vm.courseTmp.progress.classes.perc + \'%\'"></b> </li> </ul> </div> <div> <div class="foot-progress"> <small style="font-size:10px;color:#aaa"> <span>{{vm.courseTmp.progress.classes.completed}} <span ng-bind="\'ch-student-course-progress-of\' | translate"></span> {{vm.courseTmp.progress.classes.amount}}</span> </small> </div> <div class="progress-bar-h"> <div class="training-progress-bar-perc" ng-style="{\n                    \'width\':  vm.courseTmp.progress.classes.perc + \'%\'\n                  }"> </div> </div> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showFinalDeliversProgress"> <div class="progress-widget-container"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="\'ch-student-course.progress.delivers.final-score\' | translate"></small> </li> <li> <b class="perc-value" ng-bind="vm.progress.delivers.score"></b> </li> </ul> </div> <div> <ul class="list-unstyled"> <li> <small style="font-size:10px;color:#aaa"> <span ng-bind="vm.progress.delivers.score + \' de 10\'"></span> </small> </li> </ul> <div class="progress-bar-h"> <div class="progress-bar-perc" ng-style="{\n                    \'width\': vm.program.loaded ? (vm.progress.delivers.score * 10) + \'%\' : 0\n                  }"> </div> </div> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showContentProgress && (vm.tutoringCommission != vm.courseTmp.camada.id)"> <div class="progress-widget-container"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="\'ch-student-course.progress.content\' | translate"></small> </li> <li> <b class="perc-value" ng-bind="vm.progress.primary.perc + \'%\'"></b> </li> </ul> </div> <div> <ul class="list-unstyled"> <li> <small style="font-size:10px;color:#aaa"><span>{{vm.progress.primary.completed}} / {{vm.progress.primary.amount}} {{\'ch-student-course.progress.content.viewed\' | translate}} </span></small> </li> </ul> <div class="progress-bar-h"> <div class="progress-bar-perc" ng-style="{\n                    \'width\': vm.program.loaded ? vm.progress.primary.perc + \'%\' : 0\n                  }"> </div> </div> </div> </div> </div> <div class="col-sm-3" ng-if="vm.courseTmp.flags.showCertificationProgress && !(vm.strategy.nextSche && vm.courseTmp.widgetNextClassTmp._id)"> <div class="progress-widget-container d-flex justify-content-between"> <div> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="vm.courseTmp.training ? (\'ch-student-course.progress.certificate-training\' | translate) : (\'ch-student-course.progress.certificate\' | translate)"></small> <small ng-if="!vm.certificationTmp._id" class="info-tooltip" data-toggle="tooltip" ng-prop-title="\'ch-student-course.progress.certificate.tooltip.1\' | translate"> <i class="fas fa-info-circle"></i> </small> <small ng-if="vm.certificationTmp._id" class="info-tooltip" data-toggle="tooltip" ng-prop-title="\'ch-student-course.progress.certificate.tooltip.2\' | translate"> <i class="fas fa-info-circle"></i> </small> </li> </ul> </div> <div> <ul class="list-inline list-unstyled btns-2-container m-0"> <li ng-if="!vm.certificationTmp._id" class="d-flex flex-row"> <a class="ch-btn-2021-square ch-btn-sm disabled w-100" href="#" data-toggle="tooltip"> <small><i class="fa fa-lock mr-2"></i></small> <span class="ch-btn-label" ng-bind="\'ch-student-course.progress.certificate.download\' | translate"></span> </a> </li> <li ng-if="vm.certificationTmp._id" class="d-flex flex-row"> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon bordered mr-2" ng-click="vm.onClickGoToCert($event, true)" href="#" data-toggle="tooltip" ng-prop-title="\'ch-student-course.progress.certificate.download\' | translate"> <i class="fa fa-download"></i> </a> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon bordered mr-2" ng-click="vm.onClickGoToCert($event, false, true)" href="#" data-toggle="tooltip" ng-prop-title="\'ch-student-course.progress.certificate.linkedin\' | translate"> <i class="fa fa-linkedin"></i> </a> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon bordered" ng-click="vm.onClickGoToCert($event)" href="#" data-toggle="tooltip" ng-prop-title="\'ch-student-course.progress.certificate.open\' | translate"> <i class="fa fa-external-link-alt"></i> </a> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="row complementary-widget" ng-if="vm.courseTmp.nextComplementarySche._id" ng-class="{\'flag-loaded\': vm.program.loaded}"> <div class="col-sm-10 offset-sm-1"> <div class="row"> <div class="col-sm-12"> <div class="progress-widget-container flag-complementary"> <div class="row"> <div class="col-sm-6"> <ul class="list-unstyled"> <li style="font-size:12px;text-transform:uppercase"> <small ng-bind="vm.courseTmp.nextComplementarySche.flags.isToday ? \'Hoy\' : \'Próxima clase complementaria\'"></small> <small ng-bind="vm.courseTmp.nextComplementarySche.dayAlias"></small> </li> <li> <b class="title" ng-bind="vm.courseTmp.nextComplementarySche.title"></b> </li> </ul> </div> <div class="col-sm-6 d-flex align-items-center justify-content-end"> <ul class="list-unstyled"> <li ng-if="vm.IS_MOBILE"> &nbsp;</li> <li> <ul class="list-inline list-unstyled btns-2-container text-right" style="margin:0"> <li class="list-inline-item" ng-if="vm.courseTmp.flags.isRemote && !vm.courseTmp.nextComplementarySche.stage.flags.isStarter && !vm.courseTmp.nextComplementarySche.stage.flags.isFree"> <a ng-if="!vm.courseTmp.nextComplementarySche.flags.isToday" class="ch-btn-2021-square ch-btn-sm disabled" href="#"> <i class="fas fa-circle mr-2" ng-class="{\n                                                                          \'ch-animation-pulse\': vm.courseTmp.nextComplementarySche.flags.isNow\n                                                                          }" style="font-size:8px"></i> <i class="ch-btn-label" ng-bind="vm.courseTmp.nextComplementarySche.flags.isTomorrowAlias"></i> </a> <a ng-if="vm.courseTmp.nextComplementarySche.flags.isToday" role="button" class="ch-btn-2021-square ch-btn-sm ch-btn-live-video" ng-click="vm.onClickVideo($event, vm.courseTmp.nextComplementarySche)" ng-class="{\n                                                                          \'disabled\': !vm.courseTmp.nextComplementarySche.flags.isNow && !vm.courseTmp.nextComplementarySche.liveVideoLink.length,\n                                                                          \'ch-btn-submit\': !vm.courseTmp.nextComplementarySche.flags.isNow && vm.courseTmp.nextComplementarySche.liveVideoLink.length,\n                                                                          \'active\': vm.courseTmp.nextComplementarySche.flags.isNow\n                                                                      }"> <i class="fas fa-circle mr-2" ng-class="{\n                                                                          \'ch-animation-pulse\': vm.courseTmp.nextComplementarySche.flags.isNow\n                                                                          }"></i> <span class="ch-btn-label" ng-if="vm.courseTmp.nextComplementarySche.flags.isNow" ng-bind="\'ch-student-course.btn-live-video-now\' | translate"></span> <span class="ch-btn-label" ng-if="!vm.courseTmp.nextComplementarySche.flags.isNow && vm.courseTmp.nextComplementarySche.flags.isIncoming"> {{\'ch-student-course.btn-live-video-incoming\' | translate}} {{(vm.countdown | date:\'HH:mm\')}} </span> <span class="ch-btn-label" ng-if="!vm.courseTmp.nextComplementarySche.flags.isNow && vm.courseTmp.nextComplementarySche.liveVideoLink.length && !vm.courseTmp.nextComplementarySche.flags.isIncoming"> {{\'ch-student-course.btn-live-video-today\' | translate}} {{(vm.courseTmp.nextComplementarySche.from | date:\'HH:mm\')}} </span> </a> </li> </ul> </li> </ul> </div> </div> </div> </div> </div> </div> </div> </div> <div class="container-fluid"> <br> <div class="row program-container" ng-class="{\'flag-loaded\': vm.program.loaded}"> <div class="col-6 col-sm-5 offset-sm-1"> <h4 class="ch-article-title" ng-bind="\'ch-student-course.program-title\' | translate"></h4> </div> <div class="col-6 col-sm-5 text-right" ng-if="vm.courseTmp.flags.showSharedFolder"> <div class="d-flex justify-content-end"> <a class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickSharedFolder($event)" href="#"> <small class="mr-2"><i class="fa fa-folder"></i></small> <span class="ch-btn-label" ng-bind="\'ch-course-student-menu.folder\' | translate"></span> </a> </div> </div> </div> <br> <div class="row program-container" id="accordion" ng-class="{\'flag-loaded\': vm.program.loaded}"> <div class="col-sm-10 offset-sm-1"> <div class="row program-item-container" ng-prop-id="stage.slug" ng-repeat="stage in vm.program.stages track by $index" ng-init="activeAccordeonItem = stage.contents.length > 0 || (((vm.courseTmp.flags.showProgramDelivers && !stage.flags.isFinalDeliver) || (vm.courseTmp.flags.showProgramFinalDeliver && stage.flags.isFinalDeliver)) && stage.delivers.length)"> <div class="col-sm-12 program-item-content" ng-class="{\n              \'flag-challenges\': stage.delivers.length,\n              \'flag-locked\': stage.schedule.flags.isNext,\n              \'flag-complementary\': !stage.schedule.flags.isPast && stage.schedule.flags.isComplementary,\n              \'collapsed\': !(stage.schedule.flags.isToday || stage.schedule.flags.isIncoming),\n              \'program-pointer\': activeAccordeonItem\n            }" ng-attr-data-toggle="{{activeAccordeonItem?\'collapse\':undefined}}" ng-attr-data-target="{{\'#collapseContainer\'+$index}}" aria-expanded="true" ng-attr-aria-controls="{{\'#collapseContainer\'+$index}}"> <div class="row"> <div class="col-sm-12"> <div class="program-item-headline"> <div class="row"> <div class="col-sm-7 program-item-title"> <div class="program-item-progress"> <i ng-class="{\n                            \'fas fa-check-circle\': stage.schedule.flags.isPast && !vm.courseTmp.training,\n                            \'fas fa-check-circle training\': stage.schedule.flags.isPast && vm.courseTmp.training,\n                            \'far fa-dot-circle\': stage.schedule.flags.isToday || stage.schedule.flags.isIncoming,\n                            \'far fa-circle\': stage.schedule.flags.isNext || (!stage.schedule.flags.isPast && !stage.schedule.flags.isToday),\n                            \'fas fa-circle\': stage.flags.isOnboarding || stage.flags.isStarter\n                          }"></i> <div class="progress-bar-v" ng-if="activeAccordeonItem"> <div ng-class="{\'progress-bar-perc\': stage.schedule.flags.isPast}"></div> </div> </div> <span class="program-item-label"> <small class="date-headline d-block" ng-if="stage.schedule.dayAlias" ng-bind-html="stage.schedule.dayAlias"></small> <b class="stage-title" ng-bind="stage.name"></b> <br>  </span></div> <div class="col-sm-5 program-item-col text-right" ng-show="vm.IS_MOBILE ? stage.flags.isOnboarding || (!stage.schedule.flags.isNext && !stage.flags.isStarter && !stage.flags.isFree) : true"> <ul class="list-unstyled list-inline"> <li class="list-inline-item" ng-if="(vm.courseTmp.flags.showProgramFeedbacks || stage.schedule.flags.isLeveling) && !stage.flags.isStarter && !stage.flags.isFree"> <div ng-if="!stage.schedule.sameScheduleFrom" ng-class="{\'flag-btn-disabled\': stage.schedule.flags.isNext}"> <div ng-if="stage.schedule.flags.isFeedbackEnable"> <a href="#" class="ch-btn-2021-square ch-btn-sm bordered" ng-if="!stage.schedule.flags.isFeedbackCompleted && !stage.schedule.flags.isFeedbackExpired" ng-click="vm.onClickFeedback($event, stage, stage.schedule)"> <small class="mr-2"><i class="far fa-thumbs-up"></i></small> <span class="ch-btn-label" ng-bind="\'ch-student-course.btn-feedback\' | translate"></span> </a> <a class="ch-btn ch-btn-solid-b ch-btn-sm ch-btn-icon btn-feedback" style="opacity:.25" ng-if="stage.schedule.flags.isUserAttended && !stage.schedule.flags.isFeedbackCompleted && stage.schedule.flags.isFeedbackExpired" data-toggle="tooltip" ng-prop-title="stage.schedule.feedbackTimeLeftToExpireAlias" ng-click="vm.onClickFeedback($event, stage, stage.schedule)"> <i class="far fa-thumbs-up"></i> </a> </div> </div> <div ng-if="stage.schedule.sameScheduleFrom && stage.schedule.flags.isFeedbackEnable" ng-class="{\'flag-btn-disabled\': stage.schedule.flags.isNext}"> <span class="ch-btn ch-btn-solid-b ch-btn-sm ch-btn-icon" style="opacity:.5;margin-top:5px" data-toggle="tooltip" ng-prop-title="\'ch-student-course.btn-saturday-extension\' | translate"> <i ng-if="stage.schedule.flags.isFeedbackCompleted" class="far fa-thumbs-up"></i> </span> </div> </li> <li class="list-inline-item" ng-if="(vm.courseTmp.flags.isRemote || vm.courseTmp.flags.isPrerecorded || vm.courseTmp.flags.isRemoteRecorded)"> <a ng-if="stage.schedule.flags.isToday && !vm.courseTmp.flags.isRemoteRecorded" class="ch-btn-2021-square ch-btn-sm ch-btn-live-video" href="#" ng-click="vm.onClickVideo($event, stage.schedule)" ng-class="{\n                            \'disabled\': !stage.schedule.flags.isNow && !stage.schedule.liveVideoLink.length,\n                            \'ch-btn-submit\': !stage.schedule.flags.isNow && stage.schedule.liveVideoLink.length,\n                            \'active\': stage.schedule.flags.isNow\n                          }"> <i class="fas fa-circle mr-2" ng-class="{\n                              \'ch-animation-pulse\': stage.schedule.flags.isNow\n                              }"></i> <span class="ch-btn-label" ng-if="stage.schedule.flags.isNow" ng-bind="\'ch-student-course.btn-live-video-now\' | translate"></span> <span class="ch-btn-label" ng-if="!stage.schedule.flags.isNow"> {{\'ch-student-course.btn-live-video-today\' | translate}} {{(stage.schedule.from | date:\'HH:mm\')}} </span> </a> <a ng-if="stage.schedule.recordingVideoLink.length && (stage.schedule.flags.isToday || stage.schedule.flags.isPast)" class="ch-btn-2021-square ch-btn-sm" href="#" ng-class="{\n                              \'disabled\': !stage.schedule.recordingVideoLink.length,\n                              \'bordered\': stage.schedule.recordingVideoLink.length\n                            }" ng-click="vm.onClickVideo($event, stage.schedule, stage)"> <small><i class="fa fa-play mr-2"></i></small> <span ng-if="vm.courseTmp.flags.isPrerecorded || vm.courseTmp.flags.isRemoteRecorded" ng-bind="\'ch-student-course.btn-content\' | translate"></span> <span ng-if="vm.courseTmp.flags.isRemote" ng-bind="\'ch-student-course.btn-recording\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="stage.flags.isOnboarding"> <a class="ch-btn-2021-square ch-btn-sm" ng-prop-href="stage.downloadLink" target="_blank"> <small class="ch-btn-label"><i class="fa fa-download mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-download-zoom\' | translate"></span> </a> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickModule($event, stage)"> <small class="ch-btn-label"><i class="fa fa-book-open mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-presentation\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.courseTmp.flags.isStarted && !vm.courseTmp.training && !stage.flags.isOnboarding && !stage.schedule.flags.isComplementary && !vm.IS_MOBILE && !stage.free"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-class="{\n                            \'btn-round btn-compact\': !vm.courseTmp.flags.hasFolder,\n                            \'ch-btn-icon\': vm.courseTmp.flags.hasFolder\n                          }" ng-click="vm.onClickModule($event, stage)" data-toggle="tooltip" ng-prop-title="\'ch-student-course.btn-folder\' | translate"> <span class="ch-btn-label mr-2" ng-if="!vm.courseTmp.flags.hasFolder" ng-bind="\'ch-student-course.btn-content\' | translate"></span> <small> <i ng-class="{\n                                \'fa fa-arrow-right\': !vm.courseTmp.flags.hasFolder,\n                                \'far fa-folder-open\': !stage.schedule.flags.isNext && vm.courseTmp.flags.hasFolder,\n                                \'far fa-folder\': stage.schedule.flags.isNext && vm.courseTmp.flags.hasFolder\n                              }"></i> </small> </a> </li> <li class="list-inline-item"> <div class="collapse-icon-container"> <div class="btn btn-link" ng-if="activeAccordeonItem" class="acc-chevron-icon"></div> </div> </li> </ul> </div> </div> <div ng-attr-id="{{\'collapseContainer\'+$index}}" ng-class="{\n                      \'collapse\': !(stage.schedule.flags.isToday || stage.schedule.flags.isIncoming),\n                      \'collapse show\': stage.schedule.flags.isToday || stage.schedule.flags.isIncoming,\n                    }" class="collapse" data-parent="#accordion" ng-click="$event.stopPropagation()"> <div class="headline-row-space"></div> <div class="row challenge-list"> <div class="col-sm-12 challenge-item-container" ng-repeat="mod in stage.contents track by $index" ng-if="stage.contents.length"> <div class="challenge-item-content" ng-class="{\'flag-last\': $last}"> <div class="row"> <div ng-if="!mod.is_premium" class="progress-bar-v" ng-style="{\'height\': (!stage.contents[$index+1].is_premium && !$last) || (stage.contents[$index+1].is_premium && stage.contents[$index+1].enabled) ? \'100%\' : \'50%\'}"> <div ng-class="{\'progress-bar-perc\': stage.schedule.flags.isPast}"></div> </div> <div ng-if="mod.is_premium && mod.enabled" class="progress-bar-v"> <div ng-class="{\'progress-bar-perc\': stage.schedule.flags.isPast}"></div> </div> <div class="col-sm-8 program-item-title"> <div ng-if="!mod.is_premium" class="program-item-progress sub-bullet"> <i ng-class="{\n                                  \'fas fa-circle past\': stage.schedule.flags.isPast && !vm.courseTmp.training,\n                                  \'fas fa-circle past training\': stage.schedule.flags.isPast && vm.courseTmp.training,\n                                  \'fas fa-circle notPast\': !stage.schedule.flags.isPast\n                                  }"> </i> </div> <div ng-if="mod.is_premium && mod.enabled" class="program-item-progress sub-bullet"> <i class="sub-bullet-premium" ng-class="{\n                                  \'fas fa-circle past\': stage.schedule.flags.isPast,\n                                  \'fas fa-circle notPast\': !stage.schedule.flags.isPast\n                                  }"> </i> </div> <div ng-if="mod.is_premium && !mod.enabled" class="program-item-progress sub-bullet"> <img src="https://res.cloudinary.com/hdsqazxtw/image/upload/SVG-ICONS/premium-lock.svg" class="ch-btn-campus-icon" alt="icono contenido bloqueado"> </div> <div> <small ng-if="mod.is_premium" class="d-block challenge-premium-header">{{mod.description}}</small> <small ng-if="!mod.is_premium && vm.courseTmp.training" class="d-block challenge-premium-header text-uppercase"> {{ mod.type ? mod.type : mod.videoUrl.length ? (\'ch-course-student-program-headline.video\' | translate) : mod.materialUrl.length ? (\'ch-course-student-program-headline.material\' | translate) : mod.chatChannel ? (\'ch-course-student-program-headline.discord\' | translate) : \'\' }} </small> <div class="d-flex"> <b class="challenge-title" ng-bind="mod.name"></b> <ch-premium-badge-component ng-if="mod.is_premium"></ch-premium-badge-component> </div> </div> </div> <div class="col-sm-4 program-item-col text-right"> <a ng-if="mod.chatChannel && vm.courseTmp.training" class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickModule($event, stage, { link: vm.courseTmp.camada.discordUrl })" ng-if="stage"> <span ng-bind="\'ch-student-course-training.btn-discord\' | translate"></span> </a> <a ng-if="mod.externalUrl.length && vm.courseTmp.training" class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickModule($event, stage, { link: mod.externalUrl })" ng-if="stage"> <span ng-bind="\'ch-student-course-training.btn-external-link\' | translate"></span> </a> <a ng-if="mod.text.length && vm.courseTmp.training" class="ch-btn-2021-square bordered ch-btn-sm" href="#" ng-click="vm.onClickModule($event, stage, { text: mod.text })" ng-if="stage"> <span ng-bind="\'ch-student-course-training.btn-learn-more\' | translate"></span> </a> <a ng-if="mod.githubUrl.length && mod.is_premium" class="ch-btn-2021-square ch-btn-sm" ng-class="{ \'ch-btn-premium\': mod.is_premium }" href="#" ng-click="vm.onClickModule($event, stage, { githubUrl: mod.githubUrl }, {isPremium: mod.is_premium, isUnlocked: mod.enabled})" ng-if="stage"> <small class="ch-btn-label"><i class="fa fa-book-open mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-material\' | translate"></span> </a> <a ng-if="mod.slideUrl.length" class="ch-btn-2021-square ch-btn-sm" ng-class="{ \'ch-btn-premium\': mod.is_premium}" href="#" ng-click="vm.onClickModule($event, stage, { slideUrl: mod.slideUrl, flags: mod.flags, id: mod._id}, {isPremium: mod.is_premium, isUnlocked: mod.enabled})" ng-if="stage"> <small class="ch-btn-label"><i class="fa fa-book-open mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-presentation\' | translate"></span> </a> <a ng-if="mod.activityUrl.length" class="ch-btn-2021-square ch-btn-sm" ng-class="{ \'ch-btn-premium\': mod.is_premium}" href="#" ng-click="vm.onClickModule($event, stage, { activityUrl: mod.activityUrl }, {isPremium: mod.is_premium, isUnlocked: mod.enabled})" ng-if="stage"> <small class="ch-btn-label"><i class="fa fa-book-open mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-activity\' | translate"></span> </a> <a ng-if="mod.materialUrl.length" class="ch-btn-2021-square ch-btn-sm" ng-class="{ \'ch-btn-premium\': mod.is_premium }" href="#" ng-click="vm.onClickModule($event, stage, { materialUrl: mod.materialUrl }, {isPremium: mod.is_premium, isUnlocked: mod.enabled})" ng-if="stage"> <small class="ch-btn-label"><i class="fa fa-book-open mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-material\' | translate"></span> </a> <a ng-if="mod.videoUrl.length" class="ch-btn-2021-square ch-btn-sm" ng-class="{ \'ch-btn-premium\': mod.is_premium}" href="#" ng-click="vm.onClickVideo($event, stage.schedule, stage, { videoUrl: mod.videoUrl, flags: mod.flags, id: mod._id }, {isPremium: mod.is_premium, isUnlocked: mod.enabled})" ng-if="stage"> <small class="ch-btn-label"><i class="fas fa-play mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-video\' | translate"></span> </a> </div> </div> </div> </div> <div class="col-sm-12 challenge-item-container" ng-repeat="mod in stage.delivers track by $index" ng-if="((vm.courseTmp.flags.showProgramDelivers && !stage.flags.isFinalDeliver) || (vm.courseTmp.flags.showProgramFinalDeliver && stage.flags.isFinalDeliver))&&stage.delivers.length"> <div class="challenge-item-content" ng-class="{\'flag-last\': $last}"> <div class="row"> <div class="progress-bar-v"> <div ng-class="{\'progress-bar-perc\': stage.schedule.flags.isPast}"></div> </div> <div class="col-sm-8 program-item-title"> <div class="program-item-progress sub-bullet"> <i ng-class="{\'fas fa-circle past\': stage.schedule.flags.isPast,\n                                              \'fas fa-circle notPast\': !stage.schedule.flags.isPast}"> </i> </div> <div> <small class="challenge-headline" ng-bind="mod.headline"></small> <br> <b class="challenge-title" ng-bind="mod.name"></b> <br> <div ng-class="\'subtext-status challenge-headline \' + mod.statusClass"> <small class="challenge-headline" ng-bind="mod.statusAlias"></small> <span ng-if="mod.deliverExpirationDateAlias.length"> &nbsp;<i class="far fa-clock"></i> <small class="challenge-headline" ng-bind="mod.deliverExpirationDateAlias"></small> </span> </div> </div> </div> <div class="col-sm-4 program-item-col text-right"> <a role="button" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickDeliver($event, mod, stage)" ng-if="mod.showDeliverBtn"> <span ng-bind="\'ch-student-course.btn-deliver\' | translate"></span> </a> <a href="#" ng-if="mod.showDetailBtn" class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickDeliver($event, mod, stage)"> <small ng-if="mod.deliver.flags.hasChatsUnviewed"><i class="mr-2" class="fas fa-comments"></i></small> <span ng-bind="\'ch-student-course.delivers.btn.view-details\' | translate"></span> </a> </div> </div> </div> </div> </div> </div> </div> <div class="program-item-headline perk" ng-class="{\n                    \'perk-unlocked\': stage.perk.isUnlocked,\n                    \'perk-locked\': !stage.perk.isUnlocked,\n                  }" ng-if="stage.perk.key && !vm.IS_BR && !vm.courseTmp.training && !vm.isCoderUComission"> <div class="row"> <div class="col-sm-8 program-item-title"> <span class="stage-title perk" ng-bind-html="stage.perk.title"></span> </div> <div class="col-sm-4 program-item-col text-right"> <a class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickStagePerk($event, stage)" ng-prop-href="stage.perk.enrollmentLink" ng-if="stage.perk.isUnlocked"> <span ng-bind="\'ch-student-course.btn-perk\' | translate"></span> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-supervision/ch-course-supervision.view.html','<div id="ch-course-supervison-container" class="ch-course-supervison-container container-fluid"> <div class="row" ng-if="!vm.courseTmp.flags.isStarted"> <div class="col-sm-6 col-xs-12 offset-sm-3 text-center"> <br> <br> <div class="ch-card-container"> <div class="ch-card-content"> <div class="ch-card-header"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <br> <br> <p ng-bind="\'ch-course-supervision.progress\' | translate"></p> <p ng-bind="\'ch-course-supervision.notify-problems\' | translate"></p> <br> <br> </div> </div> </div> </div> </div> </div> </div> <div class="row progress-widget" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-sm-10 offset-sm-1"> <div class="row"> <div class="col-sm-4"> <ch-widget-progress params="{\n              headline: vm.courseTmp.headline.classesAndAssistance,\n              details: vm.courseTmp.progress.schedules.completed + \' de \' + vm.courseTmp.progress.schedules.amount,\n              expected: vm.courseTmp.progress.schedules.expected,\n              amount: vm.courseTmp.progress.schedules.amount,\n              completed: vm.courseTmp.progress.schedules.completed,\n              perc: vm.courseTmp.progress.schedules.perc\n            }"> </ch-widget-progress> </div> <div class="col-sm-4"> <ch-widget-progress params="{\n            headline: vm.courseTmp.headline.expectedDeliveries,\n            details: vm.courseTmp.progress.totalDelivers.expected + \' de \' + vm.courseTmp.progress.totalDelivers.amount,\n            expected: vm.courseTmp.progress.schedules.expected,\n            amount: vm.courseTmp.progress.totalDelivers.amount,\n            completed: vm.courseTmp.progress.schedules.completed,\n            perc: vm.courseTmp.progress.totalDelivers.perc\n          }"> </ch-widget-progress> </div> </div> </div> </div> <br> <div class="row" ng-if="vm.courseTmp.flags.isStarted && vm.teachers.length"> <div class="col-sm-10 offset-sm-1"> <div class="progress-widget-container"> <div class="table-responsive"> <table class="table table-hover table-sm table-list"> <thead> <tr class="head-row"> <th colspan="2"> <small ng-bind="\'ch-course-supervision.tutors\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.deliveries\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.deliveries-rerevised\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.deliveries-unrevised\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.completeness\' | translate"></small> </th> <th class="text-center" ng-if="vm.FEATURES._REPORT_ASSISTANT"> <small></small> </th> </tr> </thead> <tbody> <tr class="align-middle" ng-repeat="stu in vm.teachers track by $index"> <td width="1%" class="student-profile"> <div class="avatar rounded-circle"> <img ng-prop-src="::(stu.avatar | cloudinary:30:30)" ng-if="::stu.avatar.length"> </div> </td> <td class="align-middle"> <small class="td-name" ng-bind="::stu.fullName"></small> </td> <td class="align-middle text-center"> <span ng-bind="::stu.progress.total.delivered" data-toggle="tooltip" ng-prop-title="stu.progress.total.deliveredTooltip"></span> </td> <td class="align-middle text-center"> <span ng-bind="::stu.progress.total.reviewed" data-toggle="tooltip" ng-prop-title="stu.progress.total.reviewedTooltip"></span> </td> <td class="align-middle text-center"> <span ng-bind="::stu.progress.total.unreviewed" data-toggle="tooltip" ng-prop-title="stu.progress.total.unreviewedTooltip"></span> </td> <td class="align-middle text-center"> <span ng-bind="::stu.progress.total.reviewedPerc + \'%\'" ng-class="::{\n                    \'flag-status-neutral\': stu.progress.flags.reviewed.warning,\n                    \'flag-status-negative\': stu.progress.flags.reviewed.alert,\n                  }"></span> </td> <td class="align-middle text-center" ng-if="vm.FEATURES._REPORT_ASSISTANT"> <div> <a href="#" ng-click="vm.onClickAlert($event, stu)" class="ch-btn-2021-square ch-btn-sm" ng-if="vm.courseTmp.flags.isStarted" ng-bind="\'ch-course-supervision.notify\' | translate"> </a> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> <br> <div class="row" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-sm-10 offset-sm-1"> <div class="progress-widget-container"> <div class="table-responsive"> <table class="table table-hover table-sm table-list"> <thead> <tr class="head-row"> <th colspan="2"> <small ng-bind="\'ch-course-supervision.students\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.absence\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.assistance\' | translate"></small> </th> <th class="text-center"> <small ng-bind="\'ch-course-supervision.deliveries\' | translate"></small> </th> <th class="text-center"> <small></small> </th> </tr> </thead> <tbody> <tr class="align-middle" ng-repeat="stu in ::vm.students track by $index"> <td width="1%" class="student-profile"> <div class="avatar rounded-circle"> <img ng-prop-src="::(stu.avatar | cloudinary:30:30)" ng-if="::stu.avatar.length"> </div> </td> <td class="align-middle"> <small class="td-name" ng-bind="::stu.fullName"></small> <small ng-if="::stu.flags.beca" class="badge badge-beca" ng-bind="\'ch-course-supervision.scholarship\' | translate"></small> <small ng-if="::stu.flags.inactive" class="badge badge-warning" ng-bind="\'ch-course-supervision.inactive\' | translate"></small> <small ng-if="::stu.flags.unenroll" class="badge badge-secondary" ng-bind="\'ch-course-supervision.unsubscribe\' | translate"></small> </td> <td class="align-middle text-center"> <span ng-class="::{\n                    \'flag-status-neutral\': stu.progress.absents.status.neutral,\n                    \'flag-status-negative\': stu.progress.absents.status.negative,\n                  }" ng-bind="::stu.progress.absents.perc + \'%\'" data-toggle="tooltip" ng-prop-title="::stu.progress.absents.tooltip"></span> </td> <td class="align-middle text-center"> <span ng-class="::{\n                  \'flag-status-neutral\': stu.progress.attendance.status.neutral,\n                  \'flag-status-negative\': stu.progress.attendance.status.negative,\n                }" ng-bind="::stu.progress.attendance.perc + \'%\'" data-toggle="tooltip" ng-prop-title="::stu.progress.attendance.tooltip"></span> </td> <td class="align-middle text-center"> <span ng-class="::{\n                  \'flag-status-neutral\': stu.progress.delivers.status.neutral,\n                  \'flag-status-negative\': stu.progress.delivers.status.negative,\n                }" ng-bind="::stu.progress.delivers.deliveredPerc + \'%\'" data-toggle="tooltip" ng-prop-title="::stu.progress.delivers.tooltip"></span> </td> <td class="align-middle text-center"> <div> <a href="#" ng-click="vm.onClickAlert($event, stu)" class="ch-btn-2021-square ch-btn-sm" ng-if="vm.courseTmp.flags.isStarted" ng-bind="\'ch-course-supervision.nofity\' | translate"> </a> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> <br> <div class="row" ng-if="vm.courseTmp.flags.isStarted"> <div class="col-sm-10 offset-sm-1"> <div class="row"> <div class="col-sm-12"> <br> <h5 ng-bind="\'ch-course-supervision.code-of-conduct\' | translate"></h5> <span ng-bind="\'ch-course-supervision.in-coderhouse-consult\' | translate"></span> <a ng-if="!vm.IS_ENV_BR" ui-sref="onboarding-videos({vid:\'conduct\'})" target="_blank" class="ch-btn-2021-link" ng-bind="\'ch-course-supervision.code-of-conduct\' | translate"> </a> <a ng-if="vm.IS_ENV_BR" ng-href="{{vm.code_of_conduct}}" target="_blank" class="ch-btn-2021-link" ng-bind="\'ch-course-supervision.code-of-conduct\' | translate"> </a> <span ng-bind="\'ch-course-supervision.and\' | translate"></span> <a ng-href="{{vm.terms_and_conditions}}" target="_blank" class="ch-btn-2021-link" ng-bind="\'ch-course-supervision.terms-and-conditions\' | translate"> </a> <span ng-bind="\'ch-course-supervision.report-knowledge\' | translate"></span> <br> <br> <p> <span ng-bind="\'ch-course-supervision.report-question\' | translate"></span> <a ng-click="vm.onClickAssistantResource($event)" href="#" class="ch-btn-2021-link" ng-bind="\'ch-course-supervision.protocol\' | translate"> </a> <span ng-bind="\'ch-course-supervision.for-your-knowledge\' | translate"></span> </p> <br> <h5 ng-bind="\'ch-course-supervision.question\' | translate"></h5> <br> <p ng-bind="\'ch-course-supervision.support\' | translate"> </p> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-teacher-menu/ch-course-teacher-menu.view.html','<div> <div class="ch-course-teacher-menu-container container-fluid ch-subnav"> <div class="row" ng-if="!vm.isOnline"> <div class="col-sm-12"> <ul class="list-unstyled list-inline mt-3 mb-3"> <li class="list-inline-item course-item-title"> <a class="ch-link" ng-class="{active: vm.sections.course}" ui-sref="platform-course({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-click="vm.onClickGoToClasses($event)"> <span ng-if="!vm.IS_MOBILE"> {{vm.camadaTmp.id}} - {{vm.camadaTmp.course.level.title.replace(\'Marketing Digital:\',\'\')}} </span> <span ng-if="vm.IS_MOBILE" ng-bind="vm.camadaTmp.id"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnAttendance"> <a class="ch-link" ng-class="{active: vm.sections.attendance}" ui-sref="platform-course-attendance({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'ch-course-teacher-menu.btn-attendance\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnScorecard"> <a class="ch-link" ng-class="{active: vm.sections.scorecard}" ui-sref="platform-course-scorecard({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'scorecard-tab-title\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnDelivers"> <a class="ch-link" ng-class="{active: vm.sections.delivers}" ng-click="vm.onClickGoToDelivers($event)" ui-sref="platform-course-delivers({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'ch-course-teacher-menu.btn-delivers\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnFeedbacks"> <a class="ch-link" ng-class="{active: vm.sections.rating}" ui-sref="platform-course-rating({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'ch-course-teacher-menu.btn-feedbacks\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnSupervision"> <a class="ch-link" ng-class="{active: vm.sections.supervision}" ui-sref="platform-course-supervision({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'ch-course-teacher-menu.btn-supervision\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnClassmates"> <a class="ch-link" ng-class="{active: vm.sections.classmates}" ui-sref="platform-course-classmates({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})" ng-bind="\'ch-course-teacher-menu.btn-classmates\' | translate"></a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnLeaderboard"> <a class="ch-link" ng-class="{active: vm.sections.leadboard}" ui-sref="platform-course-leaderboard({camadaId: vm.courseTmp.camada.id, courseSlug: vm.courseTmp.level.url})" ng-bind="\'ch-course-teacher-menu.btn-top10\' | translate"></a> </li> <li class="list-inline-item pull-right"> <ul class="list-inline list-unstyled"> <li class="list-inline-item" ng-if="vm.strategy.menu.btnMainCourseInfo"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickInfo($event)" href="#"> <i class="fa fa-info-circle mr-2"></i> <span ng-bind="\'ch-course-teacher-menu.btn-info\' | translate"></span> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnReferral"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickReferral($event)" href="#"> <i class="fa fa-star mr-2"></i> <span ng-bind="vm.strategy.menu.btnReferralLabel"></span> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnAttendance"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ui-sref="platform-course-attendance({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <i class="far fa-calendar-check mr-2"></i> {{!vm.IS_MOBILE ? \'&nbsp;Asistencia\' : \'\'}} </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnScorecard"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ui-sref="platform-course-scorecard({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <i class="far fa-calendar-check mr-2"></i> {{!vm.IS_MOBILE ? \'&nbsp;Scorecard\' : \'\'}} </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnDelivers"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ui-sref="platform-course-delivers({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <i class="far fa-file-alt mr-2"></i> {{!vm.IS_MOBILE ? \'&nbsp;Desafíos\' : \'\'}} </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnFeedbacks"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ui-sref="platform-course-rating({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <i class="far fa-star mr-2"></i> {{!vm.IS_MOBILE ? (\'ch-course-teacher-menu.btn-attendance\' | translate) : \'\'}} </a> </li> <li class="list-inline-item" ng-if="::!vm.IS_MOBILE && vm.strategy.menu.btnZoomAccount"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickZoomAccount($event)" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-zoom-tooltip\' | translate"> <i class="fa fa-user-circle mr-2"></i> {{!vm.IS_MOBILE ? (\'ch-course-teacher-menu.btn-zoom\' | translate) : \'\'}} </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnPowerBiAccount"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickPowerBiAccount($event)" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-powerbi-tooltip\' |\n                  translate"> <i class="fa fa-user-circle mr-2"></i> {{!vm.IS_MOBILE ? (\'ch-course-teacher-menu.btn-powerbi\' | translate) : \'\'}} </a> </li> <li class="list-inline-item tooltip-wrapper" ng-if="::!vm.IS_MOBILE && vm.strategy.menu.btnReEnableDelivers"> <button href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickReEnableDeliver($event)"> <i class="fa fa-redo-alt mr-2"></i> {{!vm.IS_MOBILE ? (\'ch-course-teacher-menu.btn-reenable\' | translate) : \'\'}}  </button></li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnCloseLeaderboard"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickCloseLeaderboard($event)" data-toggle="tooltip" title="Cerrar TOP10"> <i class="fa fa-unlock"></i> {{!vm.IS_MOBILE ? \'&nbsp;Top10\' : \'\'}} </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnForum"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.onClickNewPost($event)" data-toggle="tooltip" title="Crear publicación"> <i class="fa fa-plus"></i> {{!vm.IS_MOBILE ? (\'ch-course-teacher-menu.btn-new-post\' | translate) : \'\'}} </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.newNps"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" ng-click="vm.sendSurvey($event)" data-toggle="tooltip" ng-prop-title="vm.strategy.menu.btnNpsLabel"> {{!vm.IS_MOBILE ? vm.strategy.menu.btnNpsLabel : \'\'}} </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnComplementarySchedule" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-afterclass-tooltip\' | translate"> <a class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" href="#" ng-click="vm.onClickSetComplementarySchedule($event)"> <i class="fa fa-calendar-plus"></i> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnShare"> <a class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" data-toggle="tooltip" title="¡Compartir!" href="#" ng-click="vm.onClickShare($event)"> <i class="fa fa-share"></i> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnCalendar"> <a class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-calendar-tooltip\' | translate" href="#" ng-click="vm.onClickCalendar($event)"> <i class="fa fa-calendar"></i> </a> </li> <li class="list-inline-item" ng-if="::!vm.IS_MOBILE && vm.strategy.menu.btnSharedFolder"> <a class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" ng-class="{\'ch-btn-disabled\': !vm.strategy.menu.btnSharedFolder}" target="_blank" ng-prop-href="vm.camadaTmp.course.sharedFolderLink" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-shared-folder-tooltip\' | translate"> <i class="far fa-folder"></i> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnForum"> <a class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" ng-class="{\'ch-btn-disabled\': !vm.strategy.menu.btnForum}" ng-click="vm.onClickForum($event)" data-toggle="tooltip" title="Ir al repositorio"> <i class="fa fa-list-ul"></i> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnChat"> <a href="#" class="ch-btn-2021-square bordered ch-btn-sm ch-btn-icon" ng-class="{\'ch-btn-disabled\': !vm.strategy.menu.btnChat}" ng-click="vm.onClickChat($event)" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-menu.btn-chat-tooltip\' | translate"> <i class="far fa-comments"></i> </a> </li> <li class="list-inline-item ch-rel" ng-if="vm.strategy.submenu"> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon" ng-class="{\'ch-btn-icon\': vm.IS_MOBILE}" href="#" ng-click="vm.onClickMenuDropdown($event)"> <i class="fa fa-ellipsis-v"></i> </a> <ch-popup-container show="vm.isMenuDropdownActive" position="\'top right\'" translation="\'top\'" on-click-outside="vm.closeMenuDropdown"> <ul class="menu-dropdown-container list-unstyled active"> <li class="list-inline-item" ng-if="vm.strategy.menu.btnCourseInfo"> <a href="#" class="ch-link p-2" ng-click="vm.onClickInfo($event)"> <small><i class="fa fa-info-circle"></i> {{(\'ch-course-teacher-menu.btn-info\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnSubmenuAttendance"> <a href="#" class="ch-link p-2" ui-sref="platform-course-attendance({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <small><i class="far fa-calendar-check mr-2"></i> {{(\'ch-course-teacher-menu.btn-attendance\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnSubmenuScorecard"> <a href="#" class="ch-link p-2" ui-sref="platform-course-scorecard({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <small><i class="far fa-calendar-check mr-2"></i> {{(\'scorecard-tab-title\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnSubmenuDelivers"> <a href="#" class="ch-link p-2" ui-sref="platform-course-delivers({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <small><i class="far fa-file-alt mr-2"></i> {{(\'ch-course-teacher-menu.btn-delivers\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnSubmenuFeedbacks"> <a href="#" class="ch-link p-2" ui-sref="platform-course-rating({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <small><i class="far fa-star mr-2"></i> {{(\'ch-course-teacher-menu.btn-feedbacks\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnSharedFolderInvitations"> <a href="#" class="ch-link p-2" ng-click="vm.onClickSendSharedFolderInvitations($event)"> <small><i class="fa fa-user-edit"></i> {{(\'ch-course-teacher-menu.btn-update-drive-permissions\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnReEnableDelivers"> <a href="#" class="ch-link p-2" ng-click="vm.onClickReEnableDeliver($event)"> <small><i class="fa fa-redo-alt"></i> {{(\'ch-course-teacher-menu.btn-reenable-delivers\' | translate)}}</small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnRequestChangeGroup"> <a href="#" class="ch-link p-2" ng-click="vm.onClickChangeStudentGroup($event)"> <small><i class="fa fa-user-friends"></i> {{(\'ch-course-teacher-menu.btn-change-student-group\' | translate)}} </small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnSharedFolder"> <a ng-prop-href="vm.camadaTmp.course.sharedFolderLink" class="ch-link p-2" target="_blank"> <small><i class="far fa-folder"></i> {{(\'ch-course-teacher-menu.btn-shared-folder\' | translate)}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnSharedTeacherFolder"> <a ng-prop-href="vm.camadaTmp.course.teachersSharedFolderLink" class="ch-link p-2" target="_blank"> <small><i class="fa fa-folder-plus"></i> {{(\'ch-course-teacher-menu.btn-teaches-shared-folder\' | translate)}} </small> </a> </li> <li class="list-inline-item" ng-if="::vm.IS_MOBILE && vm.strategy.menu.btnZoomAccount"> <a href="#" class="ch-link p-2" ng-click="vm.onClickZoomAccount($event)"> <small><i class="fa fa-user-circle"></i> {{(\'ch-course-teacher-menu.btn-zoom-account\' | translate)}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnZoomTips"> <a href="#" class="ch-link p-2" ng-click="vm.onClickZoomRecomendations($event)"> <small><i class="fas fa-video"></i> {{(\'ch-course-teacher-menu.btn-zoom-tips\' | translate)}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnSubstitues"> <a href="#" class="ch-link p-2" ng-click="vm.onClickSubstitute($event)"> <small><i class="fa fa-user-plus"></i> {{\'ch-course-teacher-menu.btn-request-substitute\' | translate}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnRequestAdditionalSchedule"> <a href="#" class="ch-link p-2" ng-click="vm.onClickRequestAdditionalSchedule($event, true)"> <small><i class="fa fa-calendar-day"></i> {{\'ch-course-teacher-menu.btn-request-additonal-schedule-2\' | translate}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnMeetingBackground"> <a href="#" class="ch-link p-2" ng-click="vm.onClickDownloadMeetingBackground($event)"> <small><i class="fas fa-images"></i> {{\'ch-course-teacher-menu.btn-zoom-backround\' | translate}} </small> </a> </li> <li class="list-inline-item" ng-if="vm.strategy.menu.btnAttendanceCertificate"> <a href="#" class="ch-link p-2" ng-click="vm.onClickRequestEnrollCert($event)"> <small><i class="fa fa-address-card"></i> {{\'ch-course-teacher-menu.btn-request-enroll-cert\' | translate}} </small> </a> </li> </ul> </ch-popup-container> </li> </ul> </li> </ul> </div> </div> <div class="row" ng-if="vm.isOnline"> <div class="col-sm-12"> <ul class="list-unstyled"> <li class="list-inline-item" ng-if="vm.IS_MOBILE"> <a class="ch-btn-2021-square ch-btn-sm ch-btn-icon" ng-click="$window.history.back()"> <i class="fa fa-chevron-left"></i> </a> </li> <li class="list-inline-item"> <a class="ch-btn-2021-link" ui-sref="platform-course({camadaId: vm.params.camadaId, courseSlug: vm.params.courseSlug})"> <span ng-bind="vm.productTypeLabel"></span> de <span ng-bind="vm.camadaTmp.course.level.title.replace(\'Marketing Digital:\',\'\')"></span> </a> </li> </ul> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-course-teacher-program/ch-course-teacher-program.view.html','<div class="ch-course-teacher-program-container"> <div class="table-responsive"> <table class="table table-hover stages-table"> <tbody ng-repeat="item in vm.stages track by $index"> <tr class="stage-row" ng-class="{\n          \'is-today\': item.schedule.flags.isToday,\n          \'is-complementary\': item.schedule.flags.isComplementary\n        }" ng-click="vm.onClickModule($event, item, item.modules[0])"> <td width="3%" class="attendance-col text-center" ng-if="!vm.IS_MOBILE && vm.programFlags.colToday"> <small ng-if="!item.starter" ng-class="{attended: item.schedule.flags.isAssigned}"> <i class="fa-circle" data-toggle="tooltip" ng-prop-title="item.schedule.flags.isAssigned ? \'Asignado\': \'No estas asignado\'" ng-class="{\n                  \'fas\': item.schedule.flags.isAssigned,\n                  \'far\': !item.schedule.flags.isAssigned\n                }"></i> </small> </td> <td class="stage-name-col"> <small style="display:block;margin-bottom:5px;font-size:12px" ng-bind="item.schedule.alias" ng-if="!item.schedule.flags.isPast"></small> <span class="stage-name" ng-bind="item.name" style="max-width:100%"></span> </td> <td width="10%" class="challenges-col"> </td> <td class="feedback-col text-right" ng-if="vm.programFlags.colRecording"> <a ng-if="item.schedule.presentationLink.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item)"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-presentation\' | translate}} </a> <a ng-if="item.schedule.recordingVideoLink.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickVideo($event, item)"> <i class="fas fa-play mr-2"></i> {{\'ch-course-teacher-program.btn-video\' | translate}} </a> </td> <td class="feedback-col text-center" ng-if="!vm.IS_MOBILE && vm.programFlags.colAttendance"> <div ng-if="!item.schedule.sameScheduleFrom"> <div> <span class="ch-btn-2021-square ch-btn-sm bordered" ng-if="item.schedule.recordingVideoLink.length" ng-click="vm.onClickScheduleRecording($event, item.schedule, item)"> <i class="fa fa-play mr-2"></i> {{\'ch-course-teacher-program.btn-record\' | translate}} </span> <span class="ch-btn-2021-square ch-btn-sm bordered" ng-if="!item.schedule.recordingVideoLink.length && (item.schedule._flags.isToday || item.schedule._flags.isTomorrow || item.schedule._flags.isIncoming) && item.schedule.liveVideoLink.length" ng-click="vm.onClickVideo($event, item)"> <i class="fa fa-play mr-2"></i> {{(item.schedule._flags.isToday ? \'ch-course-teacher-program.btn-live\' : \'ch-course-teacher-program.btn-next-live\') | translate}} </span> <span class="ch-btn-2021-square ch-btn-sm bordered" ng-if="item.schedule.flags.isPast && !item.schedule.recordingVideoLink.length && item.schedule.liveVideoLink.length" ng-click="vm.onClickScheduleRecording($event, item.schedule, item)"> <i class="fa fa-paperclip mr-2"></i> {{\'ch-course-teacher-program.btn-paste-record-link\' | translate}} </span> </div> </div> </td> <td style="width:10%" class="feedback-col text-center" ng-if="vm.programFlags.colAttendance"> <div ng-if="!item.schedule.sameScheduleFrom && !item.schedule.recordingVideoLink.length && (item.schedule._flags.isToday || item.schedule._flags.isTomorrow || item.schedule._flags.isIncoming) && item.schedule.liveVideoLink.length"> <div> <span class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickOpenMeetingInfo($event, item.schedule)"> <i class="fa fa-key mr-2"></i> {{\'ch-course-teacher-program.btn-zoom-pass\' | translate}} </span> <span ng-if="vm.IS_MOBILE" class="ch-btn-2021-square ch-btn-sm primary" ng-click="vm.onClickVideo($event, item)"> <i class="fa fa-play mr-2"></i> {{(item.schedule._flags.isToday ? \'ch-course-teacher-program.btn-live\' : \'ch-course-teacher-program.btn-next-live\') | translate}} </span> </div> </div> </td> <td class="feedback-col text-center" ng-if="!vm.IS_MOBILE && vm.programFlags.colAttendance"> <div ng-if="!item.schedule.sameScheduleFrom"> <div ng-if="item.schedule.flags.isFeedbackEnable"> <button class="ch-btn-2021-square ch-btn-sm" ng-if="item.schedule.flags.isCheckinCompleted && !item.schedule.flags.isFeedbackCompleted" ng-click="vm.onClickFeedback($event, item, item.schedule)" ng-class="{\n                      \'bordered\': !item.schedule.flags.isFeedbackEnable\n                    }"> <small><i class="far fa-thumbs-up mr-2"></i></small> {{\'ch-course-teacher-program.btn-feedback\' | translate}} </button> <span class="ch-btn-2021-link" data-toggle="tooltip" ng-prop-title="\'ch-course-teacher-delivers.feedback-send\' | translate" ng-click="$event.stopPropagation()" ng-if="item.schedule.flags.isFeedbackCompleted"> <small><i class="fas fa-thumbs-up"></i></small> </span> </div> </div> <div ng-if="item.schedule.sameScheduleFrom" data-toggle="tooltip" title="No es necesario valorar."> <span class="ch-btn-2021-square ch-btn-sm disabled"> {{\'ch-course-teacher-program.btn-saturday-extension\' | translate}} </span> </div> </td> <td class="open-col" style="width:5%" ng-if="!vm.IS_MOBILE"> <div ng-if="item.schedule.flags.isComplementary && !item.schedule.flags.isPast" ng-click="vm.onClickComplementarySchedule($event, item.schedule)" data-toggle="tooltip" title="Editar clase complementaria"> <span class="ch-btn-2021-square ch-btn-sm ch-btn-icon btn-feedback active"> <i class="fa fa-edit"></i> </span> </div> </td> </tr> <tr ng-repeat="mod in item.modules track by $index" class="module-row" ng-class="{\n          \'is-today\': item.schedule.flags.isToday,\n          \'is-complementary\': item.schedule.flags.isComplementary\n        }" ng-if="!vm.IS_MOBILE"> <td width="3%" class="attendance-col text-center" ng-if="!vm.IS_MOBILE && vm.programFlags.colToday"> <small></small> </td> <td class="stage-name-col"> <span class="stage-name" ng-bind="mod.alias"></span> </td> <td width="10%" class="challenges-col"></td> <td class="text-right" ng-if="vm.programFlags.colRecording"> <a ng-if="mod.slideUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {slideUrl: mod.slideUrl}, true)"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-presentation\' | translate}} </a> <a ng-if="mod.activityUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {activityUrl: mod.activityUrl}, true)"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-activity\' | translate}} </a> <a ng-if="mod.materialUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {materialUrl: mod.materialUrl}, true)"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-material\' | translate}} </a> <a ng-if="mod.videoUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickVideo($event, item, {videoUrl: mod.videoUrl})"> <i class="fas fa-play mr-2"></i> {{\'ch-course-teacher-program.btn-video\' | translate}} </a> </td> <td class="text-center" ng-if="!vm.IS_MOBILE && vm.programFlags.colAttendance"> <a ng-if="mod.slideUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {slideUrl: mod.slideUrl})"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-presentation\' | translate}} </a> <a ng-if="mod.activityUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {activityUrl: mod.activityUrl})"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-activity\' | translate}} </a> <a ng-if="mod.materialUrl.length" class="ch-btn-2021-square ch-btn-sm bordered" href="#" ng-click="vm.onClickModule($event, item, {materialUrl: mod.materialUrl})"> <i class="fa fa-book-open mr-2"></i> {{\'ch-course-teacher-program.btn-material\' | translate}} </a> <a ng-if="mod.videoUrl.length" class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickVideo($event, item, {videoUrl: mod.videoUrl})"> <small class="ch-btn-label"><i class="fas fa-play mr-2"></i></small> <span ng-bind="\'ch-student-course.btn-video\' | translate"></span> </a> </td> <td style="width:10%" ng-if="vm.programFlags.colAttendance"></td> <td ng-if="!vm.IS_MOBILE && vm.programFlags.colAttendance"></td> <td class="open-col" style="width:5%" ng-if="!vm.IS_MOBILE"></td> </tr> </tbody> </table> </div> <ch-modal-course-schedule-recording></ch-modal-course-schedule-recording> </div>'),e.put('modules/platform/courses/directives/ch-courses/ch-student-courses.view.html','<div class="ch-courses-v6-container"> <ch-loader></ch-loader> <div class="ch-courses-content container-fluid" ng-class="{show: !vm.loading}"> <div class="row"> <div class="col-sm-8 col-md-9"> <div class="row" ch-class-mq="{\'ml-5 mr-1\': \'col-lg\'}"> <div class="col-sm-12 mb-3 mt-3" ng-if="vm.IS_MOBILE"> <ch-dashboard-banners ng-if="!vm.loading"></ch-dashboard-banners> </div> <div class="col-sm-12 mb-3 mt-4"> <span class="home-greeting" ng-bind="vm.greeting"> </span> </div> <div class="col-sm-12 mb-3 mt-3"> <div class="ch-tab-list-container"> <div class="list"> <div class="ch-tab ch-df ch-jucc ch-aliic" ng-class="{active: item.active}" ng-repeat="item in vm.tabs track by $index" ng-click="vm.onTabChange($event, item)" ng-mouseenter="$ctrl.onHover(tab)"> <span class="label" ng-class="{active: item.active}" ng-bind="item.label"></span> </div> </div> </div> </div> <div class="col-sm-12 global-hide mb-3" ng-class="{hide: vm.tabsLoading}"> <div class="carousel-container" ng-style="{\'visibility\': vm.tabLoaded ? \'visible\':\'hidden\'}"> <div class="carousel" ng-if="vm.activeTabItems.length > 3 || vm.IS_MOBILE"> <ch-course-card class="carousel-cell" ng-repeat="item in vm.activeTabItems track by item._id" course-tmp="item"> </ch-course-card> </div> <div class="row" ng-if="vm.activeTabItems.length <= 3 && !vm.IS_MOBILE"> <ch-course-card ng-repeat="item in vm.activeTabItems track by item._id" course-tmp="item"> </ch-course-card> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 mt-4" ng-if="!vm.IS_MOBILE"> <ch-dashboard-banners ng-if="!vm.loading"></ch-dashboard-banners> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-courses/ch-teacher-courses.view.html','<div class="ch-courses-v6-container"> <div class="ch-loader-container"> <div id="ch-loader-spinner" class="ch-loader-spinner" ng-class="vm.showLoader ? \'show\' : \'\'"> <div class="bg"></div> <div class="img"> <div class="spinner"></div> </div> </div> </div> <div class="ch-courses-content container-fluid ch-container items-wrapper" ng-class="{show: !vm.loading}"> <div class="row"> <div class="col-sm-10 ch-my-3"> <ch-tab-list show-loader="vm.showLoader" options="vm.tabOptions" tab-active="vm.tabActive"></ch-tab-list> </div> </div> <div class="row"> <div class="col-sm-10" ng-if="vm.tabs.length" ng-repeat="tab in vm.tabs track by $index" ng-class="{active: tab.active, customIframeTab: tab.iframe && vm.scoreCardUrl && tab.active}" ng-show="tab.active"> <ul class="list-unstyled list-inline tags-list mb-4" ng-if="tab.tags.length"> <li class="list-inline-item tag-item" ng-repeat="tag in tab.tags track by $index"> <a href="#" ng-click="tag.onClick ? vm.onClickToolkit() : vm.onClickTabTag($event, tab, tag)" class="ch-btn-2021-square ch-btn-sm" ng-class="{bordered: tag.active, unbordered: !tag.active, disabled: !tag.items.length}"> <span ng-bind="tag.label"></span> </a> </li> </ul> <div ng-if="!tab.iframe" class="carousel-container" ng-style="{\'visibility\': vm.tabLoaded ? \'visible\':\'hidden\'}"> <div ng-class="{ row: tab.items.length <= 3 && !vm.IS_MOBILE, carousel: tab.items.length > 3 || tab.items.length <= 3 && vm.IS_MOBILE }" class="{{tab.key}}"> <ch-course-card ng-repeat="item in tab.items track by item._id" course-tmp="item"> </ch-course-card> </div> </div> <iframe id="iframe-scorecard-home" width="100%" height="100%" ng-show="tab.iframe && vm.scoreCardUrl && tab.active" ng-src="{{vm.scoreCardUrl}}" frameborder="0"></iframe> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-dashboard-banner/ch-dashboard-banner.view.html','<div class="col-sm-12 actual-banner ch-dashboard-banner-container {{banner.classes || \'\'}}"> </div> '),e.put('modules/platform/courses/directives/ch-dashboard-banners/ch-dashboard-banners.view.html','<div class="ch-dashboard-banners-container"> <div class="row" ng-if="vm.banners.length && !vm.IS_MOBILE"> <div class="col-sm-12" ng-if="vm.IS_MOBILE"> <div class="carousel-container" ng-style="{\'visibility\': vm.bannersLoaded ? \'visible\' : \'hidden\'}"> <div class="banners-carousel"> <ch-dashboard-banner ng-repeat="banner in vm.banners track by $index" ng-if="!banner.remove" ng-prop-banner="banner" ng-class="{hide: banner.hide}" class="carousel-cell"> </ch-dashboard-banner> </div> </div> </div> <ch-dashboard-banner ng-if="!vm.IS_MOBILE" ng-repeat="banner in vm.banners track by $index" ng-if="!banner.remove" ng-prop-banner="banner" ng-class="{hide: banner.hide}"> </ch-dashboard-banner> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-coderask-support-cody/ch-modal-coderask-support-cody.html','<div class="modal fade" id="ch-modal-coderask-support-cody-container" tabindex="-1" role="dialog"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'¿Qué tipo de consulta querés hacer?\'"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close shadow-none" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <span> <span ng-bind-html="\'ch-coderask-cody-student-success\' | translate"></span> <ul> <li ng-bind="\'ch-coderask-cody-student-success-1\' | translate"></li> <li ng-bind="\'ch-coderask-cody-student-success-2\' | translate"></li> <li ng-bind="\'ch-coderask-cody-student-success-3\' | translate"></li> <li ng-bind="\'ch-coderask-cody-student-success-4\' | translate"></li> </ul> <span ng-bind-html="\'ch-coderask-cody\' | translate"></span> <ul> <li ng-bind="\'ch-coderask-cody-1\' | translate"></li> <li ng-bind="\'ch-coderask-cody-2\' | translate"></li> <li ng-bind="\'ch-coderask-cody-3\' | translate"></li> </ul> </span> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm shadow-none" ng-click="vm.onClickHelpCenter($event)" ng-bind="\'ch-coderask-student-btn\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm active shadow-none" ng-click="vm.onClickCodyChat($event)" ng-bind="\'ch-coderask-student-btn-2\' | translate"></button> </div> </div> </div> </div> '),e.put('modules/platform/courses/directives/ch-modal-coderask-support/ch-modal-coderask-support.html','<div class="modal fade" id="ch-modal-coderask-support-container" tabindex="-1" role="dialog"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-course-student-menu.chat-tutor-v2\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close shadow-none" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <span ng-bind-html="\'ch-course-modal-coderask-support-content\' | translate"></span> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm shadow-none" ng-click="vm.onClickClose($event)" ng-bind="\'button.cancel\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm active shadow-none" ng-if="vm.coderAskLink" ng-click="vm.onClickCoderAsk($event)" ng-bind="\'button.go-coderask-whatsapp\' | translate"></button> </div> </div> </div> </div> '),e.put('modules/platform/courses/directives/ch-modal-contact-us/ch-modal-contact-us.view.html','<div class="modal fade modal-contact-us-container" id="ch-modal-contact-us" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg modal-contact-us" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <b ng-if="vm.penaltyType == \'reactive\'" ng-bind="\'ch-modal-request-reactivation.title.2\' | translate"></b> <b ng-if="vm.penaltyType == \'courseReenroll\'" ng-bind="\'ch-modal-request-change-product.title\' | translate"></b> <b ng-if="vm.penaltyType == \'commissionReenroll\'" ng-bind="\'ch-modal-request-change-commission.title\' | translate"></b> <b ng-if="vm.penaltyType == \'transfer\'" ng-bind="\'ch-modal-request-transfer.title\' | translate"></b> <b ng-if="vm.penaltyType == \'transferCommission\'" ng-bind="\'ch-modal-request-transfer.title\' | translate"></b> <b ng-if="vm.penaltyType == \'transferCourse\'" ng-bind="\'ch-modal-request-transfer.title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p ng-bind-html="\'ch-contact-us.whatsapp\' | translate"></p> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-calendar/ch-modal-course-calendar.view.html','<div> <script id="customMonthCell.html" type="text/ng-template"> <div class="cal-month-day {{day.cssClass}}" ng-class="{\'flag-is-today\': day.isToday}">\n      <span\n        class="pull-right"\n        data-cal-date\n        ng-click="vm.calendarCtrl.dateClicked(day.date)"\n        ng-bind="day.label">\n      </span>\n      <ul ng-if="day.events.length" class="list-unstyled">\n        <li ng-repeat="event in day.events track by $index" class="ellipsis {{event.cssClass}}">\n          <span ng-if="event.title && event.title !== \'\'"> \n            <small class="event-bullet">\n              <i class="fas fa-circle"></i>\n            </small> \n            <small ng-bind="event.title"></small>\n          </span>\n        </li>\n      </ul>\n    </div> <\/script> <div class="modal fade" id="ch-modal-course-calendar-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> {{\'ch-modal-course-calendar.title\' | translate}} - {{vm.courseTmp.startDate | date:\'dd/MM/yyyy\'}}{{\'ch-modal-course-calendar.title.to\' | translate}}{{vm.courseTmp.endDate | date:\'dd/MM/yyyy\'}} </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="ch-modal-course-calendar-container"> <div class="row"> <div class="col-sm-6 d-flex align-items-center"> <b style="text-transform:capitalize" ng-bind="vm.calendarTitle"></b> </div> <div class="col-md-6 text-right"> <div class="btn-group"> <a class="ch-btn-2021-square ch-btn-sm bordered mr-1" href="https://support.google.com/calendar/answer/37118?hl=es-419&co=GENIE.Platform%3DDesktop" target="_blank" ng-bind="\'ch-modal-course-calendar.ics-link\' | translate"> </a> <a class="ch-btn-2021-square ch-btn-sm" ng-prop-href="vm.calendarFile" target="_blank" ng-bind="\'ch-modal-course-calendar.download-ics-link\' | translate"></a> </div> </div> </div> <br> <mwl-calendar view="vm.calendarView" view-date="vm.viewDate" events="vm.events" view-title="vm.calendarTitle" on-event-click="vm.onClickEvent(calendarEvent)" on-event-times-changed="calendarEvent.startsAt = calendarNewEventStart; calendarEvent.endsAt = calendarNewEventEnd" cell-is-open="true" excluded-days="vm.excludedDays" custom-template-urls="{calendarMonthCell: \'customMonthCell.html\'}"> </mwl-calendar> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm bordered" mwl-date-modifier date="vm.viewDate" decrement="vm.calendarView" ng-click="vm.cellIsOpen = false"> <small class="mr-2"><i class="fa fa-chevron-left"></i></small> {{\'ch-modal-course-calendar.btn.back\' | translate}} </button> <button class="ch-btn-2021-square ch-btn-sm bordered ml-2" mwl-date-modifier date="vm.viewDate" increment="vm.calendarView" ng-click="vm.cellIsOpen = false"> {{\'ch-modal-course-calendar.btn.next\' | translate}} <small class="ml-2"><i class="fa fa-chevron-right"></i></small> </button> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-certificate/ch-modal-course-certificate.view.html','<div class="modal fade" id="ch-modal-certificate" tabindex="-1" role="dialog"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="openType.title"></h5> <button ng-click="onClickClose($event)" type="button" class="close shadow-none" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body text-white"> <span ng-bind-html="openType.content"></span> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm shadow-none" ng-click="openCertificate($event, openType.courseLink, openType.id, \'course\')" ng-class="{ disabled: loading }" ng-disabled="loading" ng-bind="\'ch-course-career-certificate-button-1\' | translate"> </button> <button class="ch-btn-2021-square ch-btn-sm shadow-none" ng-click="openCertificate($event, openType.careerLink, openType.id, \'career\')" ng-class="{ disabled: loading }" ng-disabled="loading" ng-bind="\'ch-course-career-certificate-button-2\' | translate"> </button> </div> </div> </div> </div> '),e.put('modules/platform/courses/directives/ch-modal-course-complementary-schedule/ch-modal-course-complementary-schedule.view.html','<div> <div class="modal" id="ch-modal-course-complementary-schedule-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title"> <span ng-if="!vm.complementaryTmp._id" ng-bind="\'ch-modal-course-complementary-schedule.title\' | translate"></span> <span ng-if="vm.complementaryTmp._id" ng-bind="\'ch-modal-course-complementary-schedule.edit.title\' | translate"></span> <a class="ch-btn-2021-link" href="https://coderhouse.notion.site/After-Class-995f14f6099e421b995eb9b9e020e79a" target="_blank" ng-if="vm.courseTmp.flags.showComplementaryTutorial"><br><small ng-bind="\'ch-modal-course-complementary-schedule.class-after\' | translate"> </small></a> </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close close-modal-btn" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="ch-course-info-container"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.related-class\' | translate"></label> <select class="form-control" ng-model="vm.complementaryTmp.stage" required ng-disabled="vm.complementaryTmp.teachersLeveling"> <option value="" ng-bind="\'ch-modal-course-complementary-schedule.select\' | translate"></option> <option ng-repeat="sche in vm.courseTmp.schedulesTmp track by $index" ng-if="sche.stage._id" ng-value="sche.stage._id" ng-bind="sche.alias"></option> </select> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.related-topic\' | translate"></label> <select class="form-control" ng-model="vm.complementaryTmp.category" required> <option value="" ng-bind="\'ch-modal-course-complementary-schedule.select\' | translate"></option> <option ng-repeat="category in vm.categories track by $index" ng-value="category.key" ng-bind="category.value"></option> </select> </div> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.alternative-title\' | translate"></label> <input class="form-control" ng-model="vm.complementaryTmp.title"> </div> </div> <div class="col-sm-12 form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.date\' | translate"></label> <select class="form-control" ng-model="vm.complementaryTmp.day" ng-if="!vm.complementaryTmp.teachersLeveling" required> <option value="" ng-bind="\'ch-modal-course-complementary-schedule.select\' | translate"></option> <option ng-repeat="sche in vm.courseTmp.calendarTmp track by $index" ng-disabled="!sche.flags.enable || vm.complementaryTmp.teachersLeveling" ng-value="sche.dayTs" ng-bind="sche.alias"></option> </select> <input ng-if="vm.complementaryTmp.teachersLeveling" type="date" ng-prop-min="vm.range.teachersLevelingFrom" ng-prop-max="vm.range.teachersLevelingTo" class="form-control" ng-model="vm.complementaryTmp.day" required> </div> <div class="col-sm-6 form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.from\' | translate"></label> <input type="time" step="900" placeholder="HH:mm" ng-prop-min="vm.range.fromHour" ng-prop-max="vm.range.toHour" class="form-control" ng-model="vm.complementaryTmp.from" required ng-change="vm.onChangeFromHour()"> </div> <div class="col-sm-6 form-group"> <label> <span ng-bind="\'ch-modal-course-complementary-schedule.to\' | translate"></span> <span ng-if="vm.complementaryTmp.teachersLeveling">(MAX 30min)</span></label> <input type="time" step="900" placeholder="HH:mm" ng-prop-min="vm.range.fromHour" ng-prop-max="vm.range.toHour" class="form-control" ng-model="vm.complementaryTmp.to" required ng-disabled="vm.complementaryTmp.teachersLeveling"> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.link-zoom\' | translate"></label> <input disabled class="form-control" ng-model="vm.complementaryTmp.liveVideoLink" required> </div> <div class="row" ng-if="vm.courseTmp.flags.canAssignTeachers"> <div class="col-sm-12 form-group"> <label ng-bind="\'ch-modal-course-complementary-schedule.assigned-teachers\' | translate"></label> <select class="form-control" ng-model="vm.complementaryTmp.teachers" multiple required> <option value="" ng-bind="\'ch-modal-course-complementary-schedule.select\' | translate"></option> <option ng-repeat="teacher in vm.courseTmp.allTeachers track by $index" ng-value="teacher._id" ng-bind="teacher.fullName"></option> </select> </div> </div> <label class="form-group mt-2" ng-if="vm.courseTmp.flags.canCreateTeachersLevelingMeeting"> <input type="checkbox" ng-model="vm.complementaryTmp.teachersLeveling" ng-change="vm.onChangeTeacherLeveling()"> <span ng-bind="\'ch-modal-course-complementary-schedule.warmup\' | translate"></span> </label> <label class="form-group mt-2" ng-if="vm.courseTmp.flags.canCreatePrivateMeeting"> <input type="checkbox" ng-model="vm.complementaryTmp.private"> <span ng-bind="\'ch-modal-course-complementary-schedule.private\' | translate"></span> </label> <label class="form-group mt-2" ng-if="vm.courseTmp.flags.canAddCoordinator"> <input type="checkbox" ng-model="vm.complementaryTmp.coordinator"> <span ng-bind="\'ch-modal-course-complementary-schedule.coordinator\' | translate"></span> </label> <div class="row" ng-if="vm.complementaryTmp.private"> <div class="col-sm-12"> <label ng-bind-html="\'ch-modal-course-complementary-schedule.assign-label\' | translate"></label> </div> <div class="col-sm-6"> <div class="form-group" style="display:flex;height:100%;flex-direction:column"> <label>{{\'ch-modal-course-complementary-schedule.teachers-label\' | translate}}</label> <select class="form-control" ng-model="vm.complementaryTmp.teachers" required multiple size="10" ng-change="vm.onChangeAddParticipant($event)" style="height:100%;display:flex"> <option ng-repeat="stu in vm.courseTmp.allTeachers track by $index" ng-value="stu._id" ng-bind="stu.fullName"></option> </select> </div> </div> <div class="col-sm-6"> <div class="form-group" style="display:flex;height:100%;flex-direction:column"> <label>{{\'ch-modal-course-complementary-schedule.students-label\' | translate}}</label> <select class="form-control" ng-model="vm.complementaryTmp.students" ng-required="{{ !vm.canCreateStaffCatchUp }}" multiple size="10" ng-change="vm.onChangeAddParticipant($event)" style="height:100%;display:flex"> <option ng-repeat="stu in vm.courseTmp.allStudents track by $index" ng-value="stu._id" ng-bind="stu.fullName"></option> </select> </div> </div> </div> <br> <div class="form-group" ng-if="!vm.courseTmp.flags.hasComplementarySchedulesV2"> <label> {{\'ch-modal-course-complementary-schedule.assign-2-label\' | translate}} </label> <select class="form-control" ng-model="vm.complementaryTmp.teachers" required multiple> <option ng-repeat="teacher in vm.courseTmp.allTeachers track by $index" ng-value="teacher._id" ng-bind="teacher.profile.fullName"></option> </select> </div> <div class="form-group" ng-if="vm.courseTmp.flags.hasComplementarySchedulesV2"> <label ng-bind="\'ch-modal-course-complementary-schedule.creation\' | translate"></label> <label ng-bind-html="\'ch-modal-course-complementary-schedule.host-key\' | translate"></label> <label>* {{vm.hourHelper}}</label> <label ng-bind="\'ch-modal-course-complementary-schedule.class-teachers\' | translate"></label> </div> </div> </div> </div> </div> <div class="modal-footer justify-content-between"> <a ng-if="!vm.complementaryTmp._id" href="https://www.loom.com/share/1158d311323f4faaaff52c74dc5ac264" target="_blank" class="ch-btn-2021-link mr-2"> <small> <i class="fas fa-info-circle mr-2"></i> {{\'ch-modal-course-complementary-schedule.how-it-works-link\' | translate}} </small> </a> <button class="ch-btn-2021-square bordered ch-btn-sm" ng-if="vm.complementaryTmp._id" ng-click="vm.onClickRemove($event)" ng-bind="\'ch-modal-course-complementary-schedule.delete\' | translate"> </button> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-course-complementary-schedule.save\' | translate"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-deliver-alerts/ch-modal-course-deliver-alerts.view.html','<div> <div class="modal ch-modal-course-deliver-alerts-container" id="ch-modal-course-deliver-alerts-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <b ng-bind="vm.moduleTmp.name"></b> <br> {{\'ch-modal-course-deliver-alerts.title\' | translate}} </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'ch-modal-course-deliver-alerts.student\' | translate"></th> <th ng-bind="\'ch-modal-course-deliver-alerts.select\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="stu in vm.moduleTmp.students | orderBy:[\'flags.hasDeliver\', \'fullName\'] track by $index" ng-click="vm.onClickNotify($event, stu)"> <td> <span ng-bind="stu.fullName"></span> </td> <td> <input ng-if="!stu.flags.hasDeliver" type="checkbox" ng-model="stu.flags.notify" ng-disabled="stu.flags.hasDeliver"> <span ng-if="stu.flags.hasDeliver" ng-bind="\'ch-modal-course-deliver-alerts.delivery-done\' | translate"></span> </td> </tr> </tbody> </table> </div> </div> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm primary" ng-click="vm.onSubmit($event)" ng-bind="\'ch-modal-course-deliver-alerts.btn-send\' | translate"></button> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-deliver/ch-modal-course-deliver.view.html','<div class="ch-ui-kit-v8"> <div class="modal fade ch-modal-course-deliver-v2-container" id="ch-modal-course-deliver-v2-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <div> {{vm.moduleTmp.name}} </div> <div ng-if="vm.projectTmp.stage._id" class="mt-2" ng-bind="\'Clase: \' + vm.projectTmp.stage.name"></div> </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-show="!vm.killForm" id="course-delivers-form-container"> <div class="row"> <div class="col-sm-8"> <div ng-class="{\'ch-df ch-aliic\': vm.steps.wasDelivered}" class="ch-w100"> <div class="ch-df ch-flww form-group ch-w100" ng-if="!vm.steps.wasDelivered"> <div class="col-md-12" ng-show="false"> <b ng-bind="\'ch-modal-course-deliver.autoevaluation\' | translate"></b> <p ng-bind="\'ch-modal-course-deliver.conditions\' | translate"> </p> <a href="#" ng-click="vm.onClickOpenDeliver($event)" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-modal-course-deliver.requirements\' | translate"> </a> <br> <hr> <br> </div> <div class="ch-df ch-jucb ch-flww"> <div class="ch-df ch-fldc ch-jucb ch-mt-m" ng-class="{\'fix-width-2\': !vm.IS_MOBILE}"> <div> <b><u ng-bind="\'ch-modal-course-deliver.option-a\' | translate"></u></b> <br> <b ng-bind="\'ch-modal-course-deliver.delivery-link\' | translate"></b> <p> <small ng-bind-html="\'ch-modal-course-deliver.delivery-link-faqs\' | translate"></small> </p> </div> <input class="form-control ch-input-full" type="url" ng-model="vm.deliverLink" placeholder="{{\'ch-modal-course-deliver.link-placeholder\' | translate}}"> <small ng-show="vm.showLinkErrorMsg" ng-bind="\'ch-modal-course-deliver.link\' | translate"></small> </div> <div class="ch-df ch-fldc ch-jucb ch-mt-m" ng-class="{\'fix-width-2\': !vm.IS_MOBILE}"> <div> <b><u ng-bind="\'ch-modal-course-deliver.option-b\' | translate"></u></b> <br> <b ng-bind="\'ch-modal-course-deliver.load-file\' | translate"></b> <p><small ng-bind="\'ch-modal-course-deliver.conditions-file\' | translate"></small> </p> </div> <button class="ch-w100 drop-area-box ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickUploadFile($event)"> <div class="drop-area text-center"> <small ng-bind="\'ch-modal-course-deliver.select-file\' | translate"></small> </div> </button> <div ng-if="vm.files.length" ng-show="!vm.chatImageTmp"> <ul class="list-unstyled list-inline"> <li class="list-inline-item" ng-if="file.name" ng-repeat="file in vm.files track by $index"> <label class="ch-btn-2021-square ch-btn-sm bordered mt-2" ng-click="vm.onClickRemoveFile($event, $index)"> <small><i class="fa fa-times mr-2" aria-hidden="true"></i></small><span ng-bind="file.name"></span> </label> </li> </ul> </div> </div> </div> <div class="ch-w100" style="margin-top:3em"> <div class="row ch-df ch-fldc"> <div class="col-md-12"> <div> <b ng-bind="\'ch-modal-course-deliver.comment\' | translate"></b> </div> <div class="chat-form-container" style="margin-top:1em"> <form ng-submit="vm.onClickSendNewVersion($event)"> <div> <div class="chat-input-container"> <textarea row="3" class="form-control ch-input-full" ng-model="vm.chatMsgTmp" required minlength="10"></textarea> <br> </div> </div> <div class="ch-df ch-aliic ch-jucb"> <div> <a href="#" class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.displayPresentationLink = !vm.displayPresentationLink" ng-bind="vm.displayPresentationLink ? (\'ch-modal-course-deliver.hide-presentation\' | translate) : (\'ch-modal-course-deliver.show-presentation\' | translate)" ng-if="!vm.steps.wasDelivered && vm.presentationLink.length"></a> </div> <div> <button type="submit" class="ch-btn-2021-square ch-btn-sm" ng-disabled="vm.loading" ng-bind="vm.loading ? \'. . .\' : (\'ch-modal-course-deliver.btn-send\' | translate)"></button> </div> </div> </form> </div> </div> </div> </div> </div> <div class="chat-container ch-w100" ng-if="vm.steps.wasDelivered"> <div class="chat-content"> <ul class="list-unstyled"> <li ng-show="!vm.chat.length" ng-bind="\'ch-modal-course-deliver.no-messages\' | translate"> </li> <li ng-repeat="chat in vm.chat track by $index"> <div class="row chat-row" ng-class="{\'current-user-chat\': chat.flags.fromUser }"> <div class="col-md-12"> <div class="chat-bubble" ng-if="chat.flags.hasFile"> <div class="chat-bubble-content"> <small class="chat-user-name"><b ng-bind="chat.user_name"></b></small> <a ng-prop-href="chat.fileLink" target="_blank"> <img ng-if="chat.image" style="max-height:100px" ng-prop-src="chat.image"> <pre ng-if="chat.fileLink" ng-bind="\'ch-modal-course-deliver.attached\' | translate"></pre> </a> <small ng-bind="chat.dateAlias"></small> </div> </div> <div class="chat-bubble" ng-if="chat.flags.hasText"> <div class="chat-bubble-content"> <small class="chat-user-name"><b ng-bind="chat.user_name"></b></small> <pre ng-bind-html="chat.text"></pre> <small ng-bind="chat.dateAlias"></small> </div> </div> </div> </div> </li> </ul> </div> <div class="chat-form-container mt-3"> <form ng-submit="vm.onClickSendChatMessage($event)"> <div ng-if="!vm.projectTmp.flags.isClosed"> <div class="chat-input-container"> <div class="quill-editor-deliver-v2" id="input-chat-modal-deliver"></div> </div> </div> <div class="ch-df ch-jucb"> <div class="ch-df ch-jucb ch-w100 ch-mt-s mt-3 mb-3"> <div> <div ng-if="vm.projectTmp.locked && !vm.projectTmp.flags.isClosed"> <b><small ng-bind="\'ch-modal-course-deliver.delivery-locked\' | translate"></small></b> </div> <div ng-if="vm.projectTmp.locked && vm.projectTmp.flags.isClosed"> <b><small ng-bind="\'ch-modal-course-deliver.delivery-locked-message\' | translate"></small></b> </div> <div class="dropdown" ng-if="!vm.projectTmp.locked && vm.projectTmp.flags.canMakeNewUpdates"> <button style="box-shadow:none" class="btn dropdown-toggle pl-0" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-bind="\'ch-modal-course-deliver.btn-actions\' | translate"> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"> <div ng-repeat="option in vm.options track by $index"> <span class="dropdown-item" ng-click="option.callback($event)"> <span class="ch-mr-1" ng-bind-html="option.icon"></span> <span class="value" data-toggle="tooltip" ng-prop-title="option.tooltip" ng-bind="option.value"></span> </span> </div> </div> </div> </div> <div class="ch-df ch-jucend" ng-if="!vm.projectTmp.flags.isClosed"> <button type="submit" class="ch-btn-2021-square ch-btn-sm chat-button-style" ng-disabled="vm.loading" ng-bind="vm.loading ? \'. . .\' : (\'ch-modal-course-deliver.send-message\' | translate)"></button> </div> </div> </div> <div ng-if="vm.files.length" ng-show="!vm.chatImageTmp" class="ch-mt-s ch-w100" style="margin-top:1em"> <ul class="list-unstyled list-inline" style="margin:0"> <li class="list-inline-item ch-w100" ng-if="file.name" ng-repeat="file in vm.files track by $index"> <label class="ch-btn-2021-square ch-btn-sm chat-button-style" style="margin:0;height:44px" ng-click="vm.onClickRemoveFile($event, $index)"> <ch-svg-icon icon="\'close\'"></ch-svg-icon>&nbsp;&nbsp;<span ng-bind="file.name"></span> </label> </li> </ul> </div> <div ng-show="vm.deliverLink" class="ch-mt-s ch-w100" style="margin-top:1em"> <ul class="list-unstyled list-inline" style="margin:0"> <li class="list-inline-item ch-w100" ng-if="vm.deliverLink"> <label class="ch-btn-2021-square ch-btn-sm chat-button-style" style="margin:0;height:44px" ng-click="vm.onClickRemoveLink($event, $index)"> <ch-svg-icon icon="\'close\'"></ch-svg-icon>&nbsp;&nbsp;<span ng-bind="vm.deliverLinkAlias"></span> </label> </li> </ul> </div> </form> </div> </div> <div class="iframe-container" ng-if="!vm.steps.wasDelivered && vm.presentationLink.length"> <iframe ng-show="vm.displayPresentationLink" class="video-firame" width="100%" ng-prop-src="vm.presentationLink" frameborder="0" allowfullscreen style="min-height:320px!important"></iframe> </div> </div> </div> <div class="col-sm-4 timeline-container d-flex justify-content-start align-items-start flex-column"> <div class="progresion-container pb-3"> <h4 ng-bind="\'ch-modal-course-deliver.progress\' | translate"></h4> </div> <div class="mt-3 mb-3" ng-class="{\'col-md-12\': vm.IS_MOBILE}"> <ul class="list-unstyled"> <li class="checkpoints-container"> <ul class="list-unstyled-2 ch-p-0"> <li class="list-inline-item ch-df d-flex" ng-repeat="item in vm.projectTmp.timeline || scheduleTmp.timeline track by $index" ng-class="{\n                              \'flag-completed\': !item.completed,\n                              \'flag-open\': item.key === \'open\',\n                            }"> <span> <i ng-if="item.key === \'open\'" ng-class="{\n'+'                              \'far fa-circle\': item.key === \'open\',\n                              \'open-challenge\': item.key === \'open\',\n                            }"> </i> <i ng-if="item.key !== \'review-expected\' && item.key !== \'open\' && item.key !== \'expireDate\'" ng-class="{\n                              \'far fa-circle\': !item.completed,\n                              \'fas fa-check-circle\': item.completed,\n                            }"> </i> <i ng-if="item.key === \'review-expected\'" ng-class="{\n                              \'far fa-circle\': !item.completed,\n                              \'fas fa-check-circle\': item.completed,\n                              \'flag-expected\': item.key === \'review-expected\',\n                            }"> </i> <i ng-if="item.key === \'expireDate\'" ng-class="{\n                              \'far fa-circle expire-date\': item.key === \'expireDate\',\n                              \'fas fa-check-circle\': item.completed,\n                              \'flag-expected\': item.key === \'review-expected\',\n                            }"> </i> </span> <small class="ch-df" ng-class="{\'ch-fldc\': item.key !== \'today\'}"> <small ng-if="item.name !== \'Devolución\'"><b ng-bind="item.name || item.title"></b></small> <small ng-if="item.name === \'Devolución\'"><b ng-bind="vm.isTeacher ? (\'ch-modal-course-deliver.return-sent\' | translate) : (\'ch-modal-course-deliver.return-received\' | translate)"></b></small> <small class="ch-mt-3xs" ng-if="item.key === \'today\'" ng-bind="item.date | date: \'dd/MM\'"> </small> <small ng-if="item.key !== \'today\'" ng-bind="item.date | date: \'dd/MM HH:mm\'"> </small> </small> </li> </ul> </li> </ul> </div> </div> </div> </div> </div> </div> <div style="height:0;width:0;visibility:hidden;opacity:0;display:none"> <textarea id="simplemde-markdown"></textarea> <input ng-hide="true" id="input-file-deliver" type="file" ngf-select="" ng-model="vm.fileTmp" name="file" ngf-max-size="12MB"> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-info-scholarship/ch-modal-course-info-scholarship.view.html','<div> <div class="modal fade" id="ch-modal-course-info-scholarship-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-course-info-scholarship.conditions\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p> <span ng-bind="\'ch-modal-course-info-scholarship.scholarship\' | translate"> </span> </p> <p> <span ng-bind="\'ch-modal-course-info-scholarship.agreement\' | translate"> </span> </p><ul> <li ng-bind="\'ch-modal-course-info-scholarship.deliveries\' | translate"> </li> <li ng-bind="\'ch-modal-course-info-scholarship.assists\' | translate"> </li> </ul> <p></p> <p> <span ng-bind="\'ch-modal-course-info-scholarship.cancel\' | translate"> </span> </p> </div> <div class="modal-footer justify-content-center"> <button class="ch-btn-2021-square ch-btn-sm bordered" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-course-info-scholarship.btn-close\' | translate"> </button> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-info/ch-modal-course-info.view.html','<div> <div class="modal fade" id="ch-modal-course-info-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <div class="modal-title"> <ul class="list-unstyled tabs"> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.info}"> <a href="#" ng-click="vm.onClickTab($event, \'info\')"><b ng-bind="\'ch-modal-course-info.title\' | translate"></b></a> </li> <li class="list-inline-item tab-item" ng-if="vm.PERMISSIONS.teacher" ng-class="{active: vm.tabs.contacts}"> <a href="#" ng-click="vm.onClickTab($event, \'contacts\')"><b ng-bind="\'ch-modal-course-info.contacts\' | translate"></b></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.changeDate}" ng-if="!vm.PERMISSIONS.teacher && vm.courseTmp.flags.btnChangeDate"> <a href="#" ng-click="vm.onClickTab($event, \'changeDate\')"> <b ng-bind="\'ch-modal-course-info.change-commission\' | translate"> </b></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.changeDate}" ng-if="!vm.PERMISSIONS.teacher && vm.courseTmp.flags.btnChangeDate"> <a href="#" ng-click="vm.onClickTab($event, \'changeProduct\')"> <b ng-bind="\'ch-modal-course-info.change-product\' | translate"> </b></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.unenroll}" ng-if="vm.courseTmp.flags.canUnenroll || vm.courseTmp.flags.canTeacherUnenroll"> <a href="#" ng-click="vm.onClickTab($event, \'unenroll\')"> <b ng-if="vm.courseTmp.flags.canTeacherUnenroll" ng-bind="\'ch-modal-course-info.teacher-unenroll\' | translate"></b> <b ng-if="!vm.courseTmp.flags.canTeacherUnenroll" ng-bind="\'ch-modal-course-info.unenroll\' | translate"></b> </a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.transferCourse}" ng-if="TRANSFER_COURSE"> <a href="#" ng-click="vm.onClickTab($event, \'transferCourse\')"><b ng-bind="\'ch-modal-course-info.transfer-course\' | translate"> </b></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.refaundCourse}" ng-if="REFAUND_COURSE"> <a href="#" ng-click="vm.onClickTab($event, \'refaundCourse\')"><b ng-bind="\'ch-modal-course-info.refund-course\' | translate"> </b></a> </li> </ul> </div> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div ng-show="vm.tabs.info"> <div class="modal-body ch-course-info-container"> <div class="row"> <div class="col-sm-6"> <ul class="list-unstyled"> <li> <small ng-bind="\'ch-modal-course-info.commision\' | translate"></small><br> <b><span ng-bind="vm.courseTmp.camada.id"></span></b> </li> <li> <small ng-bind="\'ch-modal-course-info.start\' | translate"></small><br> <b ng-bind="vm.courseTmp.startDate | date: \'dd MMMM yyyy\'"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.end\' | translate"></small><br> <b ng-bind="vm.courseTmp.endDate | date: \'dd MMMM yyyy\'"></b> </li> <li ng-if="vm.courseTmp.holidays.length"> <small ng-bind="\'ch-modal-course-info.holidays\' | translate"></small><br> <ul class="list-unstyled"> <li ng-repeat="holiday in vm.courseTmp.holidays track by $index"> <b ng-bind="holiday.alias"></b> </li> </ul> </li> </ul> <ul class="list-unstyled"> <li ng-if="!vm.courseTmp.daysAlias"> <small ng-bind="\'ch-modal-course-info.days\' | translate"></small><br> <b ng-bind="vm.courseTmp.dayList"></b> </li> <li ng-if="!vm.courseTmp.daysAlias"> <small ng-bind="\'ch-modal-course-info.hours\' | translate"></small><br> <b><span ng-bind="vm.courseTmp.startHour | date:\'HH:mm\'"></span> a <span ng-bind="vm.courseTmp.endHour | date:\'HH:mm\'"></span>hs</b> </li> <li ng-if="vm.courseTmp.daysAlias"> <small ng-bind="\'ch-modal-course-info.days\' | translate"></small><br> <b ng-bind="vm.courseTmp.daysAlias"></b> </li> <li ng-if="vm.courseTmp.remote"> <small ng-bind="\'ch-modal-course-info.zone\' | translate">:</small> <b ng-bind="vm.currentTimeZone"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.feedback-frecuncy\' | translate"></small> <b ng-bind="vm.courseTmp.flags.feedbackFrecuencyAlias"></b> </li> </ul> <ul class="list-unstyled" ng-if="vm.courseTmp.flags.showInfoV2"> <li> <small ng-bind="\'ch-modal-course-info.program-version\' | translate"></small><br> <b ng-bind="vm.courseTmp.programVersion.alias"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.program-classes\' | translate"></small> <b ng-bind="vm.courseTmp.programVersion.stages.total"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.program-challenges\' | translate"></small> <b ng-bind="vm.courseTmp.programVersion.challenges.tps"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.program-complementary-challenges\' | translate"></small> <b ng-bind="vm.courseTmp.programVersion.challenges.complementaryTps"></b> </li> <li> <small ng-bind="\'ch-modal-course-info.program-pre-integrator-challenges\' | translate"></small><b ng-bind="vm.courseTmp.programVersion.challenges.preIntegratorTps"></b> </li> <li ng-if="vm.courseTmp.level.detail.teacherWorkHours"> <small ng-bind="\'ch-modal-course-info.program-hours\' | translate"></small><br><b ng-bind="vm.courseTmp.level.detail.teacherWorkHours"></b> hs </li> </ul> <ul class="list-unstyled" ng-if="vm.courseTmp.flags.showStudentInfo"> <li> <small ng-bind="\'ch-modal-course-info.student-enrollment\' | translate"></small><br> <b ng-bind="vm.courseTmp.flags.enrollmentAlias"></b> </li> </ul> </div> <div class="col-sm-6" ng-show="vm.courseTmp.allTeachers.length"> <small class="d-block mb-2" ng-bind="\'ch-modal-course-info.teachers-team\' | translate"></small> <table class="table table-sm table-condensed"> <tbody ng-repeat="item in vm.courseTmp.allTeachers track by $index" style="border:0"> <tr> <td colspan="2" ng-bind="item.label"></td> <td ng-if="vm.courseTmp.flags.isTeacher" width="1%"></td> <td ng-if="vm.courseTmp.flags.isTeacher" width="1%"></td> </tr> <tr ng-repeat="teacher in item.teachers track by $index"> <td> <div class="user-container"> <span class="avatar" ng-style="{\'background-image\': \'url(\' + (teacher.profile.avatar|cloudinary:30:30) + \')\'}"></span> </div> </td> <td> <div class="user-container"> <span ng-bind="teacher.fullName"></span> </div> </td> <td ng-if="vm.courseTmp.flags.isTeacher"> <a ng-prop-href="\'mailto:\'+teacher.email" target="_blank" class="ch-btn-2021-link"><i class="fa fa-envelope"></i></a> </td> <td ng-if="vm.courseTmp.flags.isTeacher"> <a ng-prop-href="\'tel:\'+teacher.profile.phone" target="_blank" class="ch-btn-2021-link"><i class="fa fa-phone"></i></a> </td> </tr> </tbody> </table> <div ng-if="vm.courseTmp.flags.isTeacher"> <br> <p ng-bind="\'ch-modal-course-info.teachers-team-legal\' | translate"></p> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <hr> <div ng-if="vm.courseTmp.remote" ng-bind-html="vm.TEXTS.timezoneInfo"></div> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-course-info.btn-cancel\' | translate"></button> </div> </div> <div ng-show="vm.tabs.contacts"> <div class="modal-body ch-course-info-container"> <div class="row"> <div class="col-sm-12" ng-bind-html="\'ch-modal-course-info.contacts.text\' | translate"> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-course-info.btn-cancel\' | translate"></button> </div> </div> <form ng-show="vm.tabs.unenroll" ng-submit="vm.onSubmitUnenrollRequest($event)"> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <p ng-bind="\'ch-modal-course-info.unenroll.text\' | translate"></p> </div> <div class="col-md-12"> <div class="form-group"> <textarea rows="3" minlength="50" class="form-control ch-input-full" ng-model="vm.reportTmp.reason" required></textarea> </div> <p ng-show="userTmp.flags.isTeacher"></p> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-course-info.btn-cancel\' | translate"></button> <button class="btn-outline btn-round btn-bordered solid-bg" type="submit" ng-bind="\'ch-modal-course-info.btn-submit\' | translate"></button> </div> </form> <form ng-show="vm.tabs.refaundCourse" ng-submit="vm.onSubmitRefaundRequest($event)"> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <p ng-bind="\'ch-modal-course-info.unenroll.text\' | translate"></p> </div> <div class="col-md-12"> <div class="form-group"> <textarea rows="3" minlength="50" class="form-control ch-input-full" ng-model="vm.reportTmp.reason" required></textarea> </div> <p ng-show="userTmp.flags.isTeacher"></p> </div> </div> </div> <div class="modal-footer d-flex justify-content-between align-items-center"> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-course-info.btn-cancel\' | translate"></button> <button class="ch-btn-2021-square" type="submit" ng-bind="\'ch-modal-course-info.btn-submit\' | translate"></button> </div> </form> </div> </div> </div> </div> <ch-campus-modal></ch-campus-modal>'),e.put('modules/platform/courses/directives/ch-modal-course-learn-more/ch-modal-course-learn-more.view.html','<div class="modal fade ch-learn-more-modal-container" id="ch-learn-more-modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title">{{info.title}}</h5> <button type="button" class="close shadow-none" data-dismiss="modal" aria-label="Close" ng-click="closeModal()"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body d-flex align-items-center justify-content-space-between p-3"> <p>{{info.content}}</p> </div> <div class="modal-footer"> <button class="ch-btn-2021-square primary shadow-none" ng-click="closeModal()" ng-bind="\'ch-modal-forum-post.disclaimer.btn-submit\' | translate"></button> </div> </div> </div> </div> '),e.put('modules/platform/courses/directives/ch-modal-course-meeting-background/ch-modal-course-meeting-background.view.html','<div> <div class="modal fade" id="ch-modal-course-meeting-background-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <div class="modal-content"> <div class="modal-header" style="justify-content:center;align-items:center;display:flex;border:0"> <h5 class="modal-title" ng-bind="\'ch-modal-course-meeting-background.backgrounds-zoom\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-bind-html="\'ch-modal-course-meeting-background.steps\' |\n        translate"></div> <div class="modal-footer justify-content-between"> <a class="ch-btn-2021-square ch-btn-sm" ng-prop-href="vm.images.modelA" target="_blank"> <i class="fa fa-file-download mr-2"></i> {{\'ch-modal-course-meeting-background.btn-download-a\' | translate}}</a> <a class="ch-btn-2021-square ch-btn-sm" ng-prop-href="vm.images.modelB" target="_blank"> <i class="fa fa-file-download mr-2"></i> {{\'ch-modal-course-meeting-background.btn-download-b\' | translate}}</a> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-module-deliver/ch-modal-course-module-deliver.view.html','<div> <div class="modal ch-modal-course-module-deliver-container" id="ch-modal-course-module-deliver-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="vm.moduleTmp.name"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row" ng-if="vm.moduleTmp._id"> <div class="col-sm-12" ng-if="vm.strategy.hasContent"> <p ng-if="vm.strategy.html.length" ng-bind-html="vm.strategy.html"></p> <textarea ng-if="vm.strategy.text.length" rows="12" id="simplemde"></textarea> <textarea ng-if="vm.strategy.githubUrl.length" rows="12" id="simplemde"></textarea> <iframe ng-if="vm.strategy.slideUrl.length" class="video-firame" ng-prop-src="vm.strategy.slideUrlPreview" frameborder="0" allowfullscreen></iframe> </div> <div class="col-sm-12 text-center p-5" ng-if="!vm.strategy.hasContent" ng-bind-html="vm.TEXTS.no-content"> </div> </div> </div> </div> </div> <div style="height:0;width:0;visibility:hidden;opacity:0;display:none"><textarea id="simplemde-markdown"></textarea></div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-powerbi-account/ch-modal-course-powerbi-account.view.html',' <div> <div class="modal ch-modal-course-powerbi-account-container" id="ch-modal-course-powerbi-account-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-course-powerbi-account.account\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-course-powerbi-account.user\' | translate"></label> <div class="input-group-prepend"> <input class="form-control ch-input-full" ng-model="vm.powerBiTmp.email"> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-powerbi-account.password\' | translate"></label> <div class="input-group"> <input disabled ng-prop-type="vm.showPass ?\'text\' :\'pass\'" class="form-control ch-input-full" ng-model="vm.powerBiTmp.pass"> <div class="input-group-append" ng-mouseover="vm.onMouseOverShowPass($event, true)" ng-mouseleave="vm.onMouseOverShowPass($event, false)"> <span class="input-group-text"> <i class="fa fa-eye"></i> </span> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-reenable-deliver/ch-modal-course-reenable-deliver.view.html','<div> <div class="modal ch-modal-course-reenable-deliver-container" id="ch-modal-course-reenable-deliver-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-course-reenable-deliver.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="form-group"> <label ng-bind="\'ch-modal-course-reenable-deliver.student\' | translate"></label> <select class="form-control" ng-model="vm.stuId" required> <option value="" ng-bind="\'ch-modal-course-reenable-deliver.student.placeholder\' | translate"> </option> <option ng-repeat="stu in vm.students track by $index" ng-value="stu._id" ng-bind="stu.fullName"> </option> </select> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-reenable-deliver.schedule\' | translate"></label> <select class="form-control" ng-model="vm.scheId" required> <option value="" ng-bind="\'ch-modal-course-reenable-deliver.schedule.placeholder\' | translate"></option> <option ng-repeat="sche in vm.schedules track by $index" ng-disabled="sche.flags.locked" ng-value="sche._id" ng-bind="sche.alias"> </option> </select> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-reenable-deliver.link\' | translate"></label> <br> <div class="btn-group"> <button class="ch-btn-2021-square ch-btn-sm mr-1" type="button" ng-click="vm.onClickReEnableLink($event,\'deliver\')" ng-bind="\'ch-modal-course-reenable-deliver.btn-deliver-link\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onClickReEnableLink($event,\'feedback\')" ng-bind="\'ch-modal-course-reenable-deliver.btn-feedback-link\' | translate"></button> </div> </div> <div class="form-group" ng-bind-html="\'ch-modal-course-reenable-deliver.faqs\' | translate "></div> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind-html="\'ch-modal-course-reenable-deliver.btn-close\' | translate"></button> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-schedule-meeting/ch-modal-course-schedule-meeting.view.html','<div> <div class="modal" id="ch-modal-course-schedule-meeting-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <form class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <small ng-bind="vm.meetingmTmp.schedule.day | date: \'dd/MM/yyyy\'"></small> <br> <span ng-bind="vm.meetingmTmp.schedule.stage.name"></span> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="form-group"> <div class="input-group" ng-mouseover="vm.onMouseOverShowId($event, true)" ng-mouseleave="vm.onMouseOverShowId($event, false)"> <div class="input-group-prepend"> <span class="input-group-text" ng-bind="\'ch-modal-course-schedule-meeting.id\' | translate"></span> </div> <input disabled ng-prop-type="vm.showId ? \'text\' :\'password\'" class="form-control ch-input-full" ng-model="vm.meetingmTmp.id"> <div class="input-group-append" ng-click="vm.onClickCopy($event, vm.meetingmTmp.id)"> <span class="input-group-text"> <i class="fa fa-copy"></i> </span> </div> </div> </div> <div class="form-group"> <div class="input-group" ng-mouseover="vm.onMouseOverShowPass($event, true)" ng-mouseleave="vm.onMouseOverShowPass($event, false)"> <div class="input-group-prepend"> <span class="input-group-text" ng-bind="\'ch-modal-course-schedule-meeting.pass\' | translate"></span> </div> <input disabled ng-prop-type="vm.showPass ? \'text\' :\'password\'" class="form-control ch-input-full" ng-model="vm.meetingmTmp.pass"> <div class="input-group-append" ng-click="vm.onClickCopy($event, vm.meetingmTmp.pass)"> <span class="input-group-text"> <i class="fa fa-copy"></i> </span> </div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind="\'ch-modal-course-schedule-meeting.btn-close\' | translate"></button> <a ng-prop-href="vm.meetingmTmp.liveVideoLink" target="_blank" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-modal-course-schedule-meeting.btn-open\' | translate"></a> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-schedule-presentation/ch-modal-course-schedule-presentation.view.html','<div> <div class="modal" id="ch-modal-course-schedule-presentation-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="vm.stageTmp.name"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-if="vm.presentationLink.length"> <iframe ng-if="!vm.isImg" class="video-firame" width="100%" ng-prop-src="vm.presentationLink" frameborder="0" allowfullscreen></iframe> <img ng-if="vm.isImg" width="100%" ng-prop-src="vm.presentationLink"> </div> <div class="modal-footer justify-content-between"> <div class="d-flex justify-content-between align-items-center"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind="\'ch-modal-course-schedule-presentation.btn-close\' | translate"></button> <a ng-prop-href="vm.presentationLink" target="_blank" class="ch-btn-2021-square ch-btn-sm bordered ml-2" ng-bind="\'ch-modal-course-schedule-presentation.btn-open\' | translate"></a> <a ng-if="vm.premiumValorateLink" ng-prop-href="vm.premiumValorateLink.url" class="ch-btn-2021-square ch-btn-sm bordered ml-2" href="#" target="_blank" ng-class="vm.disableFeedback?\'disabled\':\'\'" ng-if="vm.is_premium" ng-click="vm.onClickOpenForm()"> <i class="far fa-thumbs-up"></i> &nbsp; &nbsp; <span ng-bind="\'ch-modal-course-schedule-video.premium-valorate\' | translate"></span> </a> </div> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-schedule-recording/ch-modal-course-schedule-recording.view.html','<div> <div class="modal" id="ch-modal-course-schedule-recording-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-if="vm.recordingVideoLink" ng-bind="vm.stageTitle"></h5> <h5 class="modal-title" ng-if="!vm.recordingVideoLink" ng-bind="\'ch-modal-course-schedule-recording.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-if="vm.scheduleRecordingTmp"> <div ng-bind-html="\'ch-modal-course-schedule-recording.option-a.cloud\' | translate"></div> <div ng-bind-html="\'ch-modal-course-schedule-recording.option-b.local\' | translate"></div> <br> <div class="form-group"> <label ng-bind="\'ch-modal-course-schedule-recording.recording-link\' | translate"></label> <input required type="url" class="form-control ch-input-full" ng-model="vm.scheduleRecordingTmp.link"> </div> </div> <div class="modal-body" ng-if="vm.recordingVideoLink"> <video width="100%" height="480" controls style="border:0" class="video-firame" ng-if="vm.recordingVideoLink"> <source ng-prop-src="vm.recordingVideoLink" type="video/mp4" id="recording-video"> </video> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind="\'ch-modal-course-schedule-recording.btn-close\' | translate"></button> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-course-schedule-recording.btn-save\' | translate" ng-if="!vm.recordingVideoLink"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-schedule-video/ch-modal-course-schedule-video.view.html','<div> <div class="modal fade" id="ch-modal-course-schedule-video-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="vm.stageTmp.name"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-if="!vm.isZoomEmbedLink"> <iframe class="video-firame" id="recording-video" width="100%" ng-prop-src="vm.recordingVideoPreviewLink" ng-if="vm.recordingVideoPreviewLink.length && !vm.recordingVideoPreviewLink.includes(\'amazonaws\')" frameborder="0" allowfullscreen></iframe> <video width="100%" height="480" controls style="border:0" class="video-firame" ng-if="vm.recordingVideoPreviewLink.includes(\'amazonaws\')"> <source ng-prop-src="vm.recordingVideoPreviewLink" type="video/mp4"> </video> </div> <div class="modal-body flag-zoom-recording" ng-if="vm.isZoomEmbedLink"> <a ng-prop-href="vm.recordingVideoLink" target="_blank" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-modal-course-schedule-video.link-zoom-recording\' | translate"></a> <br> <small ng-bind-html="\'ch-modal-course-schedule-video.link-zoom-recording.leyend\' | translate"></small> </div> <div class="modal-footer" ng-if="vm.isZoomEmbedLink"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind="\'ch-modal-course-schedule-video.btn-close\' | translate"></button> <div class="btn-group d-flex align-items-center"> <small ng-bind="\'ch-modal-course-schedule-video.btn-open.leyend\' | translate"></small> <a ng-prop-href="vm.recordingVideoLink" target="_blank" class="ch-btn-2021-square ch-btn-sm bordered ml-2" ng-bind="\'ch-modal-course-schedule-video.btn-open\' | translate"></a> </div> </div> <div class="modal-footer" ng-if="!vm.isZoomEmbedLink && vm.is_premium"> <div class="btn-group d-flex align-items-center"> <a ng-if="vm.premiumValorateLink" ng-prop-href="vm.premiumValorateLink.url" class="ch-btn-2021-square ch-btn-sm" ng-class="vm.disableFeedback?\'disabled\':\'\'" href="#" target="_blank" ng-click="vm.onClickOpenForm()"> <i class="far fa-thumbs-up"></i> &nbsp; &nbsp; <span ng-bind="\'ch-modal-course-schedule-video.premium-valorate\' | translate"></span> </a> </div> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-student-delivers/ch-modal-course-student-delivers.view.html','<div> <div class="modal ch-modal-course-student-delivers-container" id="ch-modal-course-student-delivers-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title">{{\'ch-modal-course-student-delivers.title\' | translate}} {{vm.studentTmp.fullName}} </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'ch-modal-course-student-delivers.table.delivered\' | translate"></th> <th ng-bind="\'ch-modal-course-student-delivers.table.class\' | translate"></th> <th ng-bind="\'ch-modal-course-student-delivers.table.deliver\' | translate"></th> <th ng-bind="\'ch-modal-course-student-delivers.table.status\' | translate"></th> <th ng-bind="\'ch-modal-course-student-delivers.table.feedback\' | translate"></th> <th ng-bind="\'ch-modal-course-student-delivers.table.attachment\' | translate"></th> <th class="text-center"><i data-toggle="tooltip" ng-prop-title="\'ch-modal-course-student-delivers.table.tooltip-recover\' | translate" class="fa fa-trash-restore"></i></th> <th class="text-center"><i data-toggle="tooltip" ng-prop-title="\'ch-modal-course-student-delivers.table.tooltip-duplicated\' | translate" class="fa fa-trash-alt"></i></th> </tr> </thead> <tbody> <tr ng-repeat="deliver in vm.deliversTmp | orderBy:\'-schedule.day\' track by $index" ng-class="{\n                    \'table-secondary\': !deliver.enable\n                  }"> <td><span ng-bind="deliver.createdAt | date:\'dd/MM\'"></span></td> <td> <span ng-bind="deliver.stage.name"></span> <span style="font-size:12px" class="badge badge-dark" ng-if="deliver.flags.isInGroup" ng-bind="\'ch-modal-course-student-delivers.badge-in-group\' | translate"></span> </td> <td> <span ng-bind="deliver.module.name"></span> <small ng-if="deliver.enable && deliver.flags.isDuplicated" data-toggle="tooltip" ng-prop-title="deliver.flags.canBeDeleted ? \'Duplicada y sin mensajes, se puede borrar\' : \'Duplicada pero con \'+deliver.chat.length+\' mensajes\'"> &nbsp;<i class="fa fa-warning" ng-style="{\n                          color: deliver.flags.canBeDeleted ? \'red\' : \'orange\'\n                        }"></i> </small> </td> <td> <div ng-if="deliver.enable"> <span ng-if="deliver.status.approved" ng-bind="\'ch-modal-course-student-delivers.labels.approved\' | translate"></span> <span ng-if="deliver._id && !deliver.status.approved && deliver.flags.wasReviewed" ng-bind="\'ch-modal-course-student-delivers.labels.reviewed\' | translate"></span> <span ng-if="deliver._id && !deliver.status.approved && deliver.flags.wasDeliverOnTime && !deliver.flags.wasReviewed && !deliver.flags.notReviewedWarning && deliver.flags.notReviewedExpired"> Te quedan {{deliver.flags.hoursLeftToReview}}hs para dar una devolución! </span> <span ng-if="deliver.flags.wasDeliverOnTime && deliver.flags.notReviewedWarning" ng-bind="\'ch-modal-course-student-delivers.labels.review-urgent\' | translate"></span> <span ng-if="deliver.flags.wasDeliverOnTime && deliver.flags.notReviewedExpired" ng-bind="\'ch-modal-course-student-delivers.labels.review-expired\' | translate"></span> <div ng-if="!deliver.flags.wasDeliverOnTime" ng-bind="\'ch-modal-course-student-delivers.labels.deliver-off-time\' | translate"></div> </div> <div ng-if="!deliver.enable"> <span ng-bind="\'ch-modal-course-student-delivers.labels.deliver-removed\' | translate"></span> </div> </td> <td class="text-center"> <a href="#" class="ch-link" ui-sref="platform-course-deliver-review({\n                        camadaId: vm.courseTmp.camada.id,\n                        courseSlug: vm.courseTmp.level.url,\n                        moduleId: deliver.module._id,\n                        deliverId: deliver._id\n                      })" data-toggle="tooltip" ng-prop-title="deliver.flags.chatsUnviewed ? deliver.flags.chatsUnviewed + \' mensajes sin leer\' :  \'sin mensajes nuevos\'"> <span style="position:relative" ng-class="{\n                          \'fa fa-comments\': deliver.flags.chatsUnviewed,\n                          \'fa fa-comments-o\': !deliver.flags.chatsUnviewed\n                        }"> <i class="fas fa-circle" ng-if="deliver.flags.chatsUnviewed"></i> </span> </a> </td> <td class="text-center"> <a class="ch-link" ng-prop-href="deliver.link" target="_blank"> <i class="fa fa-external-link-alt"></i> </a> </td> <td class="text-center"> <a href="#" class="ch-link" ng-click="vm.onClickRestore($event, deliver)" ng-if="!deliver.enable"> <i data-toggle="tooltip" ng-prop-title="\'ch-modal-course-student-delivers.deliver.tooltip-recover\' | translate" class="fa fa-trash-restore"></i> </a> </td> <td class="text-center"> <a href="#" class="ch-link" ng-click="vm.onClickDelete($event, deliver)" ng-if="deliver.flags.isDuplicated && deliver.enable"> <i data-toggle="tooltip" ng-prop-title="\'ch-modal-course-student-delivers.deliver.tooltip-remove\' | translate" class="fa fa-trash-alt"></i> </a> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-tutor/ch-modal-course-tutor.view.html','<div> <div class="modal fade" id="ch-modal-course-tutor-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 ng-if="!vm.tutorTmp.group._id" class="modal-title" ng-bind="\'ch-modal-course-tutor.title\' | translate"> </h5> <div ng-if="vm.tutorTmp.group._id" class="modal-title"> <ul class="list-unstyled tabs m-0"> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.assistant}"> <a href="#" ng-click="vm.onClickTab($event, \'assistant\')" ng-bind="\'ch-modal-course-tutor.title\' | translate"></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.group}"> <a href="#" ng-click="vm.onClickTab($event, \'group\')" ng-bind="\'ch-modal-course-tutor.group\' | translate"></a> </li> </ul> </div> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="ch-course-info-container"> <div class="row"> <div class="col-sm-12"> <div> <div class="ch-card-header"> <ul class="list-unstyled text-center" ng-if="vm.tabs.assistant"> <li> <div class="avatar" ng-style="{\'background-image\': \'url(\'+vm.tutorTmp.teacher.profile.avatar+\')\'}"> </div> </li> <li> <b style="text-transform:capitalize" ng-bind="vm.tutorTmp.teacher.fullName"></b> </li> <li>&nbsp;</li> <li ng-if="vm.showChatBtn"> <a class="ch-btn-2021-square w-25 m-auto ch-btn-sm" target="_blank" href="#" ng-click="vm.onClickTutor($event)" ng-bind="\'ch-modal-course-tutor.btn-chat\' | translate"></a> </li> <li>&nbsp;</li> <li> <small ng-bind-html="\'ch-modal-course-tutor.faqs\' | translate"></small> </li> </ul> <ul class="list-unstyled" ng-if="vm.tabs.group"> <li ng-repeat="mem in vm.tutorTmp.group.members track by $index" style="margin-bottom:15px"> <ul class="list-unstyled text-center d-flex justify-content-center align-items-center"> <li class="list-inline-item"> <div class="avatar mini" ng-style="{\'background-image\': \'url(\'+mem.profile.avatar+\')\'}"> </div> </li> <li class="list-inline-item"> <small style="text-transform:capitalize" ng-bind="mem.fullName"></small> </li> </ul> </li> <li>&nbsp;</li> <li> <div class="form-group"> <label ng-bind="\'ch-modal-course-tutor.power-bi.account\' | translate"></label> <div class="input-group"> <div class="input-group-prepend"> <span class="input-group-text"><i class="fa fa-user-circle"></i></span> </div> <input class="form-control ch-input-full" ng-value="vm.tutorTmp.group.powerBiAccount"> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-tutor.power-bi.pass\' | translate"></label> <div class="input-group"> <div class="input-group-prepend"> <span class="input-group-text"><i class="fa fa-key"></i></span> </div> <input class="form-control ch-input-full" ng-value="vm.tutorTmp.group.powerBiPass"> </div> </div> </li> </ul> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-unreviewed-delivers/ch-modal-course-unreviewed-delivers.view.html','<div> <div class="modal ch-modal-course-unreviewed-delivers-container" id="ch-modal-course-unreviewed-delivers-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-xl" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <span ng-bind="vm.title"></span> <span ng-bind="vm.deliversTmp.length"></span> </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row" ng-if="vm.deliversTmp.length"> <div class="col-sm-12"> <div class="table-responsive tableFixHead"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.student\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.deliver\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.delivered\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.review-time\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.reviewed\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.status\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.feedback\' | translate"></th> <th ng-bind="\'ch-modal-course-unreviewed-delivers.table.attachment\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="deliver in vm.deliversTmp track by $index" ng-class="{\n                    \'table-secondary\': !deliver.enable\n                  }"> <td><span ng-bind="deliver.student.fullName"></span></td> <td> <span ng-bind="deliver.module.name"></span> <small ng-if="deliver.enable && deliver.flags.isDuplicated" data-toggle="tooltip" ng-prop-title="deliver.flags.canBeDeleted ? \'Duplicada y sin mensajes, se puede borrar\' : \'Duplicada pero con \'+deliver.chat.length+\' mensajes\'"> &nbsp;<i class="fa fa-warning" ng-style="{\n                          color: deliver.flags.canBeDeleted ? \'red\' : \'orange\'\n                        }"></i> </small> </td> <td><span ng-bind="deliver.createdAt | date:\'dd/MM  HH:mm\'"></span></td> <td> <span ng-bind="deliver.flags.firstReviewEstimatedAt | date:\'dd/MM HH:mm\'"></span> <span ng-if="!deliver.flags.wasReviewed">(en {{deliver.flags.hoursLeftToReview}}hs)</span> </td> <td data-toggle="tooltip" ng-prop-title="deliver.flags.wasReviewedOn.label"> <div ng-if="deliver.flags.firstReviewedAt"> {{deliver.flags.firstReviewedAt | date:\'dd/MM HH:mm\'}}hs <span ng-if="deliver.flags.wasReviewedOn.totalHours"> ({{deliver.flags.wasReviewedOn.totalHours}}hs)</span> </div> </td> <td> <div ng-if="deliver.enable"> <span ng-if="deliver.status.approved" data-toggle="tooltip" ng-prop-title="deliver.flags.wasReviewedOn.label" ng-bind="\'ch-modal-course-unreviewed-delivers.table.approved\' | translate"></span> <span ng-if="deliver._id && !deliver.status.approved && deliver.flags.wasReviewed" data-toggle="tooltip" ng-prop-title="deliver.flags.wasReviewedOn.label" ng-bind="\'ch-modal-course-unreviewed-delivers.table.reviewed-status\' | translate"></span> <span ng-if="deliver._id && !deliver.status.approved && !deliver.flags.wasReviewed && !deliver.flags.notReviewedWarning && !deliver.flags.notReviewedExpired"> <span ng-bind="\'ch-modal-course-unreviewed-delivers.table.no-reviewed-status\' | translate"></span> </span> <span ng-if="deliver.flags.notReviewedWarning" ng-bind="\'ch-modal-course-unreviewed-delivers.table.urgent-review\' | translate"></span> <span ng-if="deliver.flags.notReviewedExpired" ng-bind="\'ch-modal-course-unreviewed-delivers.table.review-expired\' | translate"></span> </div> <div ng-if="!deliver.enable"> <span ng-bind="\'ch-modal-course-unreviewed-delivers.table.removed\' | translate"></span> </div> </td> <td class="text-center"> <a href="#" class="ch-link" ui-sref="platform-course-deliver-review({\n                        camadaId: vm.courseTmp.camada.id,\n                        courseSlug: vm.courseTmp.level.url,\n                        moduleId: deliver.module._id,\n                        deliverId: deliver._id\n                      })" data-toggle="tooltip" ng-prop-title="deliver.flags.chatsUnviewed ? deliver.flags.chatsUnviewed + \' \' + vm.unshowMessages : vm.withoutMessages"> <span style="position:relative" ng-class="{\n                          \'fa fa-comments\': deliver.flags.chatsUnviewed,\n                          \'fa fa-comments-o\': !deliver.flags.chatsUnviewed\n                        }"> <i class="fas fa-circle" ng-if="deliver.flags.chatsUnviewed"></i> </span> </a> </td> <td class="text-center"> <a href="#" class="ch-link" ng-click="vm.onClickDeliver($event, deliver)" target="_blank"> <i class="fa fa-external-link-alt"></i> </a> </td> </tr> </tbody> </table> </div> </div> </div> <div class="row" ng-if="!vm.deliversTmp.length"> <div class="col-sm-12 text-center p-5" ng-bind="\'ch-modal-course-unreviewed-delivers.no-delivers\' | translate"></div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-course-zoom-account/ch-modal-course-zoom-account.view.html','<div> <div class="modal ch-modal-course-zoom-account-container" id="ch-modal-course-zoom-account-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-course-zoom-account.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-course-zoom-account.host\' | translate"></label> <div class="input-group-prepend"> <input class="form-control ch-input-full" ng-model="vm.zoomTmp.email"> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-course-zoom-account.pass\' | translate"></label> <div class="input-group"> <input disabled ng-prop-type="vm.showPass ?\'text\' :\'password\'" class="form-control ch-input-full" ng-model="vm.zoomTmp.password"> <div class="input-group-append" ng-mouseover="vm.onMouseOverShowPass($event, true)" ng-mouseleave="vm.onMouseOverShowPass($event, false)"> <span class="input-group-text"> <i class="fa fa-eye"></i> </span> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-external-recording/ch-modal-external-recording.html','<div> <div class="modal ch-modal-not-recording-container" id="ch-modal-not-recording" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <form class="modal-content" ng-submit="vm.onClickSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-external-recording-title\' | translate"></h5> <button ng-click="vm.onClickClose" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p ng-bind="\'ch-modal-external-recording-content\' | translate"></p> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm" data-dismiss="modal" ng-bind="\'ch-modal-request-reenable.btn-cancel\' | translate"></button> <button type="submit" class="ch-btn-2021-square primary ch-btn-sm" ng-bind="\'course.card.btn-zoom\' | translate"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-report-user/ch-modal-report-user.view.html','<div class="modal fade ch-modal-report-user-container text-left" id="ch-modal-report-user" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title"> {{\'ch-modal-report-user.title\' | translate}} <span ng-bind="vm.studentTmp.fullName"></span> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12" ng-if="vm.deliverTmp._id"> <p ng-bind="\'ch-modal-report-user.description\' | translate"></p> </div> <div class="col-sm-12"> <div class="form-group" ng-if="vm.subjects.length>1"> <label ng-bind="\'ch-modal-report-user.subject\' | translate"></label> <select class="form-control ch-input-full" ng-model="vm.reportTmp.subject" required> <option value="" ng-bind="\'ch-modal-report-user.subject.placeholder\' | translate"></option> <option ng-repeat="item in vm.subjects" ng-value="item.key" ng-bind="item.title"></option> </select> </div> <div class="form-group" ng-if="vm.subjects.length==1"> <br> <label>{{\'ch-modal-report-user.subject\' | translate}}: <b ng-bind="vm.subjects[0].title"></b></label> </div> <div class="form-group"> <label ng-bind="\'ch-modal-report-user.attachments\' | translate"></label> <input ng-hide="true" id="input-capture-1" type="file" ngf-select="" ng-model="vm.fileTmp" name="file" ngf-accept="\'image/*\'" ngf-max-total-size="12MB" ng-change="vm.onChangeFile($event)"> <ul class="list-unstyled" style="margin:0"> <li class="list-inline-item"> <a href="#" class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickUploadFile($event)" data-toggle="tooltip" title="* Hasta 10mb (formatos soportados: .png,.jpeg,.jpg)" ng-bind="\'ch-modal-report-user.btn-attach\' | translate"></a> </li> <li class="list-inline-item" ng-repeat="file in vm.files track by $index" ng-if="file.name"> <label class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickRemoveFile($event, file)"> <span ng-bind="file.name"></span>&nbsp;&nbsp;<ch-svg-icon icon="\'close\'"></ch-svg-icon> </label> </li> </ul> </div> </div> <div class="col-md-12"> <div class="form-group"> <label ng-bind="\'ch-modal-report-user.details\' | translate"></label> <textarea style="height:125px!important" minlength="50" class="form-control ch-input-full" ng-model="vm.reportTmp.text" required></textarea> </div> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm bordered" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-report-user.btn-close\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-bind="\'ch-modal-report-user.btn-send\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-additional-schedule/ch-modal-request-additional-schedule.view.html','<div class="modal fade ch-modal-request-additional-schedule-container" id="ch-modal-request-additional-schedule" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title"> <b ng-if="!vm.isReeSchedule" ng-bind="\'ch-modal-request-additional-schedule.title\' | translate"></b> <b ng-if="vm.isReeSchedule" ng-bind="\'ch-modal-request-additional-schedule.title-2\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12" ng-if="vm.isReeSchedule"> <div class="form-group"> <label ng-bind="\'ch-modal-request-additional-schedule.schedule\' | translate"></label> <select class="form-control" ng-model="vm.additionalTmp._id" required> <option value="" ng-bind="\'ch-modal-request-additional-schedule.schedule.placeholder\' | translate"> </option> <option ng-repeat="sche in vm.courseTmp.calendar track by $index" ng-value="sche._id" ng-bind="sche.alias"></option> </select> </div> </div> <div class="col-md-12"> <div class="form-group"> <label ng-if="!vm.isReeSchedule" ng-bind="\'ch-modal-request-additional-schedule.comment\' | translate"></label> <label ng-if="vm.isReeSchedule" ng-bind="\'ch-modal-request-additional-schedule.reeschedule-comment\' | translate"></label> <textarea rows="3" minlength="50" class="form-control ch-input-full" ng-model="vm.additionalTmp.reason" required></textarea> </div> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm primary" type="submit" ng-bind="\'ch-modal-request-additional-schedule.btn-send\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-change-group/ch-modal-request-change-group.view.html','<div class="modal fade ch-modal-request-change-group-container" id="ch-modal-request-change-group" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-change-group.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <p ng-bind="\'ch-modal-request-change-group.text\' | translate"></p> </div> <div class="col-sm-12"> <div> <div class="form-group"> <label ng-bind="\'ch-modal-request-change-group.student-dropdown\' | translate"></label> <select class="form-control" ng-model="vm.studentId" required> <option value="" ng-bind="\'ch-modal-request-change-group.student-dropdown.placeholder\' | translate"> </option> <optgroup ng-repeat="group in vm.fromTutorGroups track by $index" ng-prop-label="group.alias" ng-if="group.members.length"> <option ng-repeat="stu in group.members track by $index" ng-value="stu._id" ng-bind="stu.fullName"> </option> </optgroup> </select> </div> <div class="form-group"> <label ng-bind="\'ch-modal-request-change-group.team-dropdown\' | translate"></label> <select class="form-control" ng-model="vm.toTutorId" required ng-disabled="!vm.studentId" ng-change="vm.onChangeTutor()"> <option value="" ng-bind="\'ch-modal-request-change-group.team-dropdown.tutoring-placeholder\' | translate"></option> <option ng-repeat="tutor in vm.allTeachers track by $index" ng-value="tutor._id" ng-bind="tutor.fullName"> </option> </select> <br> <select class="form-control" ng-model="vm.toGroupId" required ng-disabled="!vm.toTutorId"> <option value="" ng-bind="\'ch-modal-request-change-group.team-dropdown.teams-placeholder\' | translate"> </option> <optgroup ng-repeat="group in vm.toTutorGroups track by $index" ng-prop-label="group._alias" ng-if="group.members.length" ng-disabled="group.locked && !vm.wantToBeAlone"> <option ng-repeat="stu in group.members track by $index" ng-value="group._id" ng-bind="stu.fullName" ng-disabled="group.locked"> </option> </optgroup> </select> <br> <div class="form-check"> <label class="form-check-label"> <input type="checkbox" class="form-check-input" ng-model="vm.wantToBeAlone"> <small ng-bind="\'ch-modal-request-change-group.mono-team\' | translate"></small> </label> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-request-change-group.final-project-topic\' | translate"></label> <input class="form-control form-group" ng-model="vm.finalProjectSubject" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-request-change-group.motive\' | translate"></label> <textarea rows="3" minlength="25" class="form-control ch-input-full" ng-model="vm.reason" required></textarea> <small ng-bind="\'ch-modal-request-change-group.legal\' | translate"></small> </div> </div> <br> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square bordered ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-request-change-group.btn-cancel\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onSubmit($event)" ng-bind="\'ch-modal-request-change-group.btn-submit\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-enroll-cert/ch-modal-request-enroll-cert.view.html','<div class="modal fade ch-modal-request-enroll-cert-container" id="ch-modal-request-enroll-cert" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-enroll-cert.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-request-enroll-cert.form.name\' | translate"></label> <input class="form-control ch-input-full" ng-value="vm.userTmp.profile.first_name" required disabled> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-request-enroll-cert.form.lastname\' | translate"></label> <input class="form-control ch-input-full" ng-value="vm.userTmp.profile.last_name" required disabled> </div> </div> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-request-enroll-cert.form.document\' | translate"></label> <input class="form-control ch-input-full" type="number" ng-value="vm.userTmp.profile.dni" required disabled> </div> </div> <div class="col-sm-12"> <small ng-bind="\'ch-modal-request-enroll-cert.info\' | translate"></small> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square bordered ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-request-enroll-cert.btn-cancel\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-bind="\'ch-modal-request-enroll-cert.btn-submit\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-leaderboard-perks/ch-modal-request-leaderboard-perks.view.html','<div class="modal ch-modal-request-leaderboard-perks-container" id="ch-modal-request-leaderboard-perks" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <form class="step-container" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-leaderboard-perks.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div ng-if="!vm.requestModal" class="modal-body"> <div class="row"> <div class="col-sm-12 mb-3" ng-bind-html="\'ch-modal-request-leaderboard-perks.perks-list-link\' | translate"> </div> <div class="col-sm-12"> <div class="form-check" ng-repeat="perk in vm.perks track by $index"> <label class="form-check-label" ng-prop-for="perk.type"> <input class="form-check-input" type="checkbox" name="perks" ng-value="perk.type" ng-prop-id="perk.type" ng-model="perk.selected" ng-disabled="perk.disabled" ng-click="vm.onClickPerk($event, perk)"> <span ng-bind="perk.value"></span> <span> <i ng-if="perk.disclaimer" class="fa fa-info-circle" data-toggle="tooltip" ng-prop-title="perk.disclaimer"></i> </span> </label> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <small class="d-block pt-2" ng-if="vm.isTutorPerkDisabled" ng-bind-html="\'ch-modal-request-leaderboard-perks.no-tutor-perk\' | translate"></small> <small class="d-block pt-2"> {{\'ch-modal-request-leaderboard-perks.expire-at\' | translate}}* <span ng-bind="vm.courseTmp.flags.leaderboardPerksEndDateAlias"></span> </small> <small class="d-block pt-2" ng-if="vm.leaderboardPerksLocked" ng-bind-html="\'ch-modal-request-leaderboard-perks.contact\' | translate"> </small> </div> </div> </div> <div ng-if="vm.requestModal" class="modal-body"> <div class="row"> <div class="col-sm-12 mb-3" ng-bind-html="(\'ch-modal-request-leaderboard-perks.form-request\' | translate).replace(\'%formulario%\', vm.modalTypeform)"></div> </div> </div> <div ng-if="!vm.requestModal" class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-if="!vm.allPerksRequested && !vm.leaderboardPerksLocked" ng-bind="\'ch-modal-request-leaderboard-perks.btn-request\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm disabled" type="button" ng-if="vm.allPerksRequested" ng-bind="\'ch-modal-request-leaderboard-perks.btn-requested\' | translate"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-reactivation/ch-modal-request-reactivation.view.html','<div> <div class="modal" id="ch-modal-request-reactivation-container" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-reactivation.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p ng-if="!vm.courseTmp.flags.hasCoderBeca" ng-bind-html="\'ch-modal-request-reactivation.text-no-beca\' | translate"></p> <p ng-if="vm.courseTmp.flags.hasCoderBeca" ng-bind-html="\'ch-modal-request-reactivation.text-beca.2\' | translate"> </p> <p ng-bind-html="\'ch-modal-request-reactivation.text.3\' | translate"></p> <p ng-if="!vm.courseTmp.flags.isEnded" ng-bind-html="\'ch-modal-request-reactivation.text.not-ended\' | translate"> </p> <p ng-if="vm.courseTmp.flags.isEnded" ng-bind-html="\'ch-modal-request-reactivation.text.ended\' | translate"> </p> </div> <div class="modal-footer" ng-if="!vm.courseTmp.flags.isEnded"> <button type="button" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onSubmit($event)" ng-bind="vm.submitAlias"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-reenable/ch-modal-request-reenable.view.html','<div> <div class="modal ch-modal-request-reenable-container" id="ch-modal-request-reenable" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="vm.TEXTS.title"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p ng-bind-html="vm.TEXTS.description"></p> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square ch-btn-sm bordered" data-dismiss="modal" ng-bind="\'ch-modal-request-reenable.btn-cancel\' | translate"></button> <button type="submit" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-student-course.btn-deliver.enable\' | translate"></button> </div> </form> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-reenroll/ch-modal-request-reenroll.view.html','<div class="modal fade ch-modal-request-reenroll-container" id="ch-modal-request-reenroll" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div ng-switch="vm.isAuthorizedCourseReenroll"> <div ng-switch-when="false"> <div class="modal-header"> <h5 class="modal-title"> <b ng-if="!vm.isTransferRequest" ng-bind="(vm.canChangeTheProduct ? \'ch-modal-request-change-product.title\' : \'ch-modal-request-change-commission.title\') | translate"></b> <b ng-if="vm.isTransferRequest" ng-bind="\'ch-modal-request-reenroll.transfer-title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> {{ \'ch-modal-request-reenroll.unauthorized-text\' | translate }} </div> </div> <div ng-switch-when="true"> <form name="reenrollForm" class="step-container" ng-show="vm.steps.reenroll" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title"> <b ng-if="!vm.isTransferRequest" ng-bind="(vm.canChangeTheProduct ? \'ch-modal-request-change-product.title\' : \'ch-modal-request-change-commission.title\') | translate"></b> <b ng-if="vm.isTransferRequest" ng-bind="\'ch-modal-request-reenroll.transfer-title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row" ng-if="vm.isTransferRequest"> <div class="col-sm-12"> <b ng-bind="\'ch-modal-request-reenroll.transfer.to-user\' | translate"></b> <br><br> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-request-reenroll.transfer.email\' | translate"></label> <input type="email" class="form-control ch-input-full" required ng-model="vm.transferCourseTmp.toUser.email"> </div> <div class="form-group"> <label ng-bind="\'ch-modal-request-reenroll.transfer.name\' | translate"></label> <input class="form-control ch-input-full" required ng-model="vm.transferCourseTmp.toUser.fullName"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-request-reenroll.transfer.document\' | translate"></label> <input class="form-control ch-input-full" required ng-model="vm.transferCourseTmp.toUser.dni"> </div> <div class="form-group"> <label ng-bind="\'ch-modal-request-reenroll.transfer.phone\' | translate"></label> <input class="form-control ch-input-full" required ng-model="vm.transferCourseTmp.toUser.phone"> </div> </div> </div> <div class="row"> <div class="col-sm-12" ng-if="vm.isTransferRequest && !vm.courseTmp.flags.isStarted"> <div class="form-group"> <div class="form-check"> <label class="form-check-label"> <input type="checkbox" class="form-check-input" ng-model="vm.transferCourseTmp.toCurrentCourse" ng-change="vm.onChangeFilter($event)"> <small ng-bind="\'ch-modal-request-reenroll.transfer.same-course\' | translate"></small> </label> </div> </div> </div> <div class="col-sm-12 mb-3" ng-if="!vm.transferCourseTmp.toCurrentCourse"> <div> <b ng-bind="\'ch-modal-request-reenroll.courses\' | translate"></b> <select ng-disabled="!vm.canChangeTheProduct" class="form-control ch-input-full" ng-model="vm.toProductId" required ng-change="vm.onChangeProduct()" ng-disabled="vm.flags.hasFreeChangeOrReenrollToProduct"> <option value="" ng-bind="\'ch-modal-request-reenroll.courses.dropdown-placeholder\' | translate"> </option> <option ng-repeat="product in vm.products track by product._id" ng-value="product._id" ng-bind="product.title"> </option> </select> <br> </div> <div> <b ng-bind="\'ch-modal-request-reenroll.next-dates\' | translate"></b> <select class="form-control ch-input-full" ng-model="vm.toCourseId" required ng-disabled="!vm.toProductId"> <option value="" ng-bind="\'ch-modal-request-reenroll.next-dates.dropdown-placeholder\' | translate"> </option> <option ng-repeat="course in vm.coursesTmp track by course._id" ng-value="course._id"> {{course.alias}} </option> <option value="" ng-if="!vm.coursesTmp.length" ng-bind="\'ch-modal-request-reenroll.next-dates.dropdown-no-dates\' | translate"> </option> </select> </div> <div ng-if="!vm.courseTmp.flags.isContainer"> <br> <b ng-bind="\'ch-modal-request-reenroll.unenrollment-reason\' | translate"></b> <select class="form-control ch-input-full" name="unenrollmentReasonSelector" ng-model="vm.selectedUnenrollmentReason" ng-disabled="!vm.toProductId" ng-change="vm.onChangeUnenrollmentReason()" ng-required="true"> <option value="" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason.dropdown-placeholder\' | translate"> </option> <option ng-repeat="reason in vm.unenrollmentReason track by $index" ng-if="reason.parentId === null" ng-value="reason" ng-bind="::reason | reasonTranslation"> </option> </select> <br> <b ng-if="vm.selectedUnenrollmentReason.isAbstract" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason-detail\' | translate"></b> <select ng-if="vm.selectedUnenrollmentReason.isAbstract" class="form-control ch-input-full" name="subUnenrollmentReasonSelector" ng-model="vm.selectedSubUnenrollmentReason" ng-disabled="!vm.toProductId" ng-required="true"> <option value="" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason.dropdown-placeholder\' | translate"> </option> <option ng-repeat="reason in vm.unenrollmentReason track by $index" ng-if="reason.parentId === vm.selectedUnenrollmentReason._id" ng-value="reason" ng-bind="::reason | reasonTranslation"> </option> </select> <textarea class="form-control bg-dark text-white w-100 border border-dark mt-2" name="otherReasonText" ng-model="vm.otherReasonText" ng-if="vm.selectedUnenrollmentReason.reason === \'Otro\'" ng-required="true" ng-minlength="4"></textarea> <div ng-messages="reenrollForm.otherReasonText.$error" ng-show="reenrollForm.otherReasonText.$invalid"> <div class="alert alert-danger mb-0 mt-2 py-1 px-2" ng-message="minlength" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason-detail-validation\' | translate"></div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="modal-header-warning" ng-if="!vm.flags.hasToPay && vm.flags.hasFreeChangeOrReenroll"> <p ng-bind="\'ch-modal-request-reenroll.free-change\' | translate"></p> </div> <div class="modal-header-warning" ng-show="!vm.transferCourseTmp.toCurrentCourse && vm.steps.noDates"> <p ng-bind-html="\'ch-modal-request-reenroll.no-dates-text\' | translate"></p> </div> <div ng-if="!vm.steps.noDates && ((vm.canChangeTheProduct && !vm.penaltyTmp.blockPayment) || !vm.canChangeTheProduct)"> <span ng-bind-html="vm.penaltyText"></span> </div> <div class="modal-header-warning" ng-if="vm.flags.hasToPay"> <p ng-if="vm.flags.penaltyChange"> <span ng-bind-html="\'ch-modal-request-reenroll.has-to-pay.text\' | translate"></span> <b ng-bind="vm.penaltyTmp.pricing.alias"></b>. </p> <p ng-if="vm.flags.penaltyReenroll && vm.flags.isStarted && !vm.flags.isEnded"> <span ng-bind-html="\'ch-modal-request-reenroll.has-to-pay.text.2\' | translate"></span> <b ng-bind="vm.penaltyTmp.pricing.alias"></b>. </p> <p ng-if="vm.flags.penaltyReenroll && vm.flags.isEnded"> {{\'ch-modal-request-reenroll.has-to-pay.text.ended\' | translate}} <b ng-bind="vm.penaltyTmp.pricing.alias"></b>. </p> </div> <div> <small ng-bind-html="\'ch-modal-request-reenroll.legal-2\' | translate"></small> <small ng-bind-html="\'ch-modal-request-reenroll.legal-5\' | translate"></small> </div> <div> <small ng-if="vm.canChangeTheProduct && vm.flags.hasToPay" ng-bind-html="\'ch-modal-request-reenroll.legal-3\' | translate"></small> </div> </div> </div> </div> <div class="modal-footer d-flex justify-content-between align-items-center"> <div> <a ng-href="{{vm.termsUrl}}" target="_blank" class="ch-btn-2021-link"><small ng-bind="\'ch-modal-request-reenroll.legal-link\' | translate"></small></a> </div> <div> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-bind="vm.submitAlias" ng-class="{ \'disabled\': reenrollForm.otherReasonText.$invalid || !vm.toCourseId }"> </button> </div> </div> </form> <div class="step-container" ng-show="vm.steps.currentRequest"> <div class="modal-header"> <h5 class="modal-title"> <small style="text-transform:uppercase" ng-bind="vm.productTmp.title"></small> <br> <b ng-if="!vm.isTransferRequest" ng-bind="\'ch-modal-request-reenroll.title\' | translate"></b> <b ng-if="vm.isTransferRequest" ng-bind="\'ch-modal-request-reenroll.transfer-title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p> <span ng-bind-html="\'ch-modal-request-reenroll.requested.text\' | translate"></span> <br> <a ng-href="{{vm.termsUrl}}" target="_blank" class="ch-btn-2021-link"> <small ng-bind="\'ch-modal-request-reenroll.legal-link\' | translate"></small> </a> </p> </div> <div class="modal-footer d-flex justify-content-between align-items-center"> <div> <button class="ch-btn-2021-square ch-btn-sm bordered" ng-click="vm.onClickDiscartRequest($event)" ng-bind="\'ch-modal-request-reenroll.btn-discart\' | translate"></button> </div> <div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-substitute/ch-modal-request-substitute.view.html','<div class="modal fade" id="course-substitute-modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-substitute.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="ch-modal-request-substitute-container" ng-show="vm.steps.schedules"> <div class="row"> <div class="col-sm-12"> <label ng-bind="\'ch-modal-request-substitute.class-dropdown\' | translate"></label> <select class="form-control ch-input-full" ng-model="vm.scheDay" required> <option value="" ng-bind="\'ch-modal-request-substitute.class-dropdown.placeholder\' | translate"> </option> <option ng-repeat="sche in vm.schedules" ng-value="sche.day" ng-bind="sche.alias" ng-disabled="sche.flags.isPast"></option> </select> </div> </div> </div> <div class="ch-modal-request-substitute-container" ng-show="vm.steps.teachers"> <div class="row"> <div class="col-sm-6"> <p ng-bind-html="\'ch-modal-request-substitute.text\' | translate"></p> </div> <div class="col-sm-6"> <ul class="list-unstyled"> <li><u ng-bind="\'ch-modal-request-substitute.from-comission\' | translate"></u>: {{vm.courseTmp.camada.id}}</li> <li><u ng-bind="\'ch-modal-request-substitute.from-course\' | translate"></u>: {{vm.courseTmp.level.title}}</li> <li><u ng-bind="\'ch-modal-request-substitute.from-class\' | translate"></u>: {{vm.currentSchedule.day | date:\'dd/MM\'}} - {{vm.currentSchedule.stage.name}} </li> </ul> </div> </div> <br> <div ng-show="vm.teachers.length"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'ch-modal-request-substitute.table.teacher\' | translate"></th> <th ng-bind="\'ch-modal-request-substitute.table.email\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="teacher in vm.teachers track by $index"> <td> <small ng-bind="teacher.fullName"></small> </td> <td> <small><a ng-prop-href="\'mailto:\' + teacher.email" ng-bind="teacher.email"></a></small> </td> </tr> </tbody> </table> </div> </div> </div> <div class="modal-footer"> <button type="button" class="ch-btn-2021-square bordered ch-btn-sm" data-dismiss="modal" ng-bind="\'ch-modal-request-substitute.btn-close\' | translate"></button> <button type="button" class="ch-btn-2021-square ch-btn-sm" ng-show="vm.steps.schedules" ng-click="vm.onSubmit($event)" ng-bind="\'ch-modal-request-substitute.btn-submit\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-to-partner-with/ch-modal-request-to-partner-with.view.html','<div class="modal fade ch-modal-request-to-partner-with-container" id="ch-modal-request-to-partner-with" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog animated" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-request-to-partner-with.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <br> <p ng-bind-html="\'ch-modal-request-to-partner-with.text\' | translate"></p> </div> <div class="col-sm-12"> <form class="form-group" ng-submit="vm.onClickAdd($event)"> <label ng-bind="\'ch-modal-request-to-partner-with.add-emails\' | translate"></label> <div class="input-group"> <input type="email" class="form-control ch-input-full" ng-model="vm.emailTmp" required> <button class="btn btn-outline-secondary" ng-disabled="!vm.canAddMorePartners" type="submit" id="inputGroupFileAddon04"> <i class="fa fa-plus"></i> </button> </div> </form> <ul class="list-group" ng-if="vm.partners.length"> <li class="list-group-item d-flex justify-content-between align-items-center" ng-repeat="partner in vm.partners track by $index"> <span ng-bind="partner.fullName"></span> <button type="button" class="btn btn-light" ng-click="vm.onClickRemove($event, partner)">X</button> </li> </ul> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square bordered ch-btn-sm" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-request-to-partner-with.btn-cancel\' | translate"></button> <button class="ch-btn-2021-square ch-btn-sm" type="button" ng-click="vm.onSubmit($event)" ng-bind="\'ch-modal-request-to-partner-with.btn-send\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-modal-request-unenroll/ch-modal-request-unenroll.view.html','<div class="modal fade ch-modal-request-unenroll-container" id="ch-modal-request-unenroll" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"> <b ng-bind="\'ch-modal-request-unenroll.title\' | translate"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body" ng-switch="vm.showBalanceError"> <div ng-switch-when="true"> {{ \'ch-campus-modal.body.request-balance.error\' | translate }} </div> <div ng-switch-when="false"> <form name="reenrollForm" ng-submit="vm.onSubmit()"> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <p> Al solicitar esta opción, te quedará como saldo a favor el monto que abonaste por tu curso, así como todo importe que hayas abonado previamente si realizaste un cambio de curso previo. </p> <p ng-bind="vm.userBalanceMessage"> {{vm.userBalanceMessage}} </p> <ul> <li>El Saldo a Favor estará vigente por el plazo de 1 año desde su solicitud.</li> <li>Podrás utilizarlo para inscribirte en otros cursos y carreras de Coderhouse, o bien transferirlo a un amigo o familiar.</li> <li>En caso de realizar un cambio de curso, comisión o reactivación por el cual debas abonar algún importe en el futuro, podrás utilizar tu saldo a favor para realizar la gestión, previa confirmación de tu parte. </li> </ul> <div> <b ng-bind="\'ch-modal-request-reenroll.unenrollment-reason\' | translate"></b> <select class="form-control ch-input-full" name="unenrollmentReasonSelector" ng-model="vm.reason" ng-required="true"> <option value="" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason.dropdown-placeholder\' | translate"></option> <option ng-repeat="reason in vm.unenrollReasons track by $index" ng-if="reason.parentId === null" ng-value="reason" ng-bind="::reason | reasonTranslation"></option> </select> <br> <b ng-if="vm.reason.isAbstract" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason-detail\' | translate"></b> <select ng-if="vm.reason.isAbstract" class="form-control ch-input-full" name="subUnenrollmentReasonSelector" ng-model="vm.subReason" ng-required="true"> <option value="" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason.dropdown-placeholder\' | translate"></option> <option ng-repeat="reason in vm.unenrollReasons track by $index" ng-if="reason.parentId === vm.reason._id" ng-value="reason" ng-bind="::reason | reasonTranslation"></option> </select> <textarea class="form-control bg-dark text-white w-100 border border-dark mt-2" name="otherReasonText" ng-model="vm.comment" ng-if="vm.reason.reason === \'Otro\'" ng-required="true" ng-minlength="4">\n                      </textarea> <div ng-messages="reenrollForm.otherReasonText.$error" ng-show="reenrollForm.otherReasonText.$invalid"> <div class="alert alert-danger mb-0 mt-2 py-1 px-2" ng-message="minlength" ng-bind="\'ch-modal-request-reenroll.unenrollment-reason-detail-validation\' | translate"></div> </div> </div> <p class="m-0"> <small> Para finalizar la gestión y acreditar tu saldo a favor, haz click en “Continuar”. Al hacerlo, tu curso dejará de estar disponible. Si estás realizando una carrera, ten en cuenta que únicamente estás gestionando la baja de tu curso actual. Si quieres dar de baja el resto de los cursos, deberás repetir el proceso en cada uno de ellos. </small> </p> </div> </div> </div> <div class="modal-footer d-flex"> <button ng-disabled="!!reenrollForm.otherReasonText.$invalid" class="ch-btn-2021-square ch-btn-sm {{reenrollForm.otherReasonText.$invalid ? \'disabled\' : \'\'}}" type="submit" ng-bind="\'ch-modal-request-unenroll.btn-submit\' | translate"> </button> </div> </form> </div> </div> </div> </div> </div>'),e.put('modules/platform/courses/directives/ch-tab-list/ch-tab-list.view.html','<div class="ch-tab-list-container"> <div class="list"> <div class="ch-tab ch-df ch-jucs ch-aliic" ng-class="{ active: tab.active, loading: (!!tab.loading || !tab.items.length) && isCourses }" ng-repeat="tab in $ctrl.options.items track by $index" ng-click="$ctrl.onClick(tab)" ng-mouseenter="$ctrl.onHover(tab)"> <ch-svg-icon ng-if="tab.icon" icon="tab.icon" size="\'.9em\'" class="ch-mr-1"></ch-svg-icon> <span class="label" ng-class="{active: tab.active}" ng-bind="tab.label"></span> </div> </div> </div>'),e.put('modules/platform/courses/platform-course.view.html','<ch-banner-workshop></ch-banner-workshop> <div class="platform-course-container"> <div ng-class="{\n      \'with-sub-nav\': $ctrl.strategy.showProgramForTeacher,\n      \'no-paddings\': $ctrl.strategy.showProgramForStudent || $ctrl.strategy.showProgramForTeacher\n    }" ng-if="$ctrl.camadaTmp._id"> <ch-course-teacher-menu ng-if="$ctrl.strategy.showMenuForTeacher" camada-tmp="$ctrl.camadaTmp"> </ch-course-teacher-menu> <ch-course-student-menu ng-if="$ctrl.strategy.showMenuForStudent" camada-tmp="$ctrl.camadaTmp"> </ch-course-student-menu> <ch-course-student-program ng-if="$ctrl.strategy.showProgramForStudent" camada-tmp="$ctrl.camadaTmp"> </ch-course-student-program> <ch-course-teacher-program ng-if="$ctrl.strategy.showProgramForTeacher" camada-tmp="$ctrl.camadaTmp"> </ch-course-teacher-program> <ch-course-campus-delivers ng-if="$ctrl.strategy.isDelivers" camada-tmp="$ctrl.camadaTmp"></ch-course-campus-delivers> <ch-course-deliver ng-if="$ctrl.strategy.isDeliver" camada-tmp="$ctrl.camadaTmp"></ch-course-deliver> <ch-course-deliver-review ng-if="$ctrl.strategy.isDeliverReview" camada-tmp="$ctrl.camadaTmp"> </ch-course-deliver-review> <ch-course-attendance ng-if="$ctrl.strategy.isAttendance"></ch-course-attendance> <ch-course-scorecard ng-if="$ctrl.strategy.isScorecard"></ch-course-scorecard> <ch-course-rating ng-if="$ctrl.strategy.isRating && !ENABLE_RATINGS_2021" camada-tmp="$ctrl.camadaTmp"></ch-course-rating> <ch-course-rating-v2 ng-if="$ctrl.strategy.isRating && ENABLE_RATINGS_2021" camada-tmp="$ctrl.camadaTmp"></ch-course-rating-v2> <ch-course-classmates-v2 ng-if="$ctrl.strategy.isClassmates" camada-tmp="$ctrl.camadaTmp"></ch-course-classmates-v2> <ch-course-leaderboard-v2 ng-if="$ctrl.strategy.isLeaderboard && FEATURES.COURSE_LEADERBOARD_V2" camada-tmp="$ctrl.camadaTmp"></ch-course-leaderboard-v2> <ch-course-supervision ng-if="$ctrl.strategy.isSupervision" camada-tmp="$ctrl.camadaTmp"></ch-course-supervision> <ch-course-chat ng-if="$ctrl.strategy.isChat" camada-tmp="$ctrl.camadaTmp" chat-channel="" full-screen="1"> </ch-course-chat> <ch-course-meeting ng-if="$ctrl.strategy.isMeeting" camada-tmp="$ctrl.camadaTmp"></ch-course-meeting> <ch-course-program-content ng-if="$ctrl.strategy.isProgramContent" camada-tmp="$ctrl.camadaTmp"> </ch-course-program-content> <ch-course-blog-posts ng-if="$ctrl.strategy.isBlogPosts" camada-tmp="$ctrl.camadaTmp"></ch-course-blog-posts> <ch-course-blog-post ng-if="$ctrl.strategy.isBlogPost" camada-tmp="$ctrl.camadaTmp"></ch-course-blog-post> <ch-course-2021 ng-if="$ctrl.strategy.is2021" camada-tmp="$ctrl.camadaTmp"></ch-course-2021> </div> <ch-modal-course-info></ch-modal-course-info> <ch-modal-course-info-scholarship></ch-modal-course-info-scholarship> <ch-modal-course-tutor></ch-modal-course-tutor> <ch-modal-course-calendar></ch-modal-course-calendar> <ch-modal-course-complementary-schedule></ch-modal-course-complementary-schedule> <ch-modal-course-deliver-v2></ch-modal-course-deliver-v2> <ch-modal-course-student-delivers></ch-modal-course-student-delivers> <ch-modal-course-zoom-account></ch-modal-course-zoom-account> <ch-modal-course-powerbi-account></ch-modal-course-powerbi-account> <ch-modal-course-schedule-meeting></ch-modal-course-schedule-meeting> <ch-modal-course-meeting-background></ch-modal-course-meeting-background> <ch-modal-request-reactivation></ch-modal-request-reactivation> <ch-modal-course-module-deliver></ch-modal-course-module-deliver> <ch-modal-course-reenable-deliver></ch-modal-course-reenable-deliver> <ch-modal-request-substitute></ch-modal-request-substitute> <ch-modal-request-enroll-cert></ch-modal-request-enroll-cert> <ch-modal-request-additional-schedule></ch-modal-request-additional-schedule> <ch-modal-report-user></ch-modal-report-user> <ch-modal-zoom-tips></ch-modal-zoom-tips> <ch-modal-request-to-partner-with></ch-modal-request-to-partner-with> <ch-modal-leaderboard-status></ch-modal-leaderboard-status> <ch-modal-request-unenroll></ch-modal-request-unenroll> <ch-modal-request-change-group></ch-modal-request-change-group> <ch-modal-request-reenable></ch-modal-request-reenable> <ch-modal-external-recording></ch-modal-external-recording> <ch-modal-course-learn-more></ch-modal-course-learn-more> <ch-paid-content-modal></ch-paid-content-modal> <ch-modal-coderask-support></ch-modal-coderask-support> <ch-modal-coderask-support-cody></ch-modal-coderask-support-cody> <ch-modal-course-certificate></ch-modal-course-certificate> </div>'),e.put('modules/platform/courses/platform-courses.view.html','<ch-banner-workshop></ch-banner-workshop> <ch-banner-survey></ch-banner-survey> <div> <div class="platform-courses-container"> <div> <ch-courses></ch-courses> </div> </div> <ch-modal-code-download></ch-modal-code-download> <ch-modal-referral-email-sharing></ch-modal-referral-email-sharing> </div>'),e.put('modules/platform/forum/components/ch-forum-feed/ch-forum-feed.view.html','<div id="ch-forum-feed-component" class="pt-3" ng-if="!vm.IS_ENV_BR"> <ch-loader></ch-loader> <div class="row align-items-center" style="z-index:2"> <div class="col-sm-7 align-items-center"> <div class="ch-tab-list-container"> <div class="list"> <div class="ch-tab ch-df ch-jucc ch-aliic" ng-class="{active: item.active}" ng-repeat="item in vm.tabs track by $index" ng-click="onTabChange($event, item)" ng-mouseenter="$ctrl.onHover(tab)"> <span class="label" ng-class="{active: item.active}" ng-bind="item.label"></span> </div> </div> </div> </div> <div class="col-sm-5 align-items-center"> <div class="ch-mt-2 ch-mb-2"> <div class="ch-forum-feed-search-container"> <form ng-submit="vm.onSubmit($event)"> <span class="ch-forum-feed-search-icon input-group-text" id="basic-addon1"> <ch-svg-icon icon="\'search-1\'"></ch-svg-icon> </span> <input class="form-control form-group" ng-model="vm.searchPost" ng-prop-placeholder="\'ch-forum-feed.search\' | translate" aria-label="Buscar" aria-describedby="basic-addon1"> </form> </div> </div> </div> </div> <div class="ch-forum-feed-container"> <div class="ch-forum-feed-posts-list-container"> <div class="ch-forum-feed-cta ch-pointer clickable-effects soft-fx no-hover-fx pt-3 pb-3" ng-click="vm.showModal($event)" ng-if="!vm.category || vm.category === \'general\'"> <div class="forum-cta col-md-12"> <div class="row"> <div class="col-sm-2 avatar-container" ng-class="{\'fix-width\': !user.avatar && !user.profile.avatar}"> <div ng-if="user.avatar || user.profile.avatar" class="box-user-avatar round-img" style="--size:64px" ng-style="{\n                  \'background-image\': \'url(\'+((user.avatar || user.profile.avatar || \'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif\') | cloudinary:80) +\')\'\n              }"> </div> <span ng-if="!user.avatar && !user.profile.avatar">👋</span> </div> <div class="col-md-10 d-flex align-items-center"> <p class="ch-sub-m m-0 ch-df ch-aliic hide-on-mobile" ng-bind-html="vm.TEXTS.title.desktop"></p> <p class="ch-sub-m m-0 ch-df ch-aliic hide-on-desktop" ng-bind-html="vm.TEXTS.title.mobile"></p> </div> </div> </div> </div> <div class="category-title d-flex flex-column justify-content-space-between mt-3" ng-if="!vm.category || vm.category === \'general\'"> <div class="row"> <div class="col-sm-9"> <ul class="list-unstyled list-inline tags-list m-0"> <li class="list-inline-item tag-item mt-2 mb-3" ng-repeat="cat in vm.categories track by $index"> <a href="#" ng-click="vm.onClickCategory($event, cat)" class="ch-btn-2021-square ch-btn-sm" ng-class="{active: cat.active}"> <span ng-bind="cat.value"></span> </a> </li> </ul> </div> <div class="col-sm-3 d-flex align-items-center justify-content-end"> <div class="dropdown"> <button class="ch-btn-2021-square terciary bordered ch-btn-sm d-flex justify-content-space-between" type="button" id="order-by-dropdown" data-bs-toggle="dropdown" aria-expanded="false" ng-click="vm.onClickSortByDropdown($event)"> <small ng-bind="vm.currentSortByLabel || (\'ch-forum-feed.order-by\' | translate)"></small> <small class="ml-3"> <i class="fa" ng-class="{\n                    \'fa-chevron-up\': vm.sortByDropdownShow,\n                    \'fa-chevron-down\': !vm.sortByDropdownShow\n                  }"></i> </small> </button> <ul class="dropdown-menu" ng-class="{\n                hide: !vm.sortByDropdownShow,\n                show: vm.sortByDropdownShow\n              }" aria-labelledby="order-by-dropdown"> <li ng-repeat="item in vm.sortBy track by $index"> <a class="dropdown-item" href="#" ng-click="vm.onClickSortByItem($event, item)"> <small ng-bind="item.label"></small> </a> </li> </ul> </div> </div> </div> <div class="row" ng-if="vm.dashBlogs.length"> <div class="col-sm-12"> <div class="ch-forum-feed-quick-access ch-w100"> <ul class="ch-forum-feeds list-unstyled m-1"> <div style="width:13em" class="bold ch-no-pointer"> <span ng-bind-html="\'ch-forum-feed.outstandingposts\' | translate"></span> </div> </ul> <ul class="list-unstyled list-inline tags-list m-0"> <li class="list-inline-item tag-item mt-2 mb-3" ng-repeat="item in vm.dashBlogs track by $index"> <a ng-prop-href="item.toState" class="ch-btn-2021-square bordered" ng-class="{active: cat.active}"> <span ng-bind="item.title"></span> </a> </li> </ul> </div> </div> </div> </div> <div class="blog-author-stats product-card-list-container" ng-if="vm.category === \'myPosts\' || vm.category === \'Guardados\'"> <div class="row product-card-list"> <div class="col-sm-4"> <div class="product-content d-flex flex-column w100 p-3"> <span class="progress-number bold mb-2" ng-bind="vm.blogs.length || 0"></span> <span class="progress-headline" ng-bind-html="\'ch-forum-feed.postsdone\' | translate"></span> </div> </div> <div class="col-sm-4"> <div class="product-content d-flex flex-column w100 p-3"> <span class="progress-number bold mb-2" ng-bind="vm.stats.totalSaves || 0"></span> <span class="progress-headline" ng-bind-html="\'ch-forum-feed.postssave\' | translate"></span> </div> </div> <div class="col-sm-4"> <div class="product-content d-flex flex-column w100 p-3"> <span class="progress-number bold mb-2" ng-bind="vm.stats.totalReactions || 0"></span> <span class="progress-headline" ng-bind-html="\'ch-forum-feed.totalreactions\' | translate"></span> </div> </div> </div> </div> <ch-forum-posts-list id="ch-forum-posts-list" from="vm.activeCategoryString" pinned-blogs="vm.pinnedBlogs" blog-posts-tmp="vm.blogs" filters="filters" category="vm.category"> </ch-forum-posts-list> <div class="ch-forum-paginator ch-w100 ch-df ch-aliic ch-jucend mb-3" ng-if="!vm.from || vm.from === \'general\'"> <div class="ch-w100 ch-df ch-aliic ch-jucb" ng-if="vm.blogs.length"> <div class="prev-blogs ch-df ch-aliic ch-jucb clickable-effects soft-fx ch-btn-2021-square" ng-class="{invisible: !vm.hasPrevPage}" ng-click="vm.onClickPrevPage($event)"> <i class="fas fa-arrow-left"></i> <small class="ch-ml-2 ch-df ch-aliic" ng-bind-html="\'ch-forum-feed.previuospost\' | translate"></small> </div> <div class="pages-count"> <small>{{vm.actualPage}}/{{vm.totalPages}}</small> </div> <div class="next-blogs ch-df ch-aliic ch-jucb clickable-effects soft-fx ch-btn-2021-square" ng-class="{invisible: !vm.hasNextPage}" ng-click="vm.onClickNextPage($event)"> <small class="ch-mr-2 ch-df ch-aliic" ng-bind-html="\'ch-forum-feed.nextpost\' | translate"></small> <i class="fas fa-arrow-right"></i> </div> </div> </div> </div> </div> <ch-modal-forum-delete-post></ch-modal-forum-delete-post> </div>'),e.put('modules/platform/forum/components/ch-forum-post-comments/ch-forum-post-comments.html','<div id="ch-forum-post-comment-component"> <div class="ch-forum-post-comment-container"> <ch-forum-post-leave-comment blog="vm.contentTmp" from="vm.from"></ch-forum-post-leave-comment> <div id="accordion"> <div ng-repeat="comment in vm.contentTmp.comments track by $index" ng-if="comment.display"> <div class="ch-df ch-alist mb-3" id="headingOne"> <img class="round-img" ng-if="comment.platformUser.profile.avatar" ng-class="{\'pro-label-2\': comment.platformUser.flags.isForumAmbassador}" ng-prop-src="comment.platformUser.profile.avatar | cloudinary:30"> <img class="round-img" ng-if="!comment.platformUser.profile.avatar" ng-class="{\'pro-label-2\': comment.platformUser.flags.isForumAmbassador}" src="https://res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png"> <div class="ch-ml-2 ch-w100"> <div class="comment-author-info text-left"> <h5 class="m-0"> <b> <span class="ch-capitalize" ng-bind="comment.platformUser.profile.first_name + \' \' + comment.platformUser.profile.last_name"></span> </b> </h5> <small class="date-published" ng-bind="comment.createdAt | date:\'dd/MM/yyyy\'"></small> </div> <p class="ch-forum-post-comment-text-container ch-mt-2" ng-bind="comment.commentContent"></p> <div class="comment-reactions ch-df ch-aliic"> <div class="likes-info d-flex justify-content-start align-items-center ch-mr-2 clickable-effects" ng-click="vm.onClickLike($event, comment)"> <a href="#" class="link-clean mr-2" ng-class="{ \'flag-liked\': comment.flags.wasLiked }"> <ch-svg-icon icon="\'heart\'" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> </a> <span class="hide-on-mobile" ng-bind="comment.likeCount + \' \' + (\'ch-forum-post.comment-likes\' | translate)"></span> <span class="hide-on-desktop" ng-bind="comment.likeCount"></span> </div> <div class="reply-comment ch-df ch-alist ch-mr-2 clickable-effects"> <a class="link-clean mr-2" data-toggle="collapse" ng-prop-href="\'#collapseExample-\' + $index" role="button" aria-expanded="false" aria-controls="collapseExample"> <i class="fas fa-reply mr-2"></i> <span class="hide-on-mobile" ng-bind="\'ch-forum-post.btn-comment\' | translate"></span> </a> </div> <div class="likes-info d-flex justify-content-start align-items-center ch-mr-2 clickable-effects" ng-if="comment.platformUser._id === vm.USER._id" ng-click="vm.onClickDelete($event, comment)"> <div class="link-clean mr-2"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </div> <span class="hide-on-mobile" ng-bind="\'ch-forum-post.btn-delete\' | translate"></span> </div> <div ng-if="comment.childComments.length" class="mb-0 clickable-effects"> <small style="box-shadow:none" ng-click="expandThread($event)" data-toggle="collapse" data-target="{{\'#collapseOne-\' + $index}}" aria-expanded="true" aria-controls="collapseOne" ng-bind="\'ch-forum-post.responses\' | translate"></small> </div> </div> </div> </div> <div ng-prop-id="\'collapseOne-\' + $index" class="collapse" aria-labelledby="headingOne" data-parent="#accordion"> <div ch-style-mq="{\'col-md\': {\'margin-left\': \'3em\'}}" ch-class-mq="{\'ch-ml-4\': \'col-md-close\'}" class="ch-df ch-mb-3" ng-repeat="childComment in comment.childComments track by $index"> <img class="round-img ch-mr-2" ng-if="childComment.platformUser.profile.avatar || childComment.platformUser.avatar" ng-class="{\'pro-label-2\': childComment.platformUser.flags.isForumAmbassador}" ng-prop-src="(childComment.platformUser.profile.avatar || childComment.platformUser.avatar) | cloudinary:30"> <img class="round-img ch-mr-2" ng-if="!childComment.platformUser.profile.avatar && !childComment.platformUser.avatar" ng-class="{\'pro-label-2\': childComment.platformUser.flags.isForumAmbassador}" src="https://res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png"> <div class="ch-w100"> <div class="child-comment-author-info text-left"> <h5 class="m-0"> <b> <span class="ch-capitalize" ng-bind="childComment.platformUser.profile.first_name + \' \' + childComment.platformUser.profile.last_name"></span> </b> </h5> <small class="date-published" ng-bind="childComment.createdAt | date:\'dd/MM/yyyy\'"></small> </div> <p class="ch-forum-post-comment-text-container ch-mt-2" ng-bind="childComment.content"></p> <div class="comment-reactions ch-df ch-aliic"> <div class="likes-info ch-df ch-alist ch-mr-2 clickable-effects" ng-click="vm.onClickChildLike($event, childComment, comment._id)"> <a href="#" class="link-clean ch-mr-1" ng-class="{ \'flag-liked\': childComment.flags.wasLiked }"> <ch-svg-icon icon="\'heart\'" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> </a> <span class="hide-on-mobile" ng-bind="childComment.likeCount + \' \' + (\'ch-forum-post.comment-likes\' | translate)"></span> <span class="hide-on-desktop" ng-bind="childComment.likeCount"></span> </div> <div ng-if="childComment.platformUser._id === vm.USER._id" class="likes-info ch-df ch-alist ch-mr-2 clickable-effects" ng-click="vm.onClickChildDelete($event, childComment, comment._id)"> <a href="#" class="link-clean ch-mr-1" ng-class="{ \'flag-liked\': vm.blogPost.flags.wasLiked }"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </a> <span class="hide-on-mobile" ng-bind="\'ch-forum-post.btn-delete\' | translate"></span> </div> </div> </div> </div> </div> <div class="collapse" ng-prop-id="\'collapseExample-\' + $index"> <div style="margin-left:5.3em"> <form class="ch-w100 mb-3" ng-submit="vm.onSubmitChildComment($event, comment)"> <div class="form-group"> <textarea ng-prop-placeholder="\'ch-forum-post.response-placeholder\' | translate" rows="1" class="form-control" style="height:58px" ng-model="vm.childComment.content" required></textarea> </div> <div class="forum-send-comment-container d-flex justify-content-end"> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind-html="\'ch-forum-post-comments.send\' | translate"></button> </div> </form> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-forum-post-leave-comment/ch-forum-post-leave-comment.html','<div id="ch-forum-post-leave-comment-component"> <div class="ch-forum-post-leave-comment-container"> <b ng-bind-html="\'ch-forum-post-leave-comment.comment\' | translate"></b> <br><br> <div class="ch-forum-post-leave-comment-form ch-df"> <img class="round-img ch-mr-1" ng-class="{\'pro-label-2\': user.flags.isForumAmbassador}" ng-prop-src="user.avatar || user.profile.avatar || \'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif\'"> <div class="ch-w100"> <div class="form-group"> <textarea placeholder="Escribe un comentario.." rows="1" class="form-control" style="height:58px" ng-model="vm.newComment.commentContent" required></textarea> </div> <div class="forum-send-comment-container ch-df ch-jucend ch-mb-3"> <a href="#" ng-click="vm.onSubmit($event)" class="ch-btn-2021-square ch-btn-sm primary" ng-bind-html="\'ch-forum-post-comments.send-submit\' | translate"></a> </div> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-forum-post/ch-forum-post.view.html','<div id="ch-forum-posts-content-component" class="section-container"> <div class="ch-fix-full ch-no-click"></div> <div class="container-fluid"> <div class="row"> <div class="col-sm-9"> <div class="row"> <div class="col-6"> <div class="d-flex justify-content-start align-items-center mb-3"> <a href="#" ng-click="vm.onClickBack($event)" class="ch-btn-2021-link ch-btn-sm"> <small><i class="fa fa-chevron-left mr-2"></i></small> <span ng-bind="\'ch-forum-post.btn-back\' | translate"></span> </a> </div> </div> <div class="col-6 text-right pr-0" ng-show="!vm.IS_MOBILE && vm.blogPost.flags.isAuthor"> <div style="display:inline-block;padding:10px 0;font-size:1.3em"> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="openEditModal()"> <i class="far fa-edit ch-btn-fa-icon"></i> <h6 class="ch-sub-m m-0" ng-bind-html="\'ch-forum-post.edit\' | translate"></h6> </a> </div> </div> </div> <div class="ch-forum-posts-content-container"> <div> <div ng-show="vm.blogPost.hero.length" class="mb-3"> <img class="ch-w100" style="border-radius:4px" ng-prop-src="vm.blogPost.hero" alt="hero image"> </div> <h1 class="section-title text-left"> <span ng-bind="vm.blogPost.title"></span> </h1> <div class="ch-forum-post-info ch-mb-4 ch-mt-3"> <div class="published-in ch-df ch-aliic"> <p class="ch-sub-m section-subtitle mb-0 mr-2" ng-if="vm.blogPost.tags.length"> <span ng-bind-html="\'ch-forum-post.published\' | translate"></span> </p> <p ng-repeat="item in vm.blogPost.tags track by $index" style="margin:0"> <span class="ch-mr-1 published-in-item" ng-bind="item.value"></span> </p> </div> <div class="post-author-info ch-df ch-aliic ch-jucb" ng-class="{\'ch-mt-4\': vm.blogPost.tags.length}"> <div class="ch-df ch-aliic" ch-class-mq="{\'ch-w50\': \'col-md\'}"> <img ng-click="vm.goToProfile($event)" class="round-img ch-pointer" ng-if="vm.blogPost.platformUser" ng-class="{\'pro-label-2\': vm.blogPost.platformUser.flags.isForumAmbassador}" style="--size:5em;object-fit:cover" ng-prop-src="(vm.blogPost.platformUser.avatar || vm.blogPost.platformUser.profile.avatar || \'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif\') | cloudinary:80"> <img class="round-img ch-w100 ch-no-pointer" ng-if="!vm.blogPost.platformUser && vm.blogPost.user.avatar" style="background-color:transparent;object-fit:cover;--size:5em" ng-prop-src="(vm.blogPost.user.avatar || \'https://res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png\') | cloudinary:80"> <div class="text-left ch-ml-2"> <h5 class="m-0 ch-pointer" ng-click="vm.goToProfile($event)"> <span class="ch-capitalize" ng-if="vm.blogPost.platformUser" ng-bind="vm.blogPost.platformUser.fullName || (vm.blogPost.platformUser.first_name + \' \' + vm.blogPost.platformUser.last_name)"></span> <span class="ch-capitalize" ng-if="!vm.blogPost.platformUser && vm.blogPost.user.name" ng-bind="vm.blogPost.user.name"></span> </h5> <p class="ch-mt-1" style="font-size:.7em"> <span ng-bind="vm.blogPost.user.jobName"></span> </p> <small ng-bind="vm.blogPost.createdAt"></small> </div> </div> <div class="bookmark-post" style="font-size:1.25em"> <i class="fa-bookmark bookmark-hover-fx clickable-effects" ng-class="{\n                      \'far\' : !vm.blogPost.flags.wasSaved,\n                      \'fas\' : vm.blogPost.flags.wasSaved\n                    }" ng-click="onClickSave($event)"></i> </div> </div> </div> <div class="ch-forum-post-body ch-mb-4" ng-bind-html="vm.blogPost.contentHTML"></div> </div> <div class="ch-forum-post-attachments" ng-if="vm.blogPost.attachments.length"> <hr> <br> <h5 class="m-0 ch-sub-m ch-df ch-aliic ch-just"> <span> <b ng-bind-html="\'ch-forum-post.attachments\' | translate"></b> </span> </h5> <ul class="list-unstyled list-inline ch-mt-2 ch-df ch-aliic ch-jucst"> <li class="list-inline-item" ng-if="file.name || file.fileName" ng-repeat="file in vm.blogPost.attachments track by $index"> <a ng-prop-href="file.url" target="_blank" rel="nofollow" download> <label class="ch-btn-2021-square ch-btn-sm" ng-bind="file.name || file.fileName"></label> </a> </li> </ul> <hr> <br> </div> <div class="reactions-container ch-df ch-jucb ch-mb-4" ch-class-mq="{\'ch-aliic\': \'col-md\', \'ch-aliend\': \'col-md-close\'}" style="font-size:.7em"> <div class="reaction-info ch-df ch-juce ch-alist ch-fldc"> <div class="likes-info ch-df ch-alist ch-pointer ch-mr-2" style="font-size:1.5em"> <div class="emojis-container d-flex justify-content-start align-items-start"> <ch-forum-emoji-picker ng-if="vm.showEmojiComponent" class="ch-h100 ch-mb-1" on-set="vm.onClickEmojiPicker(emoji)"> </ch-forum-emoji-picker> <div class="emoji-element clickable-effects ch-mb-1" ng-click="vm.onClickEmoji($event, item.emoji)" ng-repeat="item in vm.emojis track by $index" ng-if="item.count" ng-class="{clicked: item.wasClickedByUser}"> <div> <span ng-bind="item.emoji"></span> <span class="ml-1" ng-bind="item.count"></span> </div> </div> </div> </div> <div class="ch-df ch-aliic"> <div class="comments-info ch-df ch-alist ch-mr-2" style="font-size:1.5em;min-width:12%"> <div class="d-flex align-items-center"> <ch-svg-icon icon="\'chat\'" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> <small class="ml-2 mt-1" ng-bind="vm.blogPost.comments.length + \' Comentarios\'"></small> </div> </div> <div class="eye-effect ch-df ch-alist ch-mr-2" style="font-size:1.5em"> <div class="d-flex"> <ch-svg-icon icon="\'eye-1\'" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> <span class="ml-2" ng-bind="vm.blogPost.visits.length"></span> </div> </div> </div> </div> <div class="bookmark-post ch-df" ch-class-mq="{\'ch-aliend\': \'col-md-close\', \'ch-aliic\': \'col-md\'}" style="right:.7em;font-size:1.5em"> <div class="report-blog-post-container" ch-class-mq="{\'ch-df ch-aliend\': \'col-md-close\'}" ng-click="vm.reportBlogPost($event)"> <i class="far fa-flag ch-mr-1 flag-hover-fx clickable-effects" style="margin-top:.3em"></i> </div> <i class="fa-bookmark bookmark-hover-fx clickable-effects" ng-class="{\n                  \'far\' : !vm.blogPost.flags.wasSaved,\n                  \'fas\' : vm.blogPost.flags.wasSaved\n                }" ng-click="onClickSave($event)"></i> </div> </div> <ch-forum-post-comments ng-if="!vm.blogPost.flags.blockComments" from="vm.from" content-tmp="vm.blogPost"> </ch-forum-post-comments> </div> </div> <div class="col-sm-3" ng-if="vm.relatedPosts.length"> <div class="col-sm-12 text-left p-0 mt-3"> <b ng-bind-html="\'ch-forum-post.relatedposts\' | translate"></b> </div> <div class="section-card ch-pointer" ng-repeat="item in vm.relatedPosts track by $index"> <div class="ch-card-container text-left related-posts-container"> <div class="row"> <div class="col-sm-12"> <ul class="list-unstyled m-0"> <li> <div ui-sref="ch-forum-post({slug: item.slug, feed: item.feed})"> <b><span class="ch-mb-1" ng-bind="item.title"></span></b> <div class="related-posts-info ch-df ch-aliic ch-mt-2"> <ul class="list-unstyled d-flex justify-content-start align-items-center"> <li class="card-likes list-inline-item d-flex align-items-center"> <i class="far fa-laugh mr-2"></i> <span ng-bind="item.emojiCount"></span> </li> <li class="card-comments list-inline-item d-flex align-items-center"> <ch-svg-icon icon="\'chat\'" color="\'var(--absolute-color-inverted)\'" style="--icon-width:24px;--icon-height:24px" class="mr-2"></ch-svg-icon>&nbsp; <span ng-bind="item.comments.length"></span> </li> </ul> </div>  </div></li> </ul> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-forum-posts-list-card/ch-forum-posts-list-card.view.html','<div id="ch-forum-posts-list-card-container"> <div class="ch-forum-posts-list-card-content soft-fx no-hover-fx p-3"> <a class="row d-none" ng-prop-href="vm.blogPostTmp.toState"> <div class="ch-forum-posts-list-card-cover-image" ng-style="{\n        \'background-image\': \'url(\' + vm.blogPostTmp.hero + \')\'\n      }"> </div> </a> <div> <div class="ch-df ch-aliic ch-jucb" ng-click="vm.goToPost($event)"> <div class="ch-df ch-alicc ch-jucb"> <a class="ch-df ch-aliic ch-jucb ch-w100" ng-prop-href="vm.blogPostTmp.toState"> <h4 class="post-title" ng-bind="vm.blogPostTmp.title"></h4> </a> <span class="ch-df ch-aliic ch-ml-3 ch-no-pointer" ng-if="vm.blogPostTmp.flags.isDraft" style="color:var(--ch-red-coder)" ng-bind-html="\'ch-forum-posts-list-card.draft\' | translate"></span> </div> <i class="fas fa-thumbtack" ng-show="vm.blogPostTmp.flags.isPinned" ng-class="{pinned: isPinned || vm.blogPostTmp.flags.isPinned}"></i> <div class="ch-df ch-jucend ch-aliic" style="font-size:.8em" ng-if="vm.category === \'myPosts\'"> <div class="edit-my-post ch-mr-4" ng-click="openEditModal($event)"> <i class="far fa-edit"></i> </div> <div class="delete-my-post" ng-click="deletePost($event)"> <i class="far fa-trash-alt"></i> </div> </div> </div> <div class="ch-mt-1 p-0" ng-click="vm.goToPost($event)"> <div class="card-avatar-box ch-df ch-jucc ch-alist p-0" ch-class-mq="{\'ch-df ch-fldc\': \'col-md-close\'}"> <div class="card-author-info d-flex justify-content-start align-items-center"> <div ng-click="vm.goToProfile($event)"> <img class="forum-card-image round-img ch-w100 ch-z1 ch-mr-2" ng-if="vm.blogPostTmp.platformUser" style="object-fit:cover;--size:18px" ng-class="{\'pro-label-2\': vm.blogPostTmp.platformUser.flags.isForumAmbassador}" ng-prop-src="(vm.blogPostTmp.platformUser.profile.avatar || \'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif\') | cloudinary:80"> <img class="forum-card-image round-img ch-w100 ch-no-pointer ch-mr-2" style="object-fit:cover;--size:18px" ng-if="!vm.blogPostTmp.platformUser && vm.blogPostTmp.user.avatar" ng-prop-src="(vm.blogPostTmp.user.avatar || \'https://res.cloudinary.com/hdsqazxtw/image/upload/v1558443433/logos_coderhouse_Mesa_de_trabajo_1_copia_2_tbzbvq.png\') | cloudinary:80"> </div> <div class="card-author ch-df ch-h100"> <div class="card-author-container ch-df ch-fldc ch-jucc flex-row ch-w100"> <div class="author-name-container ch-df flex-row ch-no-pointer justify-content-space-between align-items-end" style="" ch-class-mq="{\'ch-jucc\': \'col-md-close\'}"> <div class="ch-pointer mr-2" ng-click="vm.goToProfile($event)"> <span class="author-name ch-pointer ch-capitalize" ng-if="vm.blogPostTmp.platformUser.fullName" ng-bind="vm.blogPostTmp.platformUser.fullName"> </span> <span class="no-hover-fx ch-no-pointer" ng-if="!vm.blogPostTmp.platformUser.fullName && vm.blogPostTmp.user.name" ng-bind="vm.blogPostTmp.user.name || \'Coderhouse\'"></span> </div> <div> <span class="date-published ch-no-pointer" style="font-size:.7em" ng-bind="vm.blogPostTmp.createdAt"></span> </div> </div> </div> <div class="card-author-stage d-none"> <span class="badge badge-pill" ng-class="{\'badge-light\': !vm.isDarkMode, \'badge-dark\': vm.isDarkMode}" ng-bind="vm.blogPostTmp.stage.name"></span> </div> </div> </div> </div> </div> <div class="col-sm-12 p-0 mt-3"> <div class="forum-card-footer d-flex justify-content-space-between align-items-start"> <div class="likes-comments ch-df ch-jucst w-100"> <ul class="list-unstyled ch-w100 m-0" ng-class="{\'ch-df\': vm.emojis.length < 10}" ch-class-mq="{\'ch-alist ch-fldc\': \'col-md-close\', \'ch-aliic\': \'col-md\'}"> <li class="card-comments ch-df ch-aliic ch-no-pointer"> <div> <ch-forum-emoji-picker on-set="vm.onClickEmojiPicker(emoji)"></ch-forum-emoji-picker> </div> <div class="emoji-element" ng-repeat="item in vm.emojis | limitTo:10 track by $index" ng-click="vm.onClickEmoji($event, item.emoji)" ng-if="item.count" ng-class="{clicked: item.wasClickedByUser}"> <div> <span ng-bind="item.emoji"></span> <span class="ml-1" ng-bind="item.count"></span> </div> </div> <div class="emoji-element"> <div class="d-flex align-items-center"> <span style="margin-top:-7px"> <ch-svg-icon icon="\'chat\'" style="--icon-width:18px;--icon-height:18px" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> </span> <span class="ml-2" ng-bind="vm.blogPostTmp.comments.length"></span> </div> </div> <div class="emoji-element ml-2"> <div class="d-flex align-items-center"> <span style="margin-top:-7px"> <ch-svg-icon icon="\'eye-1\'" style="--icon-width:18px;--icon-height:18px" color="\'var(--absolute-color-inverted)\'"></ch-svg-icon> </span> <span class="ml-2" ng-bind="vm.blogPostTmp.visits.length"></span> </div> </div> </li> </ul> </div> <div class="ch-df ch-aliic ch-jucend" ng-click="vm.goToPost($event)"> <div class="card-likes d-flex justify-content-space-between align-items-center" ng-if="vm.from !== \'myPosts\'" ch-style-mq="{\'col-md\': {\'min-width\': \'9em;\'}}"> <ch-svg-icon icon="\'flag\'" style="--icon-width:18px;--icon-height:18px" color="\'var(--absolute-color-inverted)\'" ng-click="openReportModal($event)"></ch-svg-icon> <ch-svg-icon ng-show="vm.blogPostTmp.flags.wasSaved" icon="\'bookmark-solid\'" class="ml-2" style="--icon-width:18px;--icon-height:18px" color="\'var(--absolute-color-inverted)\'" ng-click="vm.onClickSave($event)"></ch-svg-icon> <ch-svg-icon ng-show="!vm.blogPostTmp.flags.wasSaved" icon="\'bookmark-1\'" class="ml-2" style="--icon-width:18px;--icon-height:18px" color="\'var(--absolute-color-inverted)\'" ng-click="vm.onClickSave($event)"></ch-svg-icon> </div> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-forum-posts-list/ch-forum-posts-list.view.html','<div class="ch-df ch-fldc"> <div class="ch-forum-posts-list-container mb-5"> <ch-forum-posts-list-card ng-if="item.display" from="vm.from" ng-repeat="item in vm.pinnedBlogs track by $index" blog-post-tmp="item"> </ch-forum-posts-list-card> <ch-forum-posts-list-card ng-show="item.display" from="vm.from" category="vm.category" ng-repeat="item in vm.blogPostsTmp track by $index" blog-post-tmp="item"> </ch-forum-posts-list-card> <div class="pt-4" ng-if="!vm.blogPostsTmp.length"> <div class="d-flex justify-content-between align-items-center" ng-if="!vm.pinnedBlogs.length && vm.category === \'general\'"> <h5 style="text-align:center;margin:3em auto" class="ch-forum-posts-list-not" ng-bind-html="\'ch-forum-posts-list.first-post\' | translate"> </h5> <a href="#" class="ch-btn-2021-square primary" ng-click="vm.showModal()" ng-bind-html="\'ch-forum-posts-list.public-post\' | translate"></a> </div> <div ng-if="!vm.pinnedBlogs.length && vm.category === \'Guardados\'"> <p ng-bind-html="\'ch-forum-posts-list.no-saved-posts\' | translate"></p> </div> <div class="d-flex justify-content-between align-items-center" ng-if="vm.category === \'myPosts\'"> <p ng-bind-html="\'ch-forum-posts-list.public-first-post\' | translate"> </p> <a href="#" class="ch-btn-2021-square primary" ng-click="vm.showModal()" ng-bind-html="\'ch-forum-posts-list.public-post\' | translate"></a> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-forum-profile/ch-forum-profile.view.html','<div id="ch-forum-profile-component"> <ch-btn-arrow direction="\'left\'" label="\'Volver\'" ng-click="goBack()"></ch-btn-arrow> <div class="ch-forum-profile-container"> <div class="ch-forum-profile-header"> <div class="ch-forum-profile-image-container"> <img class="ch-forum-profile-image" ng-prop-src="vm.blogs[0].platformUser.profile.avatar || \'https://thesocietypages.org/socimages/files/2009/05/nopic_192.gif\'"> </div> <div class="ch-forum-profile-info"> <h1 ng-bind="vm.user.fullName"></h1> </div> </div> <div class="ch-forum-profile-body"> <div class="ch-forum-profile-contact-container"> <h5 ng-bind-html="\'ch-forum-profile.contact\' | translate"></h5> <div ng-if="vm.user.profile.linkedin" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.linkedin" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.linkedin"> </span> </div> </a> <br> </div> <div ng-if="vm.user.profile.behance" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.behance" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.behance"> </span> </div> </a> <br> </div> <div ng-if="vm.user.profile.github" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.github" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.github"> </span> </div> </a> <br> </div> <div ng-if="vm.user.email" class="ch-forum-contact-link-text"> <a ng-prop-href="\'mailto:\' + vm.user.email" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons[\'mail-envelope\']"> </span> </div> </a> <br> </div> <div ng-if="vm.user.profile.instagram" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.instagram" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons[\'instagram-filled\']"> </span> </div> </a> <br> </div> <div ng-if="vm.user.profile.twitter" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.twitter" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.twitter"> </span> </div> </a> <br> </div> <div ng-if="vm.user.profile.facebook" class="ch-forum-contact-link-text"> <a ng-prop-href="vm.user.profile.facebook" target="_blank"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.facebook"> </span> </div> </a> <br> </div> </div> <div class="ch-forum-profile-my-posts-container"> <h5 class="ch-forum-profile-my-posts" ng-if="vm.blogs.length" ng-bind-html="\'ch-forum-profile.posts\' | translate"></h5> <div ng-if="vm.blogs.length" class="ch-forum-profile-posts-container"> <ch-forum-posts-list blog-posts-tmp="vm.blogs"></ch-forum-posts-list> </div> <div ng-if="!vm.blogs.length" class="ch-forum-profile-posts-container-not"> <h5 ng-bind-html="\'ch-forum-profile.no-posts\' | translate"></h5> </div> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-modal-forum-delete-post/ch-modal-forum-delete-post.view.html','<div class="modal fade" id="ch-modal-forum-delete-post-component" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-forum-delete-post.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> {{\'ch-modal-forum-delete-post.text\' | translate}} "<b ng-bind="vm.blogToDelete.title"></b>" </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-forum-delete-post.btn-cancel\' | translate"></button> <button class="ch-btn-2021-square primary ch-btn-sm" ng-click="vm.onClickConfirmDelete($event)" ng-bind="\'ch-modal-forum-delete-post.btn-submit\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/forum/components/ch-modal-forum-post/ch-modal-forum-post.html','<div class="modal fade" id="ch-modal-forum-post-component" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div ng-if="vm.showDisclamer"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-forum-post.disclaimer.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body p-4" ng-bind-html="\'ch-modal-forum-post.disclaimer.text\' | translate"> </div> <div class="modal-footer"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-forum-post.disclaimer.btn-cancel\' | translate"></a> <a href="#" class="ch-btn-2021-square ch-btn-sm primary" ng-click="disclamer($event)" ng-bind="\'ch-modal-forum-post.disclaimer.btn-submit\' | translate"></a> </div> </div> <div ng-show="!vm.showDisclamer"> <div class="modal-header"> <h5 class="modal-title" ng-bind="(vm.blogTmp._id ? \'ch-modal-forum-post.btn-edit\' : \'ch-modal-forum-post.btn-new\') | translate"> </h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="ch-modal-forum-post-container"> <div class="row"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12" ng-show="vm.blogTmp.hero.length"> <div class="hero-container" ng-style="{\n                      \'background-image\':\'url(\'+vm.blogTmp.hero+\')\'\n                    }"> <label class="ch-btn ch-btn-submit ch-btn-sm ch-btn-icon" ng-click="vm.onClickRemoveCover($event)"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </label> </div> </div> <div class="col-sm-12" ng-show="!vm.blogTmp.hero.length"> <div class="form-group"> <a href="#" class="ch-btn-2021-square secondary" ng-click="vm.onClickUploadHero($event)" ng-bind="\'ch-modal-forum-post.btn-upload-hero\' | translate"></a> <input ng-hide="true" id="input-hero" type="file" ngf-select="" ngf-accept="\'image/*\'" ngf-pattern="\'.png,.jpeg,.jpg\'" ngf-max-total-size="2MB" ng-model="vm.fileTmp" ng-change="vm.onChangeHeroFile($event)"> </div> </div> <div class="col-sm-12 ch-mt-2"> <div class="form-group"> <label ng-bind="\'ch-modal-forum-post.title\' | translate"></label> <input class="form-control ch-input-full" minlength="10" style="color:var(--text-color)" ng-model="vm.blogTmp.title" required> </div> </div> <div class="col-sm-12"> <div class="form-group"> <div class="ch-mb-2"> <label ng-bind="\'ch-modal-forum-post.content\' | translate"></label> <br> <small class="ch-mb-2" ng-bind="\'ch-modal-forum-post.content.label\' | translate"></small> </div> <div class="input-post-content" id="input-post-content"></div> </div> </div> <div class="col-sm-7" ng-if="!vm.params.feed"> <div class="form-group" ng-if="vm.blogTmp.course"> <label ng-bind="\'ch-modal-forum-post.related-content\' | translate"></label> <select style="text-transform:capitalize" ng-model="vm.blogTmp.stage" class="form-control ch-input-full"> <option value="" ng-bind="\'ch-modal-forum-post.related-content.placeholder\' | translate"> </option> <option ng-repeat="stage in vm.stages track by $index" ng-value="stage.stageId" ng-bind="stage.name"> </option> </select> </div> <div ng-show="vm.blogTmp.course" ng-if="false" class="form-group"> <div id="ch-modal-forum-post-checkbox"> <label class="container"> <input type="checkbox" ng-model="vm.blogTmp.flags.isFeed"> <span class="checkmark"></span> </label> <label style="margin-left:25px" ng-bind="\'ch-modal-forum-post.visible-on-forum\' |\n                          translate"></label> </div> </div> </div> <div class="col-sm-12" ng-show="vm.blogTmp.flags.isFeed || !vm.blogTmp.course"> <div class="ch-mb-2"> <label class="m-0" ng-bind="\'ch-modal-forum-post.channels\' |\n                      translate"></label> <br> <small ng-bind="\'ch-modal-forum-post.channels.label\' |\n                      translate"></small> </div> <ul class="list-unstyled list-inline ch-df ch-flww ch-aliic ch-jucb ch-mt-3"> <li ch-style-mq="{\'col-md-close\': {\'flex-basis\': \'48%\'}}" ng-if="item.key !== \'newArrivals\'" ng-repeat="item in vm.categories track by $index"> <label class="text-capitalize"> <input type="radio" name="categories" ng-value="item.key" ng-model="vm.blogTmp.category" required> <span ng-bind="item.value"></span> </label> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="modal-footer" style="justify-content:space-between"> <div> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-if="vm.blogTmp._id" ng-click="vm.onClickDelete($event)"> <span class="hide-on-mobile" ng-bind="\'ch-modal-forum-post.btn-cancel\' |\n              translate"></span> <i class="far fa-trash-alt hide-on-desktop" ng-if="vm.blogTmp._id" ng-click="vm.onClickDelete($event)"></i> </a> </div> <div class="ch-df ch-jucb ch-aliic"> <a href="#" class="ch-btn-2021-square secondary mr-2 ch-btn-sm" ch-class-mq="{\'ch-mr-2\': \'col-md-close\'}" ng-click="vm.saveDraft($event, true)" ng-bind="(vm.blogTmp._id ? \'ch-modal-forum-post.btn-unpublish\' : \'ch-modal-forum-post.btn-draf\') | translate"></a> <button type="submit" class="ch-btn-2021-square primary ch-btn-sm" ng-bind="(vm.blogTmp._id && !vm.blogTmp.flags.isDraft ? \'ch-modal-forum-post.btn-update\' : \'ch-modal-forum-post.btn-submit\') | translate"></button> </div> </div> </div> </form> </div> </div>'),e.put('modules/platform/forum/components/emoji-picker/ch-forum-emoji-picker.view.html','<div class="ch-forum-emoji-picker-component"> <div class="ch-df ch-jucc ch-aliic clickable-effects emoji-element" ng-click="togglePicker($event)"> <ch-svg-icon icon="\'smiley\'" style="--icon-width:18px;--icon-height:18px" ng-click="vm.onClickSave($event)"> </ch-svg-icon> <span class="ch-rel" style="bottom:4px;left:2px">+</span> </div> <div class="emoji-picker-wrapper ch-abs" style="margin-top:.6em" ch-style-mq="{\'col-md\': {\'margin-left\': \'-0.5em\'}, \'col-md-close\': {\'margin-left\': \'0.7em\'}}" ng-show="showPicker"> <ch-popup-container position="\'center\'" translation="\'bottom\'" show="showPicker" on-click-outside="vm.closeEmojiPicker"> <emoji-picker style="border-radius:4px;border:1px solid var(--text-color-6);overflow:hidden" ng-class="{dark: IS_DARK, light: !IS_DARK}"></emoji-picker> </ch-popup-container> </div> </div>'),e.put('modules/platform/jobs/jobs-2021.view.html','<div id="jobs-2021-container" ng-cloak> <ch-loader></ch-loader> <iframe id="iframe-jobs" ng-prop-src="vm.JOBS_ENV_PATH" class="iframe-full iframe-platform-2021 lozad-jobs"></iframe> </div>'),e.put('modules/platform/onboarding-2021/onboarding-2021.view.html','<div id="onboarding-container" ng-cloak> <iframe id="onboarding-2021" ng-prop-src="vm.ONBOARDING_2021" class="iframe-full iframe-platform-2021"></iframe> </div>'),e.put('modules/platform/onboarding/onboarding.view.html','<div class="onboarding-container {{\'current-step-\' + vm.currentStep.key}}"> <div class="row global-hide mx-0" ng-class="{hide: vm.showFinalStep}"> <div class="col-md-12 fade-me-in step-slides-container"> <onboarding-2021></onboarding-2021> </div> </div> <div class="container-fluid final-step-container global-hide natural hide" ng-class="{hide: !vm.showFinalStep || vm.forceHideFinalStep, animate: vm.showFinalStepAnimation}"> <div class="background-circle"></div> <form ng-submit="vm.onClickNext($event)" id="final" class="ch-z1"> <div class="logo mb-5"> <ch-logo color="\'var(--text-color-dark)\'"></ch-logo> </div> <div class="mt-5"> <h3 class="emojis"> <span class="dot-animation" ng-repeat="emoji in vm.personalGoals[vm.userTmp.personalGoal].onboardingPostEmojis track by $index" ng-bind="emoji"></span> </h3> <br> <h3 ng-bind="vm.personalGoals[vm.userTmp.personalGoal].onboardingPostMessage"></h3> </div> </form> </div> </div>'),e.put('modules/platform/peer-review/peer-review.view.html','<div id="review-container" ng-cloak> <iframe id="iframe-review" ng-prop-src="vm.PEER_REVIEW" class="iframe-full iframe-platform-2021"></iframe> </div>'),e.put('modules/platform/perks/ch-modal-perk/ch-modal-perk.view.html','<div class="modal fade" id="ch-modal-perk" tabindex="-1" role="dialog" aria-labelledby="benefitsModal"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'perks.modal.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="title mb-2"> <b class="ch-dib" ng-bind="vm.perk.title"></b> </div> <div class="description mb-2"> <span class="ch-dib" ng-bind="vm.perk.description"></span> </div> <div class="bottom-content text"> <span class="ch-dib details"> <span> <div class="title" ng-bind="\'perks.modal.details\' | translate"></div> <span ng-bind="vm.perk.details"></span> </span> </span> <span class="ch-dib ch-mt-2 instructions"> <div class="title" ng-bind="\'perks.modal.instructions\' | translate"></div> <span class="ch-dib" ng-bind-html="vm.perk.instructions"></span> </span> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm bordered" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'perks.modal.btn-close\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/perks/perks.view.html','<div id="perks-container" class="perks-container section-container container-fluid"> <ch-loader active="loading"></ch-loader> <div class="row pt-3"> <div class="col-sm-6"> <b ng-if="!vm.isIframe" class="section-title"> {{\'perks.title\' | translate}} <small class="info-tooltip ch-all-click ch-point5-em" data-toggle="tooltip" data-html="true" data-original-title="{{vm.tooltipTitle}}"> <i class="fas fa-info-circle"></i> </small> </b> <p class="subtitle"> {{\'perks.subtitle\' | translate}} <a ng-prop-href="\'perks.subtitle.form-link\' | translate" target="_blank" class="ch-btn-2021-link" ng-bind="\'perks.subtitle.link\' | translate"></a>. <small ng-if="vm.isIframe" class="info-tooltip ch-all-click ch-point5-em" data-toggle="tooltip" data-html="true" data-original-title="{{vm.tooltipTitle}}"> <i class="fas fa-info-circle"></i> </small> </p> </div> <div class="col-sm-6 text-right d-flex align-items-center justify-content-end mb-3"> <div class="btn-group" ng-class="{\n        \'w-100\': vm.IS_MOBILE\n      }"> <select class="form-control" ng-model="vm.filters.country" ng-if="vm.filters.countries.length" ng-change="vm.onChangeFilter($event)"> <option value="" ng-bind="\'perks.countries-dropdown.placeholder\' | translate"></option> <option ng-repeat="item in vm.filters.countries track by $index" ng-value="item.key" ng-bind="item.alias"> </option> </select> </div> </div> <div class="col-sm-12 mb-2 mt-2" ng-if="vm.filters.types.length"> <ul class="list-unstyled list-inline tags-list mb-4" ng-class="{\n        \'justify-content-between\': vm.IS_MOBILE\n      }"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.filters.types track by $index"> <a href="#" ng-click="vm.onClickFilterByTag($event, tag)" class="ch-btn-2021-square chip ch-btn-sm" ng-class="{active: tag.active}"> <i class="mr-2" ng-class="{\n              \'fas fa-check-circle\': tag.active,\n              \'far fa-circle\': !tag.active,\n            }"></i> <span ng-bind="tag.alias"></span> </a> </li> </ul> </div> </div> <div class="row"> <div class="col-12 product-card-list-container"> <div class="row product-card-list"> <div class="product-card col-xl-3 col-lg-4 col-md-6 col-sm-3" ng-repeat="perk in vm.perks._items track by $index"> <div class="product-content w-100" ng-prop-id="perk.id" ng-click="vm.onClickPerk($event, perk)"> <div> <ul class="list-unstyled list-inline tags-list mb-3" ng-if="perk.tags.length"> <li class="list-inline-item tag pt-1 pb-1 pr-2 pl-2 mr-1" ng-repeat="tag in perk.tags track by $index"> <span class="text" ng-bind="tag.value"></span> </li> </ul> <div class="product-title mb-1"> <span ng-bind="perk.title"></span> </div> <div class="emoji mt-3"> <img ng-if="perk.logo.length" ng-prop-src="perk.logo" ng-prop-alt="perk.title"> <span ng-if="perk.emojiIcon && !perk.logo.length" ng-bind="perk.emojiIcon"></span> </div> </div> <div class="d-flex justify-content-center align-items-center w-100 mt-3"> <a href="#" class="ch-btn-2021-square secondary w-100" ng-click="vm.onClickPerk($event, perk)" ng-bind="\'perks.cta\' | translate"></a> </div> </div> </div> </div> </div> </div> <ch-modal-perk></ch-modal-perk> </div>'),e.put('modules/platform/personal-goal/personal-goal-content.view.html','<div class="personal-goal-v2-container"> <div class="container-fluid ch-container"> <div class="row"> <div class="col-lg-12"> <div class="row"> <div class="col-lg-12"> <ul class="ch-breadcrumb" style="padding-bottom:20px"> <li><a href="#" ng-click="vm.goToDashboard()" ng-bind="\'personal-goal.dashboard\' | translate"></a></li> <li class="pr-1"><a href="#" ng-click="vm.goTo()" ng-bind="vm.userTmp.personalGoal.label | capitalize"></a></li> <li class="pr-1"><a href="#" ng-bind="\'personal-goal.program\' | translate"></a></li> </ul> <div class="ch-df pb-4 pt-2"> <div class="go-back-- arrow-left dyn-link ch-pb-1" ng-click="vm.goTo()"> <div class="ch-ml-1" ng-bind="\'personal-goal.back-program\' | translate"></div> </div> </div> </div> </div> </div> <div class="col-lg-12"> <div class="row"> <div class="col-lg-12 d-flex title ch-mb-2"> <h5 ng-bind="vm.stageTmp.name"></h5> </div> <div class="col-lg-9"> <div ng-if="vm.moduleTmp.slideUrl || vm.moduleTmp.videoUrl" class="bg-loading" style="padding-bottom:0"> <iframe class="video-firame" width="100%" ng-prop-src="vm.moduleTmp.slideUrl || vm.moduleTmp.videoUrl" frameborder="0" allowfullscreen></iframe> </div> <div ng-if="vm.moduleTmp.text" class="bg-loading" style="padding-bottom:0"> <textarea width="100%" rows="12" id="simplemde" style="min-height:100%;padding:0"></textarea> </div> </div> <div class="col-lg-3 actions-container" ng-if="vm.scheduleTmp.flags.isServiceDeliverEnable"> <div class="banner-container" style="padding:0;background:0 0" ng-if="vm.moduleTmp.project.status.approved"> <div class="banner"> <div> <br> <h4 ng-bind="vm.TEXTS.approvedText"></h4> </div> </div> </div> </div> <div class="col-lg-3" ng-if="!vm.scheduleTmp.flags.isServiceDeliverEnable"> <div> <div class="banner-container" style="padding:0;background:0 0"> <div class="banner p-3 d-flex flex-column"> <div class="pt-2 d-flex align-items-center justify-content-center"> <div class="avatar" style="background-image:url(/modules/core/img/Cami.jpeg)"></div> <div class="avatar" style="background-image:url(/modules/core/img/Palo.jpeg)"></div> </div> <div class="text-center"> <br> <h4 class="title">Obtené una mentoría personalizada de {{vm.scheduleTmp.service.title}}</h4> <br> </div> <div class="text-center"> <p ng-bind-html="vm.scheduleTmp.service.description"></p> <br> <p class="title"> {{vm.scheduleTmp.service.pricing.fullFinalPrice | currency:vm.scheduleTmp.service.pricing.currency.symbol:false}} {{vm.scheduleTmp.service.pricing.currency.iso_code}}</p> </div> <div class="pt-3"> <button class="btn-outline btn-semiround solid-bg btn-bordered btn-compact ch-w100" ng-click="vm.onClickAddToCart($event)"> <span ng-bind="\'personal-goal.experience\' | translate"></span> <ch-svg-icon icon="\'shopping-cart\'" classes="ch-ml-2"></ch-svg-icon> </button> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> '),e.put('modules/platform/personal-goal/personal-goal-v3.view.html','<div class="personal-goal-v3-container"> <div class="container-fluid ch-container"> <div class="body-color-bg ch-rel bg-trans"> </div> <div class="row align-items-center justify-content-center" style="min-height:var(--max-height);padding:0 15px" ng-if="showGoalSelector"> <div class="goal-cards-container content-card"> <div class="content p-4 text-center"> <h4 ng-bind="\'personal-goal-v3.goal\' | translate"></h4> <p ng-bind="\'personal-goal-v3.get-goal\' | translate"></p> <div class="container-fluid"> <form ng-submit="onClickSubmit($event)" id="objective"> <div class="card-row"> <div class="column mt-3" ng-repeat="goal in personalGoals track by $index" ng-if="goal.isUnsetGoal"> <div class="card" ng-click="user.personalGoal = goal.key" ng-class="{active: (user.personalGoal == goal.key)}"> <img class="card-img-top" ng-prop-src="goal.coverPhoto"> <div class="card-body d-flex align-items-center"> <h4 class="card-title" ng-bind="goal.intentMessage"></h4> </div> </div> </div> </div> <div class="mt-5 float-right pb-3"> <button type="submit" class="btn-outline btn-semiround arrow-right slide"> <span class="correct-helv" ng-bind="\'personal-goal-v3.join\' | translate"> </span> </button> </div> </form> </div> </div> </div> </div> <div class="main-content ch-container" ng-if="!showGoalSelector"> <div class="content-card tracks" ng-if="user.personalGoal !== \'other\'"> <h4 ng-bind="TEXTS.title"></h4> <p ng-bind="TEXTS.bannerTitle"></p> </div> <div class="content-card tracks-content"> <div class="title"> <h4 ng-bind="\'personal-goal-v3.programm\' | translate"></h4> <span class="correct-helv" ng-bind="\'personal-goal-v3.order\' | translate"></span> </div> <div class="hide-on-col-md title"> <span ng-bind="\'personal-goal-v3.programm-content\' | translate"> </span> </div> <ul class="list-unstyled ch-m-0 services ch-pb-4"> <li class="item row no-gutters clickable-effects manual-active-state no-hover-fx" ng-prop-id="$index" ng-repeat-start="sche in courseTmp.camada.schedules track by $index" ng-class="{active: sche.isBeingClicked, \'is-shown\': showingContentFrom && showingContentFrom === sche}" style="--active-scale-factor:.99"> <div class="col-md-5 service-name"> <ch-svg-icon tight="true" icon="iconMap[sche.stage._id] || \'zap\'" size="\'1em\'"></ch-svg-icon> <span class="ch-ml-2 correct-helv" ng-bind="sche.stage.name"></span> </div> <div class="col-md-3 see-content hide-on-col-sm-close pl-2"> <span class="pr-3 correct-helv" ng-bind="\'personal-goal-v3.content\' | translate"></span> <i class="fa fa-chevron-down content-opener-icon" style="font-size:.95em"></i> </div> <div class="col-md-4 actions-buttons-container ch-global-center"> <div class="action-buttons" ng-if="!sche.flags.isServiceDeliverEnable && sche.flags.isServiceCanBePurchased"> <button class="btn-outline btn-semiround" ng-click="serviceInfo($event,sche)"> <div class="ch-df ch-aliic"> <span class="ch-mr-2" ng-bind="\'personal-goal-v3.advisory\' | translate"></span> <ch-svg-icon icon="\'communications\'" size="\'1em\'"></ch-svg-icon> </div> </button> </div> <div ng-if="sche.stage.module.project._id && !sche.stage.module.project.flags.isMock" ng-click="onClickDeliver($event, sche)" class="action-buttons info-tooltip" data-toggle="tooltip" ng-prop-title="sche.tooltip"> <button class="btn-outline btn-semiround"> <i class="far fa-comment"></i> <i ng-if="sche.flags.hasChatsUnviewed" class="fas float-item fa-circle" style="color:#ed4d4d;font-size:8px"></i> <span class="ml-1" ng-bind="\'personal-goal-v3.comments\' | translate"></span> </button> <i ng-if="sche.flags.hasChatsUnviewed" class="fas item fa-circle" style="color:#ed4d4d;font-size:8px"></i> </div> </div> <div class="ch-abs-full ch-z0 ch-pointer" ng-click="toggleSchedule($event, sche)" ng-mousedown="sche.isBeingClicked = true" ng-mouseup="sche.isBeingClicked = false" ng-mouseleave="sche.isBeingClicked = false"></div> </li> <div ng-repeat-end class="stage-content" ng-class="{show: showingContentFrom && showingContentFrom === sche}" ng-style="{\'--height\': sche.listHeight + \'px\'}"> <div class="content-list"> <div ng-repeat="itm in sche.relatedContent track by $index" class="related-content-item"> <a ng-prop-href="itm.slugUrl" class="dyn-link ch-py-1"> <span ng-bind="itm.title"></span> </a> </div> <div ng-if="!sche.relatedContent.length" class="ch-py-4 ch-bold ch-w100 text-center" ng-bind="\'personal-goal-v3.no-content\' | translate"> </div> </div> </div> </ul> </div> </div> </div> <ch-modal-info-services></ch-modal-info-services> </div>'),e.put('modules/platform/platform/platform.view.html','<div id="platform-container" class="platform-container"> <div class="container-fluid"> <div class="row"> <div class="platform-content col-sm-12" style="padding:0"> <div ui-view class="ch-z1"></div> <div class="ch-fix-full ch-no-click" style="z-index:1050"> <ch-modal-onboarding-slides-v2></ch-modal-onboarding-slides-v2> <ch-modal-course-schedule-video></ch-modal-course-schedule-video> <ch-modal-course-schedule-presentation></ch-modal-course-schedule-presentation> </div> <ch-modal-forum-post></ch-modal-forum-post> </div> </div> </div> </div>'),e.put('modules/platform/postulations-new/postulations.view.html','<div id="postulations-container" ng-cloak> <ch-loader></ch-loader> <iframe id="postulations-new" style="height:85vh" ng-prop-src="vm.POSTULATIONS_NEW" class="iframe-full iframe-platform-2021 lozad-profile" allow="clipboard-read; clipboard-write" allowfullscreen></iframe> </div>'),e.put('modules/platform/postulations/ch-modal-course-candidacy/ch-modal-course-candidacy.view.html','<div class="modal ch-modal-course-candidacy-container" id="ch-modal-course-candidacy" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="step-container"> <div class="modal-header"> <h5 class="modal-title"> <b ng-bind="vm.courseTmp.camada.id"></b> - <b ng-bind="vm.courseTmp.level.title"></b> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <ul class="list-unstyled"> <li>Comienza: <b ng-bind="vm.courseTmp.startDateAlias"></b></li> <li>Termina: <b ng-bind="vm.courseTmp.endDateAlias"></b></li> <li>Días: <b ng-bind="vm.courseTmp.days"></b></li> <li ng-if="vm.courseTmp.remote">Horario: <b ng-bind="vm.courseTmp.startHourAlias"></b> a <b ng-bind="vm.courseTmp.endHourAlias"></b> hs</li> <li>Modalidad: <b ng-bind="vm.courseTmp.modalityAlias"></b></li> <li>&nbsp;</li> </ul> <ul class="list-unstyled" ng-if="vm.flags.showInfoV2"> <li><b>¡Aclaraciones sobre la comisión!</b></li> <li>Versión: <b ng-bind="vm.programVersion.alias"></b></li> <li>Clases: <b ng-bind="vm.programVersion.stages.total"></b></li> <li>Cantidad de desafíos: <b ng-bind="vm.programVersion.challenges.tps"></b></li> <li>Cantidad de desafíos complentarios: <b ng-bind="vm.programVersion.challenges.complementaryTps"></b> </li> <li>Cantidad de PreEntregas: <b ng-bind="vm.programVersion.challenges.preIntegratorTps"></b></li> <li ng-if="vm.courseTmp.level.detail.teacherWorkHours">Carga horaria para tutores por fuera de las clases semanales: <b ng-bind="vm.courseTmp.level.detail.teacherWorkHours"></b> hs</li> </ul> <div class="d-flex justify-content-start align-items-center" ng-if="!vm.flags.isAssigned"> <b class="mr-2">Postularse para:</b> <button ng-repeat="rol in vm.canBeRoles track by $index" class="ch-btn-2021-square ch-btn-sm mr-2" type="submit" ng-click="vm[rol.action]($event, rol.key)" ng-bind="rol.label"></button> </div> <div ng-if="vm.flags.isCandidate && !vm.flags.postulationsLocked"> Tu postulación esta siendo evaluada. En caso de continuar nos contactaremos contigo. </div> <div ng-if="vm.flags.postulationsLocked"> La comisión ya se encuentra cerrada y con sus tutores asignados. De todas formas, vamos a considerar tu postulación ante cualquier suplencia o reemplazo. </div> </div> <div class="modal-footer" style="justify-content:space-between"> <a class="ch-link" href="mailto:hr@coderhouse.com" target="_blank"> <small><i class="fa fa-info-circle"></i> &nbsp; Preguntas? Escríbenos</small> </a> <div ng-if="vm.flags.isCandidate && !vm.flags.postulationsLocked"> <button class="ch-btn-2021-square ch-btn-sm" type="submit" ng-click="vm.onClickCancel($event)" ng-if="vm.flags.isCandidate">Cancelar postulación</button> </div> <div ng-if="vm.flags.isAssigned"> <button class="ch-btn-2021-square ch-btn-sm disabled" type="submit">Asignado</button> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/postulations/postulations.view.html','<div class="postulations-container section-container"> <div class="container-fluid"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <div class="row mt-4 mb-3" ng-if="!vm.hasCoursesToTeach"> <div class="col-12"> <h2 class="section-title" ng-bind-html="\'postulations.postulations\' | translate"></h2> </div> </div> <div class="row mt-4 mb-3" ng-if="vm.hasCoursesToTeach"> <div class="col-12"> <h2 class="section-title" ng-if="!vm.hasNextCourses" ng-bind="\'postulations.dates-soon-publish\' | translate"></h2> <h2 class="section-title m-0" ng-if="vm.hasNextCourses" ng-bind="\'postulations.dates-soon\' | translate"> </h2> <p class="section-subtitle" ng-bind-html="vm.isTeacher ? \'postulations.more-courses-teacher\' : \'postulations.more-courses-assistant\' | translate"> </p> </div> </div> <div class="row" ng-if="vm.hasNextCourses"> <div class="col-sm-12"> <div class="progress-widget-container m-0"> <p ng-bind-html="\'postulations.vacancy\' | translate"></p> <div class="table-responsive"> <table class="table table-hover table-sm table-list m-0"> <thead> <tr class="head-row"> <th ng-bind="\'postulations.commission\' | translate"></th> <th ng-bind="\'postulations.course\' | translate"></th> <th ng-bind="\'postulations.start\' | translate"></th> <th ng-bind="\'postulations.finish\' | translate"></th> <th ng-bind="\'postulations.days\' | translate"></th> <th ng-bind="\'postulations.schedule\' | translate"></th> <th class="text-center"></th> </tr> </thead> <tbody> <tr ng-repeat="course in vm.courses | orderBy:\'startDate\' track by $index" ng-class="{\n                        \'card-flag-isCandidate\': course.flags.isCandidate\n                      }"> <td> <span class="course-camada-id-label" ng-bind="course.camada.id"></span> </td> <td> <span ng-bind="course.level.title"></span> </td> <td> <span ng-bind="course.startDateAlias"></span> </td> <td> <span ng-bind="course.endDateAlias"></span> </td> <td> <span ng-bind="course.days.join(\' y \')"></span> </td> <td> <span ng-bind="course.hoursAlias"></span> </td> <td class="text-center"> <a ng-if="course.flags.postulationsLocked && !course.flags.isAssigned" href="#" class="ch-btn-2021-square disabled ch-btn-sm" data-toggle="tooltip" title="{{course.flags.isCandidate ? \'Fuiste candidato de esta comisión\' : \'La comisión ya se encuentra cerrada y con sus tutores asignados. De todas formas, vamos a considerar tu postulación ante cualquier suplencia o reemplazo.\'}}"> <span ng-bind="\'postulations.closed\' | translate"></span> </a> <a ng-if="!course.flags.postulationsLocked || course.flags.isAssigned" href="#" ng-click="vm.onClickCourse($event, course)" class="ch-btn-2021-square ch-btn-sm" ng-class="{\n                          \'secondary\': !course.flags.isCandidate && !course.flags.isAssigned,\n                          \'terciary\': course.flags.isAssigned || course.flags.isCandidate\n                        }" data-toggle="tooltip" title="Ver más"> <span ng-if="course.flags.isCandidate" ng-bind="\'postulations.postulate\' | translate"> </span> <span ng-if="course.flags.isAssigned" ng-bind="\'postulations.assigned\' | translate"> </span> <span ng-if="!course.flags.isCandidate && !course.flags.isAssigned" ng-bind="\'postulations.see-more\' | translate"> </span> </a> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="row mt-3" ng-if="vm.hasCoursesToTeach"> <div class="col-sm-12"> <b ng-bind="\'postulations.enabled\' | translate"></b> <ol> <li ng-repeat="item in vm.products track by $index"> <a href="#" class="ch-link" ng-click="vm.onClickProduct($event, item)" ng-bind="item.alias"></a> </li> </ol> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/products/ch-modal-product/ch-modal-product.view.html','<div class="modal fade" id="ch-modal-product" tabindex="-1" role="dialog" aria-labelledby="benefitsModal"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="vm.productTmp.titleShortAlias || vm.productTmp.title"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-6"> <ul class="list-unstyled list-inline" ch-class-mq="{\'ch-mb-3\': \'col-md\'}"> <li> <span><b ng-bind="\'products.modal.dedication\' | translate"></b></span> <span ng-bind="(vm.productTmp.detail.dedicationLevel || \'Alta\')"></span> </li> <li ng-if="vm.productTmp.detail.weeksAlias"> <span><b ng-bind="\'products.modal.length\' | translate"></b></span> <span ng-bind="vm.productTmp.detail.weeksAlias"></span> </li> <div ng-if="vm.productTmp.levels.length" style="border-left:2px solid #000"></div> <li ng-if="vm.productTmp.levels.length"> <span><b ng-bind="\'products.modal.amount\' | translate"></b></span> <span ng-bind="vm.productTmp.detail.levelsAlias"></span> </li> </ul> <div class="about-course"> <h5 ng-bind="\'products.modal.about\' | translate"></h5> <p ng-bind="vm.productTmp.description || currentProduct.description"></p> <div> <div class="list-inline-item"> <a href="#" ng-click="vm.onClickProductRequirements($event)" class="ch-btn-2021-square bordered ch-btn-sm" ng-if="vm.productTmp.detail.prerequisites.length"> <b ng-bind="\'products.modal.requirements\' | translate"></b> </a> <a ng-prop-href="vm.productTmp.programs.ar" target="_blank" ng-class="{\n                      \'ch-pl-2\': vm.productTmp.detail.prerequisites.length\n                    }" ng-if="vm.productTmp.programs.ar.length" class="ch-btn-2021-square bordered ch-btn-sm"> <b ng-bind="\'products.modal.btn-program\' | translate"></b> </a> </div> </div> <div ng-if="vm.userAvailableBalanceAlias"> <p> <span ng-bind="\'products.modal.available-balance\' | translate"></span> <span ng-bind="vm.userAvailableBalanceAlias"></span> </p> </div> <div ng-if="vm.freePurchaseAlias"> <p> <span ng-bind="vm.freePurchaseAlias"></span> </p> </div> </div> <div class="global-hide" ng-class="{\'hide ch-abs\': !vm.showRequirements, \'position-relative\': vm.showRequirements}"> <pre class="ch-p-2" style="background-color:var(--body-color-4);border-radius:1em" bind-html-compile="vm.productTmp.detail.prerequisites"></pre> </div> </div> <div class="col-sm-6 pl-0" style="overflow-y:auto;max-height:50vh"> <div ng-if="vm.productTmp.courses.length"> <h5 ng-bind="\'products.modal.next-dates\' | translate"></h5> <ul class="list-unstyled next-dates-courses-list"> <li ng-repeat="course in vm.productTmp.courses track by $index" class="row" style="border-bottom:1px solid var(--body-color-5)"> <div class="col-sm-8 pt-2 pb-2"> <ul class="list-unstyled"> <li><b ng-bind="\'products.modal.dates\' | translate"></b> <span ng-bind="course.startDateAlias"></span></li> <li><b ng-bind="\'products.modal.days\' | translate"></b><span ng-bind="course.daysAlias"></span> </li> <li><b ng-bind="\'products.modal.hours\' | translate"> </b><span ng-bind="course.hoursAlias"></span> </li> <li ng-if="course.camada.leadTeacher"> <b ng-bind="\'products.modal.teacher\' | translate"></b><span ng-bind="course.camada.leadTeacher.fullName"></span> </li> <li ng-if="!course.camada.leadTeacher"> <b ng-bind="\'products.modal.teacher\' | translate"></b> {{ "products.modal.assigned-soon" | translate }} </li> </ul> </div> <div class="col-sm-4 d-flex align-items-center justify-content-end pl-0"> <a href="#" ng-click="!vm.enrolldisabled ? vm.onSubmit($event, course):\'\'" class="ch-btn-2021-square ch-btn-sm"> <span ng-bind="\'products.modal.btn-enroll\' | translate"></span> </a> </div> </li> </ul> </div> </div> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm bordered" type="button" ng-click="vm.onClickClose($event)" ng-bind="\'products.modal.btn-close\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/products/products.view.html','<div id="products-container-v2" class="section-container container-fluid"> <ch-loader active="loading"></ch-loader> <div class="row pt-0"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-12 mt-3"> <b ng-if="!vm.isIframe" class="section-title" ng-bind="\'products.title\' | translate"></b> <p class="section-subtitle" ng-bind-html="TEXTS.upsellingCupon"></p> </div> <div class="col-sm-12 mt-3 mb-3"> <div class="ch-tab-list-container"> <div class="list"> <div class="ch-tab" ng-if="item.enable" ng-class="{active: item.active}" ng-repeat="item in tabs track by $index" ng-click="onTabChange($event, item)" ng-mouseenter="$ctrl.onHover(tab)"> <span class="label" ng-class="{active: item.active}" ng-bind="item.label"></span> </div> </div> </div> </div> <div class="col-sm-12 mb-2 mt-2"> <ul class="list-unstyled list-inline tags-list mb-4" ng-if="vm.productsTags.length > 1"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.productsTags track by $index"> <a href="#" ng-click="vm.onClickFilterByTag($event, tag)" class="ch-btn-2021-square chip ch-btn-sm" ng-class="{active: tag.active}"> <i class="mr-2" ng-class="{\n                  \'fas fa-check-circle\': tag.active,\n                  \'far fa-circle\': !tag.active,\n                }"></i> <span ng-bind="tag.text"></span> </a> </li> </ul> </div> </div> </div> </div> <div class="row pt-3"> <div class="col-sm-12 product-card-list-container"> <div class="row product-card-list"> <div class="col-xl-3 col-lg-4 col-md-6 product-card" ng-repeat="product in vm.products track by $index" ng-class="{\n          \'d-none\': !product.flags.active\n        }"> <div class="product-content w-100"> <div> <div class="tags-list mb-3"> <div class="tag pt-1 pb-1 pr-2 pl-2 mr-1" ng-repeat="tag in product.tags track by $index"> <span class="text" ng-bind="tag.text"></span> </div> </div> <div class="product-title mb-1"> <span ng-bind="product.title"></span> </div> <div class="product-subtitle"> <span class="mt-2" ng-if="product.nextCourse.startDate"> <span ng-bind="\'products.nextCourse.start\' | translate"></span> <span ng-bind="product.nextCourse.startDate | date:\'dd/MM/yyyy\'"></span> </span> <div class="item-details mt-2"> <span class="d-flex" ng-if="product.days"> <ch-svg-icon icon="\'calendar-1\'" class="ch-svg-icon mr-2"></ch-svg-icon> <span ng-bind="product.days"></span> </span> <span class="mt-2 d-flex align-items-center" ng-if="product.nextCourse.normalized.hours"> <ch-svg-icon icon="\'horario\'" class="ch-svg-icon mr-2"></ch-svg-icon> <span ng-bind="product.nextCourse.hoursAlias"></span> </span> <span class="mt-2" ng-if="product.earlybird" ng-bind="product._startMonthAlias"></span> </div> </div> </div> <div class="product-pricing w-100"> <span class="price" ng-if="!product.flags.purchased"> <div class="mb-1" ng-if="product.pricing.enrollmentDiscount"> <span class="product-discount" ng-bind="product.pricing.enrollmentDiscountAlias"></span> <br> <span class="product-price" ng-bind="product.pricing.original.finalEnrollmentPriceAlias"></span> </div> <span class="product-final-price" ng-bind="product.pricing.finalEnrollmentPriceAlias"></span> </span> <a href="#" class="ch-btn-2021-square secondary w-100 mt-3" ng-click="vm.onClickProduct($event, product)"> <span ng-if="product.nextCourse._id && item.nextCourse.flags.isEnrolled" ng-bind="\'products.product.btn-go-to-content\' | translate"></span> <span ng-if="product.nextCourse._id && !item.nextCourse.flags.isEnrolled" ng-bind="\'products.product.btn-enroll\' | translate"></span> <span ng-if="!product.nextCourse._id" ng-bind="\'products.product.btn-details\' | translate"></span> </a> </div> </div> </div> </div> </div> </div> <div class="checkout-page" ng-class="{show: vm.showingCheckout}"> <iframe ng-prop-src="vm.checkoutUrl" ng-if="vm.checkoutUrl.length" frameborder="0" style="background-color:#fff!important"></iframe> <div class="ch-btn-2021-square arrow-left slide go-back" ng-class="{hide: !vm.showingCheckout}" ng-click="vm.hideCheckout()" ng-bind="\'products.btn-back\' | translate"></div> </div> <ch-modal-product></ch-modal-product> </div>'),e.put('modules/platform/profile-2021/profile-2021.view.html','<div id="review-container" ng-cloak> <ch-loader></ch-loader> <iframe id="profile-2021" ng-prop-src="vm.PROFILE_2021" class="iframe-full iframe-platform-2021 lozad-profile"></iframe> </div>'),e.put('modules/platform/profiles/components/ch-modal-payouts/ch-modal-payouts.view.html','<div class="modal fade ch-modal-payouts-container" id="ch-modal-payouts" tabindex="-1" role="dialog" data-dismiss="modal" aria-labelledby="socialModal"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-payouts.bill\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-6"> <b ng-bind="\'ch-modal-payouts.detail\' | translate"></b> <br> <br> <div class="row"> <div class="col-sm-3"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.commission\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.camada"> </div> </div> <div class="col-sm-9"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.month\' | translate"></label> <input class="form-control" disabled ng-value="vm.payoutTmp.date | date:\'MM/yyyy\'"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.remuneration\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.baseAmount"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.classes-taught\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amountOfSchedules"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.after-class\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amountOfComplementaries"> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-if="vm.invoiceTmp.amountOfComplementariesHours"> <label ng-bind="\'ch-modal-payouts.after-class-hrs\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amountOfComplementariesHours"> </div> <div class="form-group" ng-if="vm.invoiceTmp.complementariesAmount"> <label ng-bind="\'ch-modal-payouts.after-class-amount\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.complementariesAmount"> </div> </div> <div class="col-sm-6" ng-if="vm.invoiceTmp.amountOfPreIntegratorReviews"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.corrections\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amountOfPreIntegratorReviews"> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-if="vm.invoiceTmp.amountOfReviewHours"> <label ng-bind="\'ch-modal-payouts.corrections-hrs\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amountOfReviewHours"> </div> <div class="form-group" ng-if="vm.invoiceTmp.reviewsAmount"> <label ng-bind="\'ch-modal-payouts.corrections-amount\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.reviewsAmount"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.concept\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.kind"> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-if="vm.invoiceTmp.additionalAmount"> <label ng-bind="\'ch-modal-payouts.additional-amount\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.additionalAmount"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.total\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.amount"> </div> </div> <div class="col-sm-6" ng-if="vm.invoiceTmp.payoutDate"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.payment-day\' | translate"></label> <input class="form-control" disabled ng-value="vm.invoiceTmp.payoutDate"> </div> </div> </div> </div> <div class="col-sm-6" style="border-left:1px solid #eee"> <b ng-bind="\'ch-modal-payouts.yout-bill\' | translate"></b> <br> <br> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.date\' | translate"></label> <input class="form-control" type="date" required ng-model="vm.invoiceTmp.details.createdAt"> </div> <div class="form-group" ng-if="!vm.isNotFromArg"> <label ng-bind="\'ch-modal-payouts.cuit-name\' | translate"></label> <input class="form-control" type="number" required ng-model="vm.invoiceTmp.details.cuit"> </div> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.business-name\' | translate"></label> <input class="form-control" required ng-model="vm.invoiceTmp.details.socialReason"> </div> </div> <div class="col-sm-6" ng-if="!vm.isNotFromArg"> <label ng-bind="\'ch-modal-payouts.fiscal-condition\' | translate"></label> <select name="invoiceType" id="invoiceType" class="form-control" ng-model="vm.invoiceTmp.details.type" required ng-disabled="vm.isNotFromArg"> <option value="" ng-bind="\'ch-modal-payouts.choose\' | translate"></option> <option value="monotributista" ng-bind="\'ch-modal-payouts.monotributista\' | translate"></option> <option value="responsable-inscripto" ng-bind="\'ch-modal-payouts.registered-responsible\' | translate"></option> </select> </div> <div class="col-sm-12"> <label ng-bind="\'ch-modal-payouts.province\' | translate"></label> <select name="country-state" id="country-state" class="form-control" ng-model="vm.invoiceTmp.details.countryState" required ng-disabled="vm.isNotFromArg"> <option value="" ng-bind="\'ch-modal-payouts.choose\' | translate"></option> <option ng-repeat="state in vm.countryStates track by $index" ng-value="state.Nombre" ng-bind="state.Nombre"></option> </select> <br> </div> <div class="col-sm-6" ng-if="!vm.isNotFromArg"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.letter\' | translate"></label> <input class="form-control" required ng-model="vm.invoiceTmp.details.letter"> </div> </div> <div class="col-sm-6" ng-if="!vm.isNotFromArg"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.point\' | translate"></label> <input class="form-control" required ng-model="vm.invoiceTmp.details.pointOfSale"> </div> </div> </div> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.number\' | translate"></label> <input class="form-control" required ng-model="vm.invoiceTmp.details.id"> </div> <div class="form-group" ng-if="!vm.isNotFromArg"> <label ng-bind="\'ch-modal-payouts.amount\' | translate"></label> <input class="form-control" required ng-model="vm.invoiceTmp.details.amount"> </div> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.clarifications\' | translate"></label> <textarea class="form-control" cols="30" rows="3" ng-model="vm.invoiceTmp.details.text"></textarea> </div> <div class="row"> <div class="col-sm-12" ng-if="vm.invoiceTmp.details.fileLink.length"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.attached\' | translate"></label> <div ng-if="vm.fileTmp.name" class="badge badge-defualt badge-file"> <a ng-prop-href="vm.invoiceTmp.details.fileLink" target="_blank"><i class="fa fa-paperclip"></i> <span ng-bind="vm.fileTmp.name"></span></a> </div> </div> </div> <div class="col-sm-12"> <div class="form-group"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickUploadFile($event)" style="width:100%;text-align:center;display:block!important"> <span><i class="fa fa-file-upload"></i>&nbsp;&nbsp;{{\'ch-modal-payouts.attach-invoice\' | translate}}</span> </a> <input ng-hide="true" id="input-file" type="file" ngf-select="" ng-change="vm.onChangeFile($event)" ng-model="vm.fileTmp" name="file" ngf-max-size="12MB"> </div> </div> </div> <div class="row"> <div class="col-sm-6 mb-3 d-flex justify-content-start align-items-center"> <a href="#" class="ch-link" ng-click="vm.onClickOpenVideo($event)"> <small><i class="fa fa-play"></i>&nbsp;&nbsp;{{\'ch-modal-payouts.tutorial\' | translate}}</small> </a> </div> <div class="col-sm-6 mb-3 d-flex justify-content-end align-items-center"> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-payouts.btn-send\' | translate"></button> </div> </div> </div> </div> <div class="modal-footer"> <div class="w-100"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <b ng-bind="\'ch-modal-payouts.data\' | translate"></b> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.business-name\' | translate"></label> <input class="form-control" disabled ng-value="vm.coderInfo.socialReason"> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.cuit-name\' | translate"></label> <input class="form-control" disabled ng-value="vm.coderInfo.cuit"> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label ng-bind="\'ch-modal-payouts.iva-condition\' | translate"></label> <input class="form-control" disabled ng-value="vm.coderInfo.fiscalCondition"> </div> </div> <div class="col-sm-12"> <div class="form-group m-0"> <small ng-bind="\'ch-modal-payouts.recommendation\' | translate"> </small> <br> <small ng-bind-html="\'ch-modal-payouts.contact\' | translate"> </small> </div> </div> </div> </div> </div> </div></form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-education/ch-modal-profile-education.view.html','<div class="modal fade ch-modal-profile-education-container" id="ch-modal-profile-education" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmitEducation($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-profile-education.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-4"> <label ng-bind="\'ch-modal-profile-education.form.edu-title\' | translate"></label> <div class="form-group"> <input class="form-control" required ng-prop-placeholder="\'ch-modal-profile-education.form.edu-title-placehoder\' | translate" ng-model="vm.educationTmp.title"> {{vm.userTmp.education.title}} </div> </div> <div class="col-sm-4"> <label ng-bind="\'ch-modal-profile-education.form.edu-institute\' | translate"></label> <div class="form-group"> <input class="form-control" required ng-prop-placeholder="\'ch-modal-profile-education.form.edu-institute-placehoder\' | translate" ng-model="vm.educationTmp.institute"> </div> </div> <div class="col-sm-4"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-education.level\' | translate"></label> <select class="form-control" ng-model="vm.educationTmp.level" required> <option value="" ng-bind="\'ch-modal-profile-education.choose\' | translate"></option> <option ng-repeat="item in vm.STUDY_LEVELS track by $index" ng-value="item.key" ng-bind="item.value"> </option> </select> </div> </div> </div> <div class="row"> <div class="col-sm-4"> <label ng-bind="\'ch-modal-profile-education.form.from-date\' | translate"></label> <div class="form-group"> <input class="form-control" required type="date" placeholder="08/08/2018" ng-model="vm.educationTmp.range.from" id="datePickerId"> </div> </div> <div class="col-sm-3"> <label ng-bind="\'ch-modal-profile-education.form.to-date\' | translate"></label> <div class="form-group"> <input class="form-control" required type="date" placeholder="hoy" ng-model="vm.educationTmp.range.to" ng-disabled="vm.educationTmp.range.currently"> </div> </div> <div class="col-sm-5 d-flex align-items-center justify-content-center"> <div class="custom-control custom-checkbox"> <input type="checkbox" class="custom-control-input" ng-model="vm.educationTmp.range.currently" id="customCheck"> <label class="custom-control-label" for="customCheck" style="position:relative;top:5px" ng-bind="\'ch-modal-profile-education.form.currently\' | translate"></label> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <label ng-bind="\'ch-modal-profile-education.form.description\' | translate"></label> <div class="form-group"> <textarea class="form-control" maxlength="320" required ng-model="vm.educationTmp.description" ng-prop-placeholder="\'ch-modal-profile-education.form.description-placeholder\' | translate"></textarea> </div> </div> </div> </div> <div class="modal-footer"> <a href="#" ng-if="!vm.educationTmp._id" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickRemoveEducation(vm.work)" ng-bind="\'ch-modal-profile-education.btn-cancel\' | translate"></a> <a href="#" ng-if="vm.educationTmp._id" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickRemoveEducation(vm.work)" ng-bind="\'ch-modal-profile-education.btn-delete\' | translate"></a> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-education.btn-save\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-exp/ch-modal-profile-exp.view.html','<div class="modal fade ch-modal-profile-exp-container" id="ch-modal-profile-exp" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmitWorkExperience($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-profile-exp.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-6"> <label ng-bind="\'ch-modal-profile-exp.work.title\' | translate"></label> <div class="form-group"> <input class="form-control" required ng-model="vm.workTmp.title"> </div> </div> <div class="col-sm-6"> <label ng-bind="\'ch-modal-profile-exp.work.company\' | translate"></label> <div class="form-group"> <input class="form-control" required ng-model="vm.workTmp.company"> </div> </div> </div> <div class="row"> <div class="col-sm-4"> <label ng-bind="\'ch-modal-profile-exp.work.from\' | translate"></label> <div class="form-group"> <input class="form-control" type="date" required placeholder="mm/dd/aaaa" id="datePickerId1" ng-model="vm.workTmp.range.from"> </div> </div> <div class="col-sm-3"> <label ng-bind="\'ch-modal-profile-exp.work.to\' | translate"></label> <div class="form-group"> <input class="form-control" type="date" id="datePickerId2" placeholder="hoy" required ng-model="vm.workTmp.range.to" ng-disabled="vm.workTmp.range.currently"> </div> </div> <div class="col-sm-5 d-flex align-items-center justify-content-center"> <div class="custom-control custom-checkbox"> <input type="checkbox" class="custom-control-input" ng-model="vm.workTmp.range.currently" id="customCheck1"> <label class="custom-control-label" for="customCheck1"> <span style="position:relative;top:5px" ng-bind="\'ch-modal-profile-exp.work.currently\' | translate"></span> </label> </div> </div> </div> <div class="row mt-2"> <div class="col-sm-12"> <label ng-bind="\'ch-modal-profile-exp.work.description\' | translate"></label> <div class="form-group"> <textarea class="form-control" maxlength="320" required ng-model="vm.workTmp.description"></textarea> </div> </div> </div> </div> <div class="modal-footer"> <a href="#" ng-if="!vm.workTmp._id" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickRemoveWork(vm.work)" ng-bind="\'ch-modal-profile-exp.btn-cancel\' | translate"></a> <a href="#" ng-if="vm.workTmp._id" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickRemoveWork(vm.work)" ng-bind="\'ch-modal-profile-exp.btn-remove\' | translate"></a> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-exp.btn-save\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-expertice/ch-modal-profile-expertice.view.html','<div class="modal fade ch-modal-profile-expertice-container" id="ch-modal-profile-expertice" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-profile-expertice.title\' | translate"> </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-expertice.areas\' | translate"></label> <select class="form-control" ng-model="vm.experienceTmp" required> <option value="" ng-bind="\'ch-modal-profile-expertice.areas.placeholder\' | translate"></option> <option ng-repeat="item in vm.EXPERTICE_AREAS | orderBy:\'value\' track by $index" ng-disabled="item.disabled" ng-value="item.key" ng-bind="item.value"> </option> </select> </div> </div> <div class="col-sm-12"> <label ng-bind="\'ch-modal-profile-expertice.areas.custom\' | translate"></label> <div class="form-group"> <input class="form-control" ng-model="vm.customExperienceTmp"> </div> </div> </div> </div> <div class="modal-footer"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-profile-expertice.btn-cancel\' | translate"></a> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-expertice.btn-save\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-info/ch-modal-profile-info.view.html','<div class="modal fade ch-modal-profile-info-container" id="ch-modal-profile-info" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <div class="modal-title"> <ul class="list-unstyled tabs m-0"> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.personal}"> <a href="#" ng-click="vm.onClickTab($event, \'personal\')" ng-bind="\'ch-modal-profile-info.tabs.personal-info\' | translate"></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.invoice}" ng-if="vm.PERMISSIONS.teacher"> <a href="#" ng-click="vm.onClickTab($event, \'invoice\')" ng-bind="\'ch-modal-profile-info.tabs.invoice-info\' | translate"></a> </li> <li class="list-inline-item tab-item" ng-class="{active: vm.tabs.availableBalance}" ng-if="vm.userTmp.availableBalance.length"> <a href="#" ng-click="vm.onClickTab($event, \'availableBalance\')" ng-bind="\'ch-modal-profile-info.tabs.available-balance\' | translate"></a> </li> </ul> </div> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <form ng-if="vm.tabs.personal" ng-submit="vm.onSubmit($event)"> <div class="modal-body"> <div class="row"> <div class="col-sm-4 text-center"> <div class="ch-df ch-fldc"> <div class="user-avatar-container"> <img ng-if="vm.userTmp.profile.avatar" ng-prop-src="vm.userTmp.profile.avatar | cloudinary:175:175"> <div ng-if="!vm.userTmp.profile.avatar" class="initials"> <span ng-bind="vm.userTmp.profile.initials"></span> </div> </div> <input ng-hide="true" id="input-avatar" type="file" ngf-select="" ng-model="vm.avatarFile" name="file" ngf-accept="\'image/*\'" ngf-max-total-size="2MB"> </div> <button class="ch-btn-2021-square ch-btn-sm ch-mt-2 d-inline" ng-click="vm.onClickUploadFile($event)" ng-bind="\'ch-modal-profile-info.btn-upload-avatar\' | translate"></button> <div class="size"><small>175px x 175px</small></div> </div> <div class="col-sm-8"> <label ng-bind="\'ch-modal-profile-info.bio\' | translate"></label> <div class="form-group"> <textarea class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.bio.placeholder\' | translate" ng-model="vm.userTmp.profile.bio" id="text" maxlength="320" ng-maxlength="320" style="min-height:160px" required></textarea> <span class="float-right count_message" id="count_message"> {{ vm.userTmp.profile.bio.length || 0 }} / 320 </span> </div> </div> <div class="col-sm-12"> <br> <br> <div class="row"> <div class="col-sm-6" ng-if="vm.FEATURES.JOBS"> <label ng-bind="\'ch-modal-profile-info.email\' | translate"></label> <div class="form-group"> <input class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.email.placeholder\' | translate" ng-change="vm.onChangeEmail($event)" ng-model="vm.emailTmp.value" ng-value="vm.userTmp.email" type="email" required ng-class="{\n                          \'flag-is-valid\': vm.emailTmp.isValid,\n                          \'flag-is-invalid\': vm.emailTmp.value && vm.emailTmp.value.length && !vm.emailTmp.isValid\n                        }" ng-disabled="!vm.PERMISSIONS.student"> </div> </div> <div class="col-sm-6 d-flex justify-content-start align-items-end"> <label>&nbsp;</label> <div class="form-group"> <a href="#" ng-click="vm.onClickChangePassword($event)" class="ch-btn-2021-square ch-btn-sm" ng-bind="\'ch-modal-profile-info.btn-change-pass\' | translate"></a> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.name\' | translate"></label> <input class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.name.placeholder\' | translate" ng-model="vm.userTmp.profile.first_name" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.last-name\' | translate"></label> <input class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.last-name.placeholder\' | translate" ng-model="vm.userTmp.profile.last_name" required> </div> <div class="form-group" ng-if="vm.FEATURES.JOBS"> <label ng-bind="\'ch-modal-profile-info.phone\' | translate"></label> <input class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.phone.placeholder\' | translate" ng-model="vm.userTmp.profile.phone" required> </div> <div class="form-group" ng-if="vm.FEATURES.JOBS"> <label ng-bind="\'ch-modal-profile-info.bday\' | translate"></label> <input class="form-control" type="date" id="bday" placeholder="dd/mm/aaaa" ng-model="vm.userTmp.profile.bday" required ng-prop-min="vm.BDAY_RANGE.MIN" ng-prop-max="vm.BDAY_RANGE.MAX"> </div> </div> <div class="col-sm-6" ng-if="vm.FEATURES.JOBS"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.dni\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.dni" required ng-prop-placeholder="\'ch-modal-profile-info.dni.placeholder\' | translate"> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.country\' | translate"></label> <select class="form-control" ng-model="vm.userTmp.profile.country" required ng-change="vm.onChangeCountry()"> <option value="" ng-bind="\'ch-modal-profile-info.country.placeholder\' | translate"></option> <option ng-repeat="country in vm.countries track by $index" ng-value="country.code" ng-bind="country.name"></option> </select> </div> <div class="form-group" ng-if="!vm.userTmp.flags.isTeacher && vm.states.length"> <label ng-bind="\'ch-modal-profile-info.city\' | translate"></label> <select class="form-control" ng-model="vm.userTmp.profile.city" required> <option value="" ng-bind="\'ch-modal-profile-info.city.placeholder\' | translate"></option> <option ng-repeat="state in vm.states track by $index" ng-value="state.name" ng-bind="state.name"> </option> </select> </div> <div class="form-group" ng-if="vm.userTmp.flags.isTeacher"> <label ng-bind="\'ch-modal-profile-info.address\' | translate">Dirección</label> <input class="form-control" required g-places-autocomplete options="vm.geoConfig" ng-prop-placeholder="\'ch-modal-profile-info.address.placeholder\' | translate" ng-model="vm.userTmp.profile.city"> </div> </div> </div> <div class="row" ng-if="vm.FEATURES.CODER_TALENT"> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.name\' | translate" ng-bind="\'ch-modal-profile-info.cv\' | translate"></label> <input class="form-control" ng-value="vm.userTmp.profile.cvFileLink" disabled> </div> </div> <div class="col-sm-6 d-flex justify-content-start align-items-end"> <label>&nbsp;</label> <div class="form-group"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickUploadCvFile($event)" data-toggle="tooltip" title="* Hasta 10mb" style="width:100%;text-align:center;display:block" ng-bind="\'ch-modal-profile-info.btn-upload-cv\' | translate"></a> <input ng-hide="true" id="input-cv-file" type="file" ngf-select="" ng-model="vm.cvFile" name="file" ngf-max-size="10MB"> </div> </div> <div class="col-sm-12"> <div class="custom-control custom-checkbox"> <input type="checkbox" class="custom-control-input" ng-model="vm.userTmp.profile.canWorkRemotely" id="canWorkRemotely"> <label class="custom-control-label" for="canWorkRemotely"> <span style="top:4px;position:relative" ng-bind="\'ch-modal-profile-info.remote-work\' | translate"></span> </label> </div> </div> <div class="col-sm-12"> <div class="custom-control custom-checkbox"> <input type="checkbox" class="custom-control-input" ng-model="vm.userTmp.profile.hideTalent" id="hideTalent"> <label class="custom-control-label mb-3" for="hideTalent"> <span style="top:4px;position:relative" ng-bind="\'ch-modal-profile-info.hide-profile\' | translate"></span> </label> <label for="hideTalent"><small ng-bind="\'ch-modal-profile-info.hide-profile.leyend\' | translate"></small></label> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-info.btn-save\' | translate"></button> </div> </form> <form ng-if="vm.PERMISSIONS.teacher && vm.tabs.invoice" ng-submit="vm.onSubmit($event, true)"> <div class="modal-body"> <div class="row" ng-if="vm.FEATURES.INVOICE_INFO_FOR_ARG_TEACHER"> <div class="col-sm-12"> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.cuit\' | translate"></label> <input class="form-control" minlength="11" maxlength="11" ng-model="vm.userTmp.profile.banking.cuit" name="cuit" required ng-change="vm.isValidField(\'cuit\', vm.userTmp.profile.banking.cuit)" ng-class="{\n                      \'flag-is-valid\': vm.userTmp.profile.banking.cuitValid,\n                      \'flag-is-invalid\': vm.userTmp.profile.banking.cuit.length && !vm.userTmp.profile.banking.cuitValid\n                    }"> <br> <small ng-bind="\'ch-modal-profile-info.cuit.leyend\' | translate"></small> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-name\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.name" name="name" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-account\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.account.number" name="number" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-cbu\' | translate"> </label> <input class="form-control" minlength="22" maxlength="22" ng-model="vm.userTmp.profile.banking.cbu" name="cbu" required ng-change="vm.isValidField(\'cbu\', vm.userTmp.profile.banking.cbu)" ng-class="{\n                      \'flag-is-valid\': vm.userTmp.profile.banking.cbuValid,\n                      \'flag-is-invalid\': vm.userTmp.profile.banking.cbu.length && !vm.userTmp.profile.banking.cbuValid\n                    }"><br> <small ng-bind="\'ch-modal-profile-info.bank-cbu.leyend\' | translate"></small> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.dni\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.dni" name="dni" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-cbu-alias\' | translate"></label><br> <input class="form-control" ng-model="vm.userTmp.profile.banking.cbu_alias" name="cbu_alias" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.invoice-type\' | translate"></label> <br> <select class="form-control" ng-model="vm.userTmp.profile.banking.invoiceType" style="margin-top:8px"> <option value="" ng-bind="\'ch-modal-profile-info.invoice-type.placeholder\' | translate"> </option> <option value="monotributista" ng-bind="\'ch-modal-profile-info.invoice-type.monotributista\' | translate"></option> <option value="responsable-inscripto" ng-bind="\'ch-modal-profile-info.invoice-type.responsable-inscripto\' | translate"></option> </select> </div> <div class="form-group"> <label> {{\'ch-modal-profile-info.afip-mono-category\' | translate}}&nbsp;&nbsp; <a href="http://www.afip.gob.ar/noticias/20180803facturaElectronica.asp" target="_blank"><i class="fa fa-info-circle"></i> </a> </label> <select class="form-control" ng-model="vm.userTmp.profile.banking.afipMonoCategory" style="margin-top:8px" name="afipMonoCategory"> <option value="" ng-bind="\'ch-modal-profile-info.afip-mono-category.placeholder\' | translate"> </option> <option value="A">A</option> <option value="B">B</option> <option value="C">C</option> <option value="D">D</option> <option value="E">E</option> <option value="F">F</option> <option value="G">G</option> <option value="H">H</option> <option value="I">I</option> <option value="J">J</option> <option value="K">K</option> </select> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="form-group"> <label>{{\'ch-modal-profile-info.afip-constancy\' | translate}}&nbsp;&nbsp; <a href="http://www.afip.gob.ar/genericos/cInscripcion/archivoCompleto.asp" target="_blank"><i class="fa fa-info-circle"></i></a> </label> <input class="form-control" ng-value="vm.userTmp.profile.banking.afipConstancy" disabled name="Constancia"> </div> </div> <div class="col-sm-6 d-flex justify-content-start align-items-end"> <label>&nbsp;</label> <div class="form-group"> <a href="#" class="ch-btn-2021-square primary ch-btn-sm" ng-click="vm.onClickUploadAfipFile($event)" data-toggle="tooltip" title="* Hasta 10mb" style="width:100%;text-align:center;display:block" ng-bind="\'ch-modal-profile-info.afip-constancy.btn-upload\' | translate"></a> <input ng-hide="true" id="input-afip-file" type="file" ngf-select="" ng-model="vm.file" name="file" ngf-max-size="10MB"> </div> </div> </div> </div> </div> <div class="row" ng-if="!vm.FEATURES.INVOICE_INFO_FOR_ARG_TEACHER"> <div class="col-sm-6"> <label class="form-group"> <input type="checkbox" ng-model="vm.userTmp.profile.banking.hasPaypalAccount"> {{\'ch-modal-profile-info.payoneer-account\' | translate}} <br> </label> </div> <div class="col-sm-6"> <div class="form-group" ng-if="vm.userTmp.profile.banking.hasPaypalAccount"> <label ng-bind="\'ch-modal-profile-info.payoneer-email\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.paypalAccount" name="paypalAccount" required> </div> </div> <div class="col-sm-6" ng-if="!vm.userTmp.profile.banking.hasPaypalAccount"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-name\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.name" name="name" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.bank-swift\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.cbu" name="cbu" required> </div> </div> <div class="col-sm-6" ng-if="!vm.userTmp.profile.banking.hasPaypalAccount"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.phone\' | translate"></label> <input class="form-control" ng-prop-placeholder="\'ch-modal-profile-info.phone.placeholder\' | translate" ng-model="vm.userTmp.profile.phone" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.address\' | translate"></label> <input class="form-control" g-places-autocomplete options="vm.geoConfig" ng-prop-placeholder="\'ch-modal-profile-info.address.placeholder\' | translate" ng-model="vm.userTmp.profile.city" required> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-info.zipcode\' | translate"></label> <input class="form-control" ng-model="vm.userTmp.profile.banking.cp" name="cp" required> </div> </div> </div> </div> <div class="modal-footer justify-content-between"> <div> </div> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-info.btn-save\' | translate"></button> </div> </form> <div class="container-fluid" ng-if="vm.tabs.availableBalance"> <div class="row"> <div class="col-sm-12"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'ch-modal-profile-info.available-balance.table.from\' | translate"></th> <th ng-bind="\'ch-modal-profile-info.available-balance.table.available-for\' | translate"></th> <th ng-bind="\'ch-modal-profile-info.available-balance.table.status\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.userTmp.availableBalance track by $index"> <td> <span ng-bind="item.createdAtAlias"></span> </td> <td> <span ng-bind="item.validForAlias"></span> </td> <td> <a href="#" ng-if="item.enable && !item.claimed" ng-click="vm.onClickClaimBalance($event, item)" ng-bind="\'ch-modal-profile-info.available-balance.btn-claim\' | translate"></a> <span ng-if="item.claimed">{{\'ch-modal-profile-info.available-balance.claimed-at\' | translate}} {{item.claimedAtAlias}}</span> <span ng-if="!item.enable" ng-bind="\'ch-modal-profile-info.available-balance.not-available\' | translate"></span> </td> </tr> </tbody> </table> </div> <div class="col-sm-12"> <br> <br> <small> <i class="fa fa-info-circle"></i> {{\'ch-modal-profile-info.leyend\' | translate}} </small> <br> <br> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-languages/ch-modal-profile-languages.view.html','<div class="modal fade ch-modal-profile-languages-container" id="ch-modal-profile-languages" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-profile-languages.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="form-group"> <label ng-bind="\'ch-modal-profile-languages.language\' | translate"></label> <select class="form-control" ng-model="vm.languageTmp.ref" required> <option value="" ng-bind="\'ch-modal-profile-languages.language.placeholder\' | translate"></option> <option ng-repeat="item in vm.LANGUAGES track by $index" ng-disabled="item.disabled" ng-value="item.key" ng-bind="item.value"> </option> </select> </div> <div class="form-group"> <label ng-bind="\'ch-modal-profile-languages.level\' | translate"></label> <select class="form-control" ng-model="vm.languageTmp.level" required> <option value="" ng-bind="\'ch-modal-profile-languages.level.placeholder\' | translate"></option> <option ng-repeat="item in vm.LANGUAGES_LEVELS track by $index" ng-disabled="item.disabled" ng-value="item.key" ng-bind="item.value"> </option> </select> </div> </div> </div> </div> <div class="modal-footer"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClose($event)" ng-bind="\'ch-modal-profile-languages.btn-cancel\' | translate"></a> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-languages.btn-save\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-profile-social/ch-modal-profile-social.view.html','<div class="modal fade ch-modal-profile-social-container" id="ch-modal-profile-social" tabindex="-1" role="dialog" data-dismiss="modal" aria-labelledby="socialModal"> <div class="modal-dialog modal-lg" role="document"> <form class="modal-content" ng-submit="vm.onSubmit($event)"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-profile-social.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-6" ng-repeat="item in vm.socialNetworks track by $index" ng-prop-id="item.key"> <div class="form-group"> <div class="input-group"> <div class="input-group-text"> <small ng-bind-html="vm.icons[item.key]"></small> </div> <input class="form-control" type="url" ng-prop-placeholder="item.key | capitalize" ng-model="item.link"> </div> </div> </div> </div> </div> <div class="modal-footer"> <button type="submit" class="ch-btn-2021-square ch-btn-sm primary" ng-bind="\'ch-modal-profile-social.btn-save\' | translate"></button> </div> </form> </div> </div>'),e.put('modules/platform/profiles/components/ch-modal-referral-cupon/ch-modal-referral-cupon.view.html','<div class="modal ch-modal-referral-cupon-container" id="ch-modal-referral-cupon" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 ng-bind="vm.TEXTS.title"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <span ng-bind-html="vm.TEXTS.description"></span> <br> <br> <div class="row code-container"> <div class="col-sm-12" ng-show="!vm.isEditing"> <b class="code-label" ng-bind="vm.cuponTmp.code"></b> <a href="#" class="link-copy" ng-click="vm.onClickCopy($event)"> <i class="far fa-copy"></i> </a> <a ng-if="vm.cuponTmp.flags.canEdit" href="#" class="link-copy" ng-click="vm.onClickEdit($event)"> <i class="far fa-edit"></i> </a> <br> </div> <div class="col-sm-12" ng-show="vm.isEditing"> <div class="input-group"> <input ng-model="vm.cuponTmp.newCode" class="form-control" required> <a href="#" class="ch-btn-2021-square ch-btn-sm primary" ng-click="vm.onClickSave($event)" ng-bind="\'ch-modal-referral-cupon.btn-save\' | translate"></a> </div> <br> </div> </div> </div> <div class="col-sm-12 share-items-container"> <span ng-bind="\'ch-modal-referral-cupon.share-title\' | translate"></span> <br> <br> <ul class="list-unstyled list-inline"> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'whatsapp\')"> <i class="fa fa-whatsapp"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'linkedin\')"> <i class="fab fa-linkedin"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'facebook\')"> <i class="fab fa-facebook-f"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'twitter\')"> <i class="fab fa-twitter"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'copy\')"> <i class="fas fa-copy"></i> </a> </li> <li class="list-inline-item"> <a href="#" class="ch-btn ch-btn-outline ch-btn-sm ch-btn-icon" ng-click="vm.onClickShare($event, \'download\')"> <i class="fas fa-download"></i> </a> </li> </ul> <textarea id="copy-area" style="opacity:0;margin:0;padding:0;height:0"></textarea> </div> <div class="col-sm-12"> <span ng-bind="\'ch-modal-referral-cupon.send-to-email\' | translate"></span> <br> <div class="row code-container"> <div class="col-sm-12"> <div class="input-group"> <input type="email" ng-model="vm.emailTmp" class="form-control" required> <a href="#" class="btn btn-outline-secondary" ng-click="vm.onClickShare($event, \'email\')"> <small><i class="far fa-paper-plane"></i></small> {{\'ch-modal-referral-cupon.btn-send\' | translate}} </a> </div> </div> </div> </div> </div> <hr> <div class="row"> <div class="col-sm-12" ng-if="vm.cuponTmp.referralUsage.length"> <table class="table table-hover table-sm"> <thead> <tr> <th colspan="3" ng-bind="vm.TEXTS.referralUsage"></th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.cuponTmp.referralUsage | filter:{reward: {claimed: false}} track by $index"> <td> <span ng-bind="item.usedAt | date:\'dd/MM/yyyy\'"></span> </td> <td> <a href="#" ng-click="vm.onClickClaimDiscount($event, item)" ng-bind="\'ch-modal-referral-cupon.btn-claim-discount\' | translate"></a> </td> <td> </td> </tr> <tr ng-repeat="item in vm.cuponTmp.referralUsage | filter:{reward: {claimed: true}} track by $index"> <td ng-bind="\'ch-modal-referral-cupon.claimed\' | translate"></td> <td><span ng-bind="item.reward.claimedFor === \'money\' ? \'Dinero\' : \'Descuento\' "></span></td> <td><span ng-bind="item.reward.claimedAt | date:\'dd/MM/yyyy\'"></span></td> </tr> </tbody> </table> </div> <div class="col-sm-12" ng-if="!vm.cuponTmp.referralUsage.length"> <span ng-bind="\'ch-modal-referral-cupon.code-not-used\' | translate"></span> </div> </div> <hr> <div class="row"> <div class="col-sm-12"> <a href="#" ng-click="vm.onClickShowFaqs($event)" class="ch-link" style="text-transform:inherit" ng-bind="\'ch-modal-referral-cupon.how-it-works-link\' | translate"></a> </div> <div class="col-sm-12" ng-show="vm.showFaqs"> <br> <ul style="padding:0 0 0 20px"> <li> <span ng-bind-html="vm.TEXTS.faqsTitle"></span> <ul class="list-unstyled"> <li ng-repeat="country in vm.countries | orderBy:\'code\' track by $index"> <span ng-bind="country.reward.priceAlias"></span> </li> </ul> </li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.2\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.3\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.4\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.5\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.6\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.7\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.influencer\' | translate" ng-if="vm.cuponTmp.flags.influencer"></li> <li ng-bind-html="\'ch-modal-referral-cupon.faqs.8\' | translate"></li> </ul> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/profiles/profile.view.html','<div class="profile-container section-container"> <div class="whole-container" ng-show="vm.userTmp._id"> <div class="container-fluid"> <div class="row"> <div class="col-sm-12 mt-3 mb-3"> <h3 class="section-title" ng-bind="\'profile.title\' | translate"></h3> </div> </div> <div class="row"> <div class="col-sm-2"> <div class="user-image-container"> <input ng-hide="true" id="inputfile1" type="file" ngf-select="" ng-model="vm.avatarFile1" name="file1" ngf-accept="\'image/*\'" ngf-max-total-size="2MB"> <img ng-prop-src="vm.userTmp.profile.avatar | cloudinary:175:175" class="rounded-circle"> <div ng-if="vm.userTmp.flags.hasMembership" class="coder-pro-flare-container ch-abs-full hide-on-prod"> <div class="pro-label"> <span class="font-title ch-bold text">PRO</span> </div> <div class="pro-label-2"></div> </div> <div ng-if="vm.userTmp.flags.isForumAmbassador" class="coder-pro-flare-container ch-abs-full"> <div class="pro-label-2"></div> </div> <span ng-if="!vm.isFromForum" ng-click="vm.onClickUploadFile($event)" class="icon-background clickable-effects" ng-class="{\'fix-icon-background\': vm.userTmp.flags.isForumAmbassador}"><i class="ch-icon-editform"></i></span> </div> </div> <div class="col-sm-8 d-flex align-items-center"> <div class="about-me"> <div class="d-flex justify-content-start align-items-center"> <h2 class="m-0 pr-3 section-title" ng-bind="vm.userTmp.profile.first_name + \' \' + vm.userTmp.profile.last_name"> </h2> <div class="forum-ambassador ch-df ch-aliic ch-ml-3" ng-if="vm.userTmp.flags.isForumAmbassador"> <span ng-bind="\'profile.badges.ambassador\' | translate"></span> </div> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickEditInfo($event)" ng-if="!vm.isFromForum" ng-bind="\'profile.btn-edit\' | translate"></a> <a href="#" class="ch-btn-2021-square ch-btn-sm ml-2" ng-click="vm.onClickEditInfo($event, true)" ng-if="vm.userTmp.flags.isTeacher && !vm.isFromForum" ng-bind="\'profile.btn-invoice\' | translate"></a> </div> <div class="description" ng-bind="vm.userTmp.profile.bio"></div> </div> </div> <div class="col-sm-2 social-icons-container" ng-if="vm.FEATURES.PROFILE_SOCIAL_MEDIA"> <label class="social-icon-item"> <a href="#" ng-click="vm.onClickEditSocial()" ng-show="vm.userTmp.profile.linkedin && !vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.linkedin"> </span> </div> </a> <a ng-prop-href="vm.userTmp.profile.linkedin" target="_blank" ng-show="vm.userTmp.profile.linkedin && vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.linkedin"> </span> </div> </a> </label> <label class="social-icon-item"> <a href="#" ng-click="vm.onClickEditSocial()" ng-show="vm.userTmp.profile.behance && !vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.behance"> </span> </div> </a> <a ng-prop-href="vm.userTmp.profile.behance" target="_blank" ng-show="vm.userTmp.profile.behance && vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.behance"> </span> </div> </a> </label> <label class="social-icon-item"> <a href="#" ng-click="vm.onClickEditSocial()" ng-show="vm.userTmp.profile.github && !vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.github"> </span> </div> </a> <a ng-prop-href="vm.userTmp.profile.github" target="_blank" ng-show="vm.userTmp.profile.github && vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons.github"> </span> </div> </a> </label> <label class="social-icon-item"> <a href="#" ng-click="vm.onClickEditSocial()" ng-show="vm.userTmp.mail && !vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons[\'mail-envelope\']"> </span> </div> </a> <a ng-prop-href="\'mailto:\' + vm.userTmp.email" target="_blank" ng-show="vm.userTmp.email && vm.isFromForum"> <div class="svg-icon social"> <span ng-bind-html="vm.icons[\'mail-envelope\']"> </span> </div> </a> </label> <label class="social-icon-item" ng-show="!vm.isFromForum"> <a href="#" ng-click="vm.onClickEditSocial()"> <i class="ch-icon-more"></i> </a> </label> </div> </div> <div class="profile-tab-list-container mt-4" ng-if="vm.tabs.length > 1"> <ch-tab-list options="vm.tabOptions" on-click></ch-tab-list> </div> </div> <div class="container-fluid profile-body-container {{vm.hideDirection}}" ng-class="{hide: vm.hideTabs, kill: vm.killTabs}" ng-style="{\'--transition-duration\': vm.tabController.transitionDuration + \'ms\'}"> <div class="pt-4"> <div class="content-wrapper row" ng-repeat="tab in vm.tabs track by $index" ng-if="vm.tabs.length" ng-class="{active: tab.active}"> <div class="col-sm-6 offset-sm-3 no-results-container text-center" ng-if="!vm.tabs.length"> <div class="no-results-content d-flex align-items-center" ng-class="{\'no-results-in-progress\': vm.filters.statusKey === \'in-progress\',\n               \'no-results-completed\': vm.filters.statusKey === \'completed\'}"> <div class="no-result-content" ng-if="vm.filters.statusKey === \'in-progress\'"> <small>No tenés ningún curso en progreso</small> <br> <b>Empezá a aprender nuevas habilidades digitales.</b> <br> <br> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickAddProduct($event)">Explorar cursos</a> </div> <div class="no-result-content" ng-if="vm.filters.statusKey === \'completed\'"> <small>No completaste ningún curso.</small> <br> <b>Empezá a aprender nuevas habilidades digitales.</b> <br><br> <a class="ch-btn-2021-square ch-btn-sm" href="#" ng-click="vm.onClickAddProduct($event)">Explorar cursos</a> </div> <div class="no-result-content" ng-if="![\'completed\', \'in-progress\'].includes(vm.filters.statusKey) "> <small>...</small> <br> </div> </div> </div> </div> <div ng-show="vm.tabOptions.activeTab.key === \'certificados\'"> <div class="content-wrapper row" ng-if="assignments.length"> <ch-course-card class="col-xl-3 col-lg-4 col-md-5 col-sm-6 col-xs-12" ng-repeat="cert in certs track by $index" course-tmp="cert.course" is-certificate="1"> </ch-course-card> </div> <div class="row" ng-if="!assignments.length"> <div class="no-cert"> <h3 class="main-title" ng-if="!vm.isFromForum" ng-bind="\'profile.no-certificates\' | translate" ng-bind="\'profile.leyend.no-cert\' | translate"></h3> <h3 class="main-title" ng-if="vm.isFromForum" ng-bind="\'profile.leyend.no-cert-from-forum\' | translate"> </h3> </div> </div> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'educacion\'"> <div class="col-sm-12 experience-card-list" ng-if="vm.userTmp.education.length"> <div class="row mb-2" ng-repeat="item in vm.userTmp.education | orderBy:\'-range.from\' track by $index"> <div class="col-sm-12 experience-card"> <div class="experience-content p-3"> <div class="row"> <div class="col-sm-9"> <b ng-bind="item.title"></b> </div> <div class="col-sm-3 d-flex justify-content-end align-items-center" ng-if="IS_SELF"> <a href="#" class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickEditEducation($event, item)"> <i class="far fa-edit"></i> </a> </div> <div class="col-sm-12"> <p class="m-0" ng-bind="item.institute"></p> <p class="m-0 mt-2" ng-bind="item.rangeAlias"></p> </div> </div> </div> </div> </div> </div> <div class="col-sm-12 d-flex justify-content-center align-items-center p-5 w-100" ng-if="!vm.isFromForum"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickEditEducation($event)" ng-bind="\'profile.btn-add-education\' | translate"></button> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'experiencia\'"> <div class="col-sm-12 experience-card-list" ng-if="vm.userTmp.works.length"> <div class="row mb-2" ng-repeat="item in vm.userTmp.works | orderBy:\'-range.from\' track by $index"> <div class="col-sm-12 experience-card"> <div class="experience-content p-3"> <div class="row"> <div class="col-sm-9"> <b ng-bind="item.title"></b> </div> <div class="col-sm-3 d-flex justify-content-end align-items-center" ng-if="IS_SELF"> <a href="#" class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickEditWork($event, item)"> <i class="far fa-edit"></i> </a> </div> <div class="col-sm-12"> <p class="m-0" ng-bind="item.company"></p> <p class="m-0 mt-2" ng-bind="item.rangeAlias"></p> </div> </div> </div> </div> </div> </div> <div class="col-sm-12 d-flex justify-content-center align-items-center p-5 w-100" ng-if="!vm.isFromForum"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickEditWork($event)" ng-bind="\'profile.btn-add-experience\' | translate"></button> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'coder-talent\'"> <div class="col-sm-12"> <p class="p-3" ng-bind="\'profile.coder-talent.leyend\' | translate"></p> </div> <div class="col-sm-12 experience-card-list"> <div class="row mb-2"> <div class="col-sm-12"> <div class="experience-content p-3"> <div class="row"> <div class="col-sm-9"> <b ng-bind="\'profile.expertice-area\' | translate"></b> </div> <div class="col-sm-3 d-flex justify-content-end align-items-center"> <a href="#" class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickEditExpertice($event)"> <i class="fas fa-plus"></i> </a> </div> <div class="col-sm-12"> <p class="m-0 mt-2 mb-2" ng-bind="\'profile.expertice-area.description\' | translate"></p> <ul class="list-unstyled list-inline tags-list mb-4" ng-if="vm.userExpertice.length"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.userExpertice track by $index"> <a href="#" ng-click="vm.onClickRemoveExpertice($event, tag)" class="ch-btn-2021-square chip ch-btn-sm"> <i class="mr-2" ng-class="{\n                            \'far fa-times-circle\': true,\n                          }"></i> <span ng-bind="tag.value"></span> </a> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="col-sm-12"> <hr> </div> <div class="col-sm-12 experience-card-list"> <div class="row mb-2"> <div class="col-sm-12"> <div class="experience-content p-3"> <div class="row"> <div class="col-sm-9"> <b ng-bind="\'profile.languages\' | translate"></b> </div> <div class="col-sm-3 d-flex justify-content-end align-items-center"> <a href="#" class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickEditLanguages($event)"> <i class="fas fa-plus"></i> </a> </div> <div class="col-sm-12"> <p class="m-0 mt-2 mb-2" ng-bind="\'profile.languages.description\' | translate"></p> <ul class="list-unstyled list-inline tags-list mb-4" ng-if="vm.userLanguages.length"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.userLanguages track by $index"> <a href="#" ng-click="vm.onClickRemoveLanguage($event, tag)" class="ch-btn-2021-square chip ch-btn-sm"> <i class="mr-2" ng-class="{\n                            \'far fa-times-circle\': true,\n                          }"></i> <span ng-bind="tag.value"></span> </a> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="col-sm-12"> <hr> </div> <div class="col-sm-12 experience-card-list"> <div class="row mb-2"> <div class="col-sm-12"> <div class="experience-content p-3"> <div class="row"> <div class="col-sm-9"> <b ng-bind="\'profile.skils\' | translate"></b> </div> <div class="col-sm-12"> <p class="m-0 mt-2 mb-2" ng-bind="\'profile.skils.description\' | translate"></p> <div class="form-group"> <div class="input-group"> <input class="form-control" list="datalistOptions" id="exampleDataList" ng-model="vm.skillTmp" placeholder="Buscar..." ng-change="vm.searchSkills()"> <datalist id="datalistOptions"> <option ng-repeat="item in vm.skillsMatched track by $index" ng-value="item.value"></option> </datalist> <div class="input-group-append"> <span class="input-group-text"> <a href="#" class="ch-btn-2021-link ch-btn-sm" ng-click="vm.onClickAddSkill($event)"> <i class="fas fa-plus"></i> </a> </span> </div> </div> </div> </div> <div class="col-sm-6" ng-if="vm.userSkills.length"> <p class="m-0 mt-2 mb-2" ng-bind="\'profile.hard-skils\' | translate"></p> <ul class="list-unstyled list-inline tags-list mb-4"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.userSkills | filter : {type:\'hard\'} track by $index"> <a href="#" ng-click="vm.onClickRemoveSkill($event, tag)" class="ch-btn-2021-square chip ch-btn-sm"> <i class="mr-2" ng-class="{\n                            \'far fa-times-circle\': true,\n                          }"></i> <span ng-bind="tag.value"></span> </a> </li> </ul> </div> <div class="col-sm-6" ng-if="vm.userSkills.length"> <p class="m-0 mt-2 mb-2" ng-bind="\'profile.soft-skils\' | translate"></p> <ul class="list-unstyled list-inline tags-list mb-4"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.userSkills | filter : {type:\'soft\'} track by $index"> <a href="#" ng-click="vm.onClickRemoveSkill($event, tag)" class="ch-btn-2021-square chip ch-btn-sm"> <i class="mr-2" ng-class="{\n                            \'far fa-times-circle\': true,\n                          }"></i> <span ng-bind="tag.value"></span> </a> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="col-sm-12 p-5"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickSubmitTalent($event)" ng-bind="\'profile.btn-publish-profile\' | translate"></button> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'payouts\'"> <div class="col-sm-12"> <div class="progress-widget-container"> <div class="table-responsive" ng-if="vm.payouts.length"> <table class="table table-hover table-sm"> <thead> <tr> <th ng-bind="\'profile.payouts-table.period\' | translate"></th> <th ng-bind="\'profile.payouts-table.commision\' | translate"></th> <th ng-bind="\'profile.payouts-table.level\' | translate"></th> <th ng-bind="\'profile.payouts-table.amount\' | translate"></th> <th class="text-center" ng-bind="\'profile.payouts-table.invoiced\' | translate"></th> <th></th> </tr> </thead> <tbody ng-if="vm.payouts.length" ng-repeat="payout in vm.payouts track by $index"> <tr ng-repeat="invoice in payout.invoices track by $index"> <td><span ng-bind="payout.date | date:\'MM/yyyy\'"></span></td> <td><span ng-bind="invoice.camada"></span></td> <td><span ng-bind="invoice.level"></span></td> <td><span ng-bind="invoice.amount"></span></td> <td class="text-center"> <i ng-class="{\n                        \'fas fa-check-circle\': invoice.details.id, \n                        \'far fa-circle\': !invoice.details.id\n                      }"></i> </td> <td class="text-center"> <a href="#" class="ch-btn-2021-link" ng-click="vm.onClickEditInvoice($event, payout, invoice)"><i class="fa fa-edit"></i></a> </td> </tr> </tbody> </table> </div> <div class="d-flex justify-content-center align-items-center" ng-if="!vm.payouts.length"> <div ng-bind="\'profile.leyend.no-invoices\' | translate"></div> </div> </div> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'blog\'"> <div class="col-sm-12"> <ch-forum-posts-list from="\'profile\'" blog-posts-tmp="vm.blogs"></ch-forum-posts-list> <div ng-if="!vm.blogs.length" class="blogs-empty ch-mt-4"> <h6 class="text-center no-cert" ng-if="!vm.blogs.length" ng-bind="\'profile.leyend.no-posts\' | translate"> </h6> </div> </div> </div> <div class="row" ng-show="vm.tabOptions.activeTab.key === \'contract\'"> <div class="iframe-contract" ng-cloak> <iframe id="iframe-contracts" ng-prop-src="vm.CONTRACT_IFRAME" allowfullscreen> </iframe> </div> </div> </div> <ch-modal-profile-social user-tmp="vm.userTmp"></ch-modal-profile-social> <ch-modal-profile-info user-tmp="vm.userTmp"></ch-modal-profile-info> <ch-modal-profile-education user-tmp="vm.userTmp"></ch-modal-profile-education> <ch-modal-profile-exp user-tmp="vm.userTmp"></ch-modal-profile-exp> <ch-modal-profile-expertice user-tmp="vm.userTmp"></ch-modal-profile-expertice> <ch-modal-profile-languages user-tmp="vm.userTmp"></ch-modal-profile-languages> <ch-modal-profile-certification></ch-modal-profile-certification> <ch-modal-payouts></ch-modal-payouts> </div></div>'),e.put('modules/platform/referrals-2021/referrals-2021.view.html','<div id="review-container" ng-cloak> <ch-loader></ch-loader> <iframe id="referrals-2021" ng-prop-src="vm.REFERRALS_2021" class="iframe-full iframe-platform-2021 lozad-profile" allow="clipboard-read; clipboard-write"></iframe> </div>'),e.put('modules/platform/referrals/ch-modal-benefits/ch-modal-benefits.view.html','<div class="modal fade" id="ch-modal-referral-benefits" tabindex="-1" role="dialog" aria-labelledby="benefitsModal"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-benefits.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p ng-bind="\'ch-modal-benefits.subtitle\' | translate"></p> <div class="benefit"> <span class="emoji">🤑</span> <span class="reward-description" ng-bind="\'ch-modal-benefits.reward-description\' | translate"></span> </div> <div class="benefit"> <span class="emoji">😊</span> <div class="reward"> <span class="reward-description" ng-bind="\'ch-modal-benefits.reward-description.2\' | translate"></span> <ul> <li ng-repeat="item in vm.services track by $index" ng-bind="item.title"></li> </ul> </div> </div> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-code-download/ch-modal-code-download.view.html','<div class="modal fade" id="ch-modal-referrals-code-download" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-code-download.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <div class="modal-referrals-download ch-rel"> <div class="selectType ch-px-1"> <div class="content-img-code ch-df ch-aliic ch-my-1"> <div class="changue-img clickable-effects" ng-click="vm.onChangeTypeImg(vm.index - 1, vm.size)"> <i class="fas fa-arrow-left"></i> </div> <div class="changue-img clickable-effects" ng-click="vm.onChangeTypeImg(vm.index + 1, vm.size)"> <i class="fas fa-arrow-right"></i> </div> <ch-svg-icon icon="vm.urlImg" classes="ch-df ch-jucc" size="\'100%\'" ng-click="vm.onClickTypeImg(\'normalImg\')"></ch-svg-icon> </div> </div> <div class="selectType ch-pl-4"> <div class="sizeBoxes ch-flww"> <div class="ch-df ch-fldc ch-jucc ch-aliic ch-mr-3" ng-if="vm.couponImages.vertical"> <div class="box box1 clickable-effects" ng-class="{\'active-box-content\': vm.size === \'vertical\'}" ng-click="vm.onChangeTypeImg(vm.index, \'vertical\')"> <div class="vertical-box" ng-class="{\'active-box\': vm.size === \'vertical\'}"></div> </div> <span class="text-type" ng-bind="\'ch-modal-code-download.orientation.vertical\' | translate"></span> </div> <div class="ch-df ch-fldc ch-jucc ch-aliic ch-mr-3" ng-if="vm.couponImages.square"> <div class="box box2 clickable-effects" ng-class="{\'active-box-content\': vm.size === \'square\'}" ng-click="vm.onChangeTypeImg(vm.index, \'square\')"> <div class="square-box" ng-class="{\'active-box\': vm.size === \'square\'}"></div> </div> <span class="text-type" ng-bind="\'ch-modal-code-download.orientation.square\' | translate"></span> </div> <div class="ch-df ch-fldc ch-jucc ch-aliic ch-mr-3" ng-if="vm.couponImages.horizontal"> <div class="box box3 clickable-effects" ng-class="{\'active-box-content\': vm.size === \'horizontal\'}" ng-click="vm.onChangeTypeImg(vm.index, \'horizontal\')"> <div class="horizontal-box" ng-class="{\'active-box\': vm.size === \'horizontal\'}"></div> </div> <span class="text-type" ng-bind="\'ch-modal-code-download.orientation.horizontal\' | translate"></span> </div> </div> </div> </div> </div> <div class="modal-footer"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickDownloadCode($event)" ng-bind="\'ch-modal-code-download.btn\' | translate"></a> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-discount-reward/ch-modal-discount-reward.view.html','<div class="modal fade" id="ch-modal-discount-reward" tabindex="-1" role="dialog" aria-labelledby="discountRewardModal"> <div class="modal-dialog modal-md"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind="\'ch-modal-discount-reward.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <p ng-bind-html="vm.rewardDescription"></p> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.claimReward($event)"> <span ng-bind="\'ch-modal-discount-reward.btn\' | translate"></span> </button> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-free-course-reward/ch-modal-free-course-reward.view.html','<div class="modal fade" id="ch-modal-free-course-reward" tabindex="-1" role="dialog" aria-labelledby="freeCoursesModal"> <div class="modal-dialog modal-md"> <div class="modal-content"> <div class="free-courses-modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-free-course-reward.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="free-courses-modal-content"> <p ng-bind="vm.reward.description"></p> <p class="ch-modal-free-course-legal" ng-bind-html="vm.TEXTS.legal"></p> <form ng-submit="vm.onSubmit($event)"> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-free-course-reward.form.choose-product\' | translate"></label> <select class="form-control ch-input-full ch-modal-free-course-select" ng-model="vm.currentProductTmp" ng-change="vm.onChangeProduct()" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"> </option> <option ng-repeat="product in vm.products track by $index" ng-value="product._id" ng-bind="product.title"> </option> </select> </div> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-free-course-reward.form.choose-date\' | translate"></label> <select class="form-control ch-input-full ch-modal-free-course-select" ng-model="vm.currentCourseTmp" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"> </option> <option value="" ng-if="!vm.coursesTmp.length" ng-bind-html="\'ch-modal-free-course-reward.form.choose-date.no-dates\' | translate"></option> <option ng-repeat="course in vm.coursesTmp track by $index" ng-value="course._id" ng-bind="course.alias"> </option> </select> </div> <div class="free-courses-modal-submit"> <button class="ch-btn-2021-square ch-btn-sm" type="submit"> <span ng-bind-html="\'ch-modal-free-course-reward.form.btn-submit\' | translate"></span> </button> </div> </form> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-referral-advice/ch-modal-referral-advice.view.html','<div class="modal fade" id="ch-modal-referral-advice" tabindex="-1" role="dialog" aria-labelledby="adviceModal"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-referral-advice.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <b ng-bind-html="\'ch-modal-referral-advice.description\' | translate"></b> <ul> <li ng-bind-html="\'ch-modal-referral-advice.tips.1\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-advice.tips.2\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-advice.tips.3\' | translate"></li> </ul> <span ng-bind-html="\'ch-modal-referral-advice.tips.4\' | translate"></span> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-referral-email-sharing/ch-modal-referral-email-sharing.view.html','<div class="modal fade" id="ch-modal-referral-email-sharing" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-referral-email-sharing.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <b ng-bind-html="\'ch-modal-referral-email-sharing.description\' | translate"></b> <br><br> <input class="form-control w-100" type="email" required ng-model="vm.email"> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm primary" ng-click="vm.onClickEmailShare($event)" ng-bind-html="\'ch-modal-referral-email-sharing.submit\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-referral-tyc/ch-modal-referral-tyc.view.html','<div class="modal fade" id="ch-modal-referral-tyc" tabindex="-1" role="dialog" aria-labelledby="tycModal"> <div class="modal-dialog modal-md" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-referral-tyc.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <ul> <li ng-bind-html="\'ch-modal-referral-tyc.description.1\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.2\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.3\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.4\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.5\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.6\' | translate"></li> <li ng-bind-html="\'ch-modal-referral-tyc.description.7\' | translate"></li> </ul> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-service-career/ch-modal-service-career.view.html','<div class="modal fade" id="ch-modal-service-career-reward" tabindex="-1" role="dialog"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-service-career.title\' | translate"></h5> <button ng-click="vm.onClickClose($event)" type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="modal-body"> <b ng-bind-html="\'ch-modal-service-career.subtitle\' | translate"></b> <br> <div ng-repeat="item in vm.services track by $index"> <label class="containerCheck"> {{item.title}} <input type="checkbox" ng-model="item.chose" ng-change="vm.onChangeChose($index)"> <span class="checkmark"></span> </label> </div> </div> <div class="modal-footer"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClaimServiceReward($event)" ng-bind-html="\'ch-modal-service-career.submit\' | translate"></button> </div> </div> </div> </div>'),e.put('modules/platform/referrals/ch-modal-two-free-courses-reward/ch-modal-two-free-courses-reward.view.html','<div class="modal fade" id="ch-modal-two-free-courses-reward" tabindex="-1" role="dialog"> <div class="modal-dialog modal-md"> <div class="modal-content"> <div class="ch-modal-two-free-courses-header"> <h5 class="modal-title" ng-bind-html="\'ch-modal-two-free-courses-reward.title\' | translate"></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </button> </div> <div class="ch-modal-two-free-courses-content"> <p ng-bind="vm.reward.description"></p> <p class="ch-modal-two-free-courses-legal" ng-bind-html="vm.TEXTS.legal"></p> <form id="modalForm" ng-submit="vm.onSubmit($event)"> <div ng-if="vm.flag.firstStep"> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-two-free-courses-reward.form.choose-product.1\' | translate"></label> <select class="form-control ch-input-full ch-modal-two-free-courses-select" ng-model="vm.firstProduct" ng-change="vm.onChangeFirstProduct()" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"> </option> <option ng-repeat="product in vm.products track by $index" ng-value="product._id" ng-bind="product.title"> </option> </select> </div> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-free-course-reward.form.choose-date\' | translate"></label> <select class="form-control ch-input-full ch-modal-two-free-courses-select" ng-model="vm.firstCourse" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"> </option> <option value="" ng-if="!vm.firstCoursesTmp.length" ng-bind-html="\'ch-modal-free-course-reward.form.choose-date.no-dates\' | translate"></option> <option ng-repeat="course in vm.firstCoursesTmp track by $index" ng-value="course._id" ng-bind="course.alias"></option> </select> </div> </div> <div ng-if="vm.flag.lastStep"> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-two-free-courses-reward.form.choose-product.2\' | translate"></label> <select class="form-control ch-input-full ch-modal-two-free-courses-select" ng-model="vm.secondProduct" ng-change="vm.onChangeSecondProduct()" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"></option> <option ng-repeat="product in vm.products track by $index" ng-value="product._id" ng-bind="product.title"> </option> </select> </div> <div class="form-modal-input"> <label ng-bind-html="\'ch-modal-free-course-reward.form.choose-date\' | translate"></label> <select class="form-control ch-input-full ch-modal-two-free-courses-select" ng-model="vm.secondCourse" required> <option value="" ng-bind-html="\'ch-modal-free-course-reward.dropdown-placeholder\' | translate"></option> <option value="" ng-if="!vm.secondCoursesTmp.length" ng-bind-html="\'ch-modal-free-course-reward.form.choose-date.no-dates\' | translate"></option> <option ng-repeat="course in vm.secondCoursesTmp track by $index" ng-value="course._id" ng-bind="course.alias"></option> </select> </div> </div> </form> </div> <div class="ch-modal-two-free-courses-footer"> <div class="ch-modal-two-free-courses-footer-first-step" ng-if="vm.flag.firstStep"> <button class="ch-btn-2021-square ch-btn-sm" ng-click="vm.toLastStep($event)"> <span ng-bind-html="\'ch-modal-free-course-reward.btn-next\' | translate"></span> </button> </div> <div class="ch-modal-two-free-courses-footer-last-step" ng-if="vm.flag.lastStep"> <button class="ch-btn-2021-square bordered" ng-click="vm.toFirstStep($event)"> <span ng-bind-html="\'ch-modal-free-course-reward.btn-prev\' | translate"></span> </button> <button class="ch-btn-2021-square ch-btn-sm" type="submit" form="modalForm"> <span ng-bind-html="\'ch-modal-free-course-reward.btn-submit\' | translate"></span> </button> </div> </div> </div> </div> </div>'),e.put('modules/platform/referrals/referrals.view.html','<div class="section-container"> <div ng-if="!vm.isInfluencer" class="new-referrals-container container-fluid p-3"> <div class="row"> <div class="col-sm-10 offset-sm-1"> <div class="mt-4 mb-2"> <h1 class="section-title" ng-bind-html="\'referrals.title\' | translate"></h1> </div> <span ng-if="!vm.showExplain" class="referral-explain-toggle" ng-click="vm.onClickToggleReferralExplain($event)" ng-bind-html="\'referrals.btn-referral\' | translate"></span> <div ng-if="vm.showExplain" class="referral-explain"> <div ng-click="vm.onClickToggleReferralExplain($event)" class="referral-explain-close"> <ch-svg-icon icon="\'close\'"></ch-svg-icon> </div> <section class="referral-explain-info"> <h4 class="referral-explain-title" ng-bind-html="\'referrals.explain.title\' | translate"></h4> <p ng-bind-html="\'referrals.explain.description\' | translate"></p> </section> <div class="referral-explain-cards-container"> <section class="referral-explain-card"> <span ng-bind-html="\'referrals.explain.description.1\' | translate"></span> </section> <section class="referral-explain-card"> <p ng-bind-html="\'referrals.explain.description.2.title\' | translate"></p> <span class="explain-bold benefits" ng-bind-html="\'referrals.explain.description.2.btn\' | translate"></span> <p ng-bind-html="\'referrals.explain.description.2.text\' | translate"></p> </section> <section class="referral-explain-card"> <p ng-bind-html="\'referrals.explain.description.3.title\' | translate"></p> <span class="explain-bold" ng-bind-html="\'referrals.explain.description.3.discount\' | translate"></span> <p ng-bind-html="\'referrals.explain.description.3.text\' | translate"></p> <span class="explain-info" ng-bind-html="\'referrals.explain.description.3.info\' | translate"></span> </section> </div> </div> <div class="referral-sharing-container"> <div class="referral-sharing"> <div class="sharing-container"> <div class="referral-sharing-welcome"> <h6 class="referral-subtitle mb-3" ng-bind-html="\'referrals.sharing.title\' | translate"></h6> </div> <ul class="list-unstyled list-inline" style="margin:0 64px"> <li ng-repeat="item in vm.socialMediaItems track by $index"> <button class="sharing-method" title="{{item.sendtext}}" ng-click="vm.onClickShare($event, item.name)"> <ch-svg-icon icon="item.icon" color="white" center="1"> </ch-svg-icon> </button> </li> <li> <button class="sharing-method" title="Descargar código" ng-click="vm.onClickOpenCodeDownloadModal($event)"> <i class="fas fa-download"></i> </button> </li> <li> <button class="sharing-method" title="Enviar por correo" ng-click="vm.onClickOpenEmailSharingModal($event)"> <i class="fas fa-envelope-open"></i> </button> </li> </ul> <div class="copy-section"> <label ng-bind="vm.cuponTmp.code"></label> <a href="#" class="ch-btn-2021-square" ng-click="vm.onClickCopy($event)" ng-bind-html="\'referrals.sharing.btn-copy\' | translate"></a> </div> </div> <div class="advice-section referral-advice-mobile-container"> <a href="#" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickOpenAdviceModal($event)" ng-bind-html="\'referrals.sharing.btn-tips\' | translate"></a> </div> </div> </div> <div class="referral-ranking-section"> <div class="referral-ranking-title justify-content-between aling-items-center"> <h3 class="section-title m-0" ng-bind-html="\'referrals.ranking.title\' | translate"></h3> <a href="#" ng-click="vm.onClickGoToRanking($event)" class="ch-btn-2021-square bordered" ng-bind-html="\'referrals.ranking.btn-ranking\' | translate"></a> </div> <div class="referral-ranking-welcome-container"> <div class="separator"></div> <div> <h6 class="referral-subtitle" ng-bind-html="\'referrals.ranking.subtitle\' | translate"></h6> <p ng-bind-html="\'referrals.ranking.description\' | translate"></p> </div> </div> <div class="referral-own-data-container"> <div class="col-sm-12 col-md-12 col-lg-12 col-xl-3 referral-my-points-container"> <h6 class="referral-subtitle mb-3" ng-bind-html="\'referrals.own-data.title\' | translate"></h6> <div class="referral-my-points"> <div class="avatar-container"> <div class="avatar round-img" ng-style="{\'--url\': \'url(\'+(vm.USER.avatar | cloudinary:32:32)+\')\'}"> <span ng-if="!vm.USER.avatar" class="correct-helv" ng-bind="vm.USER.initials"></span> </div> <span class="fullName" ng-bind="vm.USER.fullName"></span> </div> <div class="points-container"> <div class="point-container"> <div class="total-point"> <b ng-bind="vm.progress.amount"></b> </div> <small class="text-center">Total</small> </div> </div> </div> </div> <div class="col-sm-12 col-md-12 col-lg-12 col-xl-9 referral-points-explain-container"> <h6 class="referral-subtitle mb-3" ng-bind-html="\'referrals.points.title\' | translate"></h6> <div class="referral-explain-container"> <div class="referral-points-explain-card"> <span ng-bind-html="\'referrals.points.1.title\' | translate"></span> <p ng-bind-html="\'referrals.points.1.text\' | translate"></p> </div> <div class="referral-points-explain-card"> <span ng-bind-html="\'referrals.points.2.title\' | translate"></span> <p ng-bind-html="\'referrals.points.2.text\' | translate"></p> </div> <div class="referral-points-explain-card"> <span ng-bind-html="\'referrals.points.3.title\' | translate"></span> <p ng-bind-html="\'referrals.points.3.text\' | translate"></p> </div> </div> </div> </div> </div> <div class="referral-rewards"> <h6 class="referral-subtitle mb-3" ng-bind-html="\'referrals.rewards.title\' | translate"></h6> <div class="rewards-container"> <ul class="progressbar"> <li class="progress-point done"> <div class="reward reward-start"> <small ng-bind-html="\'referrals.rewards.points\' | translate"></small> </div> </li> <li ng-repeat="reward in ::vm.rewards track by $index" class="progress-point" ng-class="{\'done\' : reward.enable, \'todo\': !reward.enable, \'middle\': reward.middle, \'breakpoint\': reward.breakpoint}"> <span class="reward-tooltip" ng-class="{\'middle\': reward.middle, \'breakpoint\': reward.breakpoint}" ng-if="reward.middle || reward.breakpoint"> {{vm.progress.amount}} {{\'referrals.rewards.points-amount\' | translate}} </span> <div class="reward"> <small ng-bind="reward.valueAlias"></small> <p ng-bind="reward.description"></p> <button ng-if="!reward.enable" ng-disabled="!reward.enable" class="ch-btn-2021-square ch-btn-sm" ng-class="{disabled: !reward.enable}"> <span class="claim-btn-txt" ng-bind-html="\'referrals.rewards.btn-claim\' | translate"></span> <ch-svg-icon class="ch-ml-1 hide-in-mobile" icon="\'padlock-locked\'"></ch-svg-icon> </button> <button ng-if="reward.enable" class="ch-btn-2021-square ch-btn-sm" ng-click="vm.onClickClaimReward($event, reward)"> <span class="claim-btn-txt" ng-bind-html="\'referrals.rewards.btn-claim\' | translate"></span> <ch-svg-icon class="ch-ml-1 hide-in-mobile" icon="\'padlock-unlocked\'"></ch-svg-icon> </button> </div> </li> </ul> </div> </div> <div id="currentRanking" class="referral-ranking-usage-container"> <div class="col-sm-12 col-md-12 col-lg-12 col-xl-7 referral-ranking-container" ng-class="{\'col-xl-12\': !vm.cuponTmp.referralUsage.length}"> <h6 class="referral-subtitle mb-3">{{\'referrals.ranking-usage.title\' | translate}} {{vm.currentMonth}}</h6> <div class="ranking-container"> <span class="ranking-head"> {{\'referrals.ranking-usage.subtitle\' | translate}} {{vm.range.from | date:\'dd/MM/yyyy\'}} - {{vm.range.to | date:\'dd/MM/yyyy\'}} </span> <table class="table table-list ml-n3 ch-ovfh"> <tbody> <tr> <th class="text-center pl-4 pb-4"> <small class="course-title" ng-bind-html="\'referrals.ranking-usage.shared-by\' | translate"></small> </th> <th class="text-center pb-4 hide-in-mobile"><small ng-bind-html="\'referrals.ranking-usage.email\' | translate"></small></th> <th class="text-center pb-4 hide-in-mobile"><small ng-bind-html="\'referrals.ranking-usage.social\' | translate"></small></th> <th class="text-center pb-4 hide-in-mobile"><small ng-bind-html="\'referrals.ranking-usage.referrals\' | translate"></small></th> <th class="text-center pb-4"><small ng-bind-html="\'referrals.ranking-usage.points\' | translate"></small></th> </tr> </tbody> <tbody class="leaderboard"> <tr ng-repeat="stu in vm.leaderboard | limitTo:vm.leadboardLimit track by $index" ng-class="{\'shadow\' : stu.flags.current}"> <td class="text-center align-middle" width="10%"> <div class="first-column"> <div class="d-flex align-items-center text-left"> <div class="avatar round-img" ng-style="{\'--url\': \'url(\'+(stu.avatar | cloudinary:40)+\')\'}"> <span ng-if="!stu.avatar" class="correct-helv" ng-bind="stu.initials"></span> </div> <div> <small ng-bind="stu.fullName"></small> </div> </div> </div> </td> <td class="align-middle text-center col-attendance hide-in-mobile" width="10%"> {{stu.progress.emailShares}} </td> <td class="align-middle text-center col-attendance hide-in-mobile" width="10%"> {{stu.progress.socialShares}} </td> <td class="align-middle text-center col-attendance hide-in-mobile" width="10%"> {{stu.progress.referrals}} </td> <td class="align-middle text-center col-score" width="10%"> {{stu.progress.amount}} </td> </tr> </tbody> </table> </div> </div> <div ng-if="vm.cuponTmp.referralUsage.length" class="col-sm-12 col-md-12 col-lg-12 col-xl-5 referral-table-container"> <h6 class="referral-subtitle">{{\'referrals.ranking-usage.used-codes.title\' | translate}} ({{vm.cuponTmp.referralUsage.length}})</h6> <div class="coupon-usage-container"> <table class="table table-hover table-sm" ng-if="vm.referralUsage.itemCount"> <thead> <tr> <th ng-bind-html="\'referrals.referral-usage.status\' | translate"></th> <th ng-if="!vm.isInfluencer" ng-bind-html="\'referrals.referral-usage.perks\' | translate"></th> <th ng-bind-html="\'referrals.referral-usage.date\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.referralUsage.pageItems track by item._id"> <td> <i ng-if="!item.reward.claimed" class="far fa-circle"></i> <ch-svg-icon ng-if="item.reward.claimed" icon="\'check-overflowing\'" color="\'#0FCD85\'"> </ch-svg-icon> </td> <td ng-if="!vm.isInfluencer && !item.reward.claimed"> <select name="referralUsageRewards" id="referralUsageRewards" ng-model="vm.referralUsageRewards" ng-change="vm.onChangeClaimReferralUsage(vm.referralUsageRewards, item)"> <option value="" ng-bind-html="\'referrals.referral-usage.choose-perk\' | translate"></option> <option value="discount" ng-bind-html="\'referrals.referral-usage.choose-perk.discount\' | translate"></option> <option ng-if="!vm.isFree" value="career" ng-bind-html="\'referrals.referral-usage.choose-perk.service\' | translate"></option> </select> </td> <td ng-if="!vm.isInfluencer && item.reward.claimed"> <span ng-bind="item.reward.claimedFor === \'money\' ? \'Efectivo\' : item.reward.claimedFor === \'service\' ? \'Servicio de Carrera\' : \'Descuento Coder\' "></span> </td> <td> <span ng-if="!item.reward.claimed" ng-bind="item.usedAt | date:\'dd/MM/yyyy\'"></span> <span ng-if="item.reward.claimed" ng-bind="item.reward.claimedAt | date:\'dd/MM/yyyy\'"></span> </td> </tr> </tbody> </table> <div class="text-center"> <ch-button ng-show="!vm.referralUsage.isFirstPage" ng-click="vm.referralUsage.previous($event)" ng-bind-html="\'referrals.referral-usage.btn-prev\' | translate"></ch-button> <span ng-show="!vm.referralUsage.isFirstPage&& !vm.referralUsage.isLastPage"> / </span> <ch-button ng-show="!vm.referralUsage.isLastPage" ng-click="vm.referralUsage.next($event)" ng-bind-html="\'referrals.referral-usage.btn-next\' | translate"></ch-button> </div> </div> </div> </div> <div class="referral-ranking-faq-container mb-3"> <h6 class="referral-subtitle mb-3" ng-bind-html="\'referrals.faqs.ttle\' | translate"></h6> <div class="faq-container"> <div class="faq-item-container" ng-repeat="item in ::vm.faqs track by $index"> <a class="row faq-item-title" data-toggle="collapse" ng-prop-href="\'#accordionItem-\'+$index" role="button" aria-expanded="false" ng-prop-aria_controls="item.id"> <div> <small class="faq-title" ng-bind="item.title"></small> </div> <div class="text-right collpase-icons-container"> <i class="fa fa-plus"></i> <i class="fa fa-minus"></i> </div> </a> <div class="row collapse" ng-prop-id="\'accordionItem-\' + $index"> <div> <span class="faq-description" ng-bind-html="item.description"></span> </div> </div> </div> </div> </div> <a href="#" class="ch-btn-2021-link" ng-click="vm.onClickOpenTyCModal($event)" ng-bind-html="\'referrals.faqs.link\' | translate"></a> </div> </div> </div> <div ng-if="vm.isInfluencer" class="referrals-container p-3"> <div class="ch-py-3xl _no-mih ch-body text-center ch-force-dark-mode" style="border-top:0"> <div class="ch-container col"> <h1 ng-show="vm.TEXTS.discountAlias"> <span></span> <span class="ch-color-accent-1"> Regalá un {{::vm.TEXTS.discountAlias}} </span> <br class="hide-on-mobile"> <span> a tus amigos&nbsp; </span> <br class="hide-on-mobile"> <span class="ch-color-accent-1"> y ganá vos tambien </span> </h1> <p class="ch-mt-s col-sm-8 offset-sm-2"> <span ng-bind-html="::vm.TEXTS.title"></span> </p> </div> </div> <div class="ch-container col"> <h2 class="ch-my-3xl" ch-class-mq="{\'text-center\': \'notmobile\'}"> <span> Referí a un amigo </span> </h2> <div class="row component-body"> <div class="col-md-5"> <div> <h6> <span>Compartí el código</span> </h6> <div class="sharing"> <ul class="list-unstyled list-inline ch-df ch-aliic ch-flww"> <li class="list-inline-item" ng-repeat="item in vm.socialMediaItems track by $index"> <ch-button round="1" size="s" icon-btn="1" ng-click="vm.onClickShare($event, item.name)" ng-style="{\'--__force-button-bg-color__\': item.color}" classes="share-button" ch-tooltip data-title="{{item.sendtext}}"> <ch-svg-icon icon="item.icon" color="item.iconColor || \'var(--text-color-inverted)\'" center="1" fit-y="1"> </ch-svg-icon> </ch-button> </li> <li class="list-inline-item"> <ch-button classes="share-button" data-toggle="tooltip" data-placement="top" title="Descargar código" round="1" icon-btn="1" size="s" ng-click="vm.onClickOpenCodeDownloadModal($event)" ng-style="{\'--__force-button-bg-color__\': \'white\'}"> <i class="fas fa-download" style="font-size:1.4em;color:#999"></i> </ch-button> </li> <li class="list-inline-item"> <ch-button classes="share-button" data-toggle="tooltip" title="Enviar por correo" round="1" icon-btn="1" size="s" ng-click="vm.onClickOpenEmailSharingModal($event)" ng-style="{\'--__force-button-bg-color__\': \'white\'}"> <i class="fas fa-envelope-open" style="font-size:1.4em;color:#999"></i> </ch-button> </li> </ul> <div class="ch-df"> <input class="form-control ch-borr-imp email-input" style="border-radius:50px;border:1px solid #333;width:17em;padding:10px 0 11px 20px" required ng-model="vm.cuponTmp.code"> <div style="display:flex;justify-content:center;align-items:center;font-size:1em;background:#333;border-radius:30px;width:4em;cursor:pointer" ng-click="vm.onClickCopy($event)"> <span style="font-size:.8em;color:#fff;font-weight:500">Copiar</span> </div> </div> </div> </div> <div> <h6> <span> 💪 Encuesta!</span> </h6> <div class="opinion"> <div class="opinion-inner-container"> <ch-svg-icon color="\'black\'" icon="\'analytics-graph\'" center="1" tight="true" fit-y="1"> </ch-svg-icon> <span style="color:#000">Queremos conocer tu opinión sobre nuestro Programa de Referidos</span> </div> <a ng-prop-href="vm.referralFormLink" target="_blank" class="opinion-form-link"> Realizar encuesta </a> </div> </div> </div> <div class="col-md-6 offset-sm-1 referral-usage-container"> <h6 class="ch-mb-s"> <span ng-if="!vm.cuponTmp.referralUsage.length">Tu código no se ha utilizado aún</span> <span ng-if="vm.cuponTmp.referralUsage.length"> Tu código se ha utilizado <span> <b>{{vm.cuponTmp.referralUsage.length}}</b> {{vm.cuponTmp.referralUsage.length === 1 ? "vez" : "veces"}} </span> !! </span> </h6> <h6 class="no-transactions-container ch-mb-s" ng-if="!vm.cuponTmp.referralUsage.length" style="background:#fff;padding:1em;border-radius:20px"> <span class="text-center no-usage-title ch-lh1"> <div class="ch-mb-m"><i class="fas fa-frown"></i> <br></div> <div class="ch-mb-xs">¿Qué pasó?</div> <span class="ch-regular"> Tu código aún no se ha utilizado. Compártelo y comienza a disfrutar de increíbles beneficios! </span> </span> </h6> <h6 ng-if="vm.flags.showNoPendingRewards">No tenés beneficios pendientes</h6> <table class="table table-hover table-sm" ng-if="vm.referralUsage.itemCount"> <thead> <tr> <th>Estado</th> <th>Fecha</th> </tr> </thead> <tbody> <tr ng-repeat="item in vm.referralUsage.pageItems track by item._id"> <td> <i ng-if="!item.reward.claimed" class="far fa-circle"></i> <ch-svg-icon ng-if="item.reward.claimed" icon="\'check-round\'"></ch-svg-icon> </td> <td ng-if="!vm.isInfluencer && item.reward.claimed"> <span ng-bind="item.reward.claimedFor === \'money\' ? \'Efectivo\' : item.reward.claimedFor === \'service\' ? \'Servicio de Carrera\' : \'Descuento Coder\' "></span> </td> <td> <span ng-if="!item.reward.claimed" ng-bind="item.usedAt | date:\'dd/MM/yyyy\'"></span> <span ng-if="item.reward.claimed" ng-bind="item.reward.claimedAt | date:\'dd/MM/yyyy\'"></span> </td> </tr> </tbody> </table> <div class="text-center"> <ch-button ng-show="!vm.referralUsage.isFirstPage" ng-click="vm.referralUsage.previous($event)">Anteriores </ch-button> <span ng-show="!vm.referralUsage.isFirstPage&& !vm.referralUsage.isLastPage"> / </span> <ch-button ng-show="!vm.referralUsage.isLastPage" ng-click="vm.referralUsage.next($event)">Siguientes </ch-button> </div> </div> </div> </div> <div class="ch-py-5xl _no-mih ch-body text-center ch-force-dark-mode"> <div class="ch-container col"> <h2> <span> ¿Qué es un referido? </span> </h2> <p class="ch-mt-s col-sm-8 offset-sm-2"> <span> Un Referido es un amigo al cual le recomiendas los cursos o carreras de Coder, para que pueda desarrollar su carrera al igual que tú. Cada vez que refieres una persona a Coder tienes la oportunidad de acceder a increíbles beneficios. </span> </p> </div> </div> <div class="ch-py-5xl _no-mih ch-body text-center _split-bg"> <div class="ch-container col"> <div> <h2> <span> ¿Cuáles son los beneficios? </span> </h2> <p class="ch-mt-s mb-5"> <span> Beneficios por recomendar nuestras carreras y cursos a tus amigos: </span> </p> </div> <div> <div class="cards-list row"> <div class="col-md-10 ch-force-dark-mode ___no-border" ng-class="{\'offset-md-1\': $first}" ng-repeat="item in ::vm.productRewards track by $index" ch-class-mq="{\'ch-mb-xl\': \'col-md-close\'}"> <div class="ch-body ch-p-xl type-card-container d-flex justify-content-evenly align-items-center"> <div class="d-flex flex-column align-items-center"> <p> <small ng-bind="item.headline"></small> </p> <h3 class="ch-color-accent-1"> <span ng-bind="item.title"></span> </h3> </div> <div class="d-flex flex-column align-items-center pl-4 pr-4" style="border-left:1px solid;border-right:1px solid"> <p> <small>¿Qué ganás vos?</small> </p> <h3 class="ch-color-accent-1 mb-0"> <span ng-if="vm.isInfluencer">Comisión por cada alumno nuevo</span> </h3> <p ng-if="!vm.isInfluencer"> <span> Ganás la oportunidad de acceder a <br><span style="color:var(--accent-color-2-inverted)">increíbles beneficios</span> y potenciar tu carrera! </span> </p> </div> <div class="d-flex flex-column align-items-center"> <p> <small>¿Qué gana tu referido?</small> </p> <h3 class="ch-color-accent-1 mb-0"> <span ng-if="!vm.isInfluencer" ng-bind="item.discount"></span> <span ng-if="vm.isInfluencer">Un descuento extra</span> </h3> </div> </div> </div> </div> </div> <div> <p class="mt-5"> <a href="#" class="ch-btn-2021-link" ng-click="vm.onClickOpenTyCModal($event)"> Conocé nuestros términos y condiciones</a> </p> </div> </div> </div> </div> <ch-modal-referral-tyc></ch-modal-referral-tyc> <ch-modal-benefits></ch-modal-benefits> <ch-modal-code-download></ch-modal-code-download> <ch-modal-referral-advice></ch-modal-referral-advice> <ch-modal-discount-reward></ch-modal-discount-reward> <ch-modal-free-course-reward></ch-modal-free-course-reward> <ch-modal-two-free-courses-reward></ch-modal-two-free-courses-reward> <ch-modal-service-career></ch-modal-service-career> <ch-modal-referral-tyc></ch-modal-referral-tyc> </div>'),e.put('modules/platform/services/services.view.html','<div id="services-container" class="section-container container-fluid"> <div class="row pt-0"> <div class="col-12"> <div class="row pt-3"> <div class="col-sm-12"> <b ng-if="!vm.isIframe" class="section-title" ng-bind="\'services.title\' | translate"></b> <p class="section-subtitle" ng-bind="\'services.subtitle\' | translate"></p> </div> <div class="col-sm-12 mb-2 mt-2"> <ul class="list-unstyled list-inline tags-list mb-4" ng-if="vm.tags.length"> <li class="list-inline-item tag-item" ng-repeat="tag in vm.tags track by $index"> <a href="#" ng-click="vm.onClickFilterByTag($event, tag)" class="ch-btn-2021-square chip ch-btn-sm" ng-class="{active: tag.active}"> <i class="mr-2" ng-class="{\n                  \'fas fa-check-circle\': tag.active,\n                  \'far fa-circle\': !tag.active,\n                }"></i> <span ng-bind="tag.text"></span> </a> </li> </ul> </div> </div> <div class="row"> <div class="col-sm-12 product-card-list-container"> <div class="row product-card-list"> <div class="col-xl-3 col-lg-4 col-md-6 product-card" ng-repeat="service in vm.services track by $index" ng-class="{\n                \'d-none\': !service.active,\n                added: service.selected,\n                purchased: service.flags.purchased,\n                expired: service.flags.expired\n              }"> <div class="product-content"> <div> <div class="tags-list mb-3"> <div class="tag pt-1 pb-1 pr-2 pl-2 mr-1" ng-repeat="tag in service.tags track by $index"> <span class="text" ng-bind="tag.text"></span> </div> </div> <div class="product-title mb-1"> <span ng-bind="service.title"></span> </div> <div class="product-subtitle"> <p> <span ng-bind-html="service.showFullDescription ? service.description : service.shortDescription"></span> <a href="#" class="ch-btn-2021-link" ng-click="service.showFullDescription = true" ng-show="service.hasShowMore && !service.showFullDescription" ng-bind="\'services.btn-show-more\' | translate"></a> <a href="#" class="ch-btn-2021-link" ng-click="service.showFullDescription = false" ng-show="service.hasShowMore && service.showFullDescription" ng-bind="\'services.btn-show-less\' | translate"></a> </p> <div ng-if="!service.purchased && service.notes" class="notes" ng-bind="service.notes"></div> </div> </div> <div ng-if="service.flags.purchased" class="product-expiration"> <a class="" ng-bind="\'services.purchased\' | translate"></a> </div> <div ng-if="!service.flags.purchased" class="product-pricing"> <span class="price"> <div ng-if="service.pricing.priceDiscount" class="mb-1"> <span class="product-discount" ng-bind="service.pricing.priceDiscountAlias"></span> <br> <span class="product-price" ng-bind="service.pricing.priceAlias"></span> </div> <div ng-if="vm.hasCoderPlus"> <span class="product-discount" ng-bind="\'service.free-coderplus\' | translate"></span> </div> <span ng-if="!vm.hasCoderPlus" class="product-final-price" ng-bind="service.pricing.fullFinalPriceAlias"></span> </span> <a ng-if="!vm.hasCoderPlus" href="#" class="add-to-cart subtitle ch-btn-2021-square secondary w-100 mt-3" ng-class="{\n                    active: service.selected\n                  }" ng-click="vm.toggleCartItem($event, service)" ng-bind="(service.selected ? \'services.remove-item\' : \'services.add-item\') | translate" disabled></a> <button ng-if="vm.hasCoderPlus" href="#" class="add-to-cart subtitle ch-btn-2021-square secondary w-100 mt-3" ng-click="vm.startService($event, service)" ng-disabled="vm.disableServiceStartBtn" ng-bind="\'services.start\' | translate"></button> </div> </div> </div> </div> </div> </div> </div> </div> <div class="summary-wrapper" ng-class="{show: vm.cart.finalPrice}"> <div class="summary-container"> <span ng-bind="vm.cart.finalPriceAlias"></span> <a href="#" ng-click="vm.onSubmit($event)" class="ch-btn-2021-square ch-btn-sm" ng-class="{\'arrow-right slide\': !vm.loadingCheckout, \'loading-animated\': vm.loadingCheckout}" ng-bind="(vm.loadingCheckout ? \'services.loading\' : \'services.continue\') | translate"></a> </div> </div> <div class="checkout-page" ng-class="{show: vm.showingCheckout}"> <iframe ng-prop-src="vm.checkoutUrl" ng-if="vm.checkoutUrl.length" frameborder="0" style="background-color:#fff!important"></iframe> <a href="#" class="ch-btn-2021-square arrow-left slide go-back" ng-click="vm.onClickGoBack($event)" ng-bind="\'services.btn-back\' | translate"></a> </div> </div>'),e.put('modules/platform/training-camps/training-camps.view.html',' <div id="review-container" ng-cloak> <ch-loader></ch-loader> <iframe id="training-camp" data-hj-allow-iframe="true" ng-prop-src="vm.TRAINING_CAMP" class="iframe-full iframe-platform-2021 lozad-profile" allow="clipboard-read; clipboard-write" allowfullscreen></iframe> </div> '),e.put('modules/platform/videotutorials-2021/videotutorials-2021.view.html','<div id="videotutorials-container" ng-cloak> <iframe id="videotutorials-2021" ng-prop-src="vm.VIDEOTUTORIALS_2021" class="iframe-full iframe-platform-2021" allowfullscreen></iframe> </div>')}]);